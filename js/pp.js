(function(){function zX(){this.Ht={};this.Hp={}}zX.xF=[];zX.sc=function(z){var r=zX.xF;if(r.length!=0){var k=new D(Y.E.UI);
for(var L=0;L<r.length;L++)r[L].K(k)}window.requestAnimationFrame(zX.sc)};window.requestAnimationFrame(zX.sc);
zX.prototype.mQr=function(z){var r=this.Ht[z];if(r==null)return!1;return r.length>0};zX.prototype.addEventListener=function(z,r){this.U(z,r,null)};
zX.prototype.U=function(z,r,k){if(this.Ht[z]==null){this.Ht[z]=[];this.Hp[z]=[]}this.Ht[z].push(r);this.Hp[z].push(k);
if(z==Y.E.UI){var L=zX.xF;if(L.indexOf(this)==-1)L.push(this)}};zX.prototype.removeEventListener=function(z,r){var k=this.Ht[z];
if(k==null)return;var L=k.indexOf(r);if(L<0)return;var E=this.Hp[z];k.splice(L,1);E.splice(L,1);if(z==Y.E.UI&&k.length==0){var F=zX.xF;
F.splice(F.indexOf(this),1)}};zX.prototype.K=function(z){z.currentTarget=this;if(z.target==null)z.target=this;
var r=this.Ht[z.type];if(r==null)return;var k=this.Hp[z.type];for(var L=0;L<r.length;L++){if(k[L]==null)r[L](z);
else r[L].call(k[L],z)}};function zy(){zX.call(this);this.H$={};this.Hd={};this.HH={};zy.Hb=this}zy.prototype=new zX;
zy.wm=function(z,r){var k=0,L=zy.zZ;while(k<L.length){if((r>>>k&1)==1)break;k++}if(r==0||L[k][1]==""){if((r&15)!=0&&zy.YE(z,[33,126])>.7)k=0;
else if(r==0)k=0;else{k=0}}return L[k][1]};zy.iJ=120;zy.PT=20;zy.cols=8;zy.VY=function(z){var r=z.name.postScriptName;
if(r==null)return null;return r.replace(/ /g,"-")};zy.mxT=function(z){var r=z.name,k=r.typoFamilyName?r.typoFamilyName:r.fontFamily,L=r.typoSubfamilyName?r.typoSubfamilyName:r.fontSubfamily,E="JUICE,Latin Modern Mono,Latin Modern Sans,Libre Caslon,Londrina,Panefresco,Perspective Sans,Plasma Drip,SF Shai Fontai,SF Toontime,SF Wasabi,SF Wonder Comic,Sansumi,Solveig,Theano,UnifrakturMaguntia,Varela,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,itsadzoke".split(",");
for(var F=0;F<E.length;F++)if(k.startsWith(E[F])){var U=k.slice(E[F].length);k=E[F];if(U.startsWith(" ")||U.startsWith("-"))U=U.slice(1);
if(U!=""){L=U+" "+L}}return[k,L]};zy.prototype.Hk=function(z){if(this.H$[z])return this.H$[z];if(this.Hd[z])return null;
var r=null,k=this.HV();if(k[z]!=null)r=k[z][5];if(r==null){var L;if(this.HB[z])L=this.HB[z];else{var E="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),F=z.toLowerCase(),U=0;
if(F.indexOf("sans")!=-1)U=0;else if(F.indexOf("serif")!=-1)U=4;var l=F.indexOf("bold")!=-1,G=F.indexOf("italic")!=-1||F.indexOf("oblique")!=-1;
if(l&&G)U+=3;else if(G)U+=2;else if(l)U+=1;L=E[U]}if(this.HH[L]==null)alert(zA.get([22,6,0])+" "+z+" "+zA.get([22,6,1])+". "+zA.get([22,6,2])+" "+L+".");
this.HH[L]=!0;return this.Hk(L)}this.Hd[z]="a";var g=new D(Y.E.D,!0);g.data={J:Y.Q.Ui,Hq:{url:"rsrc/fonts/"+r}};
this.K(g)};zy.prototype.mEm=function(z){alert(zA.get([22,6,0])+" "+z.name.fullName+" "+zA.get([23,0])+".");
var r=zy.VY(z),k=!1,L=FNTS.list;for(var E=0;E<L.length;E++)if(L[E][2]==r)k=!0;if(!k){var F=zy.mKj(z),U=document.createElement("canvas"),l=U.getContext("2d");
U.width=zy.iJ;U.height=zy.PT;var G=zy.PT*.75/z.head.unitsPerEm;l.translate(5,zy.PT*.75);l.scale(G,-G);
l.fillStyle="#000000";var g=Typr.U.stringToGlyphs(z,zy.wm(z,F[3]));Typr.U.pathToContext(Typr.U.glyphsToPath(z,g),l);
l.fill();F.Hi=U.toDataURL();this.em(F,L.length);L.push(F)}delete this.Hd[r];this.H$[r]=z};zy.mzs=function(){var z=zy.zZ,r=[];
for(var k=0;k<z.length;k++)r.push(z[k][0]);return r};zy.zZ=[["Latin-1","Preview",[160,255],.7],["Latin Ext. A","",[256,383],.7],["Greek","",[913,929,931,969],.7],["Cyrillic","",[1040,1119],.7],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7],["Arabic","",[1569,1594,1600,1749],.7],["Hangul","\uC608\uACE0\uD3B8",[12592,12687,44032,42927],.7],["Chi-Jap-Kor","\u9810\u7FD2",[19968,40895],.05],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,4044],.7],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7]];
zy.mKj=function(z,r,k){var L=z.name,g=0;if(zy.VY(z)==null){console.log(z);throw"No postScriptName!"}var E=zy.zZ,F=[];
for(var U=0;U<E.length;U++){var l=E[U][2],G=E[U][3];F[U]=zy.YE(z,l)>G?1:0}for(var U=0;U<F.length;U++)g+=F[U]<<U;
var P=zy.mxT(z);return[P[0],P[1],zy.VY(z),g,k,r]};zy.YE=function(z,r){var k=0,L=0;for(var E=0;E<r.length;
E+=2){for(var F=r[E];F<=r[E+1];F++){var U=Typr.U.codeToGlyph(z,F);if(U==0)L++;else k++}}return k/(k+L)};
zy.mzk=function(z,r){if(z[2]<r[2])return-1;if(z[2]>r[2])return 1;return 0};zy.prototype.HB={"Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique"};
zy.prototype.HV=function(){if(FNTS.map==null){var z=FNTS.list;for(var r=0;r<z.length;r++)this.em(z[r],r)}return FNTS.map};
zy.prototype.em=function(z,r){var k=z[0],L=z[1];z.HD=r;if(FNTS.map==null)FNTS.map={};FNTS.map[z[2]]=z;
if(FNTS.mapFS==null)FNTS.mapFS={};FNTS.mapFS[k+"---"+L]=z;if(FNTS.mapSub==null)FNTS.mapSub={};var E=FNTS.mapSub[k];
if(E==null)E=FNTS.mapSub[k]=[];if(E.indexOf(L)==-1)E.push(L)};zy.mEl=function(z,r){return zy.jm(z)-zy.jm(r)};
zy.jm=function(z){z=z.toLowerCase();var r=zy.mcs(z)+(zy.mcJ(z)<<1);if(z.indexOf("cond")==-1)r+=1<<25;
return r};zy.mcs=function(z){return z.indexOf("italic")!=-1||z.indexOf("oblique")!=-1?1:0};zy.mcJ=function(z){var r=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"],k=-1,L=-1;
for(var E=0;E<r.length;E++){var F=r[E];if(F instanceof Array)for(var U=0;U<F.length;U++){var l=F[U];
if(z.indexOf(l)!=-1&&(k==-1||L<l.length)){k=E;L=l.length}}else if(z.indexOf(F)!=-1&&(k==-1||L<F.length)){k=E;
L=F.length}}if(k==-1)k=8;return k};zy.UZ=function(z,r){var k=1e9,L=null,E=zy.jm(r);for(var F=0;F<z.length;
F++){var U=Math.abs(zy.jm(z[F])-E);if(U<k){k=U;L=z[F]}}return L};zy.prototype.kR=function(z,r){this.HV();
return FNTS.mapFS[z+"---"+r]};zy.prototype.UL=function(z){this.HV();return FNTS.mapSub[z]};zy.prototype.mzr=function(){this.HV();
return FNTS.mapSub};var zh={nb:0,Yt:null,HY:null,bh:null,GO:null,ba:null,Hh:!0,NR:0,fK:!1},zU=0;zh.nv=function(){return zh.mPs()!=null};
zh.JU=function(){return zh.ba};zh.UG=function(z){window.addEventListener("message",zh.maU,!1);setInterval(zh.HT,5e3);
if(zh.nv()){zh.Yt=z;zh.Qi()}else setTimeout(z,1)};zh.HT=function(){if(zh.nv()&&zh.fK){zh.am(zh.mz());
zh.fK=!1}};zh.WH=function(z){zh.Yt=z;var r="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
zh.bh=window.open(r,"_blank")};zh.mzU=function(){localStorage.removeItem(zh.nb+"_uid");localStorage.removeItem(zh.nb+"_provider");
localStorage.removeItem(zh.nb+"_token");zh.ba=null};zh.maU=function(z){if(z.data instanceof ArrayBuffer)return;
if(z.data.charAt(0)!="{")return;var r=JSON.parse(z.data);if(r.prms==null)return;var k=r.prms.split(",");
if(k[0]=="papi_logged_in"){localStorage[zh.nb+"_uid"]=k[1];zh.YN(k[2]);localStorage[zh.nb+"_provider"]=k[3];
zh.bh.close();zh.Qi()}if(k[0]=="payment_complete"){zh.GO.close();zh.Qi()}};zh.mPs=function(){var z=localStorage[zh.nb+"_token"];
if(z!=null&&Date.now()*.001+10<parseInt(z.split("-")[0]))return z;return null};zh.YN=function(z){var r=localStorage[zh.nb+"_token"];
if(r!=null&&parseInt(z.split("-")[0])<parseInt(r.split("-")[0]))return;localStorage[zh.nb+"_token"]=z;
clearTimeout(zh.NR);zh.NR=setTimeout(zh.mSG,Math.min(1e9,parseInt(z.split("-")[0])*1e3-Date.now()-20*1e3))};
zh.mSG=function(){var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=zh.mKk;var r=zh.mm()+"&read=2";z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(r)};zh.Qi=function(){var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=zh.mmK;var r=zh.mm()+"&read=1";z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(r)};zh.am=function(z){var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=zh.mGt;var k=zh.mm()+"&read=0&score=0&spublic="+zh.Hh+"&record="+encodeURIComponent(JSON.stringify(z));
r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.send(k)};zh.mmK=function(z){var r=JSON.parse(z.target.response);
if(r.error){}else{zh.ba=r.user;var k=zh.mz(),L=r.record;if(r.record){zh.Hh=r.spublic;zh.mG(L)}else if(k)zh.am(k)}zh.YN(r.token);
if(zh.Yt){zh.Yt();zh.Yt=null}if(zh.HY){zh.HY();zh.HY=null}};zh.mKk=function(z){var r=JSON.parse(z.target.response);
zh.YN(r.token)};zh.mGt=function(z){var r=JSON.parse(z.target.response);zh.YN(r.token);if(zh.HY)zh.Qi()};
zh.mm=function(){return"app="+zh.nb+"&uid="+localStorage[zh.nb+"_uid"]+"&token="+localStorage[zh.nb+"_token"]};
zh.mJ=function(){return zh.mz()};zh.mP=function(z,r){zh.mG(z);zh.fK=!0;if(r){zh.HY=r;zh.HT()}};zh.mz=function(){var z=localStorage[zh.nb+"_stateLocal"],r;
if(z==null)return null;try{r=JSON.parse(z)}catch(zM){return null}return r};zh.mG=function(z){var r=JSON.stringify(z);
localStorage[zh.nb+"_stateLocal"]=r};zh.order=function(z,r,k){zh.Yt=k;var L="https://www.photopea.com/papi/order.php?ptype="+r+"&param="+z+"&uid="+localStorage[zh.nb+"_uid"]+"&token="+localStorage[zh.nb+"_token"];
zh.GO=window.open(L,"_blank")};var zA={};zA.mW=0;zA.mM={};zA.get=function(z){var r=JSON.stringify(z);
if(zA.mM[r]!=null)return zA.mM[r];var k=LNG.tables[0],L=LNG.tables[zA.mW],E=zA.mQ(z,L);if(E!=null)return E;
return zA.mQ(z,k)};zA.mQ=function(z,r){for(var k=0;k<z.length;k++){r=r[z[k]];if(r==null)return null}return r};
zA.mu=function(){return LNG.langs};zA.mM_=function(z){zA.mW=z};zA.muF=function(z){for(var r=0;r<LNG.langs.length;
r++)if(LNG.langs[r].code==z)zA.mW=r};zA.ml=function(){return LNG.langs[zA.mW].code};zA.mGf=function(z){for(var r=0;
r<z.length;r+=2)zA.mM[JSON.stringify(z[r])]=z[r+1]};zA.ma=function(z){var r=-1,k=zA.mu();for(var L=0;
L<k.length;L++)if(k[L].code==z)r=L;return r};var zZ={mc:0,mB:{expires_at:0},mA:[]};zZ.mh=function(z){if(z)zZ.mA.splice(0,0,z);
if(zZ.mc==1)return;if(zZ.mB.expires_at>Date.now()*.001+30){while(zZ.mA.length>0)zZ.mA.pop()()}else{if(zZ.mc==0)zZ.mc=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:zZ.mc==2?!1:!0},zZ.mGk)}};
zZ.mGk=function(z){if(z&&!z.error){zZ.mB=z;zZ.mc=!1;zZ.mh()}else if(zZ.mc==1){zZ.mc=2;zZ.mh()}else alert("Error: "+z.error)};
zZ.mR=function(){return"access_token="+zZ.mB.access_token+"&token_type="+zZ.mB.token_type};function zc(){}zc.mw={mMv:["PNG","JPG","SVG","GIF","PDF"],my:"EMF WEBP BMP PPM TIFF DDS".split(" ")};
zc.mV=function(z){if(!(z instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var r=new Uint8Array(z),k=zc.muy,L;
if(k(r,[56,66,80,83]))L="psd";if(k(r,[103,105,109,112,32,120,99,102,32]))L="xcf";if(k(r,[137,80,78,71,13,10,26,10]))L="png";
if(k(r,[87,76]))L="cdr";if(k(r,[82,73,70,70])){var E=mw.lK(r),F=E.qe;if(F=="WEBP")L="webp";else if(F.slice(0,3)=="CDR")L="cdr";
else L=F}if(k(r,[255,216,255]))L="jpg";if(k(r,[0,0,0,12,106,80,32,32]))L="jpg";if(k(r,[0,0,0,0,48,0,1,0]))L="jpg";
if(k(r,[71,73,70,56]))L="gif";if(k(r,[0,0,0,2,121,102,113,76]))L="msh";if(k(r,[0,0,0,3,121,102,113,76]))L="msh";
if(k(r,[0,1]))L="aco";if(k(r,[0,2]))L="aco";if(k(r,[0,2,56,66,83,76]))L="asl";if(k(r,[0,6,0,1]))L="abr";
if(k(r,[0,6,0,2]))L="abr";if(k(r,[0,9,0,2]))L="abr";if(k(r,[0,10,0,2]))L="abr";if(k(r,[56,66,70,83]))L="shc";
if(k(r,[56,66,80,84]))L="pat";if(k(r,[0,4,0,5]))L="acv";if(k(r,[56,66,71,82]))L="grd";if(k(r,[99,117,115,104]))L="csh";
if(k(r,[0,1,0,0,0]))L="otf";if(k(r,[79,84,84,79]))L="otf";if(k(r,[116,116,99,102]))L="otf";if(k(r,[68,68,83,32]))L="dds";
if(k(r,[80,86,82,3]))L="pvr";if(k(r,[0,0,1,0]))L="ico";if(k(r,[66,77]))L="bmp";if(k(r,[80,49]))L="ppm";
if(k(r,[80,50]))L="ppm";if(k(r,[80,51]))L="ppm";if(k(r,[80,52]))L="ppm";if(k(r,[80,53]))L="ppm";if(k(r,[80,54]))L="ppm";
if(k(r,[73,73,42,0]))L="tiff";if(k(r,[77,77,0,42]))L="tiff";if(k(r,[83,81,76,105]))L="sketch";if(k(r,[80,75])){var U=UZIP.parse(z,!0);
if(U["document.json"])L="sketch";if(U.manifest)L="xd"}if(k(r,[123]))L="json";if(k(r,[60,115,118,103]))L="svg";
if(k(r,[60,63,120,109]))L="svg";if(k(r,[60,33,100,111]))L="html";if(k(r,[60,33,68,79]))L="html";if(k(r,[13,10,60,33]))L="html";
if(k(r,[37,33]))L="eps";if(k(r,[37,80,68,70]))L="pdf";if(k(r,[32,32,32,37,80,68,70]))L="pdf";if(k(r,[215,205,198,154]))L="wmf";
if(k(r,[1,0,0,0]))L="emf";return L};zc.muy=function(z,r){for(var k=0;k<r.length;k++)if(z[k]!=r[k])return!1;
return!0};zc.m_=function(z){return zc[z.toUpperCase()]};zc.mZ=function(z){var r=zc.mw.mMv,k=zc.mw.my,L,E=[];
if(z==null)L=r.concat(k);else L=z==0?r:k;for(var z=0;z<L.length;z++)if(zc[L[z]].mn)E.push(L[z]);return E};
zc.mC=function(z,r,k,L,E){var F=new Uint8Array(z),U=Y.d("canvas","");U.width=r;U.height=k;var l=U.getContext("2d"),G=l.getImageData(0,0,r,k);
for(var g=0;g<r*k*4;g++)G.data[g]=F[g];l.putImageData(G,0,0);var P=U.toDataURL("image/"+L,E),J=zc.mq(P);
return J.buffer};zc.mq=function(z){var r=atob(z.split(",").pop()),k=new Uint8Array(r.length);for(var L=0;
L<r.length;L++)k[L]=r.charCodeAt(L);return k};zc.mo=function(z,r,k){var L=new Uint8Array(zc.PNG.mn([[z.buffer,0]],r,k));
return"data:image/png;base64,"+zc.mL(L.buffer)};zc.mSn=function(z,r,k,L,E){if(E==null)E=0;var F="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",U="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+F+"<g transform=\"translate(64 64) scale("+.25*Math.round(Y.Z())+")\">";
if(z==1)U+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
U+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+E+")\" xlink:href=\""+r+"\" x=\""+80*k+"\" y=\""+80*L+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var l=new Uint8Array(U.length);zn.AC(U,l,0);return"data:image/svg+xml;base64,"+zc.mL(l.buffer)};zc.mL=function(z){var r=new Uint8Array(z),k="";
for(var L=0;L<r.length;L++)k+=String.fromCharCode(r[L]);return btoa(k)};zc.mU=function(z,r,k,L,E){if(k==null)k=z.X;
if(L==null)L=z.z;var F=zc[r.toUpperCase()];if(F.mH)return F.mn(z,k,L,E);var U=[],l=[];for(var G=0;G<z.a.length;
G++){var g=z.a[G];if(g.getName().slice(0,3)=="_a_"){U.push(G);l.push(g._$())}}if(U.length==0){var P;
if(k==z.X&&L==z.z)P=z.Ce().buffer;else{var J=A.s.NZ([z.Ce(),new Z(0,0,z.X,z.z)],new zT(k/(z.X+.001),0,0,L/(z.z+.001),0,0));
P=J.buffer}return F.mn([[P,0]],k,L,E)}var x=[];for(var G=0;G<U.length;G++){var a=U[G],P;for(var d=0;
d<U.length;d++)z.a[U[d]]._i(U[d]==a);z.qV();z.N();z.qx();if(k==z.X&&L==z.z)P=z.Ce().buffer.slice(0);
else{var J=A.s.NZ([z.Ce(),new Z(0,0,z.X,z.z)],new zT(k/(z.X+.001),0,0,L/(z.z+.001),0,0));P=J.buffer}var t=z.a[a].getName().split(",");
x.push([P,t[1]?parseInt(t[1]):50])}for(var G=0;G<U.length;G++)z.a[U[G]]._i(l[G]);z.N();z.qx();var m=F.mn(x,k,L,E);
return m};zc.PNG={};zc.PNG.mn=function(z,r,k,L){if(L==null)L=[100,!1];var E=L[0],F=E==100?0:Math.max(2,Math.floor(E*5)),U=[],l=[];
for(var G=0;G<z.length;G++){U.push(z[G][0]);l.push(z[G][1])}var g=UPNG.encode(U,r,k,F,l,L[1]);return g};
zc.PNG.mv=function(z){var r=UPNG.decode(z),k=UPNG.toRGBA8(r),L=r.width,E=r.height;if(k.length==1)return[{Hf:new Z(0,0,L,E),data:k[0]}];
var F=[];for(var U=0;U<k.length;U++){F.push({He:"_a_frm"+U+","+r.frames[U].delay,Hf:new Z(0,0,L,E),data:k[U]})}return F};
zc.PPM={};zc.PPM.mn=function(z,r,k,L){var E=new Uint8Array(z[0][0]),F=r*k,U=F*3,l="P6\n"+r+" "+k+"\n255\n",G=l.length,g=e.$(G+U,!0);
for(var P=0;P<G;P++)g[P]=l.charCodeAt(P);for(var P=0;P<F;P++){var J=P*4,x=P*3+G;g[x]=E[J];g[x+1]=E[J+1];
g[x+2]=E[J+2]}return g.buffer};zc.PPM.mv=function(z){z=new Uint8Array(z);var r=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],k=0,L=String.fromCharCode(z[0])+String.fromCharCode(z[1]),E=[],F=0,U=L=="P1"||L=="P4"?2:3;
for(k=2;k<z.length;k++){var l=z[k],G=String.fromCharCode(l);if(l=="#".charCodeAt(0)){while(z[k]!="\n".charCodeAt(0))k++;
continue}var g=r.indexOf(l)!=-1;if(F==0&&!g){E.push(G);F=1;continue}if(F==1&&!g){E[E.length-1]+=G;continue}if(F==1&&g){F=0;
if(E.length==U)break;continue}}var P=parseInt(E[0]),J=parseInt(E[1]),x=P*J*4,a=L=="P1"||L=="P4"?1:255/parseInt(E[2]),d=e.$(x);
if(L=="P1"||L=="P2"||L=="P3"){var t="",m=0,F=0,b="#".charCodeAt(0);for(var I=k;I<z.length;I++){var l=z[I],G=String.fromCharCode(l),g=r.indexOf(l)!=-1;
if(l==b){while(z[I]!="\n".charCodeAt(0))I++}else if(F==0&&!g){t=G;F=1}else if(F==1){if(g){F=0;var v=parseInt(t);
t="";if(L=="P1"){d[m]=d[m+1]=d[m+2]=(1-v)*255;d[m+3]=255;m+=4}if(L=="P2"){d[m]=d[m+1]=d[m+2]=Math.round(v*a);
d[m+3]=255;m+=4}if(L=="P3"){d[m]=Math.round(v*a);m++;if((m&3)==3){d[m]=255;m++}}}else t+=G}}}var W=P*J;
if(L=="P4")for(var B=0;B<J;B++){var n=B*8*Math.ceil(P/8);for(var j=0;j<P;j++){var I=n+j,p=z[k+1+(I>>3)];
p=p>>7-(I&7)&1;var X=B*P+j<<2;d[X]=d[X+1]=d[X+2]=(1-p)*255;d[X+3]=255}}if(L=="P5")for(var I=0;I<W;I++){var X=4*I;
d[X]=d[X+1]=d[X+2]=Math.round(z[k+1+I]*a);d[X+3]=255}if(L=="P6")for(var I=0;I<W;I++){var X=4*I,M=k+1+3*I;
d[X]=Math.round(z[M]*a);d[X+1]=Math.round(z[M+1]*a);d[X+2]=Math.round(z[M+2]*a);d[X+3]=255}return[{Hf:new Z(0,0,P,J),data:d.buffer}]};
zc.DDS={};zc.DDS.mn=function(z,r,k,L){var E=new Uint8Array(z[0][0]);if((r&3)!=0||(k&3)!=0){var F=r+(4-(r&3)),U=k+(4-(k&3)),l=new Uint8Array(F*U*4);
e.JV(l,4278190080);e.Jb(E,new Z(0,0,r,k),l,new Z(0,0,F,U));E=l;r=F;k=U}return UTEX.DDS.encode(E.buffer,r,k)};
zc.DDS.mv=function(z){var r=UTEX.DDS.decode(z)[0];return[{Hf:new Z(0,0,r.width,r.height),data:r.image}]};
zc.JPG={};zc.JPG.mn=function(z,r,k,L){if(L==null)L=[70];var E=new Uint8Array(z[0][0].byteLength),F=new Z(0,0,r,k);
e.JV(E,4294967295);e.M.Py("norm",new Uint8Array(z[0][0]),F,E,F,F,1);return zc.mC(E,r,k,"jpeg",L[0]/100)};
zc.JPG.mPi=function(z){z=new Uint8Array(z);if(z[0]!=255)return z.buffer;var r=new PDFJS.JpegImage;r.parse(z);
if(r.numComponents!=4)return z.buffer;var k=r.width,L=r.height,E=zc.JPG.mI(r,!0);return zc.JPG.mn([[E.buffer]],k,L,[85])};
zc.JPG.mI=function(z,r){var k=z.width,L=z.height,E=k*L,F=z.getData({width:k,height:L,forceRGB:!0,isSourcePDF:r}),U=e.$(E*4);
for(var l=0;l<E;l++){var G=l<<2,g=G-l;U[G]=F[g+0];U[G+1]=F[g+1];U[G+2]=F[g+2];U[G+3]=255}return U};zc.JPG.mv=function(z){z=new Uint8Array(z);
if(z[0]==255){var r=new PDFJS.JpegImage;r.parse(z);var k=r.width,L=r.height,E=zc.JPG.mI(r,!1);return[{Hf:new Z(0,0,k,L),data:E.buffer}]}else if(z[3]==0){var E=new Uint8Array(z.length+1);
for(var F=0;F<z.length;F++)E[F]=z[F];var r=new PDFJS.Jbig2Image,U={data:E,start:0,end:E.length},l=r.parseChunks([U]);
for(var F=0;F<l.length;F++)l[F]^=255;var k=h.S(z,11),L=h.S(z,15),G=Math.ceil(k/8),g=e.$(k*L*4);for(var P=0;
P<L;P++){var J=P*G;for(var x=0;x<k;x++){var a=(P*k+x)*4,d=(l[J+(x>>3)]>>(7-(x&7)<<0)&1)*255;g[a]=d;g[a+1]=d;
g[a+2]=d;g[a+3]=255}}return[{Hf:new Z(0,0,k,L),data:g.buffer}]}else{var r=new PDFJS.JpxImage;r.parse(z);
var k=r.width,L=r.height,t=r.tiles,m=r.componentsCount,b=new Uint8Array(k*L*4),I=new Z(0,0,k,L);for(var r=0;
r<t.length;r++){var v=t[r],W=v.width,B=v.height,n=W*B,zU=v.items,j=new Z(v.left,v.top,W,B),p=new Uint8Array(n*4);
if(m==1)for(var F=0;F<n;F++){var X=zU[F],a=F*4;p[a]=X;p[a+1]=X;p[a+2]=X;p[a+3]=255}else if(m==3)for(var F=0;
F<n;F++){var M=F*3,a=F*4;p[a]=zU[M];p[a+1]=zU[M+1];p[a+2]=zU[M+2];p[a+3]=255}else console.log("Unknown number of components: "+m);
e.Jb(p,j,b,I)}return[{Hf:I,data:b.buffer}]}};zc.WEBP={};zc.WEBP.mn=function(z,r,k,L){if(L==null)L=[70];
return zc.mC(z[0][0],r,k,"webp",L[0]/100)};zc.WEBP.mv=function(z){var r=new Date().getTime(),k=new Uint8Array(z),L={width:{value:0},height:{value:0}},E=new WebPDecoder;
k=zc.WEBP.mWo(k);var F=E.WebPDecoderConfig,U=F.j,l=E.WEBP_CSP_MODE;U.J=4;var G=E.WebPDecode(k,k.length,F),g=new Uint8Array(U.c.RGBA.ma);
for(var P=0;P<g.length;P+=4){var J=g[P+1],x=g[P+2],a=g[P+3],d=g[P];g[P]=J;g[P+1]=x;g[P+2]=a;g[P+3]=d}return[{Hf:new Z(0,0,F.j.width,F.j.height),data:g.buffer}]};
zc.WEBP.mWo=function(z){var r=new Array,k=z.length,L;for(L=0;L<k;++L)r.push(z[L]);return r};zc.BMP={};
zc.BMP.mn=function(z,r,k,L){var E=new Uint8Array(z[0][0]),F={Hg:r,HF:k,bS:24,bm:0,bJ:0},U=new Pf,l=4*Math.floor((F.bS*F.Hg+31)/32),G=0;
h.xv(U,G,"BM");G+=2;h.aM(U,G,l*k+16+40);G+=4;h.aM(U,G,0);G+=4;h.aM(U,G,54);G+=4;U.$q(G,40);h.aM(U,G,40);
G+=4;zc.BMP.mWn(U.data,G,F);G+=36;U.$q(G,l*k);for(var g=0;g<k;g++){var P=G+(k-1-g)*l;for(var J=0;J<r;
J++){var x=(g*r+J)*4,a=E[x+3]*(1/255);U.data[P+J*3+2]=E[x]*a;U.data[P+J*3+1]=E[x+1]*a;U.data[P+J*3+0]=E[x+2]*a}}G+=l*k+2;
var d=new Uint8Array(G);for(var t=0;t<G;t++)d[t]=U.data[t];return d.buffer};zc.BMP.mv=function(z){z=new Uint8Array(z);
var r=0,k=h.xU(z,r,2);r+=2;if(k!="BM"){alert("Unsupported BMP format: "+k);return}var L=h.aG(z,r);r+=4;
r+=4;var E=h.aG(z,r);r+=4;return[zc.BMP.mt(z.buffer,r)]};zc.BMP.mt=function(z,r){z=new Uint8Array(z);
var k=h.aG(z,r),L;r+=4;if(k==40)L=zc.BMP.mWU(z,r);else{alert("Unsupported BMP header format: "+k+" Bytes");
return}r+=k-4;if(L.bm!=0){alert("Unsupported BMP compression: "+L.bm);return}var E=r,F=4*Math.floor((L.bS*L.Hg+31)/32),U=new Uint8Array(L.Hg*L.HF*4);
e.set(U,255);var l=r;if(L.bS<24)l+=4*Math.pow(2,L.bS);if(L.bS==32)for(var G=0;G<L.HF;G++){var g=l+(L.HF-1-G)*F;
for(var P=0;P<L.Hg;P++){var J=(G*L.Hg+P)*4;U[J]=z[g+P*4+2];U[J+1]=z[g+P*4+1];U[J+2]=z[g+P*4+0];U[J+3]=z[g+P*4+3]}}if(L.bS==24)for(var G=0;
G<L.HF;G++){var g=l+(L.HF-1-G)*F;for(var P=0;P<L.Hg;P++){var J=(G*L.Hg+P)*4;U[J]=z[g+P*3+2];U[J+1]=z[g+P*3+1];
U[J+2]=z[g+P*3+0]}}if(L.bS==8)for(var G=0;G<L.HF;G++){var g=l+(L.HF-1-G)*F;for(var P=0;P<L.Hg;P++){var J=(G*L.Hg+P)*4,x=z[g+P];
U[J]=z[E+4*x+2];U[J+1]=z[E+4*x+1];U[J+2]=z[E+4*x+0]}}if(L.bS==4)for(var G=0;G<L.HF;G++){var g=l+(L.HF-1-G)*F;
for(var P=0;P<L.Hg;P++){var J=(G*L.Hg+P)*4,x=z[g+(P>>1)];x=x>>4-4*(P&1);x=x&15;U[J]=z[E+4*x+2];U[J+1]=z[E+4*x+1];
U[J+2]=z[E+4*x+0]}}if(L.bS==1)for(var G=0;G<L.HF;G++){var g=l+(L.HF-1-G)*F;for(var P=0;P<L.Hg;P++){var J=(G*L.Hg+P)*4,a=z[g+(P>>3)];
a=a>>7-(P&7);a=a&1;U[J]=z[E+4*a+2];U[J+1]=z[E+4*a+1];U[J+2]=z[E+4*a+0]}}return{Hf:new Z(0,0,L.Hg,L.HF),data:U.buffer}};
zc.BMP.mWU=function(z,r){var k={};k.Hg=h.xf(z,r);r+=4;k.HF=h.xf(z,r);r+=4;var L=h.xp(z,r);r+=2;if(L!=1)alert("unsupported number of color planes: "+L);
k.bS=h.xp(z,r);r+=2;k.bm=h.aG(z,r);r+=4;var E=h.aG(z,r);r+=4;var F=h.aG(z,r);r+=4;var U=h.aG(z,r);r+=4;
k.bJ=h.aG(z,r);r+=4;r+=4;return k};zc.BMP.mWn=function(z,r,k){h.aW(z,r,k.Hg);r+=4;h.aW(z,r,k.HF);r+=4;
h.x$(z,r,1);r+=2;h.x$(z,r,k.bS);r+=2;h.aW(z,r,k.bm);r+=4;var L=4*Math.floor((k.bS*k.Hg+31)/32);h.aW(z,r,L*k.HF+2);
r+=4;h.aW(z,r,2834);r+=4;h.aW(z,r,2834);r+=4;h.aW(z,r,k.bJ);r+=4;r+=4};zc.GIF={};zc.GIF.mn=function(z,r,k,L){if(L==null)L=[100,!1];
if(L[1]){z=z.slice(0);z.reverse()}var E=[],F=[],x=null;for(var U=0;U<z.length;U++){E.push(z[U][0]);F.push(z[U][1])}var l=Math.round(2+254*L[0]/100),G=UPNG.encode.compress(E,r,k,l,!0),g=G.plte,P=new Uint8Array(4),J=new Uint32Array(P.buffer);
for(var U=0;U<g.length;U++){J[0]=g[U];var a=P[0];P[0]=P[2];P[2]=a;g[U]=J[0];if(J[0]==0)x=U}while(g.length<256)g.push(0);
var d=new Uint8Array(2e3+r*k*z.length),t=new GifWriter(d,r,k,{palette:g,loop:0});for(var U=0;U<z.length;
U++){var m=G.frames[U],b=m.rect,I=m.blend,v=m.dispose;t.addFrame(b.x,b.y,b.width,b.height,m.img,{transparent:x,disposal:v+1,delay:Math.round(F[U]/10)})}return d.slice(0,t.end()).buffer};
zc.GIF.mv=function(z){var r=new Uint8Array(z),k=new GifReader(r),L=[],E=k.numFrames(),F=k.width,U=k.height,l=e.$(F*U*4),G=new Z(0,0,F,U),g=0;
for(var P=0;P<E;P++){var J=k.frameInfo(P);k.decodeAndBlitFrameRGBA(P,l);L.push({Hf:G.clone(),He:"_a_frm"+P+","+J.delay*10,data:l.slice(0).buffer});
if(J.disposal==2){var x=e.$(J.width*J.height*4);e.Jb(x,new Z(J.x,J.y,J.width,J.height),l,G)}if(J.disposal==3){var a=new Uint8Array(L[g].data);
for(var d=0;d<l.length;d++)l[d]=a[d]}if(J.disposal!=3)g=P}return L};zc.ICO={};zc.ICO.mv=function(z){z=new Uint8Array(z);
var r=4,k=h.xp(z,r);r+=2;var L=[];for(var E=0;E<k;E++){var F=zc.ICO.mWv(z,r+E*16),U=z.buffer.slice(F.offset,F.offset+F.size),l=zc.mV(U);
l=l?l:"bmp";if(l=="png"){var G=zc.m_(l);return G.mv(U)}else{var g=zc.BMP.mt(U,0),U=e.$(F.Hg*F.HF*4);
e.Jb(new Uint8Array(g.data),new Z(0,0,g.Hf.X,g.Hf.z),U,new Z(0,F.HF,F.Hg,F.HF));g.data=U.buffer;g.Hf.z=F.HF;
F.bP=g;L.push(F)}}L.sort(function(P,J){if(P.Hg!=J.Hg)return P.Hg-J.Hg;return P.bz-J.bz});return[L.pop().bP]};
zc.ICO.mWv=function(z,r){var k={};k.Hg=z[r];r++;if(k.Hg==0)k.Hg=256;k.HF=z[r];r++;if(k.HF==0)k.HF=256;
k.mzu=z[r];r++;r++;k.mEZ=h.xp(z,r);r+=2;k.bz=h.xp(z,r);r+=2;k.size=h.aG(z,r);r+=4;k.offset=h.aG(z,r);
r+=4;return k};zc.TIFF={};zc.TIFF.mv=function(z){var r=Date.now(),k=UTIF.decode(z);UTIF.decodeImages(z,k);
for(var L=0;L<k.length;L++){var E=k[L]}for(var L=0;L<k.length;L++){var E=k[L];if(E.t33421==null)continue;
if(k[0]!=E){for(var F in k[0])if(F[0]=="t"&&E[F]==null)E[F]=k[0][F]}return[E]}var U=[];for(var L=0;L<k.length;
L++){var E=k[L];if(E.width==null)continue;var l=UTIF.toRGBA8(E).buffer;U.push({Hf:new Z(0,0,E.width,E.height),data:l})}return U};
zc.TIFF.mn=function(z,r,k,L){return UTIF.encodeImage(z[0][0],r,k)};zc.PSD={};zc.PSD.mH=!0;zc.PSD.mv=function(z,r){zK.lK(z,r)};
zc.PSD.mn=function(z,r,k,L){if(L==null)L=[!1,!1];if(!L[0])z.Ce();var E=new Pf,F=zK.lE(z,E,L),U=new Uint8Array(E.data.buffer.slice(0,F));
return U.buffer};zc.SKETCH={};zc.SKETCH.mH=!0;zc.SKETCH.mv=function(z,r){zO.lK(z,r)};zc.XD={};zc.XD.mH=!0;
zc.XD.mv=function(z,r){zl.lK(z,r)};zc.XCF={};zc.XCF.mH=!0;zc.XCF.mv=function(z,r){z_.lK(z,r)};zc.SVG={};
zc.SVG.mH=!0;zc.SVG.mn=function(z,r,k,L){if(L==null)L=[!0,!1,!1,!1,!0,!0];var E=zN.lN(z,{mGO:L[0],hidden:L[1],bQ:L[2],mlg:L[3],names:L[4],bK:L[5],mQG:r,mSi:k});
return E};zc.SVG.mv=function(z,r){zN.lK(z,r)};zc.EPS={};zc.EPS.mH=!0;zc.EPS.mv=function(z,r){var k=150,L=new zT(1,0,0,-1,0,0);
L.scale(k/72,k/72);r.bx=k;var E=new zV(r,L,!0);FromPS.Parse(z,E)};zc.PDF={};zc.PDF.mH=!0;zc.PDF.mn=function(z,r,k,L){if(L==null)L=[!1,!1];
L[2]=["jpg"];var E=new ToPDF;zt.lN(z,L,E);return E.buffer};zc.PDF.mv=function(z,r){var k=150,L=new zT(1,0,0,-1,0,0);
L.scale(k/72,k/72);r.bx=k;var E=new zV(r,L,!0);FromPDF.Parse(z,E)};zc.WMF={};zc.WMF.mH=!0;zc.WMF.mv=function(z,r){var k=36,L=new zT(1,0,0,1,0,0);
L.scale(k/72,k/72);r.bx=k;var E=new zV(r,L,!1);FromWMF.Parse(z,E)};zc.EMF={};zc.EMF.mWX=!0;zc.EMF.mH=!0;
zc.EMF.mn=function(z,r,k,L){if(L==null)L=[!1,!1];L[2]=[];var E=new ToEMF;zt.lN(z,L,E);var F=E.buffer;
return F};zc.EMF.mv=function(z,r){var k=72,L=new zT(1,0,0,1,0,0);L.scale(k/72,k/72);r.bx=k;var E=new zV(r,L,!1);
FromEMF.Parse(z,E)};zc.CDR={};zc.CDR.mH=!0;zc.CDR.mv=function(z,r){return mR.lK(z,r)};function e(){}e.mi=document.createElement("canvas");
e.l=e.mi.getContext("2d");e.mY=function(z,r,k,L){L=Math.log(L)/Math.log(2);L=Math.round(L);for(var E=0;
E<k;E++)for(var F=0;F<r;F++){var U=E*r+F<<2,l=(E>>L)+(F>>L)&1==1?204:255;z[U]=z[U+1]=z[U+2]=l;z[U+3]=255}};
e.mk=function(z){var r=z.toString(16);while(r.length<6)r="0"+r;return r};e.mWI=function(z){return parseInt(z,16)};
e.mf=function(z){return.3*z.F+.59*z.P+.11*z.g};e.me=function(z){return Math.max(z.F,z.P,z.g)-Math.min(z.F,z.P,z.g)};
e.mg=function(z,r,k){return.3*z+.59*r+.11*k};e.mxm=function(z,r,k){return Math.max(z,r,k)-Math.min(z,r,k)};
e.JS=function(z,r){var k=r-z,L=Math.abs(k),E=k-1,F=k+1;if(Math.abs(E)<L)k=E;else if(Math.abs(F)<L)k=F;
return k};e.Jm=function(z,r,k,L){return(r-k)*L/(z-k)};e.JJ=function(z){return z<.0031308?12.92*z:1.055*Math.pow(z,1/2.4)-.055};
e.mzZ=function(z){return z<.04045?z/12.92:Math.pow((z+.055)/1.055,2.4)};e.mzS=function(z,r,k,L){if(k<r)k+=L;
if(z<r)z+=L;return(z-r)/(k-r)};e.mct=function(z,r){var k=Math.min(z.length,r.length);for(var L=0;L<k;
L+=4){var E=z[L],F=z[L+1],U=z[L+2];r[L]=16+Math.floor(65.481/255*E+128.553/255*F+24.966/255*U+.5);r[L+1]=128-Math.floor(37.797/255*E-74.203/255*F+112/255*U+.5);
r[L+2]=128+Math.floor(112/255*E-93.786/255*F-18.214/255*U+.5);r[L+3]=z[L+3]}};e.JW=function(z,r,k){var L=Math.max(z,r,k),E=Math.min(z,r,k),F,U,l=(L+E)*.5;
if(L==E)F=U=0;else{var G=L-E;U=l>.5?G/(2-L-E):G/(L+E);switch(L){case z:F=(r-k)/G+(r<k?6:0);break;case r:F=(k-z)/G+2;
break;case k:F=(z-r)/G+4;break}F*=1/6}return{HF:F,bB:U,bA:l}};e.JM=function(z,r,k){if(k<0)k+=1;if(k>1)k-=1;
if(k<1/6)return z+(r-z)*6*k;if(k<1/2)return r;if(k<2/3)return z+(r-z)*(2/3-k)*6;return z};e.JQ=function(z,r,k){var L,E,F;
if(r==0)L=E=F=k;else{var U=k<.5?k*(1+r):k+r-k*r,l=2*k-U;L=e.JM(l,U,z+1/3);E=e.JM(l,U,z);F=e.JM(l,U,z-1/3)}return{F:L,P:E,g:F}};
e.Ju=function(z,r,k){var L=Math.max(z,r,k),E=Math.min(z,r,k),F,U,l=L,G=L-E;U=L==0?0:G/L;if(L==E)F=0;
else{switch(L){case z:F=(r-k)/G+(r<k?6:0);break;case r:F=(k-z)/G+2;break;case k:F=(z-r)/G+4;break}F/=6}return{HF:F,bB:U,KM:l}};
e.JK=function(z,r,k){var L,E,F,U,l,G,g,P;U=Math.floor(z*6);l=z*6-U;G=k*(1-r);g=k*(1-l*r);P=k*(1-(1-l)*r);
switch(U%6){case 0:L=k,E=P,F=G;break;case 1:L=g,E=k,F=G;break;case 2:L=G,E=k,F=P;break;case 3:L=G,E=g,F=k;
break;case 4:L=P,E=G,F=k;break;case 5:L=k,E=G,F=g;break}return{F:L,P:E,g:F}};e.JE=function(z,r,k){var L=r-e.mf(z);
k.F=z.F+L;k.P=z.P+L;k.g=z.g+L;e.mzj(k)};e.Jl=function(z,r,k){var L=z.F,E=z.P,F=z.g;if(L==E&&E==F){k.F=k.P=k.g=0}else if(L>E){if(L>F){if(E>F){k.F=r;
k.P=e.Jm(L,E,F,r);k.g=0}else{k.F=r;k.g=e.Jm(L,F,E,r);k.P=0}}else{k.g=r;k.F=e.Jm(F,L,E,r);k.P=0}}else{if(L<F){if(E>F){k.P=r;
k.g=e.Jm(E,F,L,r);k.F=0}else{k.g=r;k.P=e.Jm(F,E,L,r);k.F=0}}else{k.P=r;k.F=e.Jm(E,L,F,r);k.g=0}}};e.mzj=function(z){var r=z.F,k=z.P,L=z.g,E=e.mg(r,k,L),F=Math.min(r,k,L),U=Math.max(r,k,L);
if(F<0){var l=E/(E-F);r=E+(r-E)*l;k=E+(k-E)*l;L=E+(L-E)*l}if(U>1){var l=(1-E)/(U-E);r=E+(r-E)*l;k=E+(k-E)*l;
L=E+(L-E)*l}z.F=r;z.P=k;z.g=L};e.Ja=function(z,r,k,L,E,F){var U=new Uint32Array(z.buffer),l=0;L=Math.log(L)/Math.log(2);
L=Math.round(L);for(var G=0;G<k;G++)for(var g=0;g<r;g++){U[l++]=(G+F>>L)+(g+E>>L)&1==1?4291348680:4294967295}};
e.mPJ=function(z,r,k){return(z>>k)+(r>>k)&1==1?200:255};e.JB=function(z,r){var k=z.length;for(var L=0;
L<k;L+=4)r[L>>2]=Math.floor(z[L+0]*.3+z[L+1]*.59+z[L+2]*.11+.5)};e.mKR=function(z,r){var k=r.length;
for(var L=0;L<k;L+=4){var E=z[L>>2];r[L]=E;r[L+1]=E;r[L+2]=E}};e.Jh=function(z,r){var k=z.n,L=z.F,E=z.P,F=z.g,U=Math.min(z.n.length,r.buffer.byteLength>>>2),l=4*Math.floor(U/4),G=new Uint32Array(r.buffer),g=new Uint32Array(k.buffer),P=new Uint32Array(L.buffer),J=new Uint32Array(E.buffer),x=new Uint32Array(F.buffer);
for(var a=0;a<l;a+=4){var d=g[a>>2],t=x[a>>2],m=J[a>>2],b=P[a>>2];G[a]=d<<24|(t&255)<<16|(m&255)<<8|b&255;
G[a+1]=(d&65280)<<16|(t&65280)<<8|m&65280|(b&65280)>>>8;G[a+2]=(d&16711680)<<8|t&16711680|(m&16711680)>>>8|(b&16711680)>>>16;
G[a+3]=d&4278190080|(t&4278190080)>>>8|(m&4278190080)>>>16|(b&4278190080)>>>24}for(var a=l;a<U;a++)G[a]=k[a]<<24|F[a]<<16|E[a]<<8|L[a]};
e.mJw=function(z,r,k,L){var E=z.n,F=z.F,U=z.P,l=z.g,G=new Uint32Array(r.buffer),g=L.x-k.x,P=g+L.X,J=L.y-k.y,x=J+L.z;
for(var a=J;a<x;a++){var d=a*k.X+g;for(var t=g;t<P;t++){G[d]=E[d]<<24|l[d]<<16|U[d]<<8|F[d];d++}}};e.JR=function(z,r){var k=r.n,L=r.F,E=r.P,F=r.g,U=Math.min(r.n.length,z.buffer.byteLength>>>2),l=4*Math.floor(U/4),G=new Uint32Array(z.buffer),g=new Uint32Array(k.buffer),P=new Uint32Array(L.buffer),J=new Uint32Array(E.buffer),x=new Uint32Array(F.buffer);
for(var a=0;a<l;a+=4){var d=G[a],t=G[a+1],m=G[a+2],b=G[a+3];P[a>>2]=d&255|(t&255)<<8|(m&255)<<16|b<<24;
J[a>>2]=(d&65280)>>8|t&65280|(m&65280)<<8|(b&65280)<<16;x[a>>2]=(d&16711680)>>16|(t&16711680)>>8|m&16711680|(b&16711680)<<8;
g[a>>2]=d>>>24|t>>>24<<8|m>>>24<<16|b&4278190080}for(var a=l;a<U;a++){var I=G[a];L[a]=I>>0&255;E[a]=I>>8&255;
F[a]=I>>16&255;k[a]=I>>24&255}};e.Jw=function(z,r,k){var L=new Uint8Array(z.buffer),E=Math.min(L.length/4,r.length);
for(var F=0;F<E;F++){r[F]=L[(F<<2)+k]}};e.JN=function(z,r,k){var L=new Uint8Array(r.buffer),E=new Uint32Array(z.buffer),F=Math.min(L.length/4,z.length),U=0;
while(U+4<F){var l=E[U>>>2];L[(U<<2)+k]=l&255;L[(U<<2)+k+4]=l>>>8&255;L[(U<<2)+k+8]=l>>>16&255;L[(U<<2)+k+12]=l>>>24;
U+=4}while(U<F){L[(U<<2)+k]=z[U];U++}};e.clone=function(z){return z.slice(0)};e.Jy=function(z,r){e.set(z.n,r);
e.set(z.F,r);e.set(z.P,r);e.set(z.g,r)};e.set=function(z,r){r=Math.round(r);var k=r<<24|r<<16|r<<8|r,L=new Uint32Array(z.buffer),E=L.length;
for(var F=0;F<E;F++)L[F]=k};e.JV=function(z,r,k){if(k==null)k=0;var L=new Uint32Array(z.buffer),E=L.length;
for(var F=0;F<E;F++)L[F]=L[F]&k|r};e.mJk=function(z,r,k,L,E){if(E==null)E=0;var F=new Uint32Array(z.buffer);
k=k.Mk(r);var U=k.x-r.x,l=k.y-r.y,G=k.X,g=k.z,P=r.X;for(var J=0;J<g;J++){var x=(l+J)*P+U;for(var a=0;
a<G;a++){F[x]=F[x]&E|L;x++}}};e.mJK=function(z,r){e.JZ(z.n,r.n);e.JZ(z.F,r.F);e.JZ(z.P,r.P);e.JZ(z.g,r.g)};
e.JZ=function(z,r){var k=Math.min(z.buffer.byteLength,r.buffer.byteLength),L=k>>>2,z=new Uint32Array(z.buffer,0,L),r=new Uint32Array(r.buffer,0,L);
r.set(z)};e.mGo=function(z,r){return e.Jq(z.n,r.n)&&e.Jq(z.F,r.F)&&e.Jq(z.P,r.P)&&e.Jq(z.g,r.g)};e.Jq=function(z,r){var k=z.buffer.byteLength,L=r.buffer.byteLength,E=new Uint32Array(z.buffer,0,k>>2),F=new Uint32Array(r.buffer,0,L>>2);
if(k!=L)return!1;var U=E.length;for(var l=0;l<U;l++)if(F[l]!=E[l])return!1;return!0};e.Jo=function(z){var r=new Uint32Array(z.buffer),k=r.length;
for(var L=0;L<k;L++)r[L]=~r[L]};e.mBo=function(z){var r=z.length;for(var k=3;k<r;k+=4)z[k]=~z[k]};e.mGB=function(z){return z+(z%4==0?0:4-z%4)};
e.$=function(z,r){if(r==null)r=!1;if(!r)z=e.mGB(z);try{var k=new Uint8Array(z)}catch(zM){alert("Not enough RAM! (need "+(z>>20)+" MB)",7e3);
throw zM}return k};e.Jn=function(z){var r=z.length,k=z[r-2],L=z[r-1];while(L.X>=2||L.z>=2){var E=e.Jv(k,L);
z.push(E.bT,E.rect);k=E.bT;L=E.rect}};e.Jv=function(z,r,k){var L=r.X,E=r.z,F=L>>1,U=E>>1,l=new Z(r.x,r.y,F,U);
if(z==null)return{rect:l};var G=k&&k.length==F*U*4?k:e.$(F*U*4),g=new Uint32Array(z.buffer),P=new Uint32Array(G.buffer);
for(var J=0;J<U;J++)for(var x=0;x<F;x++){var a=J*F+x,d=(J<<1)*L+(x<<1),t=g[d],m=g[d+1],b=g[d+L],I=g[d+L+1],v=t>>>24,W=m>>>24,B=b>>>24,n=I>>>24,j=(t>>>0&255)*v+(m>>>0&255)*W+(b>>>0&255)*B+(I>>>0&255)*n,p=(t>>>8&255)*v+(m>>>8&255)*W+(b>>>8&255)*B+(I>>>8&255)*n,X=(t>>>16&255)*v+(m>>>16&255)*W+(b>>>16&255)*B+(I>>>16&255)*n,M=v+W+B+n;
if(M==0)P[a]=0;else{var H=1/M;j=~~(j*H+.5);p=~~(p*H+.5);X=~~(X*H+.5);P[a]=M+2>>>2<<24|X<<16|p<<8|j}}return{rect:l,bT:G}};
e.mGR=function(z,r,k){var L=r.X,E=r.z,F=L>>1,U=E>>1,l=new Z(r.x,r.y,F,U);if(z==null)return{rect:l};var G=k&&k.length==F*U*4?k:e.$(F*U*4),g=new Uint32Array(z.buffer),P=new Uint32Array(G.buffer);
for(var J=0;J<U;J++)for(var x=0;x<F;x++){var a=J*F+x,d=(J<<1)*L+(x<<1),t=g[d],m=g[d+1],b=g[d+L],I=g[d+L+1],v=2+(t>>>0&255)+(m>>>0&255)+(b>>>0&255)+(I>>>0&255)>>>2,W=2+(t>>>8&255)+(m>>>8&255)+(b>>>8&255)+(I>>>8&255)>>>2,B=2+(t>>>16&255)+(m>>>16&255)+(b>>>16&255)+(I>>>16&255)>>>2;
P[a]=4278190080|B<<16|W<<8|v}return{rect:l,bT:G}};e.mms=function(z,r,k){var L=r.X,E=r.z,F=2*Math.floor(L/3),U=2*Math.floor(E/3),l=new Z(r.x,r.y,F,U);
if(z==null)return{rect:l};var G=k&&k.length==F*U*4?k:e.$(F*U*4),g=new Uint32Array(z.buffer),P=new Uint32Array(G.buffer);
for(var J=0;J<U;J+=2)for(var x=0;x<F;x+=2){var a=J*F+x,d=(J*3>>>1)*L+(x*3>>>1),t=g[d],m=g[d+1],b=g[d+2],I=g[d+L],v=g[d+1+L],W=g[d+2+L],B=g[d+L+L],n=g[d+1+L+L],j=g[d+2+L+L],p=t>>>24<<2,X=(t>>>16&255)*p,M=(t>>>8&255)*p,H=(t&255)*p,c=m>>>24<<1,S=(m>>>16&255)*c,w=(m>>>8&255)*c,R=(m&255)*c,i=b>>>24<<2,f=(b>>>16&255)*i,_=(b>>>8&255)*i,u=(b&255)*i,Q=I>>>24<<1,$=(I>>>16&255)*Q,C=(I>>>8&255)*Q,y=(I&255)*Q,N=v>>>24,O=(v>>>16&255)*N,JQ=(v>>>8&255)*N,zf=(v&255)*N,ze=W>>>24<<1,zg=(W>>>16&255)*ze,zF=(W>>>8&255)*ze,GS=(W&255)*ze,Gm=B>>>24<<2,GJ=(B>>>16&255)*Gm,GP=(B>>>8&255)*Gm,Gz=(B&255)*Gm,GG=n>>>24<<1,GW=(n>>>16&255)*GG,GM=(n>>>8&255)*GG,GQ=(n&255)*GG,Gu=j>>>24<<2,GK=(j>>>16&255)*Gu,GE=(j>>>8&255)*Gu,Gl=(j&255)*Gu,Gx=p+c+Q+N,Ga=i+c+ze+N,Gc=Gm+GG+Q+N,GB=Gu+GG+ze+N,GA=Gx==0?0:1/Gx,Gh=Ga==0?0:1/Ga,GT=Gc==0?0:1/Gc,Gw=GB==0?0:1/GB,GN=0,Gy=0,GV=0,GO=0;
GN=~~(.5+(H+R+y+zf)*GA);Gy=~~(.5+(M+w+C+JQ)*GA);GV=~~(.5+(X+S+$+O)*GA);GO=~~(.5+Gx*(1/9));P[a]=GO<<24|GV<<16|Gy<<8|GN;
GN=~~(.5+(u+R+GS+zf)*Gh);Gy=~~(.5+(_+w+zF+JQ)*Gh);GV=~~(.5+(f+S+zg+O)*Gh);GO=~~(.5+Ga*(1/9));P[a+1]=GO<<24|GV<<16|Gy<<8|GN;
GN=~~(.5+(Gz+GQ+y+zf)*GT);Gy=~~(.5+(GP+GM+C+JQ)*GT);GV=~~(.5+(GJ+GW+$+O)*GT);GO=~~(.5+Gc*(1/9));P[a+F]=GO<<24|GV<<16|Gy<<8|GN;
GN=~~(.5+(Gl+GQ+GS+zf)*Gw);Gy=~~(.5+(GE+GM+zF+JQ)*Gw);GV=~~(.5+(GK+GW+zg+O)*Gw);GO=~~(.5+GB*(1/9));P[a+F+1]=GO<<24|GV<<16|Gy<<8|GN}return{rect:l,bT:G}};
e.mua=function(z,r,k){var L=r.X,E=r.z,F=2*Math.floor(L/3),U=2*Math.floor(E/3),l=new Z(r.x,r.y,F,U);if(z==null)return{rect:l};
var G=k&&k.length==F*U*4?k:e.$(F*U*4),g=new Uint32Array(z.buffer),P=new Uint32Array(G.buffer);for(var J=0;
J<U;J+=2)for(var x=0;x<F;x+=2){var a=J*F+x,d=(J*3>>>1)*L+(x*3>>>1),t=g[d],m=g[d+1],b=g[d+2],I=g[d+L],v=g[d+1+L],W=g[d+2+L],B=g[d+L+L],n=g[d+1+L+L],j=g[d+2+L+L],p=(t>>>16&255)<<2,X=(t>>>8&255)<<2,M=(t&255)<<2,H=(m>>>16&255)<<1,c=(m>>>8&255)<<1,S=(m&255)<<1,w=(b>>>16&255)<<2,R=(b>>>8&255)<<2,i=(b&255)<<2,f=(I>>>16&255)<<1,_=(I>>>8&255)<<1,u=(I&255)<<1,Q=v>>>16&255,$=v>>>8&255,C=v&255,y=(W>>>16&255)<<1,N=(W>>>8&255)<<1,O=(W&255)<<1,JQ=(B>>>16&255)<<2,zf=(B>>>8&255)<<2,ze=(B&255)<<2,zg=(n>>>16&255)<<1,zF=(n>>>8&255)<<1,GS=(n&255)<<1,Gm=(j>>>16&255)<<2,GJ=(j>>>8&255)<<2,GP=(j&255)<<2,Gz=0,GG=0,GW=0;
Gz=~~(.5+(M+S+u+C)*(1/9));GG=~~(.5+(X+c+_+$)*(1/9));GW=~~(.5+(p+H+f+Q)*(1/9));P[a]=255<<24|GW<<16|GG<<8|Gz;
Gz=~~(.5+(i+S+O+C)*(1/9));GG=~~(.5+(R+c+N+$)*(1/9));GW=~~(.5+(w+H+y+Q)*(1/9));P[a+1]=255<<24|GW<<16|GG<<8|Gz;
Gz=~~(.5+(ze+GS+u+C)*(1/9));GG=~~(.5+(zf+zF+_+$)*(1/9));GW=~~(.5+(JQ+zg+f+Q)*(1/9));P[a+F]=255<<24|GW<<16|GG<<8|Gz;
Gz=~~(.5+(GP+GS+O+C)*(1/9));GG=~~(.5+(GJ+zF+N+$)*(1/9));GW=~~(.5+(Gm+zg+y+Q)*(1/9));P[a+F+1]=255<<24|GW<<16|GG<<8|Gz}return{rect:l,bT:G}};
e.Jt=function(z,r,k,L){var E=e.Jv,F=e.mms,g=0,J;if(z){var U=255,l=z.length;l-=(l>>>3&7)<<3;for(var G=3;
G<l;G+=32)U=U&z[G]&z[G+4]&z[G+8]&z[G+12]&z[G+16]&z[G+20]&z[G+24]&z[G+28];if(U==255){E=e.mGR;F=e.mua}}var P=k;
while(P<.499){g++;P*=2}if(P<.5001)J=E(z,r,L);else J=F(z,r,L);for(var G=0;G<g;G++)J=E(J.bT,J.rect,L);
return J};e.Jp=function(z,r,k,L){var E=r.Mk(L),F=Math.max(0,E.x-r.x),U=Math.max(0,E.x-L.x),l=Math.max(0,E.y-r.y),G=Math.max(0,E.y-L.y),g=E.X,P=E.z;
for(var J=0;J<P;J++){var x=(l+J)*r.X+F,a=(G+J)*L.X+U;for(var d=0;d<g;d++){k[a+d]=z[x+d]}}};e.J$=function(z,r,k,L){if(r.Jq(L)){e.JN(z,k,3);
return}var E=r.Mk(L),F=Math.max(0,E.x-r.x),U=Math.max(0,E.x-L.x),l=Math.max(0,E.y-r.y),G=Math.max(0,E.y-L.y),g=E.X,P=E.z;
for(var J=0;J<P;J++){var x=(l+J)*r.X+F,a=(G+J)*L.X+U;for(var d=0;d<g;d++)k[(a+d<<2)+3]=z[x+d]}};e.Jd=function(z,r,k,L){var E=r.Mk(L),F=Math.max(0,E.x-r.x),U=Math.max(0,E.x-L.x),l=Math.max(0,E.y-r.y),G=Math.max(0,E.y-L.y),g=E.X,P=E.z;
for(var J=0;J<P;J++){var x=(l+J)*r.X+F,a=(G+J)*L.X+U;for(var d=0;d<g;d++)k[a+d]=z[(x+d<<2)+3]}};e.mQZ=function(z,r,k,L){var E=r.Mk(L),F=Math.max(0,E.x-r.x),U=Math.max(0,E.x-L.x),l=Math.max(0,E.y-r.y),G=Math.max(0,E.y-L.y),g=E.X,P=E.z;
for(var J=0;J<P;J++){var x=(l+J)*r.X+F,a=(G+J)*L.X+U;for(var d=0;d<g;d++)k[a++]=z[x++]}};e.Jb=function(z,r,k,L,E){if(r.Jq(L)&&(E==null||E.Jq(L))){e.JZ(z,k);
return}z=new Uint32Array(z.buffer),k=new Uint32Array(k.buffer);var F=r.Mk(L);if(E)F=F.Mk(E);var U=Math.max(0,F.x-r.x),l=Math.max(0,F.x-L.x),G=Math.max(0,F.y-r.y),g=Math.max(0,F.y-L.y),P=F.X,J=F.z,x=P&3,a=x==0?P:P-x;
for(var d=0;d<J;d++){var t=(G+d)*r.X+U,m=(g+d)*L.X+l,b=0;while(b<a){k[m+b]=z[t+b];k[m+b+1]=z[t+b+1];
k[m+b+2]=z[t+b+2];k[m+b+3]=z[t+b+3];b+=4}if(x==1){k[m+b]=z[t+b]}else if(x==2){k[m+b]=z[t+b];k[m+b+1]=z[t+b+1]}else if(x==3){k[m+b]=z[t+b];
k[m+b+1]=z[t+b+1];k[m+b+2]=z[t+b+2]}}};e.Ji=function(z,r,k,L){var E=r.Mk(L),F=Math.max(0,E.x-r.x),U=Math.max(0,E.x-L.x),l=Math.max(0,E.y-r.y),G=Math.max(0,E.y-L.y),g=E.X,P=E.z,J=z.n,x=z.F,a=z.P,d=z.g,t=k.n,m=k.F,b=k.P,I=k.g;
for(var v=0;v<P;v++){var W=(l+v)*r.X+F,B=(G+v)*L.X+U;for(var n=0;n<g;n++){t[B+n]=J[W+n];m[B+n]=x[W+n];
b[B+n]=a[W+n];I[B+n]=d[W+n]}}};e.JD=function(z,r){for(var k=0;k<z.length;k++)if(z[k]!=r)return!1;return!0};
e.JY=function(z){return z+1+(z>>>8)>>>8};e.round=function(z,r){if(r==null)r=128;var k=z.length;for(var L=0;
L<k;L++)z[L]=z[L]<r?0:255};e.Jk=function(z,r){var k=z.length;for(var L=0;L<k;L++)z[L]=Math.round(z[L]*r)};
e.mJP=function(z,r){var k=z.length;for(var L=0;L<k;L+=4)z[L+3]=Math.round(z[L+3]*r)};e.Jf=function(z,r){var k=new Uint32Array(z.buffer),L=new Uint32Array(r.buffer),E=k.length;
for(var F=0;F<E;F++){var U=k[F],l=L[F];L[F]=e.JY((U>>>24)*(l>>>24))<<24|e.JY((U>>>16&255)*(l>>>16&255))<<16|e.JY((U>>>8&255)*(l>>>8&255))<<8|e.JY((U&255)*(l&255))}};
e.mab=function(z,r){var k=z.length;for(var L=0;L<k;L++)r[(L<<2)+3]=e.JY(r[(L<<2)+3]*z[L])};e.mSz=function(z,r,k,L){var E=Math.max(0,L.x-r.x),F=Math.max(0,r.x-L.x),U=Math.max(0,L.y-r.y),l=Math.max(0,r.y-L.y),G=Math.min(r.x+r.X,L.x+L.X)-Math.max(r.x,L.x),g=Math.min(r.y+r.z,L.y+L.z)-Math.max(r.y,L.y);
for(var P=0;P<g;P++){var J=(U+P)*r.X+E,x=(l+P)*L.X+F;for(var a=0;a<G;a++){k[x]=e.JY(k[x]*z[J]);J++;x++}}};
e.JF=function(z,r,k,L){var E=Math.max(0,L.x-r.x),F=Math.max(0,r.x-L.x),U=Math.max(0,L.y-r.y),l=Math.max(0,r.y-L.y),G=Math.min(r.x+r.X,L.x+L.X)-Math.max(r.x,L.x),g=Math.min(r.y+r.z,L.y+L.z)-Math.max(r.y,L.y);
for(var P=0;P<g;P++){var J=(U+P)*r.X+E,x=((l+P)*L.X+F<<2)+3;for(var a=0;a<G;a++){k[x]=e.JY(k[x]*z[J]);
J++;x+=4}}};e.PS=function(z,r,k,L){var E=Math.max(0,L.x-r.x),F=Math.max(0,r.x-L.x),U=Math.max(0,L.y-r.y),l=Math.max(0,r.y-L.y),G=Math.min(r.x+r.X,L.x+L.X)-Math.max(r.x,L.x),g=Math.min(r.y+r.z,L.y+L.z)-Math.max(r.y,L.y);
for(var P=0;P<g;P++){var J=((U+P)*r.X+E<<2)+3,x=((l+P)*L.X+F<<2)+3;for(var a=0;a<G;a++){k[x]=e.JY(k[x]*z[J]);
J+=4;x+=4}}};e.mxg=function(z,r,k,L){var E=1/255,F=Math.max(0,L.x-r.x),U=Math.max(0,r.x-L.x),l=Math.max(0,L.y-r.y),G=Math.max(0,r.y-L.y),g=Math.min(r.x+r.X,L.x+L.X)-Math.max(r.x,L.x),P=Math.min(r.y+r.z,L.y+L.z)-Math.max(r.y,L.y);
for(var J=0;J<P;J++){var x=(l+J)*r.X+F,a=(G+J)*L.X+U;for(var d=0;d<g;d++){k[a]=E*k[a]*(255-z[x]);x++;
a++}}};e.mKG=function(z,r){var k=[];for(var L=0;L<256;L++)k.push(0);var E=z.length,F=1/255;for(var L=0;
L<E;L++)k[z[L]]+=r[L]*F;return k};e.PP=function(z){var r=new Float64Array(256),k=new Float64Array(256),L=new Float64Array(256),E=new Float64Array(256),F=z.length;
for(var U=0;U<F;U+=4){var l=z[U+3]*(1/255);k[z[U+0]]+=l;L[z[U+1]]+=l;E[z[U+2]]+=l}for(var U=0;U<256;
U++)r[U]=k[U]+L[U]+E[U];return[r,k,L,E]};e.Pz=function(z,r){var k=new Uint32Array(z.buffer),L=k.length;
for(var E=0;E<L;E++){var F=k[E],U=F&255,l=F>>8&255,G=F>>16&255,g=F>>24&255;k[E]=r[U]|r[l]<<8|r[G]<<16|r[g]<<24}};
e.mWK=function(z,r,k,L,E,F,U){var l=new Uint32Array(z.buffer),G=new Uint32Array(r.buffer),g=l.length,P=0;
while(256<<P<k.length)P++;var J=(1<<P)-1;for(var x=0;x<g;x++){var a=l[x],d=(a&255)<<P,t=(a>>>8&255)<<P,m=(a>>>16&255)<<P,b=a>>>24&255;
if(F)d=t=m=Math.round(d*.3+t*.59+m*.11);var I=k[d],v=L[t],W=E[m];if(U){var B=e.mg(d,t,m),n=e.mg(I,v,W);
if(B>n){var j=(B-n)/(255-n);I+=j*(255-I);v+=j*(255-v);W+=j*(255-W)}else if(n==0)I=v=W=0;else{var j=B/n;
I=j*I;v=j*v;W=j*W}}G[x]=I|v<<8|W<<16|b<<24}};e.mGC=function(z){var r=new Uint32Array(256),L=0;for(var k=0;
k<z.length;k++)r[z[k]]++;for(var k=0;k<256;k++)if(r[k]>r[L])L=k;return L};e.PM=function(z,r){var k=r.X,L=r.z,top=0,E=0,F=0,U=0,l=!1,G=0;
l=!1;for(var g=0;g<L;g++){var P=g*k;for(var J=0;J<k;J++)if(z[P+J]!=G)l=!0;if(l)break;else top++}l=!1;
for(var g=L-1;g>=0;g--){var P=g*k;for(var J=0;J<k;J++)if(z[P+J]!=G)l=!0;if(l)break;else F++}l=!1;for(var J=0;
J<k;J++){for(var g=0;g<L;g++)if(z[g*k+J]!=G)l=!0;if(l)break;else E++}l=!1;for(var J=k-1;J>=0;J--){for(var g=0;
g<L;g++)if(z[g*k+J]!=G)l=!0;if(l)break;else U++}var x=new Z(r.x+E,r.y+top,k-E-U,L-top-F);return x.z$()?new Z(0,0,0,0):x};
e.PQ=function(z,r,k){var L=new Uint32Array(z.buffer),E=r.X,F=r.z,top=0,U=0,l=0,G=0,g=!1,P=k==null?L[0]:k;
g=!1;for(var J=0;J<F;J++){var x=J*E;for(var a=0;a<E;a++)if(L[x+a]!=P)g=!0;if(g)break;else top++}g=!1;
for(var J=F-1;J>=0;J--){var x=J*E;for(var a=0;a<E;a++)if(L[x+a]!=P)g=!0;if(g)break;else l++}g=!1;for(var a=0;
a<E;a++){for(var J=0;J<F;J++)if(L[J*E+a]!=P)g=!0;if(g)break;else U++}g=!1;for(var a=E-1;a>=0;a--){for(var J=0;
J<F;J++)if(L[J*E+a]!=P)g=!0;if(g)break;else G++}var d=new Z(r.x+U,r.y+top,E-U-G,F-top-l);return d.z$()?new Z(0,0,0,0):d};
e.Pu=function(z){var r=e.PM(z.channel,z.rect);if(r.Jq(z.rect))return;var k=e.$(r.Y());e.Jp(z.channel,z.rect,k,r);
z.channel=k;z.rect=r};e.PK=function(z){var r=e.$(z.buffer.length>>2);e.Jw(z.buffer,r,3);var k=e.PM(r,z.rect);
if(k.Jq(z.rect))return;var L=new e.$(k.Y()*4);e.Jb(z.buffer,z.rect,L,k);z.buffer=L;z.rect=k};e.extend=function(z,r,k){if(z.rect.ai(r))return;
var L=z.rect.MD(r),E=e.$(L.Y());if(k!=null)e.set(E,k);e.Jp(z.channel,z.rect,E,L);z.rect=L;z.channel=E};
e.mad=function(z,r){if(z.rect.ai(r))return;var k=z.rect.MD(r),L=e.$(k.Y()*4);e.Jb(z.buffer,z.rect,L,k);
z.rect=k;z.buffer=L};e.Pl=function(z,r,k){if(!k.ab(z))return!1;var L=Math.floor(z.x)-k.x,E=Math.floor(z.y)-k.y,F=E*k.X+L;
return r[F]>128};e.mxd=function(z,r,k){if(!k.ab(z))return!1;var L=Math.floor(z.x)-k.x,E=Math.floor(z.y)-k.y,F=E*k.X+L;
return r[4*F+3]>128};e.Pa=function(z){if(e.Pc.length<z){e.Pc=e.$(z);e.set(e.Pc,255)}return e.Pc};e.Pc=e.$(0);
e.PB=function(z){if(e.PA.length<z)e.PA=e.$(z);return e.PA};e.PA=e.$(0);e.Ph=function(z){this.n=e.$(z);
this.F=e.$(z);this.P=e.$(z);this.g=e.$(z)};e.Ph.prototype.clone=function(){var z=this.n.length,r=new e.Ph(1);
r.n=e.clone(this.n);r.F=e.clone(this.F);r.P=e.clone(this.P);r.g=e.clone(this.g);return r};e.M={};e.M.PR=new Float64Array(256);
e.M.Pw=new Uint8Array(256*256);e.M.PN=new Uint8Array(256*256);(function(){for(var z=0;z<256;z++)e.M.PR[z]=255/z;
for(var z=0;z<256;z++)for(var r=0;r<256;r++)e.M.Pw[z*256+r]=z==0?0:Math.round(r*255/z);for(var z=0;z<256;
z++)for(var r=0;r<256;r++)e.M.PN[z*256+r]=Math.round(z*(255-r)/255)}());e.M.Py=function(z,r,k,L,E,F,U,l){if(l==null)l=mK.oK();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(z)==-1){U=U*l.fill;l.fill=1;l.style=!1}var G="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),g="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),P=e.M[z+"F"];
if(z=="norm")e.M.mxt(r,k,L,E,F,U,P,l.bR?1:0);else if(z=="diss")e.M.mWy(r,k,L,E,F,U,P,l.bR?1:0);else if(G.indexOf(z)!=-1)e.M.mzH(r,k,L,E,F,U,P,l);
else if(g.indexOf(z)!=-1)e.M.mlf(r,k,L,E,F,U,P,l.bR?1:0)};e.M.mSR=function(z,r,k){return z==0?0:1-Math.min(1,(1-r)/(z*k+1-k))};
e.M.mWP=function(z,r,k){return z*k==1?1:Math.min(1,r/(1-z*k))};e.M.P_=function(z){return z<=.25?((16*z-12)*z+4)*z:Math.sqrt(z)};
e.M.normF=function(z,r,k){return z};e.M.darkF=function(z,r,k){return Math.min(z,r)};e.M["mul F"]=function(z,r,k){return z*r};
e.M.idivF=function(z,r,k){var L=z*k+1-k;return r==1?1:1-r>=L?0:1-(1-r)/L};e.M.lbrnF=function(z,r,k){return Math.max(0,z*k+r-k)};
e.M.dkClF=function(z,r,k){var L=e.mf(z)<e.mf(r)?z:r;k.F=L.F;k.P=L.P;k.g=L.g;return k};e.M.liteF=function(z,r,k){return Math.max(z,r)};
e.M.scrnF=function(z,r,k){return r+z-r*z};e.M["div F"]=function(z,r,k){z*=k;return r==0?0:r>=1-z?1:r/(1-z)};
e.M.lddgF=function(z,r,k){z*=k;return Math.min(1,z+r)};e.M.lgClF=function(z,r,k){var L=e.mf(z)>e.mf(r)?z:r;
k.F=L.F;k.P=L.P;k.g=L.g;return k};e.M.overF=function(z,r,k){return e.M.hLitF(r,z,k)};e.M.sLitF=function(z,r,k){return z<=.5?r-(1-2*z)*r*(1-r):r+(2*z-1)*(e.M.P_(r)-r)};
e.M.hLitF=function(z,r,k){return z<=.5?e.M["mul F"](2*z,r,k):e.M.scrnF(2*z-1,r,k)};e.M.vLitF=function(z,r,k){return z<=.5?e.M.mSR(2*z,r,k):e.M.mWP(2*z-1,r,k)};
e.M.lLitF=function(z,r,k){return z<=.5?e.M.lbrnF(2*z,r,k):e.M.lddgF(2*z-1,r,k)};e.M.pLitF=function(z,r,k){return z<=.5?e.M.darkF(2*z,r,k):e.M.liteF(2*z-1,r,k)};
e.M.hMixF=function(z,r,k){if(k>.99)return z+r<1?0:1;return Math.min(1,Math.max(0,(r+z*k-k)/(1-k+1e-6)))};
e.M.diffF=function(z,r,k){z*=k;return Math.abs(z-r)};e.M.smudF=function(z,r,k){return z+r-2*z*r};e.M.fsubF=function(z,r,k){return Math.max(r-z,0)};
e.M.fdivF=function(z,r,k){return Math.min(r/z,1)};e.M["hue F"]=function(z,r,k){e.Jl(z,e.me(r),k);e.JE(k,e.mf(r),k)};
e.M["sat F"]=function(z,r,k){e.Jl(r,e.me(z),k);e.JE(k,e.mf(r),k)};e.M.colrF=function(z,r,k){e.JE(z,e.mf(r),k)};
e.M["lum F"]=function(z,r,k){e.JE(r,e.mf(z),k)};e.M.mxt=function(z,r,k,L,E,F,U,l){var G=r.Mk(L).Mk(E),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z,t=r.X,m=L.X,b=e.M.Pw,I=e.M.PN,v=new Uint32Array(z.buffer),W=new Uint32Array(k.buffer);
for(var B=0;B<d;B++){var n=(J+B)*t+g,j=(x+B)*m+P;for(var p=0;p<a;p++){var X=v[n+p],c=255;if(X>>>24==0)continue;
if(X>>>24==255&&F==1&&l==0){W[j+p]=v[n+p];continue}var M=W[j+p],H=255*F&255;if(l==0){H=(X>>>24)*F&255;
c=M>>>24}var S=I[c<<8|H],w=H+S,R=X&255,i=X>>>8&255,f=X>>>16&255,_=M&255,u=M>>>8&255,Q=M>>>16&255;W[j+p]=l*(M>>>24)+(1-l)*w<<24|b[w<<8|e.JY(f*H+Q*S)]<<16|b[w<<8|e.JY(i*H+u*S)]<<8|b[w<<8|e.JY(R*H+_*S)]}}};
e.M.mKh=function(z,r,k,L,E,F){var U=r.Mk(L).Mk(E),l=Math.max(0,U.x-r.x),G=Math.max(0,U.x-L.x),g=Math.max(0,U.y-r.y),P=Math.max(0,U.y-L.y),J=U.X,x=U.z,a=r.X,d=L.X,t=e.M.Pw,m=e.M.PN,b=new Uint32Array(z.buffer),I=new Uint32Array(k.buffer),v=Math.floor(Math.random()*16777215),W=0;
for(var B=0;B<x;B++){var n=(g+B)*a+l,j=(P+B)*d+G;for(var p=0;p<J;p++){var X=b[n+p];if(X>>>24==0)continue;
if(X>>24==255&&F==1){I[j+p]=X;continue}var M=I[j+p],H=(X>>>24)*F*(1/255),c=(M>>>24)*(1/255),S=c*(1-H),w=H+S,R=X&255,i=X>>>8&255,f=X>>>16&255,_=M&255,u=M>>>8&255,Q=M>>>16&255;
W>>>=8;if((p&3)==0)W=e.M.PL(j+p+v);var $=w==0?0:1/w,C=Math.floor(w*(256*255))+(W&255)>>>8,y=Math.floor((f*H+Q*S)*$+.5),N=Math.floor((i*H+u*S)*$+.5),O=Math.floor((R*H+_*S)*$+.5);
I[j+p]=C<<24|y<<16|N<<8|O}}};e.M.mzH=function(z,r,k,L,E,F,U,l){var G=1/255,g=G*F,P=l.bR?1:0,J=l.fill,x=l.style,a=r.Mk(L).Mk(E),d=Math.max(0,a.x-r.x),t=Math.max(0,a.x-L.x),m=Math.max(0,a.y-r.y),b=Math.max(0,a.y-L.y),I=a.X,v=a.z,W=r.X,B=L.X,n=new Uint32Array(z.buffer),j=new Uint32Array(k.buffer);
for(var p=0;p<v;p++){var X=(m+p)*W+d,M=(b+p)*B+t;for(var H=0;H<I;H++,X++,M++){var c=n[X],R=1;if(c>>>24==0)continue;
var S=j[M],w=F;if(P==0){w=(c>>>24)*g;R=(S>>>24)*G}var i=R*(1-w),f=w+i,_=255/f,u=(c&255)*G,Q=(c>>>8&255)*G,$=(c>>>16&255)*G,C=(S&255)*G,y=(S>>>8&255)*G,N=(S>>>16&255)*G,O=x?1:w,JQ=((1-R)*w*u+(1-O)*R*C+O*R*U(u,C,(1+w-O)*J))*_,zf=((1-R)*w*Q+(1-O)*R*y+O*R*U(Q,y,(1+w-O)*J))*_,ze=((1-R)*w*$+(1-O)*R*N+O*R*U($,N,(1+w-O)*J))*_;
f=w*J+R*(1-w*J);var zg=Math.round(f*255);j[M]=P*(S>>>24)+(1-P)*zg<<24|ze<<16|zf<<8|JQ}}};e.M.mlf=function(z,r,k,L,E,F,U,l){var G=1/255,g=G*F,P=r.Mk(L).Mk(E),J=Math.max(0,P.x-r.x),x=Math.max(0,P.x-L.x),a=Math.max(0,P.y-r.y),d=Math.max(0,P.y-L.y),t=P.X,m=P.z,b=new Uint32Array(z.buffer),I=new Uint32Array(k.buffer),v={F:0,P:0,g:0},W={F:0,P:0,g:0},B={F:0,P:0,g:0};
for(var n=0;n<m;n++){var j=(a+n)*r.X+J,p=(d+n)*L.X+x;for(var X=0;X<t;X++,j++,p++){var M=b[j],H=I[p],c=F,S=1;
if(l==0){c=(M>>>24)*g;S=(H>>>24)*G}var w=S*(1-c),R=c+w,i=255/R,f=(M&255)*G,_=(M>>>8&255)*G,u=(M>>>16&255)*G,Q=(H&255)*G,$=(H>>>8&255)*G,C=(H>>>16&255)*G;
v.F=f;v.P=_;v.g=u;W.F=Q;W.P=$;W.g=C;U(v,W,B);var y=(((1-S)*f+S*B.F)*c+Q*w)*i,N=(((1-S)*_+S*B.P)*c+$*w)*i,O=(((1-S)*u+S*B.g)*c+C*w)*i,JQ=l*(H>>>24)+(1-l)*Math.round(R*255);
I[p]=JQ<<24|O<<16|N<<8|y}}};e.M.Pr=function(z){z=z^61^z>>16;z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;
return(z&16777215)*(1/16777215)};e.M.PL=function(z){z=z^61^z>>16;z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;
return z};e.M.mWy=function(z,r,k,L,E,F,U,l){var G=1/255,g=G*F,P=Math.round(F*(256*256*256/255)),J=r.Mk(L).Mk(E),x=Math.max(0,J.x-r.x),a=Math.max(0,J.x-L.x),d=Math.max(0,J.y-r.y),t=Math.max(0,J.y-L.y),m=J.X,b=J.z,I=new Uint32Array(z.buffer),v=new Uint32Array(k.buffer);
for(var W=0;W<b;W++){var B=(d+W)*r.X+x,n=(t+W)*L.X+a;for(var j=0;j<m;j++,B++,n++){var p=I[B],X=v[n],M=l*255+(1-l)*(p>>>24);
if((e.M.PL(B)&16777215)>=M*P)continue;v[n]=p&16777215|l*(X>>>24)+(1-l)*255<<24}}};e.M.mPP=function(z,r,k){for(var L=0;
L<z.length;L+=4){var E=k[L>>>2];if(E==0)continue;var F=E*(1/255),U=1/F,l=r[L],G=r[L+1],g=r[L+2],P=z[L],J=z[L+1],x=z[L+2];
r[L]=Math.min(255,Math.max(0,Math.round((l-(1-F)*P)*U)));r[L+1]=Math.min(255,Math.max(0,Math.round((G-(1-F)*J)*U)));
r[L+2]=Math.min(255,Math.max(0,Math.round((g-(1-F)*x)*U)));r[L+3]=255}};e.M.Pv=function(z,r,k,L,E,F,U,l,G,g){if(g==null)g=!1;
if(E&&!r.Jq(F)){var P=e.$(r.Y()*4);e.set(P,U);e.Jp(E,F,P,r);E=P;F=r}if(g){if(E==null)e.M.mPA(z,r,k,L,E,l,G);
else e.M.mlE(z,r,k,L,E,l,G)}else{if(E==null)e.M.mPh(z,r,k,L,E,l,G);else e.M.mPE(z,r,k,L,E,l,G)}};e.M.mPh=function(z,r,k,L,E,F,U){var l=1/255,G=r.Mk(L).Mk(F),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z,t=new Uint32Array(z.buffer),m=new Uint32Array(k.buffer),b=e.M.Pw,I=U*255&255;
for(var v=0;v<d;v++){var W=(J+v)*r.X+g,B=(x+v)*L.X+P;for(var n=0;n<a;n++,W++,B++){var j=t[W],p=m[B],X=j>>>24,M=p>>>24,H=e.JY(I*X+(255-I)*M),c=e.JY(X*I),S=e.JY(M*(255-I)),w=j&255,R=j>>>8&255,i=j>>>16&255,f=p&255,_=p>>>8&255,u=p>>>16&255,Q=c*w+f*S,$=c*R+_*S,C=c*i+u*S;
Q=b[H<<8|e.JY(Q)];$=b[H<<8|e.JY($)];C=b[H<<8|e.JY(C)];m[B]=H<<24|C<<16|$<<8|Q}}};e.M.mPA=function(z,r,k,L,E,F,U){var l=1/255,G=r.Mk(L).Mk(F),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z,t=new Uint32Array(z.buffer),m=new Uint32Array(k.buffer),b=e.M.Pw,I=U*16777215&16777215;
for(var v=0;v<d;v++){var W=(J+v)*r.X+g,B=(x+v)*L.X+P;for(var n=0;n<a;n++,W++,B++){if((e.M.PL(W)&16777215)<I)m[B]=t[W]}}};
e.M.mPE=function(z,r,k,L,E,F,U){var l=1/255,G=r.Mk(L).Mk(F),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z,t=new Uint32Array(z.buffer),m=new Uint32Array(k.buffer),b=e.M.Pw;
for(var I=0;I<d;I++){var v=(J+I)*r.X+g,W=(x+I)*L.X+P;for(var B=0;B<a;B++,v++,W++){var n=E[v]*U&255;if(n==0)continue;
if(n==255){m[W]=t[v];continue}var j=t[v],p=m[W],X=j>>>24,M=p>>>24,H=e.JY(n*X+(255-n)*M),c=e.JY(X*n),S=e.JY(M*(255-n)),w=j&255,R=j>>>8&255,i=j>>>16&255,f=p&255,_=p>>>8&255,u=p>>>16&255,Q=b[H<<8|e.JY(c*w+f*S)],$=b[H<<8|e.JY(c*R+_*S)],C=b[H<<8|e.JY(c*i+u*S)];
m[W]=H<<24|C<<16|$<<8|Q}}};e.M.mlE=function(z,r,k,L,E,F,U){var l=1/255,G=r.Mk(L).Mk(F),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z,t=new Uint32Array(z.buffer),m=new Uint32Array(k.buffer),b=e.M.Pw,I=Math.round(U*257);
for(var v=0;v<d;v++){var W=(J+v)*r.X+g,B=(x+v)*L.X+P;for(var n=0;n<a;n++,W++,B++){var j=E[W]*I;if((e.M.PL(W)&65535)<j)m[B]=t[W]}}};
e.M.mEs=function(z,r,k,L,E,F,U){var l=1/255,G=r.Mk(L).Mk(F),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z,t=new Uint32Array(z.buffer),m=new Uint32Array(k.buffer),b=Math.floor(Math.random()*L.Y()),I=e.M.mzX;
for(var v=0;v<d;v++){var W=(J+v)*r.X+g,B=(x+v)*L.X+P;for(var n=0;n<a;n++){var j=E[W+n]*U;if(j==0)continue;
if(j==255){m[B+n]=t[W+n];continue}var p=t[W+n],X=m[B+n],M=p>>>24,H=X>>>24,c=M*j*(1/255),S=H*(255-j)*(1/255),w=p&255,R=p>>>8&255,i=p>>>16&255,f=X&255,_=X>>>8&255,u=X>>>16&255,Q=e.M.PL(B+n+b),$=Math.floor((c+S)*256+.5)+(Q>>>0&255)>>>8,C=$==0?0:256/(c+S),y=w*c+f*S,N=R*c+_*S,O=i*c+u*S,JQ=Math.floor(y*C+.5)+(Q>>>8&255)>>>8,zf=Math.floor(N*C+.5)+(Q>>>16&255)>>>8,ze=Math.floor(O*C+.5)+(Q>>>21&248)>>>8;
m[B+n]=$<<24|ze<<16|zf<<8|JQ}}};e.M.mzX=function(z){return Math.floor(z+Math.random())};e.M.PH=function(z,r,k,L,E,F,U){var l=1/255,G=r.Mk(L).Mk(F),g=Math.max(0,G.x-r.x),P=Math.max(0,G.x-L.x),J=Math.max(0,G.y-r.y),x=Math.max(0,G.y-L.y),a=G.X,d=G.z;
for(var t=0;t<d;t++){var m=(J+t)*r.X+g,b=(x+t)*L.X+P;for(var I=0;I<a;I++,m++,b++){var v=U*E[m]*l;if(v==0)continue;
if(v==1){k[b]=z[m];continue}k[b]=z[m]*v+k[b]*(1-v)}}};e.blur={};e.blur.Pb=function(z){if(e.blur.Pi.length<z)e.blur.Pi=e.$(z);
return e.blur.Pi};e.blur.Pi=e.$(0);e.blur.PD=function(z){if(e.blur.PY.length<z)e.blur.PY=new Float32Array(z);
return e.blur.PY};e.blur.PY=new Float32Array(0);e.blur.Pk=function(z,r,k,L){var E=k.X,F=k.z;e.blur.mES(z,r,E,F,L)};
e.blur.mGV=function(z,r,k){var L=r.X,E=r.z;e.blur.mJO(z,L,E,k)};e.blur.Pf=function(z,r,k,L){var E=k.X,F=k.z;
e.blur.mEE(z,r,E,F,L)};e.blur.mlp=function(z,r,k,L){var E=k.X,F=k.z;L=Math.round(L);var U=e.blur.Pb(E*F);
e.JZ(z,r);e.blur.zG(r,U,E,F,L)};e.blur.Pg=function(z,r,k){var L=r.X,E=r.z;k=Math.round(k);var F=e.blur.Pb(L*E*4);
e.blur.zW(z,F,L,E,k)};e.blur.PF=function(z,r,k,L){var E=k.X,F=k.z;L=Math.round(L);var U=e.blur.PD(E*F);
e.JZ(z,r);e.blur.zM(r,U,E,F,L)};e.blur.zS=function(z,r,k){var L=r.X,E=r.z;k=Math.round(k);var F=e.blur.Pb(L*E*4);
e.blur.zE(z,F,L,E,k);e.JZ(F,z)};e.blur.zm=function(z,r){var k=Math.sqrt(12*z*z/r+1),L=Math.floor(k);
if(L%2==0)L--;var E=L+2,F=(12*z*z-r*L*L-4*r*L-3*r)/(-4*L-4),U=Math.round(F),l=[];for(var G=0;G<r;G++)l.push(G<U?L:E);
return l};e.blur.mES=function(z,r,k,L,E){var F=e.blur.zm(E,3),U=e.blur.Pb(k*L);e.JZ(z,r);e.blur.zG(r,U,k,L,F[0]-1>>1);
e.blur.zG(r,U,k,L,F[1]-1>>1);e.blur.zG(r,U,k,L,F[2]-1>>1)};e.blur.mJO=function(z,r,k,L){var E=e.blur.zm(L,3),F=e.blur.Pb(r*k*4);
e.blur.zW(z,F,r,k,E[0]-1>>1);e.blur.zW(z,F,r,k,E[1]-1>>1);e.blur.zW(z,F,r,k,E[2]-1>>1)};e.blur.mEE=function(z,r,k,L,E){var F=e.blur.zm(E,3),U=e.blur.PD(k*L);
e.JZ(z,r);e.blur.zM(r,U,k,L,(F[0]-1)/2);e.blur.zM(r,U,k,L,(F[1]-1)/2);e.blur.zM(r,U,k,L,(F[2]-1)/2)};
e.blur.zG=function(z,r,k,L,E){e.blur.mGn(z,r,k,L,E);e.blur.mJo(r,z,k,L,E)};e.blur.zW=function(z,r,k,L,E){e.blur.zE(z,r,k,L,E);
e.blur.mJN(r,z,k,L,E)};e.blur.zM=function(z,r,k,L,E){e.blur.mQJ(z,r,k,L,E);e.blur.mcX(r,z,k,L,E)};e.blur.zQ=[];
e.blur.zu=function(z){if(e.blur.zQ[z])return e.blur.zQ[z];var r=1/(z+z+1),k=(z+z+1)*256,L=e.$(k);for(var E=0;
E<k;E++)L[E]=Math.round(E*r);e.blur.zQ[z]=L;return L};e.blur.mGn=function(z,r,k,L,E){var F=1/(E+E+1),U=k-E-E-1,l=e.blur.zu(E);
for(var G=0;G<L;G++){var g=G*k,P=g,J=g+E,x=z[g],a=z[g+k-1],d=(E+1)*x;for(var t=0;t<E;t++)d+=z[g+t];for(var t=0;
t<=E;t++){d+=z[J+t]-x;r[g+t]=l[d]}J+=E+1;g+=E+1;for(var t=0;t<U;t++){d+=z[J+t]-z[P+t];r[g+t]=l[d]}J+=U;
P+=U;g+=U;for(var t=k-E;t<k;t++){d+=a-z[P++];r[g++]=l[d]}}};e.blur.zE=function(z,r,k,L,E){var F=k<<2,U=E<<2,l=1/(E+E+1),G=k-E-E-1,g=G<<2,P=e.blur.zu(E);
for(var J=0;J<L;J++){var x=J*F,a=x,d=x+U,t=x+F,m=z[x],b=z[x+1],I=z[x+2],v=z[x+3],W=(E+1)*m,B=(E+1)*b,n=(E+1)*I,j=(E+1)*v;
for(var p=0;p<U;p+=4){W+=z[x+p];B+=z[x+p+1];n+=z[x+p+2];j+=z[x+p+3]}for(var p=0;p<=U;p+=4){W+=z[d]-m;
r[x]=P[W];B+=z[d+1]-b;r[x+1]=P[B];n+=z[d+2]-I;r[x+2]=P[n];j+=z[d+3]-v;r[x+3]=P[j];d+=4;x+=4}for(var p=0;
p<g;p+=4){W+=z[d+p]-z[a+p];r[x+p]=P[W];B+=z[d+p+1]-z[a+p+1];r[x+p+1]=P[B];n+=z[d+p+2]-z[a+p+2];r[x+p+2]=P[n];
j+=z[d+p+3]-z[a+p+3];r[x+p+3]=P[j]}d+=g;a+=g;x+=g;m=z[t-4];b=z[t-3];I=z[t-2];v=z[t-1];for(var p=k-E;
p<k;p++){W+=m-z[a];r[x]=P[W];B+=b-z[a+1];r[x+1]=P[B];n+=I-z[a+2];r[x+2]=P[n];j+=v-z[a+3];r[x+3]=P[j];
a+=4;x+=4}}};e.blur.mQJ=function(z,r,k,L,E){var F=1/(E+E+1),U=k-E-E-1,l=0,G=0,g=0;for(var P=0;P<L;P++){l=P*k;
G=l;g=l+E;var J=z[l],x=z[l+k-1],a=(E+1)*J;for(var d=0;d<E;d++){a+=z[l+d]}for(var d=0;d<=E;d++){a+=z[g++]-J;
r[l++]=a*F}for(var d=0;d<U;d++){a+=z[g+d]-z[G+d];r[l+d]=a*F}g+=U;G+=U;l+=U;for(var d=k-E;d<k;d++){a+=x-z[G++];
r[l++]=a*F}}};e.blur.mJo=function(z,r,k,L,E){var F=1/(E+E+1),U=L-E-E-1,l=e.blur.zu(E);for(var G=0;G<k;
G++){var g=G,P=g,J=g+E*k,x=z[g],a=z[g+k*(L-1)],d=(E+1)*x;for(var t=0;t<E;t++)d+=z[g+t*k];for(var t=0;
t<=E;t++){d+=z[J]-x;r[g]=l[d];J+=k;g+=k}for(var t=0;t<U;t++){var m=t*k;d+=z[J+m]-z[P+m];r[g+m]=l[d]}P+=U*k;
J+=U*k;g+=U*k;for(var t=L-E;t<L;t++){d+=a-z[P];r[g]=l[d];P+=k;g+=k}}};e.blur.mJN=function(z,r,k,L,E){var F=k<<2,U=E<<2,l=1/(E+E+1),G=L-E-E-1,g=G<<2,P=e.blur.zu(E);
for(var J=0;J<k;J++){var x=J<<2,a=x,d=x+E*F,t=x+F*(L-1),m=z[x],b=z[x+1],I=z[x+2],v=z[x+3],W=(E+1)*m,B=(E+1)*b,n=(E+1)*I,j=(E+1)*v;
for(var p=0;p<E;p++){var X=x+p*F;W+=z[X];B+=z[X+1];n+=z[X+2];j+=z[X+3]}for(var p=0;p<=E;p++){W+=z[d]-m;
r[x]=P[W];B+=z[d+1]-b;r[x+1]=P[B];n+=z[d+2]-I;r[x+2]=P[n];j+=z[d+3]-v;r[x+3]=P[j];d+=F;x+=F}for(var p=0;
p<G;p++){var M=p*F;W+=z[d+M]-z[a+M];r[x+M]=P[W];B+=z[d+M+1]-z[a+M+1];r[x+M+1]=P[B];n+=z[d+M+2]-z[a+M+2];
r[x+M+2]=P[n];j+=z[d+M+3]-z[a+M+3];r[x+M+3]=P[j]}a+=G*F;d+=G*F;x+=G*F;m=z[t];b=z[t+1];I=z[t+2];v=z[t+3];
for(var p=L-E;p<L;p++){W+=m-z[a];r[x]=P[W];B+=b-z[a+1];r[x+1]=P[B];n+=I-z[a+2];r[x+2]=P[n];j+=v-z[a+3];
r[x+3]=P[j];a+=F;x+=F}}};e.blur.mcX=function(z,r,k,L,E){var F=1/(E+E+1),U=L-E-E-1;for(var l=0;l<k;l++){var G=l,g=G,P=G+E*k,J=z[G],x=z[G+k*(L-1)],a=(E+1)*J;
for(var d=0;d<E;d++)a+=z[G+d*k];for(var d=0;d<=E;d++){a+=z[P]-J;r[G]=a*F;P+=k;G+=k}for(var d=0;d<U;d++){var t=d*k;
a+=z[P+t]-z[g+t];r[G+t]=a*F}g+=U*k;P+=U*k;G+=U*k;for(var d=L-E;d<L;d++){a+=x-z[g];r[G]=a*F;g+=k;G+=k}}};
e.zB={};e.zB.$=function(z,r,k,L){var E=[];for(var F=0;F<4;F++)for(var U=0;U<4;U++)E.push(z+k*U/3,r+L*F/3);
return E};e.zB.zA=function(z,r){var k=z.slice(0);for(var L=0;L<4;L++)for(var E=0;E<4;E++){var F=2*(L*4+E),U=2*(E*4+(3-L));
if(r){var l=F;F=U;U=l}k[U]=z[F];k[U+1]=z[F+1]}return k};e.zB.mEr=new Float64Array(16);e.zB.drawImage=function(z,r,k,L,E,F,U){if(U==null)U=!1;
var l=F.X,G=F.z,x=2;E=new Uint32Array(E.buffer);r=new Uint32Array(r.buffer);var g=e.zB.c.zn(z,0,1,0,1,k,L),P=g.bw,J=g.bN,a=1/x,d=e.zB.zT,t=new Float64Array(2),m=new Uint32Array(30);
for(var b=0;b<G;b++)for(var I=0;I<l;I++){var v=I+F.x+.5,W=b+F.y+.5,B=e.zB.c.mEB(P,J,v,W,m),c=0,S=0,w=0,R=0;
if(B==0)continue;var n=b*l+I,j=e.zB.Pl(z,v,W,P,m,B,!0),p=d[0]*k,X=d[1]*L;if(U){if(j!=-1&&0<p&&p<k&&0<X&&X<L){var M=Math.floor(X)*k+Math.floor(p);
E[n]=r[M]}continue}var H=j!=-1&&(1<p&&p<k-1)&&(1<X&&X<L-1);if(P[j+8]<.95){e.GE.GN(p,X,r,k,L,E,n,!1);
continue}for(var i=0;i<x;i++)for(var f=0;f<x;f++){var v=I+F.x+(i+.5)*a,W=b+F.y+(f+.5)*a,j=0;j=e.zB.Pl(z,v,W,P,m,B,!0);
if(j!=-1){var p=d[0],X=d[1],p=Math.floor(p*k);X=Math.floor(X*L);var _=r[X*k+p],u=_>>>24;c+=(_&255)*u;
S+=(_>>>8&255)*u;w+=(_>>>16&255)*u;R+=u}}if(R!=0){var Q=1/R;c=~~(c*Q+.5);S=~~(S*Q+.5);w=~~(w*Q+.5);R=~~(R*a*a+.5);
E[n]=R<<24|w<<16|S<<8|c}}};e.zB.zT=new Float64Array(5*20);e.zB.mKK=new Uint32Array(5*5*20);e.zB.Pl=function(z,r,k,L,E,F,U){var l=e.zB.zT,G=e.zB.mKK,g=0,P=0;
for(var J=0;J<F;J++){var x=E[J],a=g;g=e.zB.zN(z,r,k,L,x+4,U,l,g);if(g!=a){G[P]=x;P+=5}}if(g==0)return-1;
else if(g==5)return G[0];else{var d=0;for(var J=0;J<g;J+=5)if(l[J+4]<l[d+4])d=J;l[0]=l[d];l[1]=l[d+1];
l[2]=l[d+2];l[3]=l[d+3];return G[d]}};e.zB.zw=new Array(10);e.zB.zN=function(z,r,k,L,E,F,U,l){var G=e.zB.zw,g=0,P=0,J=0,x=0,a=0,d=0,t=0,m=L[E],b=L[E+1],I=L[E+2],v=L[E+3],W=(I-r)*(I-r)+(v-k)*(v-k);
for(var B=0;B<5&&W>.05;B++){e.zB.zO(G,0,b);e.zB.zV(G,4,m);e.zB.z_(z,G);g=G[8];P=G[9];e.zB.zV(G,0,b);
e.zB.zO(G,4,m);e.zB.z_(z,G);J=G[8];x=G[9];a=1/(g*x-P*J);d=(I-r)*a;t=(v-k)*a;m+=-x*d+J*t;b+=+P*d-g*t;
e.zB.zy(z,m,b,G);I=G[8];v=G[9];W=(I-r)*(I-r)+(v-k)*(v-k)}if(F&&(m<0||m>1||b<0||b>1||W>.25))return l;
U[l]=m;U[l+1]=b;U[l+2]=I;U[l+3]=v;U[l+4]=g*x-P*J;return l+5};e.zB.apply=function(z,r,k){var L=k.x,E=k.y,F=1/k.X,U=1/k.z,l=e.zB.zw;
for(var G=0;G<r.length;G+=2){var g=(r[G]-L)*F,P=(r[G+1]-E)*U;e.zB.zy(z,g,P,l);r[G]=l[8];r[G+1]=l[9]}};
e.zB.zy=function(z,r,k,L){e.zB.zO(L,0,k);e.zB.zO(L,4,r);e.zB.z_(z,L)};e.zB.zV=function(z,r,k){var L=1-k;
z[r]=-3*(L*L);z[r+1]=3*(L*L)-6*(k*L);z[r+2]=6*(k*L)-3*(k*k);z[r+3]=3*(k*k)};e.zB.zO=function(z,r,k){var L=1-k;
z[r]=L*(L*L);z[r+1]=3*k*(L*L);z[r+2]=3*(k*k)*L;z[r+3]=k*k*k};e.zB.z_=function(z,r){var k=0,L=0,E=0;E=r[0]*r[4];
k+=z[0]*E;L+=z[1]*E;E=r[0]*r[5];k+=z[2]*E;L+=z[3]*E;E=r[0]*r[6];k+=z[4]*E;L+=z[5]*E;E=r[0]*r[7];k+=z[6]*E;
L+=z[7]*E;E=r[1]*r[4];k+=z[8]*E;L+=z[9]*E;E=r[1]*r[5];k+=z[10]*E;L+=z[11]*E;E=r[1]*r[6];k+=z[12]*E;L+=z[13]*E;
E=r[1]*r[7];k+=z[14]*E;L+=z[15]*E;E=r[2]*r[4];k+=z[16]*E;L+=z[17]*E;E=r[2]*r[5];k+=z[18]*E;L+=z[19]*E;
E=r[2]*r[6];k+=z[20]*E;L+=z[21]*E;E=r[2]*r[7];k+=z[22]*E;L+=z[23]*E;E=r[3]*r[4];k+=z[24]*E;L+=z[25]*E;
E=r[3]*r[5];k+=z[26]*E;L+=z[27]*E;E=r[3]*r[6];k+=z[28]*E;L+=z[29]*E;E=r[3]*r[7];k+=z[30]*E;L+=z[31]*E;
r[8]=k;r[9]=L};e.zB.c={};e.zB.c.P_=12;e.zB.c.zC=new Uint32Array(50);e.zB.c.mEB=function(z,r,k,L,E){var F=0,U=e.zB.c.zC,l=1;
U[0]=0;while(l!=0){var G=U[--l];if(z[G+0]<=k&&z[G+1]<=L&&k<z[G+2]&&L<z[G+3]){if(r[G+G+18]==0){E[F]=G;
F++}else{U[l]=r[G+G+18];U[l+1]=r[G+G+19];l+=2}}}return F};e.zB.c.mSB=function(z,r,k,L,E){var F=0,U=e.zB.c.mKF,l=e.zB.c.zC,G=1,g=0,P=999999999999;
l[0]=0;while(G!=0){var J=l[--G],x=U(k,L,z[J+0],z[J+1]),a=U(k,L,z[J+0],z[J+3]),d=U(k,L,z[J+2],z[J+1]),t=U(k,L,z[J+2],z[J+3]),m=Math.min(x,Math.min(a,Math.min(d,t))),b=Math.max(x,Math.max(a,Math.max(d,t)));
if(m>P)continue;if(r[J+J+18]==0){if(b<P){P=b;g=J}}else{l[G]=r[J+J+18];l[G+1]=r[J+J+19];G+=2}}E[F]=g;
F++;return F};e.zB.c.mKF=function(z,r,k,L){return(k-z)*(k-z)+(L-r)*(L-r)};e.zB.c.zL=null;e.zB.c.zU=null;
e.zB.c.zn=function(z,r,k,L,E,F,U){if(F==null){F=1;U=1}e.zB.c.zU=z;if(e.zB.c.zL==null){e.zB.c.zL={bw:new Float64Array(15e3*8),bN:null};
e.zB.c.zL.bN=new Uint32Array(e.zB.c.zL.bw.buffer)}var l=e.zB.c.zL;e.zB.c.zv(z,r,k,L,E,0,l.bw,l.bN,0,F,U);
return l};e.zB.c.zv=function(z,r,k,L,E,F,U,l,G,g,P){var J=e.b.GF(z),x=G,a=e.zB.c.zU,d=(r+k)/2,t=(L+E)/2,m=e.zB.zw,b=e.zB.zT,I=e.zB.mEr,JQ,zf,ze;
e.zB.zy(a,d,t,m);var v=m[8],W=m[9];I[0]=d;I[1]=t;I[2]=v;I[3]=W;e.zB.zN(a,v+1,W,I,0,!1,b,0);var B=(d-b[0])*g,n=(t-b[1])*P,j=Math.sqrt(B*B+n*n);
e.zB.zN(a,v,W+1,I,0,!1,b,0);var p=(d-b[0])*g,X=(t-b[1])*P,M=Math.sqrt(p*p+X*X);U[x]=J.x;U[x+1]=J.y;U[x+2]=J.x+J.X;
U[x+3]=J.y+J.z;U[x+4]=d;U[x+5]=t;U[x+6]=v;U[x+7]=W;U[x+8]=.5*(j+M);l[x+x+18]=0;l[x+x+19]=0;G+=10;e.zB.zO(m,0,.1);
e.zB.zV(m,4,.1);e.zB.z_(z,m);var H=m[8],c=m[9];e.zB.zV(m,0,.1);e.zB.zO(m,4,.7);e.zB.z_(z,m);var S=m[8],w=m[9];
e.zB.zO(m,0,.8);e.zB.zV(m,4,.8);e.zB.z_(z,m);var R=m[8],i=m[9];e.zB.zV(m,0,.9);e.zB.zO(m,4,.2);e.zB.z_(z,m);
var f=m[8],_=m[9],u=(R-H)*(R-H)+(f-S)*(f-S)+(i-c)*(i-c)+(_-w)*(_-w);if(G>=U.length){console.log("Buffer not long enough");
throw"e"}if(F==e.zB.c.P_||u<2)return G;var Q=e.zB.c.zX(z,!0),$=e.b.GF(Q[0]),C=e.b.GF(Q[1]),y=e.zB.c.zX(z,!1),N=e.b.GF(y[0]),O=e.b.GF(y[1]);
if($.X+$.z+C.X+C.z<N.X+N.z+O.X+O.z){ze=!0;JQ=Q[0];zf=Q[1]}else{ze=!1;JQ=y[0];zf=y[1]}var zg=(r+k)/2,zF=(L+E)/2,GS=r,Gm=L,GJ=k,GP=E,Gz=r,GG=L,GW=k,GM=E;
if(ze){GJ=Gz=zg}else{GP=GG=zF}l[x+x+18]=G;G=e.zB.c.zv(JQ,GS,GJ,Gm,GP,F+1,U,l,G,g,P);l[x+x+19]=G;G=e.zB.c.zv(zf,Gz,GW,GG,GM,F+1,U,l,G,g,P);
var GQ=l[x+x+18],Gu=l[x+x+19];U[x]=Math.min(U[GQ],U[Gu]);U[x+1]=Math.min(U[GQ+1],U[Gu+1]);U[x+2]=Math.max(U[GQ+2],U[Gu+2]);
U[x+3]=Math.max(U[GQ+3],U[Gu+3]);return G};e.zB.c.zX=function(z,r){var k=0,L=0,E=0,F=0,U=0,l=0,G=0,g=0,P=z.slice(0),J=z.slice(0);
for(var x=0;x<4;x++){k=r?z[x*8+2*0]:z[0*8+2*x];L=r?z[x*8+2*0+1]:z[0*8+2*x+1];E=r?z[x*8+2*1]:z[1*8+2*x];
F=r?z[x*8+2*1+1]:z[1*8+2*x+1];U=r?z[x*8+2*2]:z[2*8+2*x];l=r?z[x*8+2*2+1]:z[2*8+2*x+1];G=r?z[x*8+2*3]:z[3*8+2*x];
g=r?z[x*8+2*3+1]:z[3*8+2*x+1];var a=(k+E)/2,d=(L+F)/2,t=(E+U)/2,m=(F+l)/2,b=(U+G)/2,I=(l+g)/2,v=(a+t)/2,W=(d+m)/2,B=(t+b)/2,n=(m+I)/2,j=(v+B)/2,p=(W+n)/2;
if(r){P[x*8+2*0]=k;P[x*8+2*0+1]=L;P[x*8+2*1]=a;P[x*8+2*1+1]=d;P[x*8+2*2]=v;P[x*8+2*2+1]=W;P[x*8+2*3]=j;
P[x*8+2*3+1]=p;J[x*8+2*0]=j;J[x*8+2*0+1]=p;J[x*8+2*1]=B;J[x*8+2*1+1]=n;J[x*8+2*2]=b;J[x*8+2*2+1]=I;J[x*8+2*3]=G;
J[x*8+2*3+1]=g}else{P[0*8+2*x]=k;P[0*8+2*x+1]=L;P[1*8+2*x]=a;P[1*8+2*x+1]=d;P[2*8+2*x]=v;P[2*8+2*x+1]=W;
P[3*8+2*x]=j;P[3*8+2*x+1]=p;J[0*8+2*x]=j;J[0*8+2*x+1]=p;J[1*8+2*x]=B;J[1*8+2*x+1]=n;J[2*8+2*x]=b;J[2*8+2*x+1]=I;
J[3*8+2*x]=G;J[3*8+2*x+1]=g}}return[P,J]};e.zI={};e.zI.mMX=function(z,r,k){var L=e.zI.mGE(r,k),E=e.zI.mBB(L,z,r,k);
return{OJ:L,bA:E}};e.zI.mmh=function(z,r,k){var L=Math.round(z.length/8),E=new Uint32Array(L),F=new Uint8Array(L),U=new Uint32Array(L);
e.JV(E,4294967295,0);E[k]=0;var l=new zH(L);l.push(k,E[k]);var G={OJ:z,bA:r,Kc:E,by:F,bV:U,OS:l,muO:k};
return G};e.zI.zp=function(z,r){var k=z.OJ,L=z.bA,E=z.Kc,F=z.by,U=z.bV,l=z.OS;while(!l.z$()&&(r==null||F[r]==0)){var G=l.pop();
F[G]=1;for(var g=0;g<8;g++){var P=k[8*G+g];if(P==-1||F[P])continue;var J=E[G]+L[8*G+g];if(l.contains(P)&&J<E[P])l.remove(P,E[P]);
if(!l.contains(P)){E[P]=J;U[P]=G;l.push(P,E[P])}}}};function zH(z){this.b_=new Uint32Array(z);this.list=[];
this.bZ=0;this.bC=4294967295}zH.prototype.z$=function(){return this.bZ==0};zH.prototype.push=function(z,r){var k=this.list;
if(k[r]==null)k[r]=[];k[r].push(z);this.bZ++;this.b_[z]=k[r].length-1+1;this.bC=Math.min(this.bC,r)};
zH.prototype.pop=function(){this.bZ--;var z=this.list,r=this.bC,k=z[r].pop();if(z[r].length==0)z[r]=null;
this.zd();this.b_[k]=0;return k};zH.prototype.contains=function(z){return this.b_[z]!=0};zH.prototype.remove=function(z,r){this.bZ--;
var k=this.list,L=this.b_[z]-1;if(L==k[r].length-1)k[r].pop();else{var E=k[r].pop();k[r][L]=E;this.b_[E]=L+1}if(k[r].length==0)k[r]=null;
this.b_[z]=0;this.zd()};zH.prototype.zd=function(){if(this.bZ==0){this.bC=4294967295;return}var z=this.bC,r=this.list;
while(r[z]==null)z++;this.bC=z};e.zI.mMH=function(z,r,k){var L=new Float32Array(r*k);for(var E=0;E<k;
E++)for(var F=0;F<r;F++){var U=E*r+F,l=-16*z[U];if(1<F&&F<r-2&&1<E&&E<k-2){l+=z[U-r-r];l+=z[U-r-1]+2*z[U-r]+z[U-r+1];
l+=z[U-2]+2*z[U-1]+2*z[U+1]+z[U+2];l+=z[U+r-1]+2*z[U+r]+z[U+r+1];l+=z[U+r+r]}L[U]=l/16}return L};e.zI.maQ=function(z,r,k){var L=new Float32Array(r*k),E=0,F=0;
for(var U=0;U<k;U++)for(var l=0;l<r;l++){var G=0,g=0;if(0<l&&l<r-1)G=z[E+1]-z[E-1];if(0<U&&U<k-1)g=z[E+r]-z[E-r];
L[E]=Math.sqrt(G*G+g*g);if(L[E]>F)F=L[E];E++}var P=r*k,J=F==0?0:1/F;for(var E=0;E<P;E++)L[E]=1-L[E]*J;
return L};e.zI.mPb=function(z,r,k){var L=new Float32Array(r*k*2),E=0;for(var F=0;F<k;F++)for(var U=0;
U<r;U++){var l=0,G=0;if(0<U&&U<r-1&&0<F&&F<k-1){l=2*z[E+1]-2*z[E-1];G=2*z[E+r]-2*z[E-r]}var g=Math.sqrt(l*l+G*G);
if(g!=0){L[2*E]=l/g;L[2*E+1]=G/g}else{L[2*E]=l;L[2*E+1]=G}E++}return L};e.zI.mBB=function(z,r,k,L){var E=e.zI.mMH(r,k,L),F=e.zI.maQ(r,k,L),U=e.zI.mPb(r,k,L),l=256,G=new Float32Array(l);
for(var g=0;g<l;g++)G[g]=Math.acos(-1+2*g/(l-1));var P=[-1,0,1,1,1,0,-1,-1],J=[-1,-1,-1,0,1,1,1,0],x=1/Math.sqrt(2),a=new Uint8Array(k*L*8),d=k*L;
for(var t=0;t<d;t++){var m=E[t],b=U[2*t+1],I=-U[2*t];for(var v=0;v<8;v++){var W=8*t+v,B=z[W];if(B==-1)a[W]=-1;
else{var n=(v&1)==0,j=m*E[B]>=0?0:1,p=F[B]*(n?1:x),X=1,M=U[2*B+1],H=-U[2*B];if(!(b==0&&I==0||M==0&&H==0)){var c=P[v],S=J[v];
if(b*P[v]+I*J[v]<0){c=-c;S=-S}if(n){c*=x;S*=x}var w=b*c+I*S,R=M*c+H*S,i=2/(3*Math.PI)*(G[Math.floor((.5+.5*w)*(l-1))]+G[Math.floor((.5+.5*R)*(l-1))]);
X=i}var f=Math.round(20*(.43*j+.43*X+.14*p));a[W]=Math.max(1,Math.min(255,f))}}}console.log(a);return a};
e.zI.mGE=function(z,r){var k=new Int32Array(z*r*8),L=k,E=0,F=0;L.fill(-1);for(var U=0;U<r;U++)for(var l=0;
l<z;l++){if(U>0&&l>0)L[F+0]=E-z-1;if(U>0)L[F+1]=E-z;if(U>0&&l<z-1)L[F+2]=E-z+1;if(l<z-1)L[F+3]=E+1;if(U<r-1&&l<z-1)L[F+4]=E+z+1;
if(U<r-1)L[F+5]=E+z;if(U<r-1&&l>0)L[F+6]=E+z-1;if(l>0)L[F+7]=E-1;E++;F+=8}return k};e.zk={};e.zk.mWp=function(z,r){var k=z.slice(0);
for(var L=0;L<z.length;L++)k[L]*=r;return k};e.zk.zf=function(z){var r=z.slice(0),k=0;for(var L=0;L<z.length;
L++)k+=z[L];for(var L=0;L<z.length;L++)r[L]/=k;return r};e.zk.ze=function(z,r,k,L,E,F){var U=F-1>>1,l=new Uint32Array(z.buffer),r=new Uint8ClampedArray(r.buffer);
for(var G=0;G<L;G++)for(var g=0;g<k;g++){var P=0,J=0,x=0;for(var a=0;a<F;a++)for(var d=0;d<F;d++){var t=E[a*F+d];
if(t==0)continue;var m=Math.min(k-1,Math.max(0,g-U+d)),b=Math.min(L-1,Math.max(0,G-U+a)),I=l[b*k+m];
P+=(I&255)*t;J+=(I>>8&255)*t;x+=(I>>16&255)*t}var v=G*k+g<<2;r[v]=Math.abs(P);r[v+1]=Math.abs(J);r[v+2]=Math.abs(x)}};
e.zk.zg=function(z,r,k,L,E,F,U,l){if(F<=10)e.zk.mSA(z,r,k,L,E,F,U,l);else e.zk.mGd(z,r,k,L,E,F,U,l)};
e.zk.mGd=function(z,r,k,L,E,F,U,l){var G=0,g=new Uint32Array(16),P=new Uint32Array(256),J=new Uint32Array(1*L),x=new Uint32Array(16*L),a=new Uint32Array(256*L),d=Math.min(F,L),t=Math.min(F,E);
for(var m=0;m<t;m++)e.zk.GW(a,x,J,z,r,L,m);for(var m=0;m<E;m++){if(m+F<E)e.zk.GW(a,x,J,z,r,L,m+F);if(m-F-1>=0)e.zk.mWm(a,x,J,z,r,L,m-F-1);
e.set(P,0);e.set(g,0);G=0;for(var b=0;b<d;b++){e.zk.Gu(P,g,a,x,b);G+=J[b]}for(var b=0;b<L;b++){if(b+F<L&&J[b+F]!=0){G+=J[b+F];
e.zk.Gu(P,g,a,x,b+F)}if(b-F-1>=0&&J[b-F-1]!=0){G-=J[b-F-1];e.zk.mMu(P,g,a,x,b-F-1)}var I=G==0?0:U(P,g,z[m*L+b],G,l);
k[m*L+b]=I}}};e.zk.mSA=function(z,r,k,L,E,F,U,l){var G=0,g=new Uint32Array(16),P=new Uint32Array(256);
for(var J=0;J<E;J++){e.set(P,0);e.set(g,0);G=0;var x=Math.max(J-F,0),a=Math.min(E,J+F+1);for(var d=0;
d<F;d++)G+=e.zk.Gm(P,g,z,r,x*L+d,L,a*L+d,1);for(var d=0;d<L;d++){if(d+F<L)G+=e.zk.Gm(P,g,z,r,x*L+d+F,L,a*L+d+F,1);
if(d-F-1>=0)G+=e.zk.Gm(P,g,z,r,x*L+d-F-1,L,a*L+d-F-1,-1);var t=G==0?0:U(P,g,z[J*L+d],G,l);k[J*L+d]=t}}};
e.zk.Gm=function(z,r,k,L,E,F,U,l){var G=0;while(E<U){var g=L[E]*l,P=k[E];z[P]+=g;r[P>>>4]+=g;G+=g;E+=F}return G};
e.zk.mPp=function(z,r,k,L,E){var F=15;while(r[F]==0&&F>0)F--;F=(F<<4)+15;while(z[F]==0&&F>0)F--;return F};
e.zk.mai=function(z,r,k,L,E){var F=0;while(r[F]==0&&F<15)F++;F=F<<4;while(z[F]==0&&F<255)F++;return F};
e.zk.mPz=function(z,r,k,L,E){var F=L>>>1,U=0,l=0;while(U<=F)U+=r[l++];if(l>0){l--;U-=r[l]}l=l<<4;while(U<=F)U+=z[l++];
return l-1};e.zk.GG=function(z,r,k,L,E){var F=E[0],U=0,l=0,G=Math.max(0,k-F),g=Math.min(256,k+F+1);while(G<g){U+=G*z[G];
l+=z[G];G++}return l==0?0:U/l};e.zk.GW=function(z,r,k,L,E,F,U){var l=U*F;for(var G=0;G<F;G++,l++){var g=E[l],P=L[l];
z[G<<8|P]+=g;r[G<<4|P>>>4]+=g;k[G]+=g}};e.zk.mWm=function(z,r,k,L,E,F,U){var l=U*F;for(var G=0;G<F;G++,l++){var g=E[l],P=L[l];
z[G<<8|P]-=g;r[G<<4|P>>>4]-=g;k[G]-=g}};e.zk.GQ=function(z){var r=z.length,k=0;for(var L=0;L<r;L++)k+=z[L];
return k};e.zk.Gu=function(z,r,k,L,E){for(var F=0;F<16;F++){if(L[E<<4|F]==0)continue;r[F]+=L[E<<4|F];
var U=F<<4,l=E<<8|U;z[U]+=k[l];z[U+1]+=k[l+1];z[U+2]+=k[l+2];z[U+3]+=k[l+3];z[U+4]+=k[l+4];z[U+5]+=k[l+5];
z[U+6]+=k[l+6];z[U+7]+=k[l+7];z[U+8]+=k[l+8];z[U+9]+=k[l+9];z[U+10]+=k[l+10];z[U+11]+=k[l+11];z[U+12]+=k[l+12];
z[U+13]+=k[l+13];z[U+14]+=k[l+14];z[U+15]+=k[l+15]}};e.zk.mMu=function(z,r,k,L,E){for(var F=0;F<16;F++){if(L[E<<4|F]==0)continue;
r[F]-=L[E<<4|F];var U=F<<4,l=E<<8|U;z[U]-=k[l];z[U+1]-=k[l+1];z[U+2]-=k[l+2];z[U+3]-=k[l+3];z[U+4]-=k[l+4];
z[U+5]-=k[l+5];z[U+6]-=k[l+6];z[U+7]-=k[l+7];z[U+8]-=k[l+8];z[U+9]-=k[l+9];z[U+10]-=k[l+10];z[U+11]-=k[l+11];
z[U+12]-=k[l+12];z[U+13]-=k[l+13];z[U+14]-=k[l+14];z[U+15]-=k[l+15]}};e.GE={};e.GE.Gl=function(z){var r=A.s.No(z.Trnf),k=z.Sz.v,L=e.GE.Gx(r,new Z(0,0,k.Wdth.v,k.Hght.v));
return e.GE.Gc(L)};e.GE.Gx=function(z,r){var z=z.slice(0),k=z[0],L=z[1],E=z[2],F=z[3],U=z[6],l=z[7],G=z[4],g=z[5],P=0,J=0,x=1,a=0,d=0,t=1,m=1,b=1;
if(r){P=r.x;J=r.y;x=r.x+r.X;a=r.y;d=r.x;t=r.y+r.z;m=r.x+r.X;b=r.y+r.z}var I=[[P,J,1,0,0,0,-P*k,-J*k,k],[0,0,0,P,J,1,-P*L,-J*L,L],[x,a,1,0,0,0,-x*E,-a*E,E],[0,0,0,x,a,1,-x*F,-a*F,F],[d,t,1,0,0,0,-d*U,-t*U,U],[0,0,0,d,t,1,-d*l,-t*l,l],[m,b,1,0,0,0,-m*G,-b*G,G],[0,0,0,m,b,1,-m*g,-b*g,g]],v=[0,0,0,0,0,0,0,0],W=e.MF.Qm.WU(I,v);
if(W!=0)v=[0,0,0,0,0,0,0,0];return v};e.GE.Ga=function(z){return Math.abs(z[6])<1e-10&&Math.abs(z[7])<1e-10};
e.GE.Gc=function(z){return new zT(z[0],z[3],z[1],z[4],z[2],z[5])};e.GE.GB=function(z){return[z.n,z.bq,z.bo,z.g,z.br,z.bL,0,0]};
e.GE.apply=function(z,r){var k=new Float64Array(2);for(var L=0;L<r.length;L+=2){var E=r[L],F=r[L+1];
e.GE.GA(E,F,z,k);r[L]=k[0];r[L+1]=k[1]}};e.GE.GA=function(z,r,k,L){var E=1/(k[6]*z+k[7]*r+1);L[0]=(k[0]*z+k[1]*r+k[2])*E;
L[1]=(k[3]*z+k[4]*r+k[5])*E};e.GE.Gh=function(z,r){var k=new Float64Array(2);e.GE.GA(r.x,r.y,z,k);return new V(k[0],k[1])};
e.GE.GT=function(z,r,k,L){z=new Uint32Array(z.buffer);r=new Uint32Array(r.buffer);for(var E=0;E<L;E++){for(var F=0;
F<k;F++){r[F*L+E]=z[E*k+F]}}};e.GE.drawImage=function(z,r,k,L,E,F,U,l){if(U==null)U=!1;if(l==null)l=!1;
var G=e.GE.Jo(z),g=!0,P=0;for(var J=0;J<8;J++){var x=Math.round(z[J]);if(J!=2&&J!=5)P+=Math.abs(x);if(Math.abs(x-z[J])>1e-9)g=!1}var a=Math.abs(z[6])<1e-9&&Math.abs(z[7])<1e-9,d=(Math.abs(z[0])<1e-9&&Math.abs(z[4])<1e-9||Math.abs(z[1])<1e-9&&Math.abs(z[3])<1e-9)&&a;
if(U||g&&P==k+L&&a){e.GE.mxp(G,r,k,L,E,F,l);return}var t=F.X,m=F.z,b=new Float64Array(2);E=new Uint32Array(E.buffer);
r=new Uint32Array(r.buffer);for(var I=0;I<m;I++)for(var v=0;v<t;v++){var W=I*t+v,c=0,S=0,u=0,Q=0,$=0,C=0;
E[W]=0;var B=v+F.x+.5,n=I+F.y+.5;e.GE.GA(B,n,G,b);var j=b[0],p=b[1],X=j*k,M=p*L,H=X<-1||X>k+1||M<-1||M>L+1;
if(l){X=Math.max(.001,Math.min(k-1,X));M=Math.max(.001,Math.min(L-1,M))}else if(H)continue;e.GE.GA(j+1/k,p,z,b);
c=b[0]-B;S=b[1]-n;var w=c*c+S*S;e.GE.GA(j,p+1/L,z,b);c=b[0]-B;S=b[1]-n;var R=c*c+S*S,i=1/Math.sqrt(Math.max(w,R));
if(i<.8){e.GE.GN(X,M,r,k,L,E,W,d);continue}var f=Math.round(i*3);if(!l&&(X<.6||X>k-.6||M<.6||M>L-.6)){f=Math.max(f,5)}if(l&&H)f=1;
var _=1/f;for(var J=0;J<f;J++)for(var y=0;y<f;y++){var N=v+F.x+(J+.5)*_,O=I+F.y+(y+.5)*_;e.GE.GA(N,O,G,b);
var X=b[0],M=b[1];if(l){X=Math.max(.001,Math.min(.999,X));M=Math.max(.001,Math.min(.999,M))}else if(X<0||X>=1||M<0||M>=1)continue;
X=Math.floor(X*k);M=Math.floor(M*L);var JQ=M*k+X,zf=r[JQ],ze=zf>>>24;u+=(zf&255)*ze;Q+=(zf>>>8&255)*ze;
$+=(zf>>>16&255)*ze;C+=ze}if(C!=0){var zg=1/C;u=~~(u*zg+.5);Q=~~(Q*zg+.5);$=~~($*zg+.5);C=~~(C*_*_+.5);
E[W]=C<<24|$<<16|Q<<8|u}}};e.GE.mxp=function(z,r,k,L,E,F,U){var l=F.x+F.X,G=F.y+F.z,g=0,P=new Uint32Array(E.buffer),J=new Uint32Array(r.buffer),x=z[0]*k,a=z[1]*k,d=z[2]*k,t=z[3]*L,m=z[4]*L,b=z[5]*L,I=z[6],v=z[7];
for(var W=F.y+.5;W<G;W++)for(var B=F.x+.5;B<l;B++){var n=1/(I*B+v*W+1),j=(x*B+a*W+d)*n,p=(t*B+m*W+b)*n;
if(U){j=Math.max(.001,Math.min(k-1,j));p=Math.max(.001,Math.min(L-1,p))}if(0<j&&j<k&&0<p&&p<L){var X=Math.floor(p)*k+Math.floor(j);
P[g]=J[X]}else P[g]=0;g++}};e.GE.Jo=function(z){var r=z[4]-z[5]*z[7],k=z[2]*z[7]-z[1],L=z[1]*z[5]-z[2]*z[4],E=z[5]*z[6]-z[3],F=z[0]-z[2]*z[6],U=z[3]*z[2]-z[0]*z[5],l=z[3]*z[7]-z[4]*z[6],G=z[1]*z[6]-z[0]*z[7],g=1/(z[0]*z[4]-z[1]*z[3]);
return[r*g,k*g,L*g,E*g,F*g,U*g,l*g,G*g]};e.GE.Gw=function(z,r){var k=z[0],L=z[1],E=z[2],F=z[3],U=z[4],l=z[5],G=z[6],g=z[7],P=r[0],J=r[1],x=r[2],a=r[3],d=r[4],t=r[5],m=r[6],b=r[7],I=[k*P+L*a+E*m,k*J+L*d+E*b,k*x+L*t+E,F*P+U*a+l*m,F*J+U*d+l*b,F*x+U*t+l,G*P+g*a+m,G*J+g*d+b],v=1/(G*x+g*t+1);
for(var W=0;W<8;W++)I[W]*=v;return I};e.GE.GN=function(z,r,k,L,E,F,U,l){var G=z,g=r,x=0,a=0,d=0,t=0,i=0,f=0,_=0;
z-=.499999;r-=.499999;var P=Math.floor(z),J=Math.floor(r);if(l){var m=P<0?0:P>L-1?L-1:P,b=P<-1?0:P>L-2?L-1:P+1,I=J<0?0:J>E-1?E-1:J,v=J<-1?0:J>E-2?E-1:J+1;
x=k[I*L+m];a=k[I*L+b];d=k[v*L+m];t=k[v*L+b]}else{var W=J*L+P,B=P>=0&&P<L,n=P+1>=0&&P+1<L,j=J>=0&&J<E,p=J+1>=0&&J+1<E;
if(B&&j)x=k[W];if(n&&j)a=k[W+1];if(B&&p)d=k[W+L];if(n&&p)t=k[W+L+1]}var X=z-P,M=r-J,H=(1-M)*(1-X)*(x>>>24),c=(1-M)*X*(a>>>24),S=M*(1-X)*(d>>>24),w=M*X*(t>>>24),R=H+c+S+w;
i+=H*(x&255);f+=H*(x>>>8&255);_+=H*(x>>>16&255);i+=c*(a&255);f+=c*(a>>>8&255);_+=c*(a>>>16&255);i+=S*(d&255);
f+=S*(d>>>8&255);_+=S*(d>>>16&255);i+=w*(t&255);f+=w*(t>>>8&255);_+=w*(t>>>16&255);if(R==0)F[U]=0;else{var u=1/R;
i=~~(i*u+.5);f=~~(f*u+.5);_=~~(_*u+.5);R=~~(R+.5);F[U]=R<<24|_<<16|f<<8|i}};e.GE.mKw=function(z,r,k,L,E,F,U,l,G){var g=new Uint32Array(z.buffer),P=new Uint32Array(L.buffer),J=1.2/E,x=[],a=[];
for(var d=0;d<E;d++){var t=-.1+d*J;x.push(Math.cos(2*Math.PI*t));x.push(Math.sin(2*Math.PI*t))}U*=r;
l*=k;for(var m=0;m<F;m++){var b=Math.pow(m/F,G)*F;for(var d=0;d<E;d++){var I=U+x[d<<1]*b,v=l+x[(d<<1)+1]*b,W=~~(.5+(I<0?0:I>r-1?r-1:I)),B=~~(.5+(v<0?0:v>k-1?k-1:v));
P[m*E+d]=g[B*r+W]}}};e.GE.mKT=function(z,r,k,L,E,F,U,l,G){var g=new Uint32Array(z.buffer),P=new Uint32Array(L.buffer),J=[],x=k*4,a=1/x;
for(var d=0;d<x;d++)J.push(Math.pow(d*a,G)*k);U*=E;l*=F;for(var d=0;d<F;d++)for(var t=0;t<E;t++){var m=t-U,b=d-l,I=Math.atan2(b,m)*(1/(2*Math.PI));
if(I<0)I+=1;I=(I+.1)*(1/1.2);var v=Math.sqrt(m*m+b*b);v=J[~~(v*4)];e.GE.GN(I*r+.5,v+.5,g,r,k,P,d*E+t,!0)}};
e.v={};e.v.mKx=function(z,r){return z+.5};e.v.mGQ=function(z,r){return 2*Math.sqrt(z*z+r*r)};e.v.mML=function(z,r){return(Math.PI+Math.atan2(-r,-z))/(2*Math.PI)};
e.v.mzz=function(z,r){return Math.abs(z*2)};e.v.muZ=function(z,r){return 2*(Math.abs(z)+Math.abs(r))};
e.v.Gr=function(z,r,k,L,E,F,U,l,G,g,P){var J=k.X,x=k.z,a=k.x,d=k.y,t=L[0],m=L[1],b=L[2],I=L[3],B=512;
if(z.Clrs==null)return;var v=e.v.GL(z.Clrs.v,G,g),W=U?0:1,n=e.v.Gv(z,v,B),j=new Uint8Array(n.buffer),p=new Uint32Array(r.buffer);
if(l<5){for(var X=0,M=0;X<x;X++)for(var H=0;H<J;H++,M+=4){var c=H-E+a,S=X-F+d,w=t*c+m*S,R=b*c+I*S,i=0;
if(l==0)i=w+.5;else if(l==1)i=2*Math.sqrt(w*w+R*R);else if(l==2)i=(Math.PI+Math.atan2(-R,-w))/(2*Math.PI);
else if(l==3)i=Math.abs(w*2);else if(l==4)i=2*(Math.abs(w)+Math.abs(R));i=W*i+(1-W)*(1-i);var f=Math.max(0,Math.min(B-1,Math.round(i*B)))<<2;
r[M]=j[f];r[M+1]=j[f+1];r[M+2]=j[f+2];r[M+3]=j[f+3]}}else{var _=P.bU-P.bn,u=1/_,Q=P.bv.X-k.X>>1,$=P.bv.z-k.z>>1,C=P.bv.X,y=-.6*u,N=(-.6+.4)*u,O=(-.6+2*.4)*u,JQ=(-.6+3*.4)*u;
for(var X=0,M=0;X<x;X++)for(var H=0;H<J;H++,M+=4){var zf=0,ze=0,zg=0,zF=0,GS=(X+$)*C+H+Q,i=(P.bX[GS]-P.bn)*u,f=0;
i=W*i+(1-W)*(1-i);if(i<=0||i>=1){f=(i<=0?0:B-1)<<2;r[M]=j[f];r[M+1]=j[f+1];r[M+2]=j[f+2];r[M+3]=j[f+3];
continue}f=Math.max(0,Math.min(B-1,Math.round((i+y)*B)))<<2;ze+=j[f];zg+=j[f+1];zF+=j[f+2];zf+=j[f+3];
f=Math.max(0,Math.min(B-1,Math.round((i+N)*B)))<<2;ze+=j[f];zg+=j[f+1];zF+=j[f+2];zf+=j[f+3];f=Math.max(0,Math.min(B-1,Math.round((i+O)*B)))<<2;
ze+=j[f];zg+=j[f+1];zF+=j[f+2];zf+=j[f+3];f=Math.max(0,Math.min(B-1,Math.round((i+JQ)*B)))<<2;ze+=j[f];
zg+=j[f+1];zF+=j[f+2];zf+=j[f+3];r[M]=ze>>2;r[M+1]=zg>>2;r[M+2]=zF>>2;r[M+3]=zf>>2}}};e.v.GL=function(z,r,k){var L=[];
for(var E=0;E<z.length;E++){var F;if(z[E].v.Type.v.Clry=="FrgC")F={F:r>>16&255,P:r>>8&255,g:r&255};else if(z[E].v.Type.v.Clry=="BckC")F={F:k>>16&255,P:k>>8&255,g:k&255};
else F=e.v.GU(z[E].v.Clr.v);L.push(F)}return L};e.v.GU=function(z){var r,k=z.classID;if(k=="RGBC")r={F:z.Rd.v,P:z.Grn.v,g:z.Bl.v};
else if(k=="HSBC"){r=e.JK(z.H.v.val/360,z.Strt.v/100,z.Brgh.v/100);r.F*=255;r.P*=255;r.g*=255}else if(k=="CMYC"){var L=100-z.Cyn.v,E=100-z.Mgnt.v,F=100-z.Ylw.v,U=100-z.Blck.v,l=255*L*U*1e-4,G=255*(.2*L+.8*E)*U*1e-4,g=255*(.2*E+.8*F)*U*1e-4;
r={F:l,P:G,g:g}}else if(k=="Grsc")r={F:255-z.Gry.v,P:255-z.Gry.v,g:255-z.Gry.v};else console.log(z);
return r};e.v.Gn=function(z){return{classID:"RGBC",Rd:{t:"doub",v:z.F},Grn:{t:"doub",v:z.P},Bl:{t:"doub",v:z.g}}};
e.v.Gv=function(z,r,k){var L=new Uint32Array(k),E=1/(k-0);for(var F=0;F<k;F++)L[F]=e.v.GX(z,r,F*E);return L};
e.v.GX=function(z,r,k){var L=z.Intr.v/4096,E=4096,F=1/E,U=z.Clrs.v.length-1,l=z.Trns.v.length-1,G=-1,g=0,P=0,J=0,x=0;
while(G<l&&z.Trns.v[G+1].v.Lctn.v<=k*E)G++;if(G==-1){g=z.Trns.v[0].v.Opct.v.val*(255/100)}else if(G==l){g=z.Trns.v[G].v.Opct.v.val*(255/100)}else{var a=e.v.GI(z.Trns.v,F,G,k,L);
g=(a*z.Trns.v[G].v.Opct.v.val+(1-a)*z.Trns.v[G+1].v.Opct.v.val)*(255/100)}G=-1;while(G<U&&z.Clrs.v[G+1].v.Lctn.v<=k*E)G++;
if(G==-1){var d=r[0];P=d.F;J=d.P;x=d.g}else if(G==U){var d=r[G];P=d.F;J=d.P;x=d.g}else{var t=r[G],m=r[G+1],b=e.v.GI(z.Clrs.v,F,G,k,L);
P=b*t.F+(1-b)*m.F;J=b*t.P+(1-b)*m.P;x=b*t.g+(1-b)*m.g}g+=.5;P+=.5;J+=.5;x+=.5;return g<<24|x<<16|J<<8|P};
e.v.GI=function(z,r,k,L,E){if(z.length==2)E*=.5;var F=z[k].v.Lctn.v*r,U=z[k+1].v.Lctn.v*r,l=F+z[k+1].v.Mdpn.v*.01*(U-F),G;
if(L<l)G=.5*(L-F)/(l-F);else G=.5+.5*(L-l)/(U-l);G=.5+.5*(E*Math.cos(Math.PI*G)+(1-E)*(1-2*G));return G};
e.v.Gs=function(z,r){var k=Math.PI*z.Angl.v.val/180,L=z.Scl.v.val/100,E=z.Ofst.v,F=E.Hrzn.v.val/100,U=E.Vrtc.v.val/100,l=Math.cos(k),G=-Math.sin(k),g=.5*r.z,P=g*(l/G),J=Math.sqrt(g*g+P*P),x=.5*r.X,a=x*(G/l),d=Math.sqrt(x*x+a*a),t=Math.min(J,d)*L,m=r.x+r.X/2+F*r.X,b=r.y+r.z/2+U*r.z;
return[new V(m,b),new V(m+l*t,b+G*t)]};e.v.Gt=function(z,r,k,L){var E=r.x-z.x,F=-(r.y-z.y),U=Math.sqrt(E*E+F*F),l=Math.atan2(F,E),G=Math.cos(l),g=-Math.sin(l),P=.5*k.z,J=P*(G/g),x=Math.sqrt(P*P+J*J),a=.5*k.X,d=a*(g/G),t=Math.sqrt(a*a+d*d),m=U/Math.min(x,t),b=(z.x-k.x-k.X/2)/k.X,I=(z.y-k.y-k.z/2)/k.z;
L.Angl.v.val=180*l/Math.PI;L.Scl.v.val=m*100;var v=L.Ofst.v;v.Hrzn.v.val=b*100;v.Vrtc.v.val=I*100};e.v.Gp=function(z,r){for(var k=0;
k<z.length;k++){var L=z[k],E=Math.round(L[0]*4096),F=L[1],U=L[2];if(U==null)U=1;var l=e.v.Gn({F:F[0]*255,P:F[1]*255,g:F[2]*255});
r.Clrs.v[k]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:E},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:l},Type:{t:"enum",v:{Clry:"UsrS"}}}};
r.Trns.v[k]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:E},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(U*100)}}}}}};
e.G$={};e.G$.Gd=function(z,r,k,L,E){var F=!1,d=1,w=0,R=0,y=0,GQ=0;if(!r.ai(E)){var U=r.MD(E),l=e.$(U.Y()*4);
e.Jb(z,r,l,U);z=l;r=U}var G=e.$(r.Y());e.Jp(k,E,G,r);e.round(G);E=E.Mk(r);var g=E.X,P=E.z,J=g*3<P?2:1,x=P*3<g?2:1;
if(E.Y()*(J*2+1)*(x*2+1)<r.Y()){var U=new Z(E.x-g*J,E.y-P*J,g*(J*2+1),P*(x*2+1)).Mk(r),l=e.$(U.Y()*4);
e.Jb(z,r,l,U);var a=e.$(U.Y());e.Jp(G,r,a,U);r=U;z=l;G=a}while((r.X+r.z)/2/d>400)d++;var t=z,m=r,b=G,I=Math.floor(m.X/d),v=Math.floor(m.z/d);
z=e.$(I*v*4);e.scale.Mv(t,m.X,m.z,z,I,v,1/d);G=e.$(I*v);e.scale.Mn(b,m.X,m.z,G,I,v,1/d);e.round(G,1);
var W=e.PM(G,new Z(0,0,I,v));if(W.z$())return;var B=Math.round((W.X+W.z)/2/15),n=Date.now(),j=e.$(I*v*4);
e.mct(z,j);var p=Int16Array,X=new p(I*v*24),M=new p(64),H=new p(64),c=new p(64),S=new p(64);for(var i=3;
i<v-4;i++)for(var f=3;f<I-4;f++){var _=i*I+f;if(G[_]==255)continue;if(e.G$.mGe(j,G,f,i,I,v,M,H,c)!=0)continue;
e.G$.Wz(M,S);X[w]=f;X[w+1]=i;e.G$.JZ(M,X,w+4,12);w+=16;e.G$.Wz(H,S);e.G$.JZ(H,X,w,4);w+=4;e.G$.Wz(c,S);
e.G$.JZ(c,X,w,4);w+=4;var u=X[w-24+5],Q=X[w-24+6];X[w-24+5]=X[w-24+20];X[w-24+6]=X[w-24+16];X[w-24+16]=u;
X[w-24+20]=Q;R++}if(R==0)return;if(F)console.log(Date.now()-n,"FWHT computed");n=Date.now();var $=[];
e.G$.Gg(0,R-1,$,X,new p(2*24));if(F)console.log(Date.now()-n,"KD tree computed");n=Date.now();var C=new Float32Array(I*v*4);
for(var N=0;N<R;N++){var O=N,JQ=e.G$.maO(O,X,$,B);if(JQ==-1)continue;var zf=O*24,ze=JQ*24,zg=X[zf],zF=X[zf+1],GS=X[ze],Gm=X[ze+1];
y+=e.G$.getError(ze,zf,X,1e99);var GJ=GS-zg,GP=Gm-zF;C[(v+GP)*2*I+(I+GJ)]+=1}if(F)console.log(Date.now()-n,"NN found");
n=Date.now();var Gz=[],GG=1/(2*I);for(var N=0;N<C.length;N++){if(C[N]>0){var i=Math.floor(N*GG),f=N-i*2*I;
Gz.push({x:f-I,y:i-v,u:C[N],bI:-1})}}Gz.sort(function(GO,G_){return G_.u-GO.u});var GW=new Int32Array(I*v),GM=[];
for(var N=0;N<I*v;N++){if(G[N]==255){GW[N]=GQ;GM.push(N%I,Math.floor(N/I));GQ++}else if(z[(N<<2)+3]<200){GW[N]=-2}else{GW[N]=-1}}var Gu=e.G$.mlM(I,v,Gz,GW,GM,GQ);
if(Gu==null){return}var GK=Gu.bs,top=Gu.top;GK=e.G$.mWO(GK,z,I,v,top,GW,GM,GQ);if(F)console.log(Date.now()-n,"optimal labeling found");
n=Date.now();var U=E.clone();U.aD(1,1);U=U.Mk(m);var GE=e.$(U.Y()*4),Gl=e.$(U.Y());e.Jb(t,m,GE,U);var Gx=m.X,Ga=m.z;
for(var i=0;i<Ga;i++)for(var f=0;f<Gx;f++){if(b[i*Gx+f]==0)continue;var Gc=Math.min(Math.floor(f/d),I-1),GB=Math.min(Math.floor(i/d),v-1),GA=GW[GB*I+Gc],Gh=GK[GA],GT=top[Gh],Gw=f+GT.x*d,GN=i+GT.y*d,Gy=GN*Gx+Gw<<2,GV=(i-U.y+m.y)*U.X+(f-U.x+m.x)<<2;
GE[GV]=t[Gy];GE[GV+1]=t[Gy+1];GE[GV+2]=t[Gy+2];GE[GV+3]=t[Gy+3];GE[GV+3]=t[Gy+3];Gl[GV>>2]=Gh+1}if(F)console.log(Date.now()-n,"copied back");
n=Date.now();e.Mx.Gd(GE,Gl,U,null,1e3);if(F)console.log(Date.now()-n,"poisson smooth");n=Date.now();
e.Jb(GE,U,L,E)};e.G$.GH=function(z,r,k,L,E,F){return e.G$.Gf(z+E.x,r+E.y,k,L)&&F[(r+E.y)*k+(z+E.x)]==-1?0:1e9};
e.G$.mWO=function(z,r,k,L,top,E,F,U){var l=Date.now(),G=[-1,0,0,-1,1,0,0,1],g=1e99,P=[],J=[],x=2*(U*2*3+U*2),a=null,d=0,t=0,m=0,b=1e99;
while(!0&&Date.now()<l+12e3){m++;var I=null,v=g;for(var W=0;W<top.length;W++){var B=top[W],n=0,j=U+2,p=0;
for(var X=0;X<U;X++){var M=F[X*2],H=F[X*2+1],c=top[z[X]],S=e.G$.GH(M,H,k,L,B,E),w=z[X]==W?1e9:e.G$.GH(M,H,k,L,c,E);
for(var R=0;R<4;R++){if(R==0&&M==0||R==1&&H==0||R==2&&M==k-1||R==3&&H==L-1)continue;var i=G[2*R],f=G[2*R+1],_=M+i,u=H+f,Q=E[u*k+_];
if(Q==-2){}else if(Q==-1){S+=3*e.G$.Gj(_+B.x,u+B.y,_,u,k,L,r,E);S+=2*e.G$.Gj(_+B.x+i,u+B.y+f,_+i,u+f,k,L,r,E);
w+=3*e.G$.Gj(_+c.x,u+c.y,_,u,k,L,r,E);w+=2*e.G$.Gj(_+c.x+i,u+c.y+f,_+i,u+f,k,L,r,E)}else if(R>1){if(z[X]==z[Q]){var $=0;
$+=e.G$.Gj(M+c.x,H+c.y,M+B.x,H+B.y,k,L,r,E);$+=e.G$.Gj(_+c.x,u+c.y,_+B.x,u+B.y,k,L,r,E);P[n]=X;P[n+1]=Q;
J[n]=$;J[n+1]=$;n+=2}else{var C=top[z[Q]],y=j,N=0,O=0,JQ=0;j++;N+=e.G$.Gj(M+c.x,H+c.y,M+B.x,H+B.y,k,L,r,E);
N+=e.G$.Gj(_+c.x,u+c.y,_+B.x,u+B.y,k,L,r,E);O+=e.G$.Gj(M+C.x,H+C.y,M+B.x,H+B.y,k,L,r,E);O+=e.G$.Gj(_+C.x,u+C.y,_+B.x,u+B.y,k,L,r,E);
JQ+=e.G$.Gj(M+C.x,H+C.y,M+c.x,H+c.y,k,L,r,E);JQ+=e.G$.Gj(_+C.x,u+C.y,_+c.x,u+c.y,k,L,r,E);P[n]=X;P[n+1]=y;
J[n]=N;J[n+1]=N;n+=2;P[n]=Q;P[n+1]=y;J[n]=O;J[n+1]=O;n+=2;P[n]=y;P[n+1]=U+1;J[n]=JQ;J[n+1]=0;n+=2}}}P[n]=U;
P[n+1]=X;J[n]=S;J[n+1]=0;n+=2;P[n]=X;P[n+1]=U+1;J[n]=w;J[n+1]=0;n+=2;p+=Math.min(S,w)}if(p>v)continue;
var zf=e.Wo.WU(j,n,U,U+1,P,J,v);if(zf.Kc<v){v=zf.Kc;var ze=z.slice(0);e.G$.muC(ze,n,P,zf.bt,W,U);I=ze}}if(v*1>=g){break}g=v;
z=I;if((m&3)==0){if(v*1.03>=b)break;b=v}if((m&3)==0){var zg=0*top.length;for(var X=0;X<top.length&&top.length>zg;
X++){if(z.indexOf(X)!=-1)continue;top.splice(X,1);for(var Q=0;Q<z.length;Q++)if(z[Q]>X)z[Q]--;X--}}}return z};
e.G$.muC=function(z,r,k,L,E,F){for(var U=0;U<L.length;U++){var l=L[U]<<1,G=0,g=0;if(l<r){G=k[l];g=k[l+1]}else{g=k[l];
G=k[l+1]}if(G==F&&z[g]!=E)z[g]=E}};e.G$.GD=function(top,z,r,k,L,E,F,U,l){for(var G=0;G<r.length;G++){var g=r[G],P=!0;
if(U!=null&&!(e.G$.Gf(U+g.x,l+g.y,E,F)&&k[E*(l+g.y)+U+g.x]==-1))continue;if(g.bI==-1)g.bI=e.G$.mux(g,k,L,E,F);
if(g.bI<=0)continue;for(var J=0;J<top.length;J++){var x=top[J],a=g.x-x.x,d=g.y-x.y;if(a*a+d*d<z){P=!1;
break}}if(P)return g}return null};e.G$.mux=function(z,r,k,L,E){var F=0;for(var U=0;U<k.length;U+=2){var l=k[U]+z.x,G=k[U+1]+z.y;
if(e.G$.Gf(l,G,L,E)&&r[L*G+l]==-1)F++}return F/(k.length>>1)};e.G$.mlM=function(z,r,k,L,E,F){var top=[];
for(var U=0;U<60;U++){var l=e.G$.GD(top,25,k,L,E,z,r);if(l==null)break;else top.push(l)}if(top.length==0)return null;
var G=[];for(var U=0;U<F;U++){var g=E[U*2],P=E[U*2+1],J=-1,x=0;while(!0){x++;var a=Math.random();J=Math.floor(a*.99999*top.length);
var d=top[J],t=g+d.x,m=P+d.y;if(e.G$.Gf(t,m,z,r)&&L[m*z+t]==-1)break;if(x>100){var l;l=e.G$.GD(top,0,k,L,E,z,r,g,P);
if(l==null)return null;top.push(l);x=0}}G.push(J)}return{top:top,bs:G}};e.G$.Gj=function(z,r,k,L,E,F,U,l){if(z==k&&r==L)return 0;
if(z<0||r<0||z>=E||r>=F||k<0||L<0||k>=E||L>=F||l[r*E+z]!=-1||l[L*E+k]!=-1)return 1e7;var G=r*E+z<<2,g=L*E+k<<2,P=U[G]-U[g],J=U[G+1]-U[g+1],x=U[G+2]-U[g+2];
return 1+(P*P+J*J+x*x)};e.G$.Gf=function(z,r,k,L){return z>=0&&z<k&&r>=0&&r<L};e.G$.maO=function(z,r,k,L){var E=24*z,F=r[E],U=r[E+1],l=L*L,G=0,x=1e9;
while(k[G]!=99)if(r[E+k[G]]<k[G+1])G=k[G+2];else G=k[G+3];var g=k[G+1],P=k[G+2],J=-1;for(var a=g;a<=P;
a++){var G=a,d=G*24,t=r[d],m=r[d+1];if((t-F)*(t-F)+(m-U)*(m-U)<l)continue;var b=e.G$.getError(d,E,r,x);
if(b<x){x=b;J=G}}return J};e.G$.getError=function(z,r,k,L){var E=0;for(var F=4;F<24;F+=4){var U=k[r+F]-k[z+F],l=k[r+F+1]-k[z+F+1],G=k[r+F+2]-k[z+F+2],g=k[r+F+3]-k[z+F+3];
E+=U*U+l*l+G*G+g*g;if(E>=L)return E+1}return E};e.G$.Gg=function(z,r,k,L,E){var F=16,a=0;if(r-z<=F){k.push(99,z,r);
return}e.G$.GF(z,r,L,E);var U=-1,l=-1;for(var G=4;G<24;G++){var g=E[2*G+1]-E[2*G];if(g>l){l=g;U=G}}var P=z+r>>1,J=e.G$.mWr(P,z,r,L,U),x=-1;
for(var G=z;G<=r;G++)if(L[24*G+U]==J){if(x==-1)x=G;a=G}if(z+8<x&&x-z>r-a)P=x;else if(a+1<r-8)P=a+1;else if(r-z<64){k.push(99,z,r);
return}else P=P;var d=k.length;k.push(U,J,0,0);k[d+2]=d+4;e.G$.Gg(z,P-1,k,L,E);k[d+3]=k.length;e.G$.Gg(P,r,k,L,E)};
e.G$.GF=function(z,r,k,L){for(var E=0;E<48;E+=4){L[E]=3e4;L[E+1]=-3e4;L[E+2]=3e4;L[E+3]=-3e4}for(var E=z;
E<=r;E++){var F=E*24;for(var U=0;U<24;U++){var l=k[F+U],G=L[U<<1],g=L[(U<<1)+1];if(l<G)L[U<<1]=l;if(l>g)L[(U<<1)+1]=l}}};
e.G$.WS=function(z,r,k){var L=0,E=0;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;
E++;L=k[z+E];k[z+E]=k[r+E];k[r+E]=L;E++};e.G$.Wm=function(z,r,k,L){var E=k+L>>>1,F=z[24*E+r];while(k<=L){while(z[24*k+r]<F)k++;
while(z[24*L+r]>F)L--;if(k<=L){if(z[24*k+r]!=z[24*L+r])e.G$.WS(k*24,L*24,z);k++;L--}}return k};e.G$.mWr=function(z,r,k,L,E){var F=0;
while(r!=k){F=e.G$.Wm(L,E,r,k);if(z<F)k=F-1;else r=F}return L[z*24+E]};e.G$.JZ=function(z,r,k,L){for(var E=0;
E<L;E++)r[k+E]=z[E]};e.G$.mGe=function(z,r,k,L,E,F,U,l,G){var g=(L-3)*E+(k-3),P=g<<2;for(var J=0;J<8;
J++){if(r[g]+r[g+1]+r[g+2]+r[g+3]+r[g+4]+r[g+5]+r[g+6]+r[g+7]!=0||z[P+3]<200||z[P+7]<200||z[P+11]<200||z[P+15]<200||z[P+19]<200||z[P+23]<200||z[P+27]<200||z[P+31]<200)return 1;
var x=J<<3;U[x+0]=z[P+0];l[x+0]=z[P+1];G[x+0]=z[P+2];U[x+1]=z[P+4];l[x+1]=z[P+5];G[x+1]=z[P+6];U[x+2]=z[P+8];
l[x+2]=z[P+9];G[x+2]=z[P+10];U[x+3]=z[P+12];l[x+3]=z[P+13];G[x+3]=z[P+14];U[x+4]=z[P+16];l[x+4]=z[P+17];
G[x+4]=z[P+18];U[x+5]=z[P+20];l[x+5]=z[P+21];G[x+5]=z[P+22];U[x+6]=z[P+24];l[x+6]=z[P+25];G[x+6]=z[P+26];
U[x+7]=z[P+28];l[x+7]=z[P+29];G[x+7]=z[P+30];P+=E<<2;g+=E}return 0};e.G$.Wz=function(z,r){r[0]=z[32]+z[0];
r[1]=z[33]+z[1];r[2]=z[34]+z[2];r[3]=z[35]+z[3];r[4]=z[36]+z[4];r[5]=z[37]+z[5];r[6]=z[38]+z[6];r[7]=z[39]+z[7];
r[8]=z[40]+z[8];r[9]=z[41]+z[9];r[10]=z[42]+z[10];r[11]=z[43]+z[11];r[12]=z[44]+z[12];r[13]=z[45]+z[13];
r[14]=z[46]+z[14];r[15]=z[47]+z[15];r[16]=z[48]+z[16];r[17]=z[49]+z[17];r[18]=z[50]+z[18];r[19]=z[51]+z[19];
r[20]=z[52]+z[20];r[21]=z[53]+z[21];r[22]=z[54]+z[22];r[23]=z[55]+z[23];r[24]=z[56]+z[24];r[25]=z[57]+z[25];
r[26]=z[58]+z[26];r[27]=z[59]+z[27];r[28]=z[60]+z[28];r[29]=z[61]+z[29];r[30]=z[62]+z[30];r[31]=z[63]+z[31];
r[32]=z[0]-z[32];r[33]=z[1]-z[33];r[34]=z[2]-z[34];r[35]=z[3]-z[35];r[36]=z[4]-z[36];r[37]=z[5]-z[37];
r[38]=z[6]-z[38];r[39]=z[7]-z[39];r[40]=z[8]-z[40];r[41]=z[9]-z[41];r[42]=z[10]-z[42];r[43]=z[11]-z[43];
r[44]=z[12]-z[44];r[45]=z[13]-z[45];r[46]=z[14]-z[46];r[47]=z[15]-z[47];r[48]=z[16]-z[48];r[49]=z[17]-z[49];
r[50]=z[18]-z[50];r[51]=z[19]-z[51];r[52]=z[20]-z[52];r[53]=z[21]-z[53];r[54]=z[22]-z[54];r[55]=z[23]-z[55];
r[56]=z[24]-z[56];r[57]=z[25]-z[57];r[58]=z[26]-z[58];r[59]=z[27]-z[59];r[60]=z[28]-z[60];r[61]=z[29]-z[61];
r[62]=z[30]-z[62];r[63]=z[31]-z[63];z[0]=r[16]+r[0];z[1]=r[17]+r[1];z[2]=r[18]+r[2];z[3]=r[19]+r[3];
z[4]=r[20]+r[4];z[5]=r[21]+r[5];z[6]=r[22]+r[6];z[7]=r[23]+r[7];z[8]=r[24]+r[8];z[9]=r[25]+r[9];z[10]=r[26]+r[10];
z[11]=r[27]+r[11];z[12]=r[28]+r[12];z[13]=r[29]+r[13];z[14]=r[30]+r[14];z[15]=r[31]+r[15];z[16]=r[0]-r[16];
z[17]=r[1]-r[17];z[18]=r[2]-r[18];z[19]=r[3]-r[19];z[20]=r[4]-r[20];z[21]=r[5]-r[21];z[22]=r[6]-r[22];
z[23]=r[7]-r[23];z[24]=r[8]-r[24];z[25]=r[9]-r[25];z[26]=r[10]-r[26];z[27]=r[11]-r[27];z[28]=r[12]-r[28];
z[29]=r[13]-r[29];z[30]=r[14]-r[30];z[31]=r[15]-r[31];r[0]=z[8]+z[0];r[1]=z[9]+z[1];r[2]=z[10]+z[2];
r[3]=z[11]+z[3];r[4]=z[12]+z[4];r[5]=z[13]+z[5];r[6]=z[14]+z[6];r[7]=z[15]+z[7];r[8]=z[0]-z[8];r[9]=z[1]-z[9];
r[10]=z[2]-z[10];r[11]=z[3]-z[11];r[12]=z[4]-z[12];r[13]=z[5]-z[13];r[14]=z[6]-z[14];r[15]=z[7]-z[15];
z[0]=r[4]+r[0];z[1]=r[5]+r[1];z[2]=r[6]+r[2];z[3]=r[7]+r[3];z[4]=r[0]-r[4];z[5]=r[1]-r[5];z[6]=r[2]-r[6];
z[7]=r[3]-r[7];z[8]=r[12]+r[8];z[9]=r[13]+r[9];z[10]=r[14]+r[10];z[11]=r[15]+r[11];z[12]=r[8]-r[12];
z[13]=r[9]-r[13];z[14]=r[10]-r[14];z[15]=r[11]-r[15];r[0]=z[2]+z[0];r[1]=z[3]+z[1];r[2]=z[0]-z[2];r[3]=z[1]-z[3];
r[4]=z[6]+z[4];r[5]=z[7]+z[5];r[6]=z[4]-z[6];r[7]=z[5]-z[7];r[8]=z[10]+z[8];r[9]=z[11]+z[9];r[10]=z[8]-z[10];
r[11]=z[9]-z[11];r[12]=z[14]+z[12];r[13]=z[15]+z[13];r[14]=z[12]-z[14];r[15]=z[13]-z[15];z[0]=r[1]+r[0];
z[1]=r[0]-r[1];z[2]=r[3]+r[2];z[3]=r[2]-r[3];z[4]=r[5]+r[4];z[5]=r[4]-r[5];z[6]=r[7]+r[6];z[7]=r[6]-r[7];
z[8]=r[9]+r[8];z[9]=r[8]-r[9];z[10]=r[11]+r[10];z[11]=r[10]-r[11];z[12]=r[13]+r[12];z[13]=r[12]-r[13];
z[14]=r[15]+r[14];z[15]=r[14]-r[15]};e.G$.mKp=function(){var z="",r=64,k="v",L="t",E="a",F=5,U,l,G;for(U=r>>1;
U>0;U>>=1,F--){for(l=0;l<r;l++){G=(l>>F&1)!=0;if(G){z+=L+"["+l+"] = "+k+"["+(-U+l)+"] - "+k+"["+l+"];  "}else{z+=L+"["+l+"] = "+k+"["+(U+l)+"] + "+k+"["+l+"];  "}}E=k;
k=L;L=E;z+="\n"}console.log(z)};e.G$.mmu=function(z,r,k){var L=r,E=k,F=L,U=0,G,g,P;while(z>>U!=2)U++;
var l=U;for(G=z>>1;G>0;G>>=1,U--){for(g=0;g<z;g++){P=(g>>U&1)!=0;if(P)E[g]=L[-G+g]-L[g];else E[g]=L[G+g]+L[g]}F=L;
L=E;E=F}if((l&1)==1)for(G=0;G<z;G++)k[G]=L[G]};e.WM={};e.WM.WQ=function(z,r,k,L,E,F,U,l){var G=Date.now(),g=new Uint32Array(z.buffer),P=new Uint32Array(r.buffer),J=U/k,x=l/L,a=1/J,d=1/x,t=new Float64Array(2),m=3,b=1/m,I=1/(m*m),v=0,W=0,B=k,n=L;
if(E){v=E.x;W=E.y;B=E.X;n=E.z}for(var j=0;j<n;j++)for(var p=0;p<B;p++){var X=v+p,M=W+j,H=M*k+X,c=H<<1,S=H<<2;
e.WM.mQn(F,U,l,(X+.5)*J,(M+.5)*x,t);var w=t[0]*a,R=t[1]*d;if(w==0&&R==0)P[H]=g[H];else{e.GE.GN(X+w+.4999,M+R+.4999,g,k,L,P,H,!1)}}};
e.WM.mQn=function(z,r,k,L,E,F){var U=~~L,l=~~E,G=L-U,g=E-l,P=(1-g)*(1-G),J=(1-g)*G,x=g*(1-G),a=g*G,d=U==r-1?U:U+1,t=l==k-1?l:l+1,m=l*r+U<<1,b=l*r+d<<1,I=t*r+U<<1,v=t*r+d<<1;
F[0]=P*z[m]+J*z[b]+x*z[I]+a*z[v];F[1]=P*z[m+1]+J*z[b+1]+x*z[I+1]+a*z[v+1]};e.WM.WK=new Float32Array(512);
e.WM.WE=function(z){if(e.WM.WK.length<z)e.WM.WK=new Float32Array(z);return e.WM.WK};e.WM.mMD=function(z,r,k,L,E){var F=1/z,U=[-1,1,-z,z],l=L.length,G=e.WM.WE(l*2);
for(var g=0;g<2;g++){for(var P=0;P<l;P++){var J=L[P],x=J<<1,a=P<<1,d=Math.floor(J*F),t=J-z*d,m=k[x],b=k[x+1],I=0,v=0;
if(t!=0&&t!=z-1){var W=J-1<<1,B=J+1<<1,n=k[W],j=k[B],p=k[W+1],X=k[B+1],M=m-(n+j)*.5,H=b-(p+X)*.5;I-=M*E;
v-=H*E}if(d!=0&&d!=r-1){var W=J-z<<1,B=J+z<<1,n=k[W],j=k[B],p=k[W+1],X=k[B+1],M=m-(n+j)*.5,H=b-(p+X)*.5;
I-=M*E;v-=H*E}G[a]=m+I;G[a+1]=b+v}for(var P=0;P<l;P++){var x=L[P]<<1,a=P<<1;k[x]=G[a];k[x+1]=G[a+1]}}};
e.WM.mKZ=function(z,r,k,L,E,F,U,l,G,g,P,J){var x=Math.max(0,Math.floor(E-U-1)),a=Math.min(r,Math.ceil(E+U+1)),d=Math.max(0,Math.floor(F-U-1)),t=Math.min(k,Math.ceil(F+U+1)),m=2*r,b=U*U,I=1/U,v=0,W=e.WM.WE((a-x)*(t-d)*2);
for(var B=d;B<t;B++)for(var n=x;n<a;n++){var j=B*r+n,p=j<<1,X=E-n,M=F-B,H=X*X+M*M;if(H<b){P[v]=j;var c=Math.sqrt(H),S=c*I,w=S/c;
X*=w;M*=w;var R=Math.exp(-4*S),i=.96*(1-S*S),f=G*((1-l)*R+l*i);if(L==1){W[v<<1]=z[p]*(1-f*.05);W[(v<<1)+1]=z[p+1]*(1-f*.05)}else{var _=0,u=0,C,y,N,O;
if(L==0){_=g.x*f;u=g.y*f}else if(L==2){}else if(L==3){if(J)f=-f;_=f*M;u=-f*X}else if(L==4){_=f*X;u=f*M}else if(L==5){_=-f*X;
u=-f*M}else if(L==6){if(J)f=-f;_=g.y*f;u=-g.x*f}var Q=z[p],$=z[p+1];if(n==0||n!=r-1&&_<0){C=1+z[p+2]-Q;
N=z[p+3]-$}else{C=Q-z[p-2]+1;N=$-z[p-1]}if(B==0||B!=k-1&&u<0){y=z[p+m]-Q;O=1+z[p+m+1]-$}else{y=Q-z[p-m];
O=$-z[p-m+1]+1}W[v<<1]=-(C*_+y*u-Q);W[(v<<1)+1]=-(N*_+O*u-$)}v++}}for(var JQ=0;JQ<v;JQ++){var p=P[JQ]<<1,zf=JQ<<1;
z[p]=W[zf];z[p+1]=W[zf+1]}};e.WM.mKH=function(z){var r=z[0],k=z[0],L=z[1],E=z[1];for(var F=0;F<z.length;
F+=2){var U=z[F],l=z[F+1];if(U<r)r=U;else if(U>k)k=U;if(l<L)L=l;else if(l>E)E=l}return[r,L,k,E]};e.WM.mBa=function(z,r){var k=[],L=Math.floor(r.length/3);
for(var E=0;E<L;E++)k.push(E);var F=e.WM.mKH(z);return e.WM.WB(z,r,k,k.length,F)};e.WM.WB=function(z,r,k,L,E){if(L<60)return k;
var F=E,U=E.slice(0),l=[],G=[],g=0,P=0,J=0;if(E[3]-E[1]>E[2]-E[0])J=1;else J=0;var x=(E[0+J]+E[2+J])*.5;
F[2+J]=U[0+J]=x;for(var a=0;a<L;a++){var d=k[a],t=d*3,m=z[(r[t+0]<<1)+J],b=z[(r[t+1]<<1)+J],I=z[(r[t+2]<<1)+J];
if(m<=x||b<=x||I<=x){l[g++]=d}if(m>x||b>x||I>x){G[P++]=d}}if(g==L||P==L||g+P>L*1.3)return k;return{axis:J,bp:x,b$:e.WM.WB(z,r,l,g,F),mQN:e.WM.WB(z,r,G,P,U)}};
e.WM.mag=function(z,r,k,L,E){while(k.b$!=null){if(k.axis==0&&L<=k.bp||k.axis==1&&E<=k.bp)k=k.b$;else k=k.mQN}return e.WM.mMS(z,r,k,L,E)};
e.WM.mGA=function(z,r,k){return k[0]<=z&&z<=k[2]&&k[1]<=r&&r<=k[3]};e.WM.mMS=function(z,r,k,L,E){for(var F=0;
F<k.length;F++){var U=k[F],l=U*3,G=r[l+0]<<1,g=r[l+1]<<1,P=r[l+2]<<1,J=z[G+0],x=z[G+1],a=z[g+0],d=z[g+1],t=z[P+0],m=z[P+1],b=a-J,I=d-x,v=t-J,W=m-x,B=L-J,n=E-x,j=b*W-v*I;
if(j==0)return[G>>>1,g>>>1,P>>>1,1,0,0];var p=1/j,X=(B*W-v*n)*p,M=(b*n-B*I)*p;if(X>=0&&M>=0&&X+M<=1)return[G>>>1,g>>>1,P>>>1,1-X-M,X,M]}return null};
e.WR={};e.WR.Ww=function(z){var r=~~(z+.5);return r<0?0:r>255?255:r};e.WR.transform=function(z,r,k){var L=e.WR.Ww,E=z.F.length;
for(var F=0;F<E;F++){var U=z.F[F],l=z.P[F],G=z.g[F];r.F[F]=L(k[0]*U+k[1]*l+k[2]*G+k[3]*255);r.P[F]=L(k[4]*U+k[5]*l+k[6]*G+k[7]*255);
r.g[F]=L(k[8]*U+k[9]*l+k[10]*G+k[11]*255)}};e.WR.mWd=function(z,r,k){var L=e.WR.Ww,E=z.length;for(var F=0;
F<E;F+=4){var U=z[F],l=z[F+1],G=z[F+2];r[F]=L(k[0]*U+k[1]*l+k[2]*G+k[3]*255);r[F+1]=L(k[4]*U+k[5]*l+k[6]*G+k[7]*255);
r[F+2]=L(k[8]*U+k[9]*l+k[10]*G+k[11]*255)}};e.WR.Wy=function(z,r,k){return[1,0,0,z,0,1,0,r,0,0,1,k,0,0,0,1]};
e.WR.WV=function(z,r,k){return[z,0,0,0,0,r,0,0,0,0,k,0,0,0,0,1]};e.WR.mWt=function(z){return[z[0],z[1],z[2],z[4],z[5],z[6],z[8],z[9],z[10]]};
e.WR.W_=function(z){return[z[0],z[1],z[2],0,z[3],z[4],z[5],0,z[6],z[7],z[8],0,0,0,0,1]};e.WR.WZ=function(z,r){return[z[0]*r[0]+z[1]*r[1]+z[2]*r[2]+z[3]*r[3],z[4]*r[0]+z[5]*r[1]+z[6]*r[2]+z[7]*r[3],z[8]*r[0]+z[9]*r[1]+z[10]*r[2]+z[11]*r[3],z[12]*r[0]+z[13]*r[1]+z[14]*r[2]+z[15]*r[3]]};
e.WR.GT=function(z){var r=[];r[0]=z[0];r[1]=z[4];r[2]=z[8];r[3]=z[12];r[4]=z[1];r[5]=z[5];r[6]=z[9];
r[7]=z[13];r[8]=z[2];r[9]=z[6];r[10]=z[10];r[11]=z[14];r[12]=z[3];r[13]=z[7];r[14]=z[11];r[15]=z[15];
return r};e.WR.multiply=function(z,r){var k=[];k[0]=z[0]*r[0]+z[1]*r[4]+z[2]*r[8]+z[3]*r[12];k[1]=z[0]*r[1]+z[1]*r[5]+z[2]*r[9]+z[3]*r[13];
k[2]=z[0]*r[2]+z[1]*r[6]+z[2]*r[10]+z[3]*r[14];k[3]=z[0]*r[3]+z[1]*r[7]+z[2]*r[11]+z[3]*r[15];k[4]=z[4]*r[0]+z[5]*r[4]+z[6]*r[8]+z[7]*r[12];
k[5]=z[4]*r[1]+z[5]*r[5]+z[6]*r[9]+z[7]*r[13];k[6]=z[4]*r[2]+z[5]*r[6]+z[6]*r[10]+z[7]*r[14];k[7]=z[4]*r[3]+z[5]*r[7]+z[6]*r[11]+z[7]*r[15];
k[8]=z[8]*r[0]+z[9]*r[4]+z[10]*r[8]+z[11]*r[12];k[9]=z[8]*r[1]+z[9]*r[5]+z[10]*r[9]+z[11]*r[13];k[10]=z[8]*r[2]+z[9]*r[6]+z[10]*r[10]+z[11]*r[14];
k[11]=z[8]*r[3]+z[9]*r[7]+z[10]*r[11]+z[11]*r[15];k[12]=z[12]*r[0]+z[13]*r[4]+z[14]*r[8]+z[15]*r[12];
k[13]=z[12]*r[1]+z[13]*r[5]+z[14]*r[9]+z[15]*r[13];k[14]=z[12]*r[2]+z[13]*r[6]+z[14]*r[10]+z[15]*r[14];
k[15]=z[12]*r[3]+z[13]*r[7]+z[14]*r[11]+z[15]*r[15];return k};e.WR.Jo=function(z){var r=[];r[0]=z[5]*z[10]*z[15]-z[5]*z[14]*z[11]-z[6]*z[9]*z[15]+z[6]*z[13]*z[11]+z[7]*z[9]*z[14]-z[7]*z[13]*z[10];
r[1]=-z[1]*z[10]*z[15]+z[1]*z[14]*z[11]+z[2]*z[9]*z[15]-z[2]*z[13]*z[11]-z[3]*z[9]*z[14]+z[3]*z[13]*z[10];
r[2]=z[1]*z[6]*z[15]-z[1]*z[14]*z[7]-z[2]*z[5]*z[15]+z[2]*z[13]*z[7]+z[3]*z[5]*z[14]-z[3]*z[13]*z[6];
r[3]=-z[1]*z[6]*z[11]+z[1]*z[10]*z[7]+z[2]*z[5]*z[11]-z[2]*z[9]*z[7]-z[3]*z[5]*z[10]+z[3]*z[9]*z[6];
r[4]=-z[4]*z[10]*z[15]+z[4]*z[14]*z[11]+z[6]*z[8]*z[15]-z[6]*z[12]*z[11]-z[7]*z[8]*z[14]+z[7]*z[12]*z[10];
r[5]=z[0]*z[10]*z[15]-z[0]*z[14]*z[11]-z[2]*z[8]*z[15]+z[2]*z[12]*z[11]+z[3]*z[8]*z[14]-z[3]*z[12]*z[10];
r[6]=-z[0]*z[6]*z[15]+z[0]*z[14]*z[7]+z[2]*z[4]*z[15]-z[2]*z[12]*z[7]-z[3]*z[4]*z[14]+z[3]*z[12]*z[6];
r[7]=z[0]*z[6]*z[11]-z[0]*z[10]*z[7]-z[2]*z[4]*z[11]+z[2]*z[8]*z[7]+z[3]*z[4]*z[10]-z[3]*z[8]*z[6];r[8]=z[4]*z[9]*z[15]-z[4]*z[13]*z[11]-z[5]*z[8]*z[15]+z[5]*z[12]*z[11]+z[7]*z[8]*z[13]-z[7]*z[12]*z[9];
r[9]=-z[0]*z[9]*z[15]+z[0]*z[13]*z[11]+z[1]*z[8]*z[15]-z[1]*z[12]*z[11]-z[3]*z[8]*z[13]+z[3]*z[12]*z[9];
r[10]=z[0]*z[5]*z[15]-z[0]*z[13]*z[7]-z[1]*z[4]*z[15]+z[1]*z[12]*z[7]+z[3]*z[4]*z[13]-z[3]*z[12]*z[5];
r[11]=-z[0]*z[5]*z[11]+z[0]*z[9]*z[7]+z[1]*z[4]*z[11]-z[1]*z[8]*z[7]-z[3]*z[4]*z[9]+z[3]*z[8]*z[5];r[12]=-z[4]*z[9]*z[14]+z[4]*z[13]*z[10]+z[5]*z[8]*z[14]-z[5]*z[12]*z[10]-z[6]*z[8]*z[13]+z[6]*z[12]*z[9];
r[13]=z[0]*z[9]*z[14]-z[0]*z[13]*z[10]-z[1]*z[8]*z[14]+z[1]*z[12]*z[10]+z[2]*z[8]*z[13]-z[2]*z[12]*z[9];
r[14]=-z[0]*z[5]*z[14]+z[0]*z[13]*z[6]+z[1]*z[4]*z[14]-z[1]*z[12]*z[6]-z[2]*z[4]*z[13]+z[2]*z[12]*z[5];
r[15]=z[0]*z[5]*z[10]-z[0]*z[9]*z[6]-z[1]*z[4]*z[10]+z[1]*z[8]*z[6]+z[2]*z[4]*z[9]-z[2]*z[8]*z[5];var k=z[0]*r[0]+z[1]*r[4]+z[2]*r[8]+z[3]*r[12];
for(var L=0;L<16;L++)r[L]/=k;return r};e.WR.WC=function(z){var r=[],k=z[5]*z[10]*z[15]-z[5]*z[14]*z[11]-z[6]*z[9]*z[15]+z[6]*z[13]*z[11]+z[7]*z[9]*z[14]-z[7]*z[13]*z[10],L=-z[4]*z[10]*z[15]+z[4]*z[14]*z[11]+z[6]*z[8]*z[15]-z[6]*z[12]*z[11]-z[7]*z[8]*z[14]+z[7]*z[12]*z[10],E=z[4]*z[9]*z[15]-z[4]*z[13]*z[11]-z[5]*z[8]*z[15]+z[5]*z[12]*z[11]+z[7]*z[8]*z[13]-z[7]*z[12]*z[9],F=-z[4]*z[9]*z[14]+z[4]*z[13]*z[10]+z[5]*z[8]*z[14]-z[5]*z[12]*z[10]-z[6]*z[8]*z[13]+z[6]*z[12]*z[9];
return z[0]*k+z[1]*L+z[2]*E+z[3]*F};e.WR.Wq=e.WR.W_([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
e.Wo={};e.Wo.Wr=new Uint32Array(1);e.Wo.WL=function(z,r,k,L,E,F){var U=new Uint32Array(z),l=0,G=e.Wo.Wr;
if(G.length<r*4)e.Wo.Wr=G=new Uint32Array(r*4);var g=new Float64Array(G.buffer);for(var P=0;P<r;P+=2){var J=E[P],x=E[P+1],a=F[P],d=F[P+1];
G[l]=x;g[l+2>>1]=a;G[l+1]=U[J];U[J]=l+1;l+=4;G[l]=J;g[l+2>>1]=d;G[l+1]=U[x];U[x]=l+1;l+=4}return{by:G,bH:g,bb:U}};
e.Wo.WU=function(z,r,k,L,E,F,U){var l=1,G=e.Wo.WL(z,r,k,L,E,F),g=G.by,P=G.bH,J=G.bb,x=new Uint32Array(z),a=new e.Wo.Wt(z),t=1,W=0;
a.push(k);a.push(L);var d=new e.Wo.Wt(z),m=new Uint8Array(z),b=new Uint32Array(z);m[k]=1;m[L]=2;var I=new Uint32Array(z),v=new Uint32Array(z);
v[k]=v[L]=0;I[k]=I[L]=1;while(!0){var B=-1,c=0,f=1e30;while(!a.Ws()&&B==-1){var n=a.top(),j=m[n],p=J[n]-1;
while(p!=-1){var X=g[p],M=m[X],H=p^j-1<<2;if(P[H+2>>1]!=0){if(M==0){e.Wo.Wn(n,p,X,m,b,v,I);a.push(X)}else if(M==j&&I[X]<=I[n]&&v[X]>v[n])e.Wo.Wn(n,p,X,m,b,v,I);
else if(M!=j){B=H}}p=g[p+1]-1}if(B!=-1)break;a.pop()}if(B==-1){break}t++;var S=B;while(S!=-1){x[c]=S;
c++;S=b[g[S^4]]-1}var w=c>>1;for(var R=0;R<w;R++){var i=x[R];x[R]=x[c-R-1];x[c-R-1]=i}S=b[g[B]]-1;while(S!=-1){x[c]=S^4;
c++;S=b[g[S^4]]-1}for(var R=0;R<c;R++)f=Math.min(f,P[x[R]+2>>1]);W+=f;if(W>=U)return{bt:null,Kc:W};for(var R=0;
R<c;R++){var _=x[R],u=_^4,n=g[u],X=g[_];P[_+2>>1]-=f;P[u+2>>1]+=f;if(P[_+2>>1]==0&&m[n]==m[X]){if(m[n]==1){b[X]=0;
d.push(X)}if(m[n]==2){b[n]=0;d.push(n)}}}while(!d.Ws()){var n=d.pop(),j=m[n],p=J[n]-1,Q=j==1?4:0,$=0,C=0,y=1e9;
while(p!=-1){var X=g[p],N=p^4,H=p^Q;if(m[X]==j&&P[H+2>>1]>0&&e.Wo.mWC(X,k,L,b,g,t,I,v)+1<y){$=X;C=N;
y=v[X]+1}p=g[p+1]-1}if(C!=0){e.Wo.Wn($,C,n,m,b,v,I);continue}p=J[n]-1;while(p!=-1){var X=g[p],H=p^Q;
if(m[X]==j){if(P[H+2>>1]>0){a.push(X)}if(b[X]==p+1){b[X]=0;d.push(X)}}p=g[p+1]-1}m[n]=0;a.remove(n)}}var O=[];
for(var R=0;R<r;R+=2){var n=E[R],X=E[R+1];if(m[n]==1&&m[X]!=1){O.push(R>>1)}if(m[X]==1&&m[n]!=1){O.push(r+R>>1)}}return{bt:O,Kc:W}};
e.Wo.Wn=function(z,r,k,L,E,F,U){L[k]=L[z];E[k]=r+1;F[k]=F[z]+1;U[k]=U[z]};e.Wo.mWC=function(z,r,k,L,E,F,U,l){var G=z,g=L[z]-1,P=0;
while(g!=-1&&U[z]!=F){z=E[g^4];g=L[z]-1;P++}if(g==-1&&z!=r&&z!=k)return 1e9;var J=l[z]+P;P=0;g=L[G]-1;
while(G!=z){l[G]=J-P;P++;U[G]=F;G=E[g^4];g=L[G]-1}return J};e.Wo.mGY=function(z,r,k,L,E,F){var U=e.Wo.WL(z,r,k,L,E,F),l=U.by,G=U.bH,g=U.bb,P=0,J=0,x=new Uint32Array(z*2),a=new e.Wo.WI(z),d=0;
while(!0){a.reset();a.push(k);for(var t=0;t<z;t++)x[t<<1]=0;while(!a.Ws()){var m=a.pop(),b=g[m]-1;while(b!=-1){d=l[b];
if(x[d<<1]==0&&G[b+2>>1]>0&&d!=k){x[d<<1]=m+1;x[(d<<1)+1]=b;a.push(d)}b=l[b+1]-1}if(x[L<<1]!=0){break}}if(x[L<<1]==0){break}var I=1e30;
d=L;while(!0){var v=x[d<<1]-1;if(v==-1)break;var W=x[(d<<1)+1];I=Math.min(I,G[W+2>>1]);d=v}d=L;while(!0){var v=x[d<<1]-1;
if(v==-1)break;var W=x[(d<<1)+1],B=W^4;G[W+2>>1]-=I;G[B+2>>1]+=I;d=v}P+=I}var n=[];for(var t=0;t<r;t+=2){var v=E[t],d=E[t+1];
if((x[v<<1]!=0||v==k)&&x[d<<1]==0&&d!=k){n.push(t>>1)}if((x[d<<1]!=0||d==k)&&x[v<<1]==0&&v!=k){n.push(r+t>>1)}}return{bt:n,Kc:P}};
e.Wo.WI=function(z){z|=z>>1;z|=z>>2;z|=z>>4;z|=z>>8;z|=z>>16;this.bi=new Uint32Array(z+1);this.bD=z;
this.bY=0;this.bk=0};e.Wo.WI.prototype={push:function(z){var r=this.bk;this.bi[r]=z;this.bk=r+1&this.bD},pop:function(){var z=this.bY,r=this.bi[z];
this.bY=z+1&this.bD;return r},Ws:function(){return this.bY==this.bk},reset:function(){this.bY=0;this.bk=0}};
e.Wo.Wt=function(z){z|=z>>1;z|=z>>2;z|=z>>4;z|=z>>8;z|=z>>16;this.bi=new Uint32Array(z+1);this.bj=new Uint32Array(z+1);
this.bD=z;this.bY=0;this.bk=0};e.Wo.Wt.prototype={top:function(){return this.bi[this.bY]},mKc:function(){return this.bi[this.bk]},push:function(z){if(this.bj[z]!=0)return;
this.bj[z]=this.bk+1;var r=this.bk;this.bi[r]=z;this.bk=r+1&this.bD},pop:function(){var z=this.bY,r=this.bi[z];
this.bj[r]=0;this.bY=z+1&this.bD;return r},Ws:function(){return this.bY==this.bk},remove:function(z){var r=this.bj[z]-1;
if(r==-1)return;this.bj[z]=0;if(r==this.bY){this.pop();return}var k=this.pop();this.bi[r]=k;this.bj[k]=r+1},W$:function(z){return z+this.bD+1&this.bD}};
e.Wo.Wd=function(z,r,k){var L=e.Wo.Wm(z,r,k);if(r<L-1)e.Wo.Wd(z,r,L-1);if(L<k)e.Wo.Wd(z,L,k)};e.Wo.Wm=function(z,r,k){var L=z[r+k>>>1];
while(r<=k){while(z[r]<L)r++;while(z[k]>L)k--;if(r<=k){e.Wo.WS(z,r,k);r++;k--}}return r};e.Wo.WS=function(z,r,k){var L=z[r];
z[r]=z[k];z[k]=L};e.b={};e.b.clone=function(z){return{be:z.be.slice(0),O:z.O.slice(0)}};e.b.Wb=function(z){if(z.length<6)return!0;
var r=z.length-4;for(var k=0;k<r;k+=2)if(!e.b.Wi(z[k],z[k+1],z[k+2],z[k+3],z[k+4],z[k+5]))return!1;if(!e.b.Wi(z[r],z[r+1],z[r+2],z[r+3],z[0],z[1]))return!1;
if(!e.b.Wi(z[r+2],z[r+3],z[0],z[1],z[2],z[3]))return!1;return!0};e.b.Wi=function(z,r,k,L,E,F){return(r-L)*(E-k)+(k-z)*(F-L)>=0};
e.b.mWB=function(z){var r={},k=null,L=0,E={M:2,L:2,Q:4,C:6};for(var F=0;F<z.be.length;F++){var U=z.be[F];
if(U.charAt(0)=="#"){if(r[U]==null)r[U]={O:[],be:[]};k=r[U]}else if(U!="X"){k.be.push(U);var l=E[U];
if(l==null)l=0;for(var G=0;G<l;G++)k.O.push(z.O[L+G]);L+=l}}return r};e.b.mma=function(z){var r=[{type:6},{type:8,all:0}],k=z.O,L=z.be,E=0,F,U,l=!0;
for(var G=0;G<L.length;G++){var g=L[G];if(g=="M"){if(F==null){F={type:0,length:0,bF:l?1:-1,iS:2};r.push(F)}var P=new V(k[E],k[E+1]);
U={type:1,im:P.clone(),W:P,iP:P.clone()};r.push(U);E+=2;l=!1}if(g=="C"){var P=new V(k[E+4],k[E+5]),J=r[r.length-1],x;
if(L[G+1]=="Z"&&P.Jq(U.W)){x=U}else{x={type:1,im:P.clone(),W:P,iP:P.clone()};r.push(x)}J.iP=new V(k[E],k[E+1]);
x.im=new V(k[E+2],k[E+3]);E+=6}if(g=="Z"){F.length=r.length-r.indexOf(F)-1;F=null}if(g=="X")l=!0}if(F&&F.length==0)F.length=r.length-r.indexOf(F)-1;
return r};e.b.Wk=function(z){var r={O:[],be:[]};for(var k=0;k<z.length;k++){if(z[k].type>5)continue;
var L=z[k].length;if(k==z.length-1)break;var E=z[k].type==3;e.b.mm_(r,z,k+1,L,E);if(!E)r.be.push("Z");
k+=L}return r};e.b.mm_=function(z,r,k,L,E){var F=r[k],U=null;z.O.push(F.W.x,F.W.y);z.be.push("M");for(var l=k;
l<k+L-1;l++){F=r[l];U=r[l+1];if(F.iP.Jq(F.W)&&U.im.Jq(U.W)){z.O.push(U.W.x,U.W.y);z.be.push("L")}else{z.O.push(F.iP.x,F.iP.y,U.im.x,U.im.y,U.W.x,U.W.y);
z.be.push("C")}}if(!E){F=r[l];U=r[k];if(F.iP.Jq(F.W)&&U.im.Jq(U.W)){z.O.push(U.W.x,U.W.y);z.be.push("L")}else{z.O.push(F.iP.x,F.iP.y,U.im.x,U.im.y,U.W.x,U.W.y);
z.be.push("C")}}};e.b.mEa=function(z){var r=z.O,k=[],L,E=0;for(var F=0;F<z.be.length;F++){var U=z.be[F];
if(U=="C"){L.push(r[E++],r[E++],r[E++],r[E++],r[E++],r[E++])}else if(U=="Z"){}else{L=[];if(U!="M"){L.push(U);
F++}L.push(r[E++],r[E++]);k.push(L)}}return k};e.b.We=function(z,r,k,L){for(var E=0;E<z.length;E+=2){var F=z[E],U=z[E+1],l=r[E],G=r[E+1];
k[E]=F+(l-F)*L;k[E+1]=U+(G-U)*L}};e.b.Wg=function(z,r,k){for(var L=0;L<z.length;L+=2){var E=z[L],F=z[L+1];
k[L]=E*r.n+F*r.bq+r.bo;k[L+1]=E*r.g+F*r.br+r.bL}};e.b.GF=function(z){var r=99999999999,k=-r,L=99999999999,E=-L;
for(var F=0;F<z.length;F+=2){var U=z[F],l=z[F+1];r=Math.min(r,U);L=Math.min(L,l);k=Math.max(k,U);E=Math.max(E,l)}return new Z(r,L,k-r,E-L)};
e.b.WF=function(z,r){var k=Math.max(r.x,Math.min(r.x+r.X,z.x)),L=Math.max(r.y,Math.min(r.y+r.z,z.y)),E=z.x-k,F=z.y-L;
return Math.sqrt(E*E+F*F)};e.b.MS=function(z){if(z.z$())return new Z(Math.floor(z.x),Math.floor(z.y),Math.ceil(z.X),Math.ceil(z.z));
var r=Math.floor(z.x),k=Math.ceil(z.x+z.X),L=Math.floor(z.y),E=Math.ceil(z.y+z.z);return new Z(r,L,k-r,E-L)};
e.b.Mm=function(z){return e.b.MS(e.b.GF(z))};e.b.MJ=function(z){var r=z.x,k=z.y,L=z.x+z.X,E=z.y+z.z;
return{be:["M","L","L","L","L"],O:[r,k,L,k,L,E,r,E,r,k]}};e.b.concat=function(z,r,k){if(k==null)k=new zT;
for(var L=0;L<r.O.length;L+=2){var E=r.O[L],F=r.O[L+1];z.O.push(E*k.n+F*k.bq+k.bo);z.O.push(E*k.g+F*k.br+k.bL)}for(var L=0;
L<r.be.length;L++)z.be.push(r.be[L])};e.b.MP=function(z){var r=z.O,k=[],L=[],E=0,F=0,U=0,l=0,G=0,g=0,P=0,J=0,x=0;
for(var a=0;a<z.be.length;a++){var d=z.be[a];if(d=="M"){F=r[E];U=r[E+1];E+=2;L.push(d);k.push(F,U)}else if(d=="C"){l=r[E];
G=r[E+1];g=r[E+2];P=r[E+3];J=r[E+4];x=r[E+5];E+=6;L.push(d);k.push(l,G,g,P,J,x);F=J;U=x}else if(d=="Q"){l=r[E];
G=r[E+1];g=r[E+2];P=r[E+3];E+=4;var t=l-F,m=G-U,b=g-l,I=P-G;L.push("C");k.push(F+2/3*t,U+2/3*m,l+1/3*b,G+1/3*I,g,P);
F=g;U=P}else if(d=="L"){l=r[E];G=r[E+1];E+=2;var v=l-F,W=G-U;L.push("C");k.push(F,U,l,G,l,G);F=l;U=G}else L.push(d)}return{be:L,O:k}};
e.b.Mz=function(z,r){var k=z.O,L=[],E=[],F=0,U=0,l=0,G=0,g=0,P=0,J=0,x=0,a=0;for(var d=0;d<z.be.length;
d++){var t=z.be[d];if(t=="M"){U=k[F];l=k[F+1];F+=2;E.push(t);L.push(U,l)}else if(t=="C"){G=k[F];g=k[F+1];
P=k[F+2];J=k[F+3];x=k[F+4];a=k[F+5];F+=6;e.b.MG(U,l,G,g,P,J,x,a,r,E,L,0);U=x;l=a}else E.push(t)}return{be:E,O:L}};
e.b.MG=function(z,r,k,L,E,F,U,l,G,g,P,J){var x=Math.sqrt((U-z)*(U-z)+(l-r)*(l-r)),a=Math.sqrt((U-E)*(U-E)+(l-F)*(l-F))+Math.sqrt((E-k)*(E-k)+(F-L)*(F-L))+Math.sqrt((k-z)*(k-z)+(L-r)*(L-r)),d=(x+a)/2;
if(d<=G){g.push("C");P.push(k,L,E,F,U,l)}else{var t=0,m=0,b=0,I=0,v=0,W=0,B=0,n=0,j=0,p=0,X=0,M=0,H=0;
m=(z+k)/2;b=(r+L)/2;I=(k+E)/2;v=(L+F)/2;W=(E+U)/2;B=(F+l)/2;n=(m+I)/2;j=(b+v)/2;p=(I+W)/2;X=(v+B)/2;
M=(n+p)/2;H=(j+X)/2;e.b.MG(z,r,m,b,n,j,M,H,G,g,P,J+1);e.b.MG(M,H,p,X,W,B,U,l,G,g,P,J+1)}};e.b.mxX=function(z,r){var k=r.slice(0),L=z.length/2,E=.553,F=[],U=[];
for(var l=0;l<L;l++){var G=(l+1)%L,g=z[2*l]-z[2*G],P=z[2*l+1]-z[2*G+1];U.push(Math.sqrt(g*g+P*P))}for(var l=0;
l<L;l++){var J=(l-1+L)%L,G=(l+1)%L,x=r[l],a=x+r[J],d=x+r[G];if(a!=0)k[l]=Math.min(k[l],U[J]*x/a);if(d!=0)k[l]=Math.min(k[l],U[l]*x/d)}for(var l=0;
l<L;l++){var G=(l+1)%L,t=(l+2)%L,m=k[l],b=k[G],I=z[2*l],v=z[2*l+1],W=z[2*G],B=z[2*G+1],n=z[2*t],j=z[2*t+1],p=0,X=0,M=0,H=0;
if(U[l]!=0){p=(W-I)/U[l];X=(B-v)/U[l]}if(U[G]!=0){M=(n-W)/U[G];H=(j-B)/U[G]}F.push(I+m*p,v+m*X,I+m*p,v+m*X,W-b*p,B-b*X);
F.push(W-b*p,B-b*X,W-b*p*(1-E),B-b*X*(1-E),W+b*M*(1-E),B+b*H*(1-E))}return F};e.MM=function(){};e.MM.MM=function(z,r,k){var L=z,E=r,F=k,U=1;
while(z.Y()>110*110){var l=e.$(z.Y()*4);e.JN(k,l,3);var G=e.Jv(l,z),g=e.Jv(r,z);z=g.rect;r=g.bT;k=e.$(z.Y());
e.Jw(G.bT,k,3);U*=2}var P=Date.now(),J=e.MM.MQ(z,r,k);if(U!=1){var P=Date.now(),x=e.$(z.Y()*4);e.JN(J,x,3);
var a=A.s.NZ([x,z],new zT(L.X/z.X,0,0,L.z/z.z,0,0),!1);a.rect.x=L.x;a.rect.y=L.y;J=e.$(L.Y());e.Jd(a.buffer,a.rect,J,L);
var P=Date.now();J=e.MM.MQ(L,E,J)}return J};e.MM.MQ=function(z,r,k){var L=z.X,E=z.z,F=z.X*z.z,U=new Uint8Array(F),l=new Uint8Array(F),G=e.clone(r),g=e.clone(r),J,x,W=0,B=0,u=0;
for(var P=0;P<F;P++){if(k[P]==0){U[P]=0;l[P]=0;g[(P<<2)+3]=0}else if(k[P]==255){U[P]=1;l[P]=2;G[(P<<2)+3]=0}else{U[P]=0;
l[P]=1;g[(P<<2)+3]=0}}for(var a=0;a<2;a++){var d=a==0?G:g,t=[],m=e.clone(d);for(var P=0;P<m.length;P+=4)if(m[P+3]==0){m[P]=m[P+1]=m[P+2]=0}var b=UPNG.quantize(m.buffer,6).plte;
for(var P=1;P<b.length;P++){var I=b[P].est;t.push({iz:I.q,iG:[0,0,0,0],OJ:0,OM:null,iW:null,iM:0,WC:0,iQ:null})}if(a==0)x=t;
else J=t}var v=new Float32Array(L*E*2);for(var n=0;n<E;n++)for(var j=0;j<L;j++){var P=n*L+j,p=P<<2,X=0,M=0,H=0,c=0;
if(j!=L-1){var a=P+1,S=a<<2;X=r[p]-r[S];M=r[p+1]-r[S+1];H=r[p+2]-r[S+2];c=X*X+M*M+H*H;v[P+P]=c;W+=c;
B++}if(n!=E-1){var w=P+L,R=w<<2;X=r[p]-r[R];M=r[p+1]-r[R+1];H=r[p+2]-r[R+2];c=X*X+M*M+H*H;v[P+P+1]=c;
W+=c;B++}}var i=W/B;for(var P=0;P<v.length;P++)v[P]=50*Math.exp(-.001*v[P]);var f=new Uint16Array(F),_=new Uint16Array(F),Q=Date.now();
while(!0){u++;if(J.length==0||x.length==0)break;e.MM.mmj(J,x,_,f,r,U);if(J.length==0||x.length==0)break;
var $=[],C=[],B=0,y=Date.now(),GS=0,Gm=0;for(var n=0;n<E;n++)for(var j=0;j<L;j++){var P=n*L+j,p=P<<2,N=U[P],O=l[P];
if((O==0||O==2)&&(j==0||l[P-1]==O)&&(j==L-1||l[P+1]==O)&&(n==0||l[P-L]==O)&&(n==E-1||l[P+L]==O))continue;
if(j!=L-1){$.push(P,P+1);C.push(v[P+P],v[P+P])}if(n!=E-1){$.push(P,P+L);C.push(v[P+P+1],v[P+P+1])}var z=r[p]*(1/255),JQ=r[p+1]*(1/255),zf=r[p+2]*(1/255),ze=e.MM.Mu(x,f[P],z,JQ,zf),zg=e.MM.Mu(J,_[P],z,JQ,zf);
if(isNaN(ze))throw"a";if(isNaN(zg))throw"b";if(O==0){ze=0;zg=1e9}if(O==2){ze=1e9;zg=0}$.push(F,P);C.push(ze,0);
$.push(P,F+1);C.push(zg,0)}var zF=e.Wo.WU(F+2,$.length,F,F+1,$,C,1e20);if(zF.bt==null){console.log("no cut");
break}for(var P=0;P<zF.bt.length;P++){var GJ=zF.bt[P]<<1,GP=0,Gz=0,GG=0;if(GJ<$.length){GP=$[GJ];Gz=$[GJ+1];
GG=C[GJ]}else{Gz=$[GJ];GP=$[GJ+1];GG=C[GJ+1]}if(GP==F&&U[Gz]!=0){GS++;U[Gz]=0}if(Gz==F+1&&U[GP]!=1){Gm++;
U[GP]=1}}if(GS+Gm<=.02*F||u>5||Date.now()-Q>500)break}var GW=e.$(F*4),GM=e.$(F);for(var P=0;P<r.length;
P+=4){if(U[P>>2]==0)continue;GW[P]=r[P];GW[P+1]=r[P+1];GW[P+2]=r[P+2];GW[P+3]=r[P+3];GM[P>>2]=255}return GM};
e.MM.Mu=function(z,r,k,L,E){var F=0,U=z[r],l=k-U.iz[0],G=L-U.iz[1],g=E-U.iz[2];if(U.OJ==0||U.WC<1e-20)F+=.99;
else{F+=U.iM*(1/Math.sqrt(U.WC))*Math.exp(-.5*e.MM.mJL(l,G,g,U.iQ))}var P=F>=1?0:-Math.log(F);if(isNaN(P)){console.log(F);
console.log(U);console.log(z);console.log(U.WC,Math.sqrt(U.WC),1/Math.sqrt(U.WC));throw"e"}return P};
e.MM.mmj=function(z,r,k,L,E,F){for(var U=0;U<2;U++){var l=U==0?r:z;for(var G=0;G<l.length;G++){var g=l[G];
g.OJ=0;g.iG=[0,0,0,0];g.iW=[0,0,0,0,0,0,0,0,0]}}for(var G=0;G<E.length;G+=4){var P=E[G]*(1/255),J=E[G+1]*(1/255),x=E[G+2]*(1/255),l,a;
L[G>>2]=e.MM.ME(r,P,J,x);k[G>>2]=e.MM.ME(z,P,J,x);if(F[G>>2]==0){l=r;a=L[G>>2]}else{l=z;a=k[G>>2]}var g=l[a],d=g.iW,t=g.iz;
g.OJ++;var m=P-t[0],b=J-t[1],I=x-t[2];g.iG[0]+=P;g.iG[1]+=J;g.iG[2]+=x;d[0]+=m*m;d[1]+=m*b;d[2]+=m*I;
d[3]+=b*m;d[4]+=b*b;d[5]+=b*I;d[6]+=I*m;d[7]+=I*b;d[8]+=I*I}for(var U=0;U<2;U++){var l=U==0?z:r,v=0;
for(var G=0;G<l.length;G++)v+=l[G].OJ;if(v==0)continue;for(var G=0;G<l.length;G++){var g=l[G],W=1/g.OJ,B=g.OM=[];
g.iz=[g.iG[0]*W,g.iG[1]*W,g.iG[2]*W];g.iM=g.OJ/v;var m=g.iG[0],b=g.iG[1],I=g.iG[2],n=[m*m,m*b,m*I,b*m,b*b,b*I,I*m,I*b,I*I],j=[];
for(var p=0;p<9;p++)j[p]=g.iW[p]-n[p]*W;for(var p=0;p<9;p++)B[p]=g.iW[p]*W;var X=e.WR.W_(B);g.WC=e.WR.WC(X);
g.iQ=e.WR.mWt(e.WR.Jo(X))}}};e.MM.ME=function(z,r,k,L){var E=0,F=1e9;for(var U=0;U<z.length;U++){var l=z[U].iz,G=r-l[0],g=k-l[1],P=L-l[2],J=G*G+g*g+P*P;
if(J<F){F=J;E=U}}return E};e.MM.mJL=function(z,r,k,L){var E=z*L[0]+r*L[3]+k*L[6],F=z*L[1]+r*L[4]+k*L[7],U=z*L[2]+r*L[5]+k*L[8];
return E*z+F*r+U*k};e.Mx=function(){};e.Mx.Gd=function(z,r,k,L,E){var F=k.X,U=k.z,l=F*U,G=new Int32Array(l),g=0;
for(var P=0;P<l;P++)if(r[P]!=0){G[P]=g;g++}else if(z[(P<<2)+3]<200){G[P]=-2}else G[P]=-1;if(g==0)return;
var J=new e.Mf(g,g),x=new Float64Array(3*g),a=1/255,d=[-F,-1,1,F],t=[],m=[];for(var b=0;b<U;b++)for(var I=0;
I<F;I++){var v=b*F+I,W=v<<2,P=G[v],B=P*3,n=0,j=0,p=0;if(P==-1||P==-2)continue;for(var X=0;X<4;X++){if(X==2){j=p;
t[p]=0;m[p]=P;p++}var M=v+d[X],H=M<<2,c=G[M];if(X==0&&b==0||X==1&&I==0||X==2&&I==F-1||X==3&&b==U-1||c==-2)continue;
n++;if(c==-1){x[B+0]+=z[H+0];x[B+1]+=z[H+1];x[B+2]+=z[H+2]}else{t[p]=-1;m[p]=c;p++;if(r[v]==r[M]){x[B+0]+=z[W+0]-z[H+0];
x[B+1]+=z[W+1]-z[H+1];x[B+2]+=z[W+2]-z[H+2]}}}t[j]=n;J.GW(t,m,p)}var S=new Float64Array(3*g);for(var P=0;
P<l;P++)if(G[P]!=-1){var w=P<<2,R=G[P],i=R*3;S[i]=z[w+0];S[i+1]=z[w+1];S[i+2]=z[w+2]}J.mMJ(S,x,L,E);
for(var P=0;P<l;P++){var R=G[P],f=R*3,w=P<<2;if(R==-1)continue;z[w+0]=~~(.5+Math.max(0,Math.min(255,S[f+0])));
z[w+1]=~~(.5+Math.max(0,Math.min(255,S[f+1])));z[w+2]=~~(.5+Math.max(0,Math.min(255,S[f+2])))}};e.rect={};
e.rect.Ma=function(z){var r=new Z;for(var k=0;k<z.length;k++)r=r.MD(z[k]);return r};e.rect.mau=function(z,r){var k=e.rect.Ma,L=new UnionFind(z.length),j=1e3,p=1e3;
for(var E=0;E<z.length;E++)for(var F=E+1;F<z.length;F++){if(!r)continue;var U=z[E],l=z[F],x=1e9,a=1e9;
if(U.ak(l)){L.link(E,F);continue}var G=U.x+U.X,g=U.y+U.z,P=l.x+l.X,J=l.y+l.z;if((G<l.x||P<U.x)&&(g<l.y||J<U.y))continue;
if(!(g<l.y||J<U.y))x=Math.min(Math.abs(G-l.x),Math.abs(U.x-P));if(!(G<l.x||P<U.x))a=Math.min(Math.abs(g-l.y),Math.abs(U.y-J));
var d=Math.min(x,a),t=Math.min(U.X,U.z,l.X,l.z);if(d<.3*t)L.link(E,F)}var m=[],b={};for(var E=0;E<z.length;
E++){var I=L.find(E),v=z[E];if(b[I]==null){b[I]=m.length;m.push([])}m[b[I]].push(v)}var W=[],B=[];for(var E=0;
E<m.length;E++){W.push(k(m[E]));var n=k(m[E]);n.W$=E;B.push(n)}B.sort(function(_,u){return Math.max(u.z,u.X)-Math.max(_.z,_.X)});
var X=new NETXUS.RectanglePacker(j,p);while(!0){var M=!1;X.reset(j,p);for(var E=0;E<B.length;E++){var H=X.findCoords(B[E].X,B[E].z);
if(H){B[E].x=H.x;B[E].y=H.y}else{j=Math.floor(j*1.1);p=Math.floor(p*1.1);M=!0;break}}if(M)continue;break}for(var E=0;
E<m.length;E++){var c=B[E],S=c.W$,w=W[S],R=m[S],i=c.x-w.x,f=c.y-w.y;for(var F=0;F<R.length;F++)R[F].offset(i,f)}};
e.MB=function(){};e.MB.MA=Math.floor(16*window.devicePixelRatio);e.MB.Mh={};e.MB.MT=0;e.MB.MR=["Pixels","Inches","Centimeters","Millimeters"];
e.MB.mch=function(z,r){var k=Math.round(e.MB.MA*.5);e.MB.MT=k;var L=document.createElement("canvas");
L.width=L.height=k;var E=L.getContext("2d");E.font=k*1.5+"px monospace";var F="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var U=0;U<F.length;U++){E.fillStyle="#"+e.mk(r);E.fillRect(0,0,k,k);E.fillStyle="#"+e.mk(z);E.fillText(F[U],0,k);
e.MB.Mh[F[U]]=E.getImageData(0,0,k,k).data}};e.MB.mcZ=function(z,r,k){var L=0,E=0,F=4*e.MB.MA;for(var U=9;
U>=0;U--){var l=Math.pow(10,U);if(5*l*z<=F){L=5*l;E=10;break}if(2*l*z<=F){L=2*l;E=4;break}if(1*l*z<=F){L=1*l;
E=10;break}}if(L==0){L=1;E=10}var G=Math.ceil(L*z),g=e.$(G*e.MB.MA*4);e.JV(g,4278190080|k);for(var U=0;
U<e.MB.MA;U++)e.MB.MV(g,4*U*G,r);for(var U=0;U<G;U++)e.MB.MV(g,4*((e.MB.MA-1)*G+U),r);if(L==2)E=2;if(L==5)E=5;
if(L>1||L==1&&G>20)for(var U=1;U<E;U++)e.MB.mcC(g,U*(G/E),G,(U&1)==1?.8:.7,r);return{iu:g,step:L}};e.MB.mcC=function(z,r,k,L,E){var r=Math.round(r);
for(var F=Math.round(e.MB.MA*L);F<e.MB.MA-1;F++)e.MB.MV(z,4*(F*k+r),E)};e.MB.MV=function(z,r,k){z[r+0]=k>>16&255;
z[r+1]=k>>8&255;z[r+2]=k&255};e.MB.mBl=function(z,r,k){var L=r&255,E=r>>8&255,F=r>>16&255,b,I,v,W;r=Math.round(L*.6)<<16|Math.round(E*.6)<<8|Math.round(F*.6);
e.MB.mch(Math.round(L*.8)<<16|Math.round(E*.8)<<8|Math.round(F*.8),k);var U=this.mcZ(z.o,r,k),l=z.q_(0,0),G=z.q_(z.l.X,z.l.z),g=Math.floor(l.x/U.step)*U.step,P=Math.ceil(G.x/U.step)*U.step,J=Math.floor(l.y/U.step)*U.step,x=Math.ceil(G.y/U.step)*U.step,a=z.qZ(g,J),d=z.qZ(P,J),t=U.step*z.o,m=Math.ceil(t);
b=z.iE.data;I=new Z(0,0,z.l.X,e.MB.MA);v=new Z(0,0,m,e.MB.MA);W=new Z(0,Math.round(e.MB.MA*.08),e.MB.MT,e.MB.MT);
for(var B=0;B<(P-g)/U.step;B++){v.x=Math.round(a.x+B*t);e.Jb(U.iu,v,b,I,v);var n=(g+B*U.step).toString(10);
for(var j=0;j<n.length;j++){W.x=v.x+3+j*Math.round(e.MB.MT*.8);var p=e.MB.Mh[n[j]];e.Jb(p,W,b,I,W)}}var X=new Uint32Array(U.iu.buffer),M=new Uint32Array(U.iu.length);
for(var H=0;H<m;H++)for(var c=0;c<e.MB.MA;c++){M[H*e.MB.MA+c]=X[c*m+H]}U.iu=new Uint8Array(M.buffer);
b=z.il.data;I=new Z(0,0,e.MB.MA,z.l.z);v=new Z(0,0,e.MB.MA,m);W=new Z(Math.round(e.MB.MA*.2),0,e.MB.MT,e.MB.MT);
for(var B=0;B<(x-J)/U.step;B++){v.y=Math.round(a.y+B*t);e.Jb(U.iu,v,b,I,v);var n=Math.abs(J+B*U.step).toString(10);
for(var j=0;j<n.length;j++){W.y=v.y+3+j*Math.round(e.MB.MT*1.15);var p=e.MB.Mh[n[j]];e.Jb(p,W,b,I,W)}}};
e.scale={};e.scale.M_=document.createElement("canvas");e.scale.MZ=e.scale.M_.getContext("2d");e.scale.mGN=document.createElement("canvas");
e.scale.mWY=e.scale.mGN.getContext("2d");e.scale.Mo=function(z,r,k){var L=e.scale.M_,E=e.scale.MZ;L.width=r;
L.height=k;var F=E.createImageData(r,k),U=z.length;for(var l=0;l<U;l++)F.data[l]=z[l];E.putImageData(F,0,0);
return E.createPattern(L,"repeat")};e.scale.mEG=function(z,r,k,L,E,F,U,l){var G=e.scale.MU(z,k,L,E,F,U,l);
e.JR(G.data,r)};e.scale.mBZ=function(z,r,k,L,E,F,U,l){var G=e.scale.MU(z,k,L,E,F,U,l);e.JZ(G.data,r)};
e.scale.MU=function(z,r,k,L,E,F,U){var l=e.scale.M_,G=e.scale.MZ;l.width=r;l.height=k;G.rect(0,0,r,k);
G.translate(F,U);G.scale(L,E);G.fillStyle=z;G.fill();return G.getImageData(0,0,r,k)};e.scale.Mn=function(z,r,k,L,E,F,U){if(U<1)e.scale.mQw(z,r,k,L,E,F,Math.round(1/U));
else e.scale.mus(z,r,k,L,E,F,U)};e.scale.Mv=function(z,r,k,L,E,F,U,l){if(l)l=l.Mk(new Z(0,0,r,k));z=new Uint32Array(z.buffer);
L=new Uint32Array(L.buffer);if(U<1)e.scale.mub(z,r,k,L,E,F,Math.round(1/U),l);else e.scale.mEU(z,r,k,L,E,F,U)};
e.scale.mus=function(z,r,k,L,E,F,U){for(var l=0;l<k;l++)for(var G=0;G<r;G++){var g=z[l*r+G],P=Math.min(U,E-G*U),J=Math.min(U,F-l*U);
for(var x=0;x<J;x++)for(var a=0;a<P;a++)L[(U*l+x)*E+U*G+a]=g}};e.scale.mQw=function(z,r,k,L,E,F,U){for(var l=0;
l<F;l++)for(var G=0;G<E;G++){var g=0,P=Math.min(U,r-G*U),J=Math.min(U,k-l*U);for(var x=0;x<J;x++)for(var a=0;
a<P;a++)g+=z[(U*l+x)*r+(U*G+a)];L[l*E+G]=Math.round(g/(P*J))}};e.scale.mEU=function(z,r,k,L,E,F,U){for(var l=0;
l<k;l++)for(var G=0;G<r;G++){var g=z[l*r+G],P=Math.min(U,E-G*U),J=Math.min(U,F-l*U);for(var x=0;x<J;
x++)for(var a=0;a<P;a++)L[(U*l+x)*E+U*G+a]=g}};e.scale.mub=function(z,r,k,L,E,F,U,l){var G=0,g=E,P=0,J=F;
if(l){G=Math.floor(l.x/U);g=Math.ceil((l.x+l.X)/U);P=Math.floor(l.y/U);J=Math.ceil((l.y+l.z)/U)}for(var x=P;
x<J;x++)for(var a=G;a<g;a++){var d=0,t=0,m=0,b=0,I=Math.min(U,r-a*U),v=Math.min(U,k-x*U);for(var W=0;
W<v;W++)for(var B=0;B<I;B++){var n=z[(U*x+W)*r+U*a+B],j=n>>>24;d+=j;t+=j*(n>>>16&255);m+=j*(n>>>8&255);
b+=j*(n&255)}if(d!=0){var p=1/d;L[x*E+a]=d/(I*v)<<24|t*p<<16|m*p<<8|b*p}else L[x*E+a]=0}};e.i={};e.i.mEn=function(z,r,k){var L=128,E=0,F=k.X,U=k.z;
for(var l=0;l<U;l++)for(var G=0;G<F;G++){if(z[E]>=L&&(G==0||z[E-1]<L||(G==F-1||z[E+1]<L)||(l==0||z[E-F]<L)||(l==U-1||z[E+F]<L)))r[E]=255;
E++}};e.i.Md=function(z,r,k,L,E,F,U,l){if(E==null){E=0;F=0;U=k.X;l=k.z}var G=k.X,g=k.z;r=new Uint8Array(r.buffer);
var P=new Uint32Array(r.buffer);for(var J=F;J<l;J++){var x=J*G+E;for(var a=E;a<U;a++){if(z[x]>>7==1&&(J==0||z[x-G]>>7==0||(a==0||z[x-1]>>7==0)||(a==G-1||z[x+1]>>7==0)||(J==g-1||z[x+G]>>7==0))){P[x]=(a+J&4)==0?0:L;
r[(x<<2)+3]=255}x++}}};e.MH={};e.MH.Mb=function(z,r,k){var L,E;if(k=="front"){L=z.rect.clone();E=e.MH.mEX}if(k=="union"){L=z.rect.MD(r.rect);
E=e.MH.MD}if(k=="difference"){L=r.rect.clone();E=e.MH.mMc}if(k=="intersection"){L=z.rect.Mk(r.rect);
E=e.MH.Mk}if(k=="xor"){L=z.rect.MD(r.rect);E=e.MH.mSW}if(L.z$())return null;var F=e.$(L.Y());e.Jp(r.channel,r.rect,F,L);
var U=e.$(L.Y());e.Jp(z.channel,z.rect,U,L);E(U,F,F);var l=e.PM(F,L);if(l.z$())return null;if(!l.Jq(L)){var G=e.$(l.Y());
e.Jp(F,L,G,l);F=G;L=l}return{channel:F,rect:L}};e.MH.mEX=function(z,r,k){for(var L=0;L<z.length;L++)k[L]=z[L]};
e.MH.MD=function(z,r,k){for(var L=0;L<z.length;L++)k[L]=Math.min(z[L]+r[L],255)};e.MH.mMc=function(z,r,k){for(var L=0;
L<z.length;L++)k[L]=Math.max(r[L]-z[L],0)};e.MH.Mk=function(z,r,k){var L=1/255;for(var E=0;E<z.length;
E++)k[E]=z[E]*r[E]*L};e.MH.mSW=function(z,r,k){var L=1/255;for(var E=0;E<z.length;E++)k[E]=Math.min(z[E]+r[E],255)-z[E]*r[E]*L};
e.Mf=function(z,r){this.Q=[];this.ix=[0];this.ia=[];this.P_=[];this.ic=[];this.rows=z;this.cols=r;this.iB=!1};
e.Mf.prototype.GW=function(z,r,k){var L=this.ix.length-1;for(var E=0;E<k;E++){var F=z[E],U=r[E];if(U==L){this.P_.push(F);
this.ic.push(F==0?0:1/F)}else{this.Q.push(F);this.ia.push(U*3)}}this.ix.push(this.Q.length)};e.Mf.prototype.freeze=function(){if(this.iB)return;
this.iB=!0;this.iA=new Float64Array(this.Q)};e.Mf.prototype.mSa=function(z,r){this.freeze();var k=this.rows,L=this.iA,E=this.ix,F=this.ia,U=this.ic;
for(var l=0;l<3500;l++){var G=0;for(var g=0;g<k;g++){var P=r[g],J=E[g],x=E[g+1];if(x-J==4)P-=L[J]*z[F[J]]+L[J+1]*z[F[J+1]]+L[J+2]*z[F[J+2]]+L[J+3]*z[F[J+3]];
else for(var a=J;a<x;a++)P-=L[a]*z[F[a]];z[g]=U[g]*P}}};e.Mf.prototype.mMJ=function(z,r,k,L){var E=Date.now(),F=1.96;
this.freeze();if(k==null)k=5e-5;if(L==null)L=1e9;var U=1-F,l=this.rows,G=this.iA,g=this.ix,P=this.ia,J=this.ic;
while(!0){var x=0;for(var a=0;a<l;a++){var d=a*3,t=r[d],m=r[d+1],b=r[d+2],I=g[a],v=g[a+1];if(v-I==4){var W=G[I],B=G[I+1],n=G[I+2],j=G[I+3],p=P[I],X=P[I+1],M=P[I+2],H=P[I+3];
t-=W*z[p+0]+B*z[X+0]+n*z[M+0]+j*z[H+0];m-=W*z[p+1]+B*z[X+1]+n*z[M+1]+j*z[H+1];b-=W*z[p+2]+B*z[X+2]+n*z[M+2]+j*z[H+2]}else for(var c=I;
c<v;c++){var W=G[c],p=P[c];t-=W*z[p+0];m-=W*z[p+1];b-=W*z[p+2]}var S=J[a]*F,w=z[d+0]*U+t*S,R=z[d+1]*U+m*S,i=z[d+2]*U+b*S,f=w-z[d+0],_=R-z[d+1],u=i-z[d+2];
x+=.4*f*f+.5*_*_+.1*u*u;z[d+0]=w;z[d+1]=R;z[d+2]=i}if(x/l<k||Date.now()>E+L)break}};e.MF={};e.MF.QS=function(z,r,k){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:z},Vrtc:{t:"doub",v:r},Cnty:{t:"bool",v:k}}}};
e.MF.Qm={};e.MF.Qm.WU=function(z,r){var k=z.length;for(var L=0;L<k;L++){var E=0,F=Number.NEGATIVE_INFINITY;
for(var U=L;U<k;U++)if(Math.abs(z[U][L])>F){E=U;F=Math.abs(z[U][L])}e.MF.Qm.mMe(z,L,E);for(var U=L+1;
U<k;U++){if(z[L][L]==0)return 1;var l=z[U][L]/z[L][L];for(var G=L;G<k+1;G++)z[U][G]-=z[L][G]*l}}for(var U=k-1;
U>=0;U--){if(z[U][U]==0)return 1;var g=z[U][k]/z[U][U];r[U]=g;for(var G=U-1;G>=0;G--){z[G][k]-=z[G][U]*g;
z[G][U]=0}}return 0};e.MF.Qm.mWg=function(z,r){var k=[];for(var L=0;L<z;L++){k.push([]);for(var E=0;
E<r;E++)k[L].push(0)}return k};e.MF.Qm.mSN=function(z){for(var r=0;r<z.length;r++)console.log(JSON.stringify(z[r]))};
e.MF.Qm.mMe=function(z,r,k){var L=z[r];z[r]=z[k];z[k]=L};e.MF.QG=function(z,r,k){var L=z.length-1,E=e.MF.Qm.mWg(L+1,L+2);
for(var F=1;F<L;F++){E[F][F-1]=1/(z[F]-z[F-1]);E[F][F]=2*(1/(z[F]-z[F-1])+1/(z[F+1]-z[F]));E[F][F+1]=1/(z[F+1]-z[F]);
E[F][L+1]=3*((r[F]-r[F-1])/((z[F]-z[F-1])*(z[F]-z[F-1]))+(r[F+1]-r[F])/((z[F+1]-z[F])*(z[F+1]-z[F])))}E[0][0]=2/(z[1]-z[0]);
E[0][1]=1/(z[1]-z[0]);E[0][L+1]=3*(r[1]-r[0])/((z[1]-z[0])*(z[1]-z[0]));E[L][L-1]=1/(z[L]-z[L-1]);E[L][L]=2/(z[L]-z[L-1]);
E[L][L+1]=3*(r[L]-r[L-1])/((z[L]-z[L-1])*(z[L]-z[L-1]));e.MF.Qm.WU(E,k)};e.MF.mQB=function(z,r,k,L){if(z<=r[0])return k[0];
if(z>=r[r.length-1])return k[r.length-1];var E=1;while(r[E]<z)E++;var F=r[E],U=r[E-1],l=k[E],G=k[E-1],g=(z-U)/(F-U),P=L[E-1]*(F-U)-(l-G),J=-L[E]*(F-U)+(l-G),x=(1-g)*G+g*l+g*(1-g)*(P*(1-g)+J*g);
return x};e.MF.QM=function(z,r,k,L){var E={ih:[z[0]],iT:[r[0]],iR:[]};L[0]=E;for(var F=1;F<z.length-1;
F++){E.ih.push(z[F]);E.iT.push(r[F]);if(k[F]==!1){e.MF.QG(E.ih,E.iT,E.iR);E={ih:[z[F]],iT:[r[F]],iR:[]}}L[F]=E}E.ih.push(z[F]);
E.iT.push(r[F]);e.MF.QG(E.ih,E.iT,E.iR);L[F]=E};e.MF.QQ=function(z,r,k,L){if(z<=r[0])return k[0];if(z>=r[r.length-1])return k[r.length-1];
var E=1;while(r[E]<z)E++;var F=L[E-1];return e.MF.mQB(z,F.ih,F.iT,F.iR)};e.MF.Qu=function(z){var r={ih:[],iT:[],iw:[]};
for(var k=0;k<z.length;k++){r.ih[k]=z[k].v.Hrzn.v;r.iT[k]=z[k].v.Vrtc.v;r.iw[k]=z[k].v.Cnty?z[k].v.Cnty.v:!0}return r};
e.MF.QK=function(z,r){var k=e.MF.Qu(z),L=[];e.MF.QM(k.ih,k.iT,k.iw,L);var E=[];for(var F=0;F<r;F++)E[F]=1/255*Math.max(0,Math.min(255,e.MF.QQ(F*(255/(r-1)),k.ih,k.iT,L)));
return E};e.MF.mKu=function(z,r,k){var L=Math.round(z.length/20),E=r-z.length,F=k?(z[L]-z[0])/L:0,U=k?z[0]-E*F:z[z.length-1],l=[];
for(var G=0;G<E;G++)l.push(U+G*F);return k?l.concat(z):z.concat(l)};e.MF.Ql=function(z,r,k){var L=e.MF.Qu(z),E=[];
e.MF.QM(L.ih,L.iT,L.iw,E);var F=new Uint8Array(r),U=r/256;for(var l=0;l<r;l++)F[l]=Math.max(0,Math.min(r-1,e.MF.QQ(l*U,L.ih,L.iT,E)));
if(k){F[0]=0;if(F[1]>100)F[1]=.4*F[1];if(F[2]>150)F[1]=.7*F[2]}return F};e.MF.Qx=function(z,r){var k=new Uint8Array(z.length);
for(var L=0;L<z.length;L++)k[L]=r[z[L]];return k};e.MF.Qa=function(z,r,k){var L=Y.d("canvas","");L.width=r;
L.height=k;var E=L.getContext("2d"),F=e.MF.Ql(z,256);E.scale(r/255,k/255);E.fillStyle="#fff";E.fillRect(0,0,255,255);
E.fillStyle="#333";E.beginPath();E.moveTo(0,255);for(var U=0;U<F.length;U++)E.lineTo(U,255-F[U]);E.lineTo(255,255);
E.closePath();E.fill();return L.toDataURL()};e.style={};e.style.stroke=function(z,r,k,L){var E=k.X,F=k.z,U=new Float64Array(E*F);
e.style.QA(z,U,E,F);e.style.Qc(r,k,U,k,L)};e.style.Qc=function(z,r,k,L,E){var F=r.Mk(L),U=F.X,l=F.z;
E+=.5;var G=F.x-r.x,g=F.y-r.y,P=r.X,J=F.x-L.x,x=F.y-L.y,a=L.X;for(var d=0;d<l;d++){var t=(d+x)*a+J,m=(d+g)*P+G;
for(var b=0;b<U;b++){var I=Math.max(0,Math.min(1,E-k[t+b]));z[m+b]=Math.round(I*255)}}};e.style.mmc=function(z,r,k,L){for(var E=0;
E<k;E++)for(var F=0;F<r;F++){var U=E*r+F,l=0,G=0,g=z[U];if(F==0||E==0){l=z[U+1]-g;G=z[U+r]-g}else if(F==k-1||E==r-1){l=g-z[U-1];
G=g-z[U-r]}else{l=z[U+1]-z[U-1];G=z[U+r]-z[U-r]}if(l!=0||G!=0){var P=1/Math.sqrt(l*l+G*G);l*=P;G*=P}L[U+U]=l;
L[U+U+1]=G}};e.style.QA=function(z,r,k,L){var E=e.style.Qh(z,k,L);for(var F=0;F<L;F++)for(var U=0;U<k;
U++){var l=F*k+U,G=E[l*2],g=E[l*2+1],P=(F+g)*k+U+G;if(G==0&&g==0){r[l]=0;continue}var J=Math.sqrt(G*G+g*g),x=z[P]*(1/255),a=1/J,d=Math.abs(G)*a,t=Math.abs(g)*a;
if(t>d){var m=t;t=d;d=m}r[l]=J+e.style.ml_(d,t,x)}};e.style.Qh=function(z,r,k){var L=!0;for(var E=0;
E<z.length;E++)L=L&&(z[E]==0||z[E]==255);var F=new Int16Array(r*k*2);if(L)e.style.mKA(z,F,r,k);else e.style.mld(z,F,r,k);
return F};e.style.ml_=function(z,r,k){return(.5-k)*z};e.style.mld=function(z,r,k,L){var E=k*L;for(var F=0;
F<E;F++)if(z[F]==0){r[F*2]=16383;r[F*2+1]=16383}for(var U=1;U<=L-1;U++){var F=U*k;for(var l=0;l<=k-1;
l++)e.style.QN(r,z,k,F+l<<1,-1);for(var l=1;l<=k-1;l++)e.style.Qw(r,z,k,F+l<<1,-1);for(var l=k-2;l>=0;
l--)e.style.Qw(r,z,k,F+l<<1,1)}for(var U=L-2;U>=0;U--){var F=U*k;for(var l=0;l<=k-1;l++)e.style.QN(r,z,k,F+l<<1,1);
for(var l=1;l<=k-1;l++)e.style.Qw(r,z,k,F+l<<1,-1);for(var l=k-2;l>=0;l--)e.style.Qw(r,z,k,F+l<<1,1)}};
e.style.Qw=function(z,r,k,L,E){var F=(L>>>1)+E<<1,U=z[L],l=z[L+1],G=z[F]+E,g=z[F+1],P=G*G+g*g,J=U*U+l*l;
if(g!=16383&&(U==16383||Math.sqrt(P)+(.5-r[(L>>>1)+g*k+G]*(1/255))<Math.sqrt(J)+(.5-r[(L>>>1)+l*k+U]*(1/255)))){z[L]=G;
z[L+1]=g}};e.style.QN=function(z,r,k,L,E){var F=(L>>>1)+E*k<<1,U=z[L],l=z[L+1],G=z[F],g=z[F+1]+E,P=G*G+g*g,J=U*U+l*l;
if(G!=16383&&(U==16383||Math.sqrt(P)+(.5-r[(L>>>1)+g*k+G]*(1/255))<Math.sqrt(J)+(.5-r[(L>>>1)+l*k+U]*(1/255)))){z[L]=G;
z[L+1]=g}};e.style.mKA=function(z,r,k,L){var E=k*L;for(var F=0;F<E;F++)if(z[F]==0){r[F*2]=16383;r[F*2+1]=16383}for(var U=1;
U<=L-1;U++){var F=U*k;for(var l=0;l<=k-1;l++)e.style.QO(r,z,k,F+l<<1,-1);for(var l=1;l<=k-1;l++)e.style.QV(r,z,k,F+l<<1,-1);
for(var l=k-2;l>=0;l--)e.style.QV(r,z,k,F+l<<1,1)}for(var U=L-2;U>=0;U--){var F=U*k;for(var l=0;l<=k-1;
l++)e.style.QO(r,z,k,F+l<<1,1);for(var l=1;l<=k-1;l++)e.style.QV(r,z,k,F+l<<1,-1);for(var l=k-2;l>=0;
l--)e.style.QV(r,z,k,F+l<<1,1)}};e.style.QV=function(z,r,k,L,E){var F=(L>>>1)+E<<1,U=z[L],l=z[L+1],G=z[F]+E,g=z[F+1],P=G*G+g*g,J=U*U+l*l;
if(g!=16383&&(U==16383||P<J)){z[L]=G;z[L+1]=g}};e.style.QO=function(z,r,k,L,E){var F=(L>>>1)+E*k<<1,U=z[L],l=z[L+1],G=z[F],g=z[F+1]+E,P=G*G+g*g,J=U*U+l*l;
if(G!=16383&&(U==16383||P<J)){z[L]=G;z[L+1]=g}};e.style.mxZ=function(z,r,k,L,E){var F=k*L,U=(k+L+1)*1.01;
for(var l=0;l<F;l++)if(z[l]<=E)r[l]=U;for(var G=1;G<k;G++)r[G]=Math.min(r[G],r[G-1]);for(var g=1;g<L;
g++){var l=g*k;r[l]=Math.min(r[l],Math.min(r[l-k]+1,r[l-k+1]+Math.SQRT2));for(var G=1;G<k-1;G++){var P=r[++l],J=Math.min(r[l-1]+1,Math.min(r[l-k-1]+Math.SQRT2,Math.min(r[l-k]+1,r[l-k+1]+Math.SQRT2)));
if(J<P)r[l]=J}l++;r[l]=Math.min(r[l],Math.min(r[l-1]+1,Math.min(r[l-k-1]+Math.SQRT2,r[l-k]+1)))}for(var G=k-2;
G>=0;G--)r[G+F-k]=Math.min(r[G+F-k],r[G+F-k+1]);for(var g=L-2;g>=0;g--){var l=g*k+k-1;r[l]=Math.min(r[l],Math.min(r[l+k]+1,r[l+k-1]+Math.SQRT2));
for(var G=k-2;G>=1;G--){var P=r[--l],J=Math.min(r[l+1]+1,Math.min(r[l+k-1]+Math.SQRT2,Math.min(r[l+k]+1,r[l+k+1]+Math.SQRT2)));
if(J<P)r[l]=J}l--;r[l]=Math.min(r[l],Math.min(r[l+1]+1,Math.min(r[l+k]+1,r[l+k+1]+Math.SQRT2)))}};e.style.mmo=function(z,r,k,L,E){var F=new Int32Array(k*L);
e.style.mWA(z,F,k,L,E);e.style.mu_(F,r,k,L)};e.style.mWA=function(z,r,k,L,E){var F=new Int32Array(L);
for(var U=0;U<k;U++){var l=k+L;for(var G=L-1;G>=0;G--){if(z[G*k+U]>E)l=0;else l++;F[G]=l}l=k+L;for(var G=0;
G<L;G++){if(z[G*k+U]>E)l=0;else l++;r[G*k+U]=l<F[G]?-l:F[G]}}};e.style.mu_=function(z,r,k,L){var E=(k+L)*(k+L),F=new Float64Array(k),U=new Uint16Array(k);
for(var l=0;l<L;l++){var G=l*k,g=0;U[0]=0;F[0]=-E;F[1]=+E;for(var P=1;P<k;P++){var J=z[P+G]*z[P+G]+P*P,x=(J-(z[U[g]+G]*z[U[g]+G]+U[g]*U[g]))/(2*P-2*U[g]);
while(x<=F[g]){g--;x=(J-(z[U[g]+G]*z[U[g]+G]+U[g]*U[g]))/(2*P-2*U[g])}g++;U[g]=P;F[g]=x;F[g+1]=E}g=0;
for(var P=0;P<k;P++){while(F[g+1]<P)g++;var a=U[g]-P,d=z[U[g]+G],t=l*k+P<<1;r[t]=a;r[t+1]=d}}};e.style.mQK=function(z,r){for(var k=0;
k<z.length;k++){var L=z[k],E;if(L<5)E=!1;else E=e.style.Pr(k)<64+L*.5;var F=255*Math.sqrt(Math.sqrt(L/255));
z[k]=(1-r)*L+r*(E?F:0)}};e.style.Pr=function(z){z=z^61^z>>16;z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;
return z&255};e.Qr={};e.Qr.QL=function(z,r,k){var L=z.canvas;if(L.width!=r||L.height!=k)Y.UV(L,r,k,z)};
e.Qr.QU=function(z,r,k,L,E,F){e.Qr.QL(z,r,k);if(F==null)F=!1;var U=E.channel,l=E.rect,G=!E.isEnabled;
r=Math.floor(r*Y.Z());k=Math.floor(k*Y.Z());if(r*k==0)return;var g=z.createImageData(r,k),P=g.data,J=1/r,x=1/k;
for(var a=0;a<k;a++)for(var d=0;d<r;d++){var t=a*r+d,m=t*4,b=Math.round(L.x+d*J*L.X),I=Math.round(L.y+a*x*L.z),v=0;
if(b<l.x||b>=l.x+l.X||I<l.y||I>=l.y+l.z)v=E.color;else v=U[(I-l.y)*l.X+(b-l.x)];v=255*(255-E.iN)+v*E.iN>>>8;
if(F)v=170+Math.round(.4*(v-170));P[m]=v;P[m+1]=v;P[m+2]=v;P[m+3]=255}z.putImageData(g,0,0);if(G)e.Qr.QH(z,r,k)};
e.Qr.mKN=function(z,r,k,L){z.fillStyle="#eeeeee";z.fillRect(.6*r,.6*k,r,k);z.lineWidth=1.5;var E=.65*r,F=.95*r,U=.65*k,l=.95*k,G=.75*r,g=.85*r,P=.75*k,J=.85*k;
z.beginPath();z.moveTo(E,U);z.lineTo(F,U);z.lineTo(F,l);z.lineTo(E,l);z.lineTo(E,U);z.moveTo(G,P);z.lineTo(g,P);
z.lineTo(g,J);z.lineTo(G,J);z.lineTo(G,P);z.closePath();z.stroke()};e.Qr.mxR=function(z,r,k){var L,E,F;
r=Math.floor(Y.Z()*r);k=Math.floor(Y.Z()*k);L=Math.ceil(Math.min(r,k)*.4);E=r-L;F=k-L;z.scale(1/Y.Z(),1/Y.Z());
z.fillStyle="#eeeeee";z.fillRect(E,F,r,k);z.lineWidth=1;z.strokeRect(E+2.5,F+2.5,r-E-5,k-F-5);var U=z.createImageData(3,3);
e.JV(U.data,4278190080);U.data[4*4]=U.data[4*4+1]=U.data[4*4+2]=238;z.putImageData(U,E+1,F+1);z.putImageData(U,r-4,F+1);
z.putImageData(U,E+1,k-4);z.putImageData(U,r-4,k-4)};e.Qr.QX=function(z,r,k,L,E,F,U){e.Qr.QL(z,r,k);
r=Math.floor(r*Y.Z());k=Math.floor(k*Y.Z());if(r*k==0)return;var l=z.createImageData(r,k),G=l.data,g=1/r,P=1/k,J=1/255;
e.mY(G,r,k,4);var x=F.x,a=F.x+F.X,d=F.y,t=F.y+F.z;for(var m=0;m<k;m++)for(var b=0;b<r;b++){var I=m*r+b,v=I*4,W=Math.round(L.x+b*g*L.X),B=Math.round(L.y+m*P*L.z);
if(W<x||W>=a||B<d||B>=t){}else{var n=G[v],j=G[v+1],p=G[v+2],X=G[v+3],M=(B-F.y)*F.X+(W-F.x)<<2;X=E[M+3]*J;
n=E[M+0]*X+n*(1-X);j=E[M+1]*X+j*(1-X);p=E[M+2]*X+p*(1-X);G[v]=n;G[v+1]=j;G[v+2]=p;G[v+3]=255}}z.putImageData(l,0,0);
if(U)e.Qr.QH(z,r,k)};e.Qr.mxw=function(z,r,k,L){e.Qr.QL(z,r,k);z.fillStyle=e.Qr.GU(L.Clr.v);z.fillRect(0,0,r,k);
e.Qr.Qb(z,r,k)};e.Qr.mxy=function(z,r,k,L){e.Qr.QL(z,r,k);z.fillStyle="#ffffff";z.fillRect(0,0,r,k);
z.fillStyle="#000000";z.font=""+k*.7+"px serif";z.fillText("T",(r-k*.43)/2,k*.75);z.fillText("T",(r-k*.43)/2,k*.75)};
e.Qr.mMs=function(z,r,k){e.Qr.QL(z,r,k);z.clearRect(0,0,r,k);z.font=k*.7+"px serif";z.fillText(":(",(r-k*.43)/2,k*.7)};
e.Qr.mKn=function(z,r,k,L){e.Qr.QL(z,r,k);var E=mm.get(L),F=zA.get(mm.names[E]).substring(0,3);z.fillStyle="#ffffff";
z.fillRect(0,0,r,k);z.fillStyle="#000000";z.font=k*.55+"px sans-serif";var U=z.measureText(F);z.fillText(F,(r-U.width)/2,k*.67);
z.fillRect(0,0,r,k*.1);z.fillRect(0,k*.9,r,k*.1)};e.Qr.mGF=function(z,r,k,L){e.Qr.QL(z,r,k);var E=z.canvas.width,F=z.canvas.height,U=z.getImageData(0,0,E,F);
e.v.Gr(L.Grad.v,new Uint8Array(U.data.buffer),new Z(0,0,E,F),[1/E,0,0,1/F],E/2,F/2,!1,0,16711680,65280);
z.putImageData(U,0,0);e.Qr.Qb(z,r,k)};e.Qr.mKv=function(z,r,k,L,E){e.Qr.QL(z,r,k);var F=z,U=mK.oE(L.Ptrn.v,E.add.Patt),l=U.iy;
e.Qr.QX(z,r,k,l,U.bT,l,!1);e.Qr.Qb(F,r,k)};e.Qr.QH=function(z,r,k){z.strokeStyle="#bb0000";z.lineWidth=3;
z.beginPath();z.moveTo(r*.15,k*.15);z.lineTo(r*.85,k*.85);z.moveTo(r*.85,k*.15);z.lineTo(r*.15,k*.85);
z.closePath();z.stroke()};e.Qr.QH=function(z,r,k){z.strokeStyle="#bb0000";z.lineWidth=3;z.beginPath();
z.moveTo(r*.15,k*.15);z.lineTo(r*.85,k*.85);z.moveTo(r*.85,k*.15);z.lineTo(r*.15,k*.85);z.closePath();
z.stroke()};e.Qr.Qb=function(z,r,k){z.fillStyle="#eeeeee";z.fillRect(0,k*.75,r,k*.25);z.beginPath();
z.moveTo(0,k*.75);z.lineTo(r,k*.75);z.moveTo(r*.1,k*.875);z.lineTo(r*.9,k*.875);z.moveTo(r*.65,k*.825);
z.lineTo(r*.65,k*.95);z.closePath();z.stroke()};e.Qr.GU=function(z){var r=e.v.GU(z),k=Math.round(r.F)<<16|Math.round(r.P)<<8|Math.round(r.g);
return"#"+e.mk(k)};e.f={};e.f.QD=function(z,r,k){var L=[],E=-1;for(var F=0;F<z.length;F++){var U=z[F];
if((U.type==0||U.type==3)&&U.bF!=-1)E++;if(U.type>5||U.type==0||U.type==3)continue;if(r!=null&&r.indexOf(E)==-1)continue;
if(k!=null&&k.indexOf(F)==-1)continue;L.push(U.im.x);L.push(U.im.y);L.push(U.W.x);L.push(U.W.y);L.push(U.iP.x);
L.push(U.iP.y)}return L};e.f.QY=function(z,r,k,L){var E=0,F=-1;for(var U=0;U<r.length;U++){var l=r[U];
if((l.type==0||l.type==3)&&l.bF!=-1)F++;if(l.type>5||l.type==0||l.type==3)continue;if(k!=null&&k.indexOf(F)==-1)continue;
if(L!=null&&L.indexOf(U)==-1)continue;l.im.Ep(z[E],z[E+1]);l.W.Ep(z[E+2],z[E+3]);l.iP.Ep(z[E+4],z[E+5]);
E+=6}};e.f.Qk=function(z,r,k,L){var E=e.f.QD(z,k,L);e.b.Wg(E,r,E);e.f.QY(E,z,k,L)};e.f.mGg=function(z,r,k,L){var E=e.f.QD(z,k,L);
e.GE.apply(r,E);e.f.QY(E,z,k,L)};e.f.mGH=function(z,r){var k=e.f.mmf(z,40);for(var L=0;L<k.length;L++)z[L]=k[L];
var E=e.f.QD(z);e.zB.apply(r,E,e.b.GF(E));e.f.QY(E,z)};e.f.mmf=function(z,r){var k=[];for(var L=0;L<z.length;
L++){var E=z[L];if(E.type>5){k.push(JSON.parse(JSON.stringify(E)));continue}var F=e.f.mQu(z,L+1,E.length);
F=e.b.Mz(F,r);var U=e.f.mxi(F);L+=E.length;E=JSON.parse(JSON.stringify(E));E.length=U.length;k.push(E);
for(var l=0;l<U.length;l++)k.push(U[l])}return k};e.f.mQu=function(z,r,k){var L={be:["M"],O:[]},E=z[r],F=z[r+k-1];
L.O.push(E.W.x,E.W.y);for(var U=1;U<k;U++){var l=z[r+U-1],G=z[r+U];L.be.push("C");L.O.push(l.iP.x,l.iP.y,G.im.x,G.im.y,G.W.x,G.W.y)}L.be.push("C");
L.O.push(F.iP.x,F.iP.y,E.im.x,E.im.y,E.W.x,E.W.y);return L};e.f.mxi=function(z){var r=[],k=z.be,L=z.O,E=0,F=L.length;
r.push({type:2,im:new V(L[F-4],L[F-3]),W:new V(L[0],L[1]),iP:new V(L[2],L[3])});for(var U=0;U<k.length-2;
U++){var l=U*6+4;r.push({type:2,im:new V(L[l],L[l+1]),W:new V(L[l+2],L[l+3]),iP:new V(L[l+4],L[l+5])})}return r};
e.f.mKM=function(z){for(var r=0;r<z.length;r++){if(z[r].type>5)continue;var k=z[r].length;if(!(k==4||k==6||k==8)){r+=k;
continue}for(var L=0;L<k;L++){var E=z[r+1+L],F=z[r+1+(L+1)%k],U=Math.min(E.W.x,F.W.x),l=Math.min(E.W.y,F.W.y),G=0,g=0;
if(E.W.x<F.W.x){G=E.W.y-l;g=G-(F.W.x-U)}else{G=F.W.y-l;g=G-(E.W.x-U)}if(Math.abs(g)<.2*G)return G}}return-1};
e.f.um=function(z,r){var k=null,L=-1;for(var E=0;E<z.length;E++){if(z[E].type>5)continue;var F=z[E].length;
if((z[E].type==0||z[E].type==3)&&z[E].bF!=-1)L++;if(r!=null&&r.indexOf(L)==-1)continue;if(E==z.length-1)break;
var U=z[E].type==3;if(k==null)k=e.f.uP(z,E+1,F,U);else{var l=e.f.uP(z,E+1,F,U);if(r!=null||z[E].bF==0||z[E].bF==-1||z[E].bF==1){var G=Math.min(k.x,l.x),g=Math.min(k.y,l.y),P=Math.max(k.x+k.X,l.x+l.X),J=Math.max(k.y+k.z,l.y+l.z);
k.x=G;k.y=g;k.X=P-G;k.z=J-g}else if(z[E].bF==2)k=k;else if(z[E].bF==3)k=k.Mk(l)}E+=F}if(k==null||k.X<0||k.z<0)k=new Z(0,0,0,0);
return k};e.f.mxD=new Float64Array(4);e.f.uP=function(z,r,k,L){var E=e.f.mxD;E[0]=1e30;E[1]=1e30;E[2]=-1e30;
E[3]=-1e30;var F=z[r+k-1];if(!L)e.f.uz(F.W.x,F.W.y,F.iP.x,F.iP.y,z[r].im.x,z[r].im.y,z[r].W.x,z[r].W.y,E);
for(var U=r;U<r+k-1;U++){var l=z[U],G=z[U+1];if(l.W.Jq(l.iP)&&G.im.Jq(G.W)){E[0]=Math.min(E[0],Math.min(l.W.x,G.W.x));
E[1]=Math.min(E[1],Math.min(l.W.y,G.W.y));E[2]=Math.max(E[2],Math.max(l.W.x,G.W.x));E[3]=Math.max(E[3],Math.max(l.W.y,G.W.y))}else e.f.uz(l.W.x,l.W.y,l.iP.x,l.iP.y,G.im.x,G.im.y,G.W.x,G.W.y,E)}return new Z(E[0],E[1],E[2]-E[0],E[3]-E[1])};
e.f.uz=function(z,r,k,L,E,F,U,l,G){var g=1e30,P=1e30,J=-1e30,x=-1e30,a=40,d=k-z,t=L-r,m=E-k,b=F-L,I=U-E,v=l-F,W=1/a;
for(var B=0;B<a+1;B++){var n=B*W,j=z+n*d,p=r+n*t,X=k+n*m,M=L+n*b,H=E+n*I,c=F+n*v,S=j+n*(X-j),w=p+n*(M-p),R=X+n*(H-X),i=M+n*(c-M),f=S+n*(R-S),_=w+n*(i-w);
if(f<g)g=f;if(_<P)P=_;if(f>J)J=f;if(_>x)x=_}G[0]=Math.min(G[0],g);G[1]=Math.min(G[1],P);G[2]=Math.max(G[2],J);
G[3]=Math.max(G[3],x)};e.f.uG=function(z){e.f.uQ();var r=new paper.CompoundPath(z),k=e.f.uT(r);return k};
e.f.uW=function(z){var r=2,k=e.f.uc(z),L=!1,E=!1;for(var F=2;F<z.length;F++){var U=z[F].bF;if(U!=null){if(U==2||U==0)L=!0;
if(U==-1)E=!0}}if(E){var l=e.b.Wk(z);return{iV:Typr.U.pathToSVG({crds:l.O,cmds:l.be},r),iO:L?1:0}}if(L&&z.length<5e3&&k>1)z=e.f.uM(z);
var G=e.f.uR(z),l=new paper.CompoundPath({fillRule:"nonzero"});for(var F=0;F<G.length;F++){var g=G[F][0],P=G[F][1];
if(!L){if(g.clockwise)g.reverse()}l.addChild(g)}return{iV:l.exportSVG({precision:r}).getAttribute("d"),iO:0}};
e.f.uM=function(z){e.f.uQ();var r,k=e.f.uR(z),L=[];for(var E=0;E<k.length;E++){var F=k[E][0],U=k[E][1];
if(Math.abs(F.area)<1e-5)L.push(F);else if(r==null)r=F;else{r=r[U](F);r.remove()}}if(r==null)r=new paper.CompoundPath(L);
else{if(r.segments)r=new paper.CompoundPath(r);for(var E=0;E<L.length;E++){r.children.push(L[E])}}var l=z.slice(0,2);
l=l.concat(e.f.uT(r));return l};e.f.uQ=function(){if(e.f.i_==null){var z=Y.d("canvas");paper.setup(z);
e.f.i_=!0}};e.f.maR=function(z,r){e.f.uQ();var k=[],L=e.f.uR(z),E=new paper.Path.Rectangle(new paper.Rectangle(r.x,r.y,r.X,r.z));
E.remove();E.fillColor=new paper.Color(1,0,0);for(var F=0;F<L.length;F++)if(E.intersects(L[F][0])||E.contains(L[F][0].segments[0].point))k.push(F);
return k};e.f.Pl=function(z,r,k,L){e.f.uQ();var E=k?{curves:!0,tolerance:L}:null,F=new paper.Point(r.x,r.y),U=e.f.uR(z);
for(var l=U.length-1;l>=0;l--){var G=U[l][0],g=G.hitTest(F,E);if(g!=null)return{HD:l,iZ:k?g.location.index:null}}return{HD:-1}};
e.f.uK=function(z,r){var k=[[],[],[]];for(var L=0;L<z.length;L++){var E=z[L];if(E.type>5||E.type==0||E.type==3)continue;
if(r.ab(E.W))k[0].push(L);if(r.ab(E.im))k[1].push(L);if(r.ab(E.iP))k[2].push(L)}return k};e.f.mEP=function(z,r){var k=z.slice(0,2),L=null;
for(var E=2;E<z.length;E++){if(z[E].type==0||z[E].type==3){if(L!=null&&L.length==0){k.pop();if(z[E].bF==-1)z[E].bF=L.bF}L=z[E];
k.push(L)}else{if(r.indexOf(E)==-1)k.push(z[E]);else L.length--}}return k};e.f.mPW=function(z,r){var k=z.slice(0,2),L=-1;
for(var E=2;E<z.length;E++){if((z[E].type==0||z[E].type==3)&&z[E].bF!=-1)L++;if(r.indexOf(L)==-1)k.push(z[E])}return k};
e.f.mPK=function(z,r){var k=z.slice(0,2),L=-1;for(var E=2;E<z.length;E++){if((z[E].type==0||z[E].type==3)&&z[E].bF!=-1)L++;
if(r.indexOf(L)!=-1)k.push(z[E])}return k};e.f.mGG=function(z){var r=0;for(var k=0;k<z.length;k++)if(z[k].type==0||z[k].type==3)r=k;
return z[r]};e.f.uc=function(z){var r=-1;for(var k=0;k<z.length;k++)if((z[k].type==0||z[k].type==3)&&z[k].bF!=-1)r++;
return r+1};e.f.uB=function(z,r){var k=-1;for(var L=0;L<z.length;L++)if((z[L].type==0||z[L].type==3)&&z[L].bF!=-1){k++;
if(k==r)return L}return-1};e.f.mPx=function(z,r){var k=-1;for(var L=0;L<z.length;L++)if((z[L].type==0||z[L].type==3)&&z[L].bF!=-1){if(L>=r)return k;
k++}return k};e.f.mPa=function(z,r){var k=-1,L=0;for(var E=0;E<z.length;E++){if((z[E].type==0||z[E].type==3)&&z[E].bF!=-1)k++;
if(k==r)L++}return L};e.f.uT=function(z){var r=z.segments?[z]:z.children,k=[];for(var L=0;L<r.length;
L++){var E=r[L],F=E.segments,U=E.closed?0:3,l=k.length,G=null;if(F.length<=1)continue;k.push({type:U,length:F.length,bF:0,iS:2});
for(var g=0;g<F.length;g++){var P=F[g],J=new V(P.handleIn.x,P.handleIn.y),x=new V(P.handleOut.x,P.handleOut.y),a=new V(P.point.x,P.point.y),d={type:U+1,im:a.add(J),W:a,iP:a.add(x)};
if(G==null)G=d;k.push(d);if(g+1==F.length&&V.Ed(G.W,d.W)<1e-5){k.pop();k[l].length--;G.im=d.im;if(U==3)for(var t=l;
t<k.length;t++)k[t].type-=3}}}return k};e.f.uR=function(z){e.f.uQ();var r=[],k,L=new paper.Color(1,0,0);
for(var E=0;E<z.length;E++){if(z[E].type>5)continue;var F=z[E].length,U;if(E==z.length-1)break;var l=z[E].type==3;
if(E==2){if(!e.f.uy(z))U="subtract";else U="unite"}else{if(z[E].bF==0)U="exclude";if(z[E].bF==1)U="unite";
if(z[E].bF==2)U="subtract";if(z[E].bF==3)U="intersect"}if(z[E].bF!=-1)k=[];for(var G=0;G<F;G++){var g=z[E+1+G],P=g.im.E$(g.W),J=g.iP.E$(g.W);
k.push([[g.W.x,g.W.y],[P.x,P.y],[J.x,J.y]])}if(z[E+1+F]==null||z[E+1+F].bF!=-1){var x=new paper.Path(k);
x.remove();x.closed=!l;x.fillRule="evenodd";x.fillColor=L;r.push([x,U])}E+=F}return r};e.f.mKa=function(z){for(var r=0;
r<z.length;r++){var k=z[r];if(k.W==null)continue;if(!k.W.Jq(k.im)||!k.W.Jq(k.iP))return!1}return!0};
e.f.mJV=function(z){if(z.length<=5)return 0;var r=0,k=z.length-3-1;for(var L=0;L<k;L++){var E=z[3+L],F=z[3+L+1];
if(E.type==0||F.type==0)return 0;r+=(F.W.x-E.W.x)*(E.W.y+F.W.y)}r+=(z[3].W.x-z[3+k].W.x)*(z[3+k].W.y+z[3+1].W.y);
return-r*.5};e.f.uy=function(z){if(z.length==2)return z[1].all==0;var r=z[2];if(z[1].all==1){if(r.bF==1||r.bF==3)return!0;
return!1}else{if(r.bF==1||r.bF==3||r.bF==0)return!0;return!1}};e.f.mPT=0;e.f.uO=0;e.f.mQT=0;e.f.maL=function(z,r,k,L){var E=e.mi,F=e.l;
E.width=k.X;E.height=k.z;if(!e.f.uy(z))F.fillRect(0,0,k.X,k.z);var U=k.Y();e.f.mPT+=U;if(U>e.f.uO){e.f.uO=U}if(L!=null){var l=!1;
for(var G=0;G<z.length;G++)if(z[G].bF==-1)l=!0;if(!l)z=e.f.uM(z)}var g=e.f.uc(z);for(var G=0;G<z.length;
G++){if(z[G].type>5)continue;var P=z[G].length;if(P==0)continue;if(G==z.length-1)break;var J=z[G].type==3;
if(G==2){if(!e.f.uy(z))F.globalCompositeOperation="destination-out";else F.globalCompositeOperation="source-over"}else{var x;
if(z[G].bF==0)x="xor";if(z[G].bF==1)x="source-over";if(z[G].bF==2)x="destination-out";if(z[G].bF==3)x="source-in";
if(z[G].bF!=-1&&L==null)F.globalCompositeOperation=x}if(z[G].bF!=-1){F.beginPath();if(L){var a=L.strokeStyleLineWidth.v.val,d=L.strokeStyleLineAlignment.v.strokeStyleLineAlignment,t=L.strokeStyleLineCapType.v.strokeStyleLineCapType,m=L.strokeStyleLineJoinType.v.strokeStyleLineJoinType,b=L.strokeStyleMiterLimit.v,I=[],v=L.strokeStyleLineDashSet.v;
for(var W=0;W<v.length;W++)I.push(v[W].v.val*a);F.setLineDash(I);F.lineCap=["butt","round","square"][K.qk.qj.indexOf(t)];
F.lineJoin=["miter","round","bevel"][K.qk.join.indexOf(m)];F.lineWidth=K.qk.qf.indexOf(d)==1?a:a*=2;
F.miterLimit=b}}e.f.maI(F,z,G+1,P,-k.x,-k.y,J);if(J){}else F.closePath();if(z[G+1+P]==null||z[G+1+P].bF!=-1){if(L)F.stroke();
else F.fill("evenodd")}G+=P}if(k.z$())return;var B=F.getImageData(0,0,k.X,k.z);e.Jw(B.data,r,3)};e.f.maI=function(z,r,k,L,E,F,U){var l=r[k],G=null;
z.moveTo(l.W.x+E,l.W.y+F);for(var g=k;g<k+L-1;g++){l=r[g];G=r[g+1];z.bezierCurveTo(l.iP.x+E,l.iP.y+F,G.im.x+E,G.im.y+F,G.W.x+E,G.W.y+F)}if(!U){l=r[g];
G=r[k];z.bezierCurveTo(l.iP.x+E,l.iP.y+F,G.im.x+E,G.im.y+F,G.W.x+E,G.W.y+F)}};e.f.uq=function(z,r,k){var L=[],E=k?4:1,F=!1;
if(r!=null)for(var U=0;U<r.length;U++)if(r[U]!=0){F=!0;break}if(r!=null&&F){var l=e.b.mxX(z,r),G=l.length/6;
for(var U=0;U<G;U++){var g=U*6,P=(U-1+G)%G*6,J=l[g],x=l[g+1],a=l[g+2],d=l[g+3],t=l[P+4],m=l[P+5];L.push({type:E,im:new V(t,m),W:new V(J,x),iP:new V(a,d)})}}else{for(var U=0;
U<z.length;U+=2){var b=new V(z[U],z[U+1]);L.push({type:E,im:b.clone(),W:b.clone(),iP:b.clone()})}}return L};
e.f.maY=function(z,r){e.f.uQ();var k=new paper.Path;k.remove();var L=z.length-1,E=Math.sqrt((z[L-1]-z[0])*(z[L-1]-z[0])+(z[L]-z[1])*(z[L]-z[1]))<3;
k.closed=E;for(var F=0;F<z.length;F+=2)k.add(new paper.Point(z[F],z[F+1]));k.simplify(r);var U=[{type:6},{type:8,all:0}];
U=U.concat(e.f.uT(k));return U};e.f.ur={};e.f.ur.uL=function(z,r,k){var L=[{type:6},{type:8,all:0}],E=null;
L.push({type:k?3:0,bF:1,length:0,iC:0,iq:0,iS:1});if(r!=0){E=[];for(var F=0;F<z.length;F+=2)E.push(r)}L=L.concat(e.f.uq(z,E,k));
L[2].length=L.length-3;return L};e.f.ur.maj=function(z,r,k,L,E){var F=[],U=[],l=.553,G=1,g=-1;F.push({type:1,im:new V(0,l),W:new V(0,0),iP:new V(0,-l)});
E+=2;for(var P=0;P<E;P++){var J={type:1};if(P==0){J.W=new V(1,-1);J.im=new V(1-l,-1);J.iP=new V(1+l,-1)}else{var x=-(P+2)*Math.PI/2,a=1+((P&1)==1?P-1:P),d=Math.sin(x),t=Math.cos(x);
G+=a*(d-t);g+=a*(t+d);J.W=new V(G,g);J.im=new V(G+a*t*l,g-a*d*l);if((P&1)==1)a+=2;J.iP=new V(G-a*t*l,g+a*d*l)}var m={type:1,im:new V(-J.iP.x,-J.iP.y),W:new V(-J.W.x,-J.W.y),iP:new V(-J.im.x,-J.im.y)};
F.push(J);if(P<E-2)U.push(m)}U.reverse();F=F.concat(U);var b=[{type:6},{type:8,all:0}];b.push({type:0,bF:1,length:F.length,iC:0,iq:0,iS:1});
b=b.concat(F);var I=new zT(k/E,0,0,k/E,0,0);I.rotate(L);I.translate(z,r);e.f.Qk(b,I);return b};e.f.ur.Rect=function(z,r,k,L,E){var F=[z,r,z+k,r,z+k,r+L,z,r+L];
return e.f.ur.uL(F,E)};e.f.ur.mEu=function(z,r,k,L,E,F){var U=[],l=2*Math.PI/E;for(var G=0;G<E;G++)U.push(Math.cos(G*l),Math.sin(G*l));
var g=new zT(k,0,0,k,0,0);g.rotate(L);g.translate(z,r);e.b.Wg(U,g,U);return e.f.ur.uL(U,F)};e.f.ur.mPZ=function(z,r,k,L,E,F,U){var l=[],G=Math.PI/E;
for(var g=0;g<E*2;g++){var P=(g&1)==0?1:U;l.push(P*Math.cos(g*G),P*Math.sin(g*G))}var J=new zT(k,0,0,k,0,0);
J.rotate(L);J.translate(z,r);e.b.Wg(l,J,l);return e.f.ur.uL(l,F)};e.f.ur.uX=function(z,r,k,L,E){var F=Math.sqrt((k-z)*(k-z)+(L-r)*(L-r));
E/=2;var U=[-E,0,E,0,E,F,-E,F],l=new zT(1,0,0,1,0,0);l.rotate(Math.atan2(-L+r,k-z)+Math.PI/2);l.translate(z,r);
e.b.Wg(U,l,U);return e.f.ur.uL(U,0)};e.f.ur.uI=function(z,r,k,L){var E=[{type:6},{type:8,all:0}],J=.553;
E.push({type:0,bF:1,length:4,iC:0,iq:0,iS:1});var F=z,U=r,l=z+k,G=r+L,z=(F+l)/2,r=(U+G)/2,g=(F-l)/2,P=(U-G)/2;
E.push({type:1,im:new V(z-J*g,r-P),W:new V(z,r-P),iP:new V(z+J*g,r-P)});E.push({type:1,im:new V(z+g,r-J*P),W:new V(z+g,r),iP:new V(z+g,r+J*P)});
E.push({type:1,im:new V(z+J*g,r+P),W:new V(z,r+P),iP:new V(z-J*g,r+P)});E.push({type:1,im:new V(z-g,r+J*P),W:new V(z-g,r),iP:new V(z-g,r-J*P)});
return E};e.f.ur.muq=function(z,r,k,L,E){var F=[{type:6},{type:8,all:0}];F.push({type:3,bF:1,length:5,iC:0,iq:0,iS:1});
var U=Math.min(L,E),l=Math.max(L,E),G=(l-U)/4,g=Math.cos(G/2),P=Math.sin(G/2),J=(4-g)/3,x=(1-g)*(3-g)/(3*P),a=J,d=-x,t=g,m=-P,b=new V(g,P),I=new V(J,x),v=new V(a,d),W=new V(t,m),B=new zT;
B.rotate(G);F.push({type:4,im:b.clone(),W:b.clone(),iP:I.clone()});F.push({type:4,im:v.clone(),W:W.clone(),iP:W.clone()});
for(var n=0;n<3;n++){b=B.Ef(b);I=B.Ef(I);v=B.Ef(v);W=B.Ef(W);F[F.length-1].iP=I;F.push({type:4,im:v.clone(),W:W.clone(),iP:W.clone()})}B.rotate(-Math.PI/2-G/2);
B.concat(new zT(k,0,0,k,z,r));e.f.Qk(F,B);return F};e.ut={};e.ut.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
e.ut.up=function(z){var r=z.warpStyle.v.warpStyle;if(r=="warpNone")return!0;else if(r=="warpCustom"){var k=!1,L=z.customEnvelopeWarp.v.meshPoints.v.arr,E=L[0].arr,F=L[1].arr;
for(var U=0;U<4;U++)for(var l=0;l<4;l++){if(Math.abs(E[U]-E[l*4+U])>1||Math.abs(F[U*4]-F[U*4+l])>1)k=!0}return!k}else return z.warpValue.v==0&&z.warpPerspective.v==0&&z.warpPerspectiveOther.v==0};
e.ut.$=function(z){var r={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(z){r.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:z.y+z.z}},Rght:{t:"UntF",v:{type:"#Pxl",val:z.x+z.X}}}};
r.uOrder={t:"long",v:4};r.vOrder={t:"long",v:4}}return r};e.ut.mEK=function(z,r,k,L){for(var E=0;E<z.length;
E+=2){var F=z[E],U=z[E+1],l=(F-r.x)/r.X,G=(U-r.y)/r.z,g=(1-k)/2,P=1-g,J=g+l*(P-g);G=.5+(G-.5)*J*2;var x=(1-L)/2,a=1-x,d=x+G*(a-x);
l=.5+(l-.5)*d*2;F=r.x+l*r.X;U=r.y+G*r.z;z[E]=F;z[E+1]=U}};e.ut.ud=function(z,r){var k=[],L=[];for(var E=0;
E<z.length;E+=2){k.push(z[E]);L.push(z[E+1])}var F=[];F.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:k});
F.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:L});r.warpStyle.v.warpStyle="warpCustom";r.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:F}}}}};
e.ut.uH=function(z,r){if(r==null){var k=z.bounds.v,L=k.Left.v.val,E=k.Rght.v.val,F=k.Top.v.val,U=k.Btom.v.val;
r=new Z(L,F,E-L,U-F)}if(r.z$())r.X=r.z=1;var l=[],G=z.warpStyle.v.warpStyle;if(G=="warpCustom"){var g=z.customEnvelopeWarp.v.meshPoints.v.arr,P=g[0].arr,J=g[1].arr;
for(var x=0;x<16;x++)l.push(P[x],J[x])}else l=e.ut.ut(r,G,z.warpRotate.v.Ornt=="Hrzn",z.warpValue.v/100,z.warpPerspective.v/100,z.warpPerspectiveOther.v/100);
return l};e.ut.ut=function(z,r,k,L,E,F){var U=e.zB.$(z.x,z.y,z.X,z.z);if(r=="warpNone")return U;var l=JSON.parse(JSON.stringify(z)),G=new zT;
if(!k){G.translate(-z.x,-z.y);G.rotate(-Math.PI/2);G.translate(z.z,0);e.b.Wg(U,G,U);z=new Z(0,0,z.z,z.X);
U=e.zB.zA(U,!1)}e.ut.mPo(U,z,r,L,E,F);if(!k){U=e.zB.zA(U,!0);z=l;G.Jo();e.b.Wg(U,G,U)}if(L==0)e.ut.mEK(U,z,E,F);
else{var G=new zT(1/z.X,0,0,1/z.z,-z.x,-z.y);G.translate(-.5,-.5);e.b.Wg(U,G,U);e.ut.mMZ(U,F,E);G.Jo();
e.b.Wg(U,G,U)}return U};e.ut.mPo=function(z,r,k,L,E,F){for(var U=0;U<4;U++){for(var l=0;l<4;l++){var G=2*(4*U+l),g=z[G]-r.x,P=z[G+1]-r.y,J=g,x=P;
if(L!=0){var a=r.X/2,d=r.z/2;J-=a;x-=d;var t=J,m=J,b=-d,I=d,v=Math.abs(L),W=Math.tan((1-v)*Math.PI/2),B=Math.sqrt(W*W+1),n=Math.atan2(1,W),j=J/a*n,p=a*B,X=a*B+r.z,M=Math.cos(n),H=Math.sin(n),c=e.ut.mcA(M,H),S=e.ut.mcy(M,H),w=-W*a+c*p;
if(k=="warpArc"){t=Math.sin(j)*X;b=W*a-Math.cos(n)*X+d;m=Math.sin(j)*p;I=W*a-Math.cos(n)*p+d;if(l==1||l==2){t=l==1?-S*X:S*X;
m=l==1?-S*p:S*p;b=W*a+d-c*X;I=W*a+d-c*p}if(L<0){var R=t;t=m;m=R;R=b;b=-I;I=-R}}if(k=="warpArcLower"){if(l==1||l==2){m=l==1?-S*p:S*p;
I=L<0?d-w:d+w}}if(k=="warpArcUpper"||k=="warpArch"||k=="warpBulge"){if(l==1||l==2){t=l==1?-S*p:S*p;b=L<0?-d+w:-d-w}if(k=="warpArch"){m=t;
I=b+2*d}if(k=="warpBulge"){m=t;I=-b}}if(k=="warpFish"||k=="warpFlag"||k=="warpWave"){if(l==1){b-=L*4*d;
I+=L*4*d}if(l==2){b+=L*4*d;I-=L*4*d}if(k=="warpFlag"||k=="warpWave")b=I-2*d}if(k=="warpRise"){if(l<2)b=-d+L*d*4;
I=b+2*d}var i=(x+d)/r.z;J=t+i*(m-t);x=b+i*(I-b);if(k=="warpWave"){if(U==0)x=-d;if(U==3)x=d;if(U==1||U==2)x=2*d*(U/3-.5)*(1/3)+x*(2/3)}if(k=="warpFisheye"){if((U==1||U==2)&&(l==1||l==2)){J=J+4*J*L;
x=x+4*x*L}}if(k=="warpInflate"){var f=2/3;if((U==1||U==2)&&(l==1||l==2)){J=J+.5*J*L;x=x+.5*x*L}else if(U==1||U==2)J=J+f*J*L;
else if(l==1||l==2)x=x+f*x*L}if(k=="warpSqueeze"){var f=2/3;if((U==1||U==2)&&(l==1||l==2)){if(L>0)J=J-f*J*L;
else x=x+f*x*L}else if(U==1||U==2)J=J-f*J*L;else if(l==1||l==2)x=x+f*x*L}if(k=="warpTwist"){if((U==1||U==2)&&(l==1||l==2)){var _=L*Math.PI/2,B=1+Math.abs(L)*2,u=J*Math.cos(_)-x*Math.sin(_),Q=J*Math.sin(_)+x*Math.cos(_);
J=u*B;x=Q*B}}if(k=="warpShellLower"||k=="warpShellUpper"){if(k=="warpShellUpper"){U=3-U;x=-x}if(U>2||U==2&&(l==0||l==3)){if(L>0){var $=p+U/3*2*d;
J=Math.sin(j)*$;x=-W*a-d+Math.cos(j)*$;if(l==1||l==2){J=l==1?-S*$:S*$;x=-W*a-d+c*$}}else{if((l==1||l==2)&&U==3){J=l==1?-S*p:S*p;
x=W*a-c*p+d}else if(U==2){x=d-d*(2/3)*Math.cos(j);J=J+d*(2/3)*Math.sin(j)}}}if(k=="warpShellUpper"){U=3-U;
x=-x}}J+=a;x+=d}g=J,P=x;z[G]=g+r.x;z[G+1]=P+r.y}}};e.ut.mMZ=function(z,r,k){var L=[];for(var E=0;E<4;
E++)L.push(1-k+E/3*2*k);var F=[];for(var E=0;E<4;E++)F.push(1-r+E/3*2*r);var U=[0,0,0,0],l=[0,0,0,0];
for(var G=0;G<4;G++)for(var E=0;E<4;E++){var g=2*(4*G+E),P=z[g],J=z[g+1];U[E]+=P/4;l[E]+=J/4}for(var G=0;
G<4;G++)for(var E=0;E<4;E++){var x=L[E],g=2*(4*G+E),P=z[g],J=z[g+1],a=U[E],d=l[E];z[g]=a+x*(P-a);z[g+1]=d+x*(J-d)}var t=z.slice(0);
for(var G=0;G<4;G++)for(var E=1;E<3;E++){var g=2*(4*G+E),P=z[g],J=z[g+1],m=g+(E==1?-2:2),b=z[m],I=z[m+1];
z[g]=P-b;z[g+1]=J-I}var v=z[0],W=z[1],B=z[8],n=z[9],j=z[16],p=z[17],X=z[24],M=z[25],H=z[6],c=z[7],S=z[14],w=z[15],R=z[22],i=z[23],f=z[30],_=z[31],u=H-v,Q=c-W,$=S-B,C=w-n,y=R-j,N=i-p,O=f-X,JQ=_-M;
for(var G=0;G<4;G++){var zf=2*G*4,ze=0,zg=0,zF=G==1?.33:.66,GS=1-zF;if(G==0){ze=u;zg=Q}if(G==1){ze=GS*u+zF*-O;
zg=GS*Q+zF*-JQ}if(G==2){ze=GS*u+zF*-O;zg=GS*Q+zF*-JQ}if(G==3){ze=-O;zg=-JQ}z[zf]=z[zf]+ze/2;z[zf+1]=z[zf+1]+zg/2;
z[zf+6]=z[zf+6]-ze/2;z[zf+7]=z[zf+7]-zg/2}for(var G=0;G<4;G++)for(var E=1;E<3;E++){var g=2*(4*G+E),P=z[g],J=z[g+1],m=g+(E==1?-2:2),b=z[m],I=z[m+1],x=2*G/3;
z[g]=b+x*P;z[g+1]=I+x*J}for(var G=1;G<3;G++)for(var E=1;E<3;E++){var g=2*(4*G+E),P=z[g],J=z[g+1],Gm=G==1?-8:-16,GJ=G==1?16:8,GP=z[g+Gm],Gz=z[g+Gm+1],GG=z[g+GJ],GW=z[g+GJ+1],x=G/3;
P=(1-x)*GP+x*GG;J=(1-x)*Gz+x*GW;z[g]=P;z[g+1]=J}e.b.We(t,z,z,r)};e.ut.mcA=function(z,r){return(4-z)*(1/3)};
e.ut.mcy=function(z,r){return(1-z)*(3-z)/(3*r)};e.raw={};e.raw.mcg=function(z){var r=z.width,k=z.height,L=new Float32Array(r*k),E=0,F=0,b=0;
e.raw.mBG(z,L);e.raw.ug(2,z,L,r,k);var U=r,l=k;if(z.t50829){var G=z.t50829;E=G[1];F=G[0];U=G[3];l=G[2]}if(z.t50719){var g=z.t50719;
E+=g[0]>>1<<1;F+=g[1]>>1<<1}if(z.t50720){var P=z.t50720;U=E+P[0];l=F+P[1]}var J=U-E,x=l-F,a=new Float32Array(J*x*3);
if(z.t277[0]!=1)throw"More than 1 sample per pixel!";var d=z.t33421,t=z.t33421;if(d.length!=2||d[0]!=2||d[1]!=2)throw"Unknown CFA pattern size";
var m=JSON.stringify(z.t33422);if(m=="[0,1,1,2]")b=0;else if(m=="[1,0,2,1]")b=1;else if(m=="[2,1,1,0]")b=2;
else if(m=="[1,2,0,1]")b=3;else throw"Unknown CFA pattern";for(var I=0;I<x;I+=2)for(var v=0;v<J;v+=2){var W=(I+F)*r+v+E,B=L[W-1],n=L[W],j=L[W+1];
W+=r;var p=L[W-1],X=L[W],M=L[W+1],H=(I*J+v)*3;if(b==0){a[H]=n;a[H+1]=B;a[H+2]=p;a[H+3]=n;a[H+4]=j;a[H+5]=M;
H+=J*3;a[H]=n;a[H+1]=X;a[H+2]=p;a[H+3]=n;a[H+4]=X;a[H+5]=M}else if(b==1){a[H]=B;a[H+1]=n;a[H+2]=X;a[H+3]=j;
a[H+4]=n;a[H+5]=X;H+=J*3;a[H]=B;a[H+1]=p;a[H+2]=X;a[H+3]=j;a[H+4]=M;a[H+5]=X}else if(b==2){a[H]=p;a[H+1]=B;
a[H+2]=n;a[H+3]=M;a[H+4]=j;a[H+5]=n;H+=J*3;a[H]=p;a[H+1]=X;a[H+2]=n;a[H+3]=M;a[H+4]=X;a[H+5]=n}else if(b==3){a[H]=X;
a[H+1]=n;a[H+2]=B;a[H+3]=X;a[H+4]=M;a[H+5]=j;H+=J*3;a[H]=X;a[H+1]=p;a[H+2]=B;a[H+3]=X;a[H+4]=M;a[H+5]=j}}e.raw.ug(3,z,a,J,x);
var c=z.t274[0],S=J,w=x;if(c==1){}else{if(c==6){S=x;w=J}else if(c==8){S=x;w=J}else throw"unknown orientation "+c;
var R=a.slice(0);for(var I=0;I<w;I++)for(var v=0;v<S;v++){var i=v,f=I;if(c==6){f=x-1-v;i=I}if(c==8){i=J-1-I;
f=v}var W=(f*J+i)*3,H=(I*S+v)*3;a[H]=R[W];a[H+1]=R[W+1];a[H+2]=R[W+2]}}return{bT:a,io:S,ir:w}};e.raw.uj=function(z,r,k,L){var E=z.bT,F=Math.round(E.length/3),U=zd.mGx(L[0],L[1]),l=e.raw.mPI(k,U),G=e.WR.multiply(e.WR.Wq,l),g=Math.pow(2,L[2]+(k.t50730?k.t50730[0]:0)),m,b,I,v,W,B,n,j,p;
G=e.WR.multiply(G,e.WR.WV(g,g,g));var P=mm.OI("brit",[L[3],L[4],!1]),J=k.t50728,x=[J[1]/J[0],J[2]/J[0],J[0]/J[1],J[2]/J[1],J[0]/J[2],J[1]/J[2]],a=new Float64Array(1e3);
for(var d=0;d<1e3;d++)a[d]=e.JJ(d*(1/999));a[999]=1;var t=Date.now();for(var d=0;d<F;d++){var X=d<<2,M=X-d;
m=E[M];b=E[M+1];I=E[M+2];if(m==1||b==1||I==1){var H=Math.min(m,Math.min(b,I));if(H==m){b=Math.max(b,x[0]*m);
I=Math.max(I,x[1]*m)}else if(H==b){m=Math.max(m,x[2]*b);I=Math.max(I,x[3]*b)}else{m=Math.max(m,x[4]*I);
b=Math.max(b,x[5]*I)}}n=G[0]*m+G[1]*b+G[2]*I;j=G[4]*m+G[5]*b+G[6]*I;p=G[8]*m+G[9]*b+G[10]*I;if(n<0)n=0;
else if(n>1)n=1;if(j<0)j=0;else if(j>1)j=1;if(p<0)p=0;else if(p>1)p=1;n=a[~~(n*999)];j=a[~~(j*999)];
p=a[~~(p*999)];r[X]=P.iL[~~(n*1023)];r[X+1]=P.iU[~~(j*1023)];r[X+2]=P.in[~~(p*1023)]}};e.raw.mBG=function(z,r){var k=z.width,L=z.height,E=new Uint16Array(r.length),F=null,U=0,J=0,x=0;
e.raw.mBW(z,E);e.raw.ug(1,z,E,k,L);if(z.t50712){F=z.t50712;U=F.length-1;if(F[U]>65535)throw"too big values"}var l=z.t50713,G=z.t50714,g=z.t50715,P=z.t50716;
if(G==null)G=[0,0,0,0];if(l==null||l[0]+l[1]!=4)G=[G[0],G[0],G[0],G[0]];var a=k,d=L;if(z.t50829){var t=z.t50829;
J=t[1];x=t[0];a=t[3];d=t[2]}g=new Float32Array(g?g:k);P=new Float32Array(P?P:L);var m=z.t50717[0];if(F)m=Math.min(m,F[U]);
var b=1/(m-G[0]),I=z.data,v=r.length;for(var W=x;W<d;W++){for(var B=J;B<a;B++){var n=W*k+B,j=E[n];if(F!=null){if(j>U)j=U;
j=F[j]}var p=G[0]+g[B-J]+P[W-x];r[n]=Math.max(0,Math.min(1,(j-p)/(m-p)))}}};e.raw.mBW=function(z,r){var k=r.length,L=z.data,E=z.t258[0];
if(E!=16&&E!=14&&E!=12&&E!=10&&E!=8)throw"Unsupported Bits Per Sample:"+E;for(var F=0;F<k;F+=2){var U=0,l=0,G=0;
if(E==16){U=F<<1;l=L[U+1]<<8|L[U];G=L[U+3]<<8|L[U+2]}else if(E==14){var g=F*14,P=g>>>3,J=L[P]<<24|L[P+1]<<16|L[P+2]<<8|L[P+3];
if((g&7)==0){l=J>>>18;G=J>>>4&16383}else{l=J>>>14&16383;G=J&16383}}else if(E==12){U=F+(F>>>1);l=L[U]<<4|L[U+1]>>4;
G=(L[U+1]&15)<<8|L[U+2]}else if(E==10){var g=F*10,P=g>>>3;if((g&7)==0){l=(L[P]<<2|L[P+1]>>6)&1023;G=(L[P+1]<<4|L[P+2]>>4)&1023}else{l=(L[P]<<6|L[P+1]>>2)&1023;
G=(L[P+1]<<8|L[P+2]>>0)&1023}}else if(E==8){U=F;l=L[U];G=L[U+1]}r[F]=l;r[F+1]=G}};e.raw.ug=function(z,r,k,L,E){var F=r["t"+[51008,51009,51022][z-1]],P=0;
if(F==null)return;var U=L*E,l=h.S,G=h.aQ,g=new Uint8Array(F),J=h.S(g,P);P+=4;for(var x=0;x<J;x++){var a=l(g,P);
P+=4;var d=l(g,P);P+=4;var t=l(g,P);P+=4;var m=l(g,P);P+=4;if(!1){}else if(a==1&&z==3){var b=P,I=l(g,b);
b+=4;var v=G(g,b);b+=8;var W=G(g,b);b+=8;var B=G(g,b);b+=8;var n=G(g,b);b+=8;var j=G(g,b);b+=8;var p=G(g,b);
b+=8;b+=(I-1)*8*6;var X=G(g,b);b+=8;var M=G(g,b);b+=8;var H=X*L,c=M*E,S=Math.max(H,L-H),w=Math.max(c,E-c),R=Math.sqrt(S*S+w*w),i=1/R,f=k.slice(0);
for(var _=0;_<E;_++)for(var u=0;u<L;u++){var Q=(u+.5-H)*i,$=(_+.5-c)*i,C=Q*Q+$*$,y=v+W*C+B*C*C+n*C*C*C,N=j*(2*Q*$)+p*(C+2*Q*Q),O=p*(2*Q*$)+j*(C+2*$*$),JQ=Math.floor(H+R*(y*Q+N)),zf=Math.floor(c+R*(y*$+O)),ze=(zf*L+JQ)*3,zg=(_*L+u)*3;
k[zg]=f[ze];k[zg+1]=f[ze+1];k[zg+2]=f[ze+2]}}else if(a==3&&z==3){var b=P,zF=G(g,b);b+=8;var GS=G(g,b);
b+=8;var Gm=G(g,b);b+=8;var GJ=G(g,b);b+=8;var GP=G(g,b);b+=8;var X=G(g,b);b+=8;var M=G(g,b);b+=8;var H=X*L,c=M*E,S=Math.max(H,L-H),w=Math.max(c,E-c),R=Math.sqrt(S*S+w*w),i=1/R;
for(var _=0;_<E;_++)for(var u=0;u<L;u++){var Q=(u+.5-H)*i,$=(_+.5-c)*i,C=Q*Q+$*$,Gz=1+(zF+(GS+(Gm+(GJ+GP*C)*C)*C)*C)*C,zg=(_*L+u)*3;
k[zg]=Gz*k[zg];k[zg+1]=Gz*k[zg+1];k[zg+2]=Gz*k[zg+2]}}else if(a==4&&z==1){var b=P,GG=l(g,b);b+=4;var GW=l(g,b);
b+=4;for(var GM=0;GM<U;GM++)if(k[GM]==GG)k[GM]=k[GM-2]+k[GM+2]>>1}else if(a==5&&z==1){var b=P,GQ=l(g,b);
b+=4;var Gu=l(g,b);b+=4;var GK=l(g,b);b+=4;for(var GM=0;GM<Gu;GM++){var GE=l(g,b);b+=4;var Gl=l(g,b);
b+=4;var GM=GE*L+Gl;k[GM]=k[GM-2]+k[GM+2]>>1}}else if(a==7&&z==1){var b=P,Gx=h.ao(g,b);b+=16;var Ga=l(g,b);
b+=4;var Gc=l(g,b);b+=4;var GB=l(g,b),GA=l(g,b+4);b+=8;var Gh=l(g,b);b+=4;var GT=new Uint16Array(Gh);
for(var GM=0;GM<Gh;GM++)GT[GM]=h.xI(g,b+2*GM);var Gw=Gx.X,GN=Gx.z;for(var _=0;_<GN;_+=GB)for(var u=0;
u<Gw;u+=GA){var GM=(Gx.y+_)*L+(Gx.x+u);k[GM]=GT[k[GM]]}}else if(a==9&&z==2){var b=P,Gx=h.ao(g,b);b+=16;
var Ga=l(g,b);b+=4;var Gc=l(g,b);b+=4;var GB=l(g,b),GA=l(g,b+4);b+=8;var Gy=l(g,b),GV=l(g,b+4);b+=8;
var GO=G(g,b),G_=G(g,b+8);b+=16;var GZ=G(g,b),GC=G(g,b+8);b+=16;var Gq=l(g,b);b+=4;if(Gq!=1)throw"more than one map plane";
var Go=Gy*GV,Gr=new Float32Array(Go);for(var GU=0;GU<Go;GU++)Gr[GU]=h.al(g,b+GU*4);var Gw=Gx.X,GN=Gx.z,Gn=.9999*(GV-1)/Gw,Gv=.9999*(Gy-1)/GN;
for(var _=0;_<GN;_+=GB)for(var u=0;u<Gw;u+=GA){var GM=(Gx.y+_)*L+(Gx.x+u),GX=u*Gn,GI=_*Gv,Gs=Math.floor(GX),Gt=Math.floor(GI),Gp=GX-Gs,G$=GI-Gt,zg=Gt*GV+Gs,Gd=Gr[zg]*(1-Gp)+Gr[zg+1]*Gp,GH=Gr[zg+GV]*(1-Gp)+Gr[zg+1+GV]*Gp,Gb=Gd*(1-G$)+GH*G$;
k[GM]=Math.min(1,k[GM]*Gb)}}else console.log("Unknown opcode "+a+" in OpcodeList"+z+". Length: "+m);
P+=m}};e.raw.mPI=function(z,r){var k=zd.Kl(r),L=e.raw.Km(z,r),E=e.WR.Jo(L),F=zd.mlt(k,zd.Kl(zd.mBh)),U=e.WR.multiply(F,E);
return U};e.raw.mzG=function(z){var r=z.t50728.slice(0),L=1;r.push(0);var k={x:.34567,y:.3585};do{var E=e.WR.Jo(e.raw.Km(z,k)),F=e.WR.WZ(E,r),U=zd.mzv(F);
L=Math.abs(k.x-U.x)+Math.abs(k.y-U.y);k=U}while(L>1e-7);return k};e.raw.Km=function(z,r){var k=zd.Ku(r),L=e.raw.mMy,E=z.t50779?z.t50779[0]:0,F=L(z.t50721,z.t50722,z.t50778[0],E,k.iv),U=L(z.t50723,z.t50724,z.t50778[0],E,k.iv);
U=U||[1,0,0,0,1,0,0,0,1];var l=z.t50727?[z.t50727[0],0,0,0,z.t50727[1],0,0,0,z.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return e.WR.multiply(e.WR.W_(l),e.WR.multiply(e.WR.W_(U),e.WR.W_(F)))};e.raw.mMy=function(z,r,k,L,E){if(!z&&!r){return null}else if(z&&!r){return z}else if(E<k){return z}else if(E>L){return r}else{var F=(1/E-1/L)/(1/k-1/L),U=1-F,l=[];
for(var G=0;G<9;G++)l[G]=z[G]*F+r[G]*U;return l}};var zd={};zd.mBh={x:.34567,y:.3585};zd.Kz=[{F:0,KW:.18006,KM:.26352,KQ:-.24341},{F:10,KW:.18066,KM:.26589,KQ:-.25479},{F:20,KW:.18133,KM:.26846,KQ:-.26876},{F:30,KW:.18208,KM:.27119,KQ:-.28539},{F:40,KW:.18293,KM:.27407,KQ:-.3047},{F:50,KW:.18388,KM:.27709,KQ:-.32675},{F:60,KW:.18494,KM:.28021,KQ:-.35156},{F:70,KW:.18611,KM:.28342,KQ:-.37915},{F:80,KW:.1874,KM:.28668,KQ:-.40955},{F:90,KW:.1888,KM:.28997,KQ:-.44278},{F:100,KW:.19032,KM:.29326,KQ:-.47888},{F:125,KW:.19462,KM:.30141,KQ:-.58204},{F:150,KW:.19962,KM:.30921,KQ:-.70471},{F:175,KW:.20525,KM:.31647,KQ:-.84901},{F:200,KW:.21142,KM:.32312,KQ:-1.0182},{F:225,KW:.21807,KM:.32909,KQ:-1.2168},{F:250,KW:.22511,KM:.33439,KQ:-1.4512},{F:275,KW:.23247,KM:.33904,KQ:-1.7298},{F:300,KW:.2401,KM:.34308,KQ:-2.0637},{F:325,KW:.24792,KM:.34655,KQ:-2.4681},{F:350,KW:.25591,KM:.34951,KQ:-2.9641},{F:375,KW:.264,KM:.352,KQ:-3.5814},{F:400,KW:.27218,KM:.35407,KQ:-4.3633},{F:425,KW:.28039,KM:.35577,KQ:-5.3762},{F:450,KW:.28863,KM:.35714,KQ:-6.7262},{F:475,KW:.29685,KM:.35823,KQ:-8.5955},{F:500,KW:.30505,KM:.35907,KQ:-11.324},{F:525,KW:.3132,KM:.35968,KQ:-15.628},{F:550,KW:.32129,KM:.36011,KQ:-23.325},{F:575,KW:.32931,KM:.36038,KQ:-40.77},{F:600,KW:.33724,KM:.36051,KQ:-116.45}];
zd.Ku=function(z){var r=zd.Kz,k=2*z.x/(1.5-z.x+6*z.y),L=3*z.y/(1.5-z.x+6*z.y),E=0,F=0,U=0;for(;U<31;
U++){E=L-r[U].KM-r[U].KQ*(k-r[U].KW);if(U>0&&E<0){break}F=E}E/=Math.sqrt(1+r[U].KQ*r[U].KQ);F/=Math.sqrt(1+r[U-1].KQ*r[U-1].KQ);
var l=F/(F-E),G=1e6/((r[U].F-r[U-1].F)*l+r[U-1].F),g=k-((r[U].KW-r[U-1].KW)*l+r[U-1].KW),P=L-((r[U].KM-r[U-1].KM)*l+r[U-1].KM),J=Math.sqrt(1+r[U].KQ*r[U].KQ),x=1/J,a=r[U].KQ/J,d=Math.sqrt(1+r[U-1].KQ*r[U-1].KQ),t=1/d,m=r[U-1].KQ/d,b=(x-t)*l+t,I=(a-m)*l+m,v=Math.sqrt(b*b+I*I);
b/=v;I/=v;var W=(g*b+P*I)*-3e3;return{iv:G,iX:W}};zd.mGx=function(z,r){var k=zd.Kz,L=1e6/z,E=1;for(;
E<31;E++){if(L<k[E].F){break}}var F=(k[E].F-L)/(k[E].F-k[E-1].F),U=(k[E-1].KW-k[E].KW)*F+k[E].KW,l=(k[E-1].KM-k[E].KM)*F+k[E].KM,G=Math.sqrt(1+k[E].KQ*k[E].KQ),g=1/G,P=k[E].KQ/G,J=Math.sqrt(1+k[E-1].KQ*k[E-1].KQ),x=1/J,a=k[E-1].KQ/J,d=(x-g)*F+g,t=(a-P)*F+P,m=Math.sqrt(d*d+t*t);
d/=m;t/=m;U+=d*r/-3e3;l+=t*r/-3e3;return{x:1.5*U/(U-4*l+2),y:l/(U-4*l+2)}};zd.mzv=function(z){var r=z[0]+z[1]+z[2];
return{x:z[0]/r,y:z[1]/r}};zd.Kl=function(z){return{x:z.x/z.y,y:1,iI:(1-z.x-z.y)/z.y}};zd.mlt=function(z,r){var k=e.WR.W_([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),L=[z.x,z.y,z.iI,0],E=[r.x,r.y,r.iI,0];
L=e.WR.WZ(k,L);E=e.WR.WZ(k,E);var F=E[0]/L[0],U=E[1]/L[1],l=E[2]/L[2],G=e.WR.W_([F,0,0,0,U,0,0,0,l]),g=e.WR.Jo(k);
return e.WR.multiply(e.WR.multiply(g,G),k)};e.Ka={};e.Ka.Ka=function(z,r,k){var L=z.X,E=z.z,F=1/L,U=L*E,l=Date.now(),G=!1;
if(G)console.log("expand known",Date.now()-l);l=Date.now();var g=e.Ka.KA(k,L,E,255),P=e.Ka.KA(k,L,E,0),J=function(Ga,Gc){var GB=Ga<<2,GA=Gc<<2;
return r[GB]+r[GB+1]+r[GB+2]-(r[GA]+r[GA+1]+r[GA+2])};g.sort(J);P.sort(J);var x=e.$(U),a=e.$(U),d=[],t=new Uint32Array(L*E);
e.JV(t,4294967295);for(var m=0;m<U;m++)if(k[m]==0)a[m]=255;else if(k[m]==255)x[m]=255;else{t[m]=d.length;
d.push(m)}if(G)console.log("Unknown:",d.length,g.length,P.length);if(G)console.log(Date.now()-l);l=Date.now();
var b=e.style.Qh(x,L,E),I=e.style.Qh(a,L,E),v=new Float32Array(d.length),W=new Float32Array(d.length),B=new Uint32Array(d.length),n=new Uint32Array(d.length),j=new Float32Array(d.length);
if(G)console.log("D trf",Date.now()-l);l=Date.now();for(var m=0;m<d.length;m++){var p=d[m],X=~~(p*F),M=p-X*L,H=b[p<<1],c=b[(p<<1)+1];
v[m]=1/Math.sqrt(H*H+c*c);var S=I[p<<1],w=I[(p<<1)+1];W[m]=1/Math.sqrt(S*S+w*w);var R=Math.floor(Math.random()*g.length),i=Math.floor(Math.random()*P.length);
B[m]=R;n[m]=i;j[m]=e.Ka.Kc(p,g[R],P[i],L,F,r,v[m],W[m],1e9)}var f=[-L,-1,1,L],_=e.Ka.Kc;for(var u=0;
u<10;u++){var Q=Math.pow(.5,u);for(var m=0;m<d.length;m++){var p=d[m],X=~~(p*F),M=p-X*L,$=v[m],C=W[m],y=j[m],R=B[m],i=n[m],zg=1;
for(var N=0;N<4;N++){if(N==0&&X==0||N==1&&M==0||N==2&&M==L-1||N==3&&X==E-1)continue;var O=t[p+f[N]];
if(O==4294967295)continue;var JQ=B[O],zf=n[O];if(JQ==R&&zf==i)continue;var ze=_(p,g[JQ],P[zf],L,F,r,$,C,y);
if(ze<y){y=ze;R=JQ;i=zf}}for(var zF=0;zF<1;zF++){var GS=~~(g.length*zg),Gm=~~(P.length*zg);zg*=.5;var GJ=Math.max(0,R-GS),GP=Math.min(R+GS,g.length-1),Gz=Math.max(0,i-Gm),GG=Math.min(i+Gm,P.length-1),GW=GJ+~~(Math.random()*(GP-GJ)),GM=Gz+~~(Math.random()*(GG-Gz)),ze=_(p,g[GW],P[GM],L,F,r,$,C,y);
if(ze<y){y=ze;R=GW;i=GM}}j[m]=y;B[m]=R;n[m]=i}}if(G)console.log(Date.now()-l);l=Date.now();var GQ=k.slice(0);
for(var m=0;m<d.length;m++)GQ[d[m]]=~~(.5+255*e.Ka.alpha(d[m],g[B[m]],P[n[m]],r));GQ=e.KT.mly(GQ,r,new Z(0,0,L,E),16,.01*.01);
if(G)console.log("guided filter",Date.now()-l);l=Date.now();for(var m=0;m<U;m++)if(k[m]==255||k[m]==0)GQ[m]=k[m];
var Gu=r.slice(0);for(var m=0;m<d.length;m++){var GK=d[m],R=g[B[m]],y=j[m],GE=GK<<2,Gl=GQ[GK],Gx=(Gl>=250?GK:R)<<2;
Gu[GE]=r[Gx];Gu[GE+1]=r[Gx+1];Gu[GE+2]=r[Gx+2]}e.JN(GQ,Gu,3);if(G)console.log(Date.now()-l);l=Date.now();
return Gu};e.Ka.Kc=function(z,r,k,L,E,F,U,l,G){var g=~~(z*E),P=z-g*L,J=~~(r*E),x=r-J*L,a=~~(k*E),d=k-a*L,t=Math.sqrt((P-x)*(P-x)+(g-J)*(g-J))*U,m=Math.sqrt((P-d)*(P-d)+(g-a)*(g-a))*l,S=0;
if(t+m>=G)return 1e9;var b=z<<2,I=r<<2,v=k<<2,W=F[b],B=F[b+1],n=F[b+2],j=F[I],p=F[I+1],X=F[I+2],M=F[v],H=F[v+1],c=F[v+2];
if(j!=M||p!=H||X!=c){var w=j-M,R=p-H,i=X-c,f=W-M,_=B-H,u=n-c,Q=(f*w+_*R+u*i)/(w*w+R*R+i*i);Q=Math.max(0,Math.min(1,Q));
var $=W-(Q*j+(1-Q)*M),C=B-(Q*p+(1-Q)*H),y=n-(Q*X+(1-Q)*c);S=Math.sqrt($*$+C*C+y*y)}return S+t+m};e.Ka.alpha=function(z,r,k,L){var E=z<<2,F=r<<2,U=k<<2,l=L[E],G=L[E+1],g=L[E+2],P=L[F],J=L[F+1],x=L[F+2],a=L[U],d=L[U+1],t=L[U+2];
if(P==a&&J==d&&x==t)return 1;var m=P-a,b=J-d,I=x-t,v=l-a,W=G-d,B=g-t,n=(v*m+W*b+B*I)/(m*m+b*b+I*I);return Math.max(0,Math.min(1,n))};
e.Ka.mQs=function(z){};e.Ka.KA=function(z,r,k,L){var E=[];for(var F=0;F<k;F++)for(var U=0;U<r;U++){var l=F*r+U;
if(z[l]==L&&(F!=0&&z[l-r]!=L&&z[l-r]!=255-L||F>1&&z[l-r-r]!=L&&z[l-r-r]!=255-L||F!=k-1&&z[l+r]!=L&&z[l+r]!=255-L||F<k-2&&z[l+r+r]!=L&&z[l+r+r]!=255-L||U!=0&&z[l-1]!=L&&z[l-1]!=255-L||U>1&&z[l-1-1]!=L&&z[l-1-1]!=255-L||U!=r-1&&z[l+1]!=L&&z[l+1]!=255-L||U<r-2&&z[l+1+1]!=L&&z[l+1+1]!=255-L))E.push(l)}return E};
e.Ka.mzJ=function(z,r,k,L){var E=z.slice(0),F=Math.round((k+L)/400);for(var U=0;U<L;U++)for(var l=0;
l<k;l++){var G=U*k+l;if(z[G]==0||z[G]==255)continue;var g=r[G<<2],P=r[(G<<2)+1],J=r[(G<<2)+2],x=Math.max(0,l-F),a=Math.min(l+F+1,k),d=Math.max(0,U-F),t=Math.min(U+F+1,L);
for(var m=d;m<t;m++)for(var b=x;b<a;b++){var I=m*k+b;if(z[I]==0||z[I]==255){var v=r[I<<2]-g,W=r[(I<<2)+1]-P,B=r[(I<<2)+2]-J;
if(v*v+W*W+B*B<15){E[G]=z[I];m=t;break}}}}return E};e.KT={};e.KT.mzP=function(z,r,k,L,E){var F=k.X,U=k.z,l=F*U,G=e.KT.Kw,g=e.$(l*4),P;
e.JV(g,4294967295);var J=k,x=z,a=r,d=L;e.JN(z,g,0);P=e.Jv(g,k);P=e.Jv(P.bT,P.rect);J=P.rect;d=L>>>2;
console.log(J,d);x=e.$(J.Y());e.Jw(P.bT,x,0);e.JN(r,g,0);P=e.Jv(g,k);P=e.Jv(P.bT,P.rect);a=e.$(J.Y());
e.Jw(P.bT,a,0);var t=e.KT.mlA(x,a,J,d,E),m=t[0],b=t[1],I=new Z(0,0,J.X*2,J.z*2);m=G(m,J,I,!0);m=G(m,I,k,!0);
b=G(b,J,I,!0);b=G(b,I,k,!0);var v=e.$(l);for(var W=0;W<l;W++)v[W]=Math.max(0,Math.min(255,Math.floor(.5+(m[W]*r[W]+255*b[W]))));
return v};e.KT.Kw=function(z,r,k,L){var E=k.X,F=k.z,U=r.X,l=r.z,G=e.KT.GN,g=new Float32Array(E*F);for(var P=0;
P<l;P++){var J=(P+P)*E;for(var x=0;x<U;x++){if(!0||x==0||P==0||x==U-1||P==l-1)g[J]=g[J+1]=g[J+E]=g[J+E+1]=z[P*U+x];
else{g[J]=G(x+.25,P+.25,z,U,l);g[J+1]=G(x+.75,P+.25,z,U,l);g[J+E]=G(x+.25,P+.75,z,U,l);g[J+E+1]=G(x+.75,P+.75,z,U,l)}J+=2}}return g};
e.KT.GN=function(z,r,k,L,E){z-=.499999;r-=.499999;var F=Math.floor(z),U=Math.floor(r),l=U*L+F,G=z-F,g=r-U,P=(1-g)*(1-G),J=(1-g)*G,x=g*(1-G),a=g*G;
if(k[l]==null||k[l+L+1]==null){console.log(z,r,L,E);throw"e"}return P*k[l+0]+J*k[l+1]+x*k[l+L+0]+a*k[l+L+1]};
e.KT.mlA=function(z,r,k,L,E){var F=k.X,U=k.z,l=F*U,G=e.KT.KC,g=e.KT.$,P=e.blur.PF,J=e.KT.Kq,r=G(r),z=G(z),x=g(l);
P(r,x,k,L);var a=g(l);P(z,a,k,L);var d=g(l);J(r,r,d);P(d,d,k,L);var t=g(l);J(r,z,t);P(t,t,k,L);var m=g(l),b=g(l);
for(var I=0;I<l;I++){var v=x[I],W=a[I],B=d[I]-v*v,n=t[I]-v*W,j=n/(B+E),p=W-j*v;m[I]=j;b[I]=p}var X=g(l);
P(m,X,k,L);var M=g(l);P(b,M,k,L);return[X,M]};e.KT.mly=function(z,r,k,L,E){var F=k.X,U=k.z,l=F*U,G=e.KT.Kw,g=Date.now(),P=!1,J=k,x=z,a=r,d=L;
J=new Z(0,0,F>>>2,U>>>2);d=L>>>2;x=e.KT.mlq(z,F,U);a=e.KT.mmU(r,F,U);if(P)console.log(Date.now()-g);
g=Date.now();var t=e.KT.mSv(x,a,J,d,E),m=t[0],b=t[1],I=t[2],v=t[3];if(P)console.log(Date.now()-g);g=Date.now();
var W=e.$(l);for(var B=0;B<U;B++)for(var n=0;n<F;n++){var j=B*F+n,p=(B>>>2)*(F>>>2)+(n>>>2),X=j<<2,M=m[p]*r[X]+b[p]*r[X+1]+I[p]*r[X+2]+v[p]*255;
W[j]=Math.max(0,Math.min(255,~~(.5+M)))}if(P)console.log(Date.now()-g);g=Date.now();return W};e.KT.mlq=function(z,r,k){var L=r>>>2,E=k>>>2,F=e.$(r*k);
for(var U=0;U<E;U++)for(var l=0;l<L;l++)F[U*L+l]=z[U*r+l<<2];return F};e.KT.mmU=function(z,r,k){var L=r>>>2,E=k>>>2,F=e.$(r*k*4);
for(var U=0;U<E;U++)for(var l=0;l<L;l++){var G=U*L+l<<2,g=U*r+l<<4;F[G]=z[g];F[G+1]=z[g+1];F[G+2]=z[g+2];
F[G+3]=z[g+3]}return F};e.KT.mSv=function(z,r,k,L,E){var F=k.X,U=k.z,l=F*U,G=e.KT.KC,g=e.KT.$,P=e.blur.PF,J=e.KT.Kq,z=G(z),x=new e.Ph(F*U);
e.JR(r,x);var r=[G(x.F),G(x.P),G(x.g)],a=e.KT.mlI(z,r,k,L,E),d=g(l);P(z,d,k,L);var t=g(l);J(r[0],z,t);
P(t,t,k,L);var m=g(l);J(r[1],z,m);P(m,m,k,L);var b=g(l);J(r[2],z,b);P(b,b,k,L);var I=g(l),v=g(l),W=g(l),B=g(l);
for(var n=0;n<l;n++){var j=d[n],p=a.it[n],X=a.ip[n],M=a.i$[n],H=t[n]-p*j,c=m[n]-X*j,S=b[n]-M*j;I[n]=a.iH[n]*H+a.ib[n]*c+a.ii[n]*S;
v[n]=a.ib[n]*H+a.iD[n]*c+a.iY[n]*S;W[n]=a.ii[n]*H+a.iY[n]*c+a.ik[n]*S;B[n]=j-I[n]*p-v[n]*X-W[n]*M}P(I,I,k,L);
P(v,v,k,L);P(W,W,k,L);P(B,B,k,L);return[I,v,W,B]};e.KT.mlI=function(z,r,k,L,E){var F=k.X,U=k.z,l=F*U,G=e.KT.$,g=e.blur.PF,P=e.KT.Kq,J={};
J.it=G(l);g(r[0],J.it,k,L);J.ip=G(l);g(r[1],J.ip,k,L);J.i$=G(l);g(r[2],J.i$,k,L);var x=G(l);P(r[0],r[0],x);
g(x,x,k,L);var a=G(l);P(r[0],r[1],a);g(a,a,k,L);var d=G(l);P(r[0],r[2],d);g(d,d,k,L);var t=G(l);P(r[1],r[1],t);
g(t,t,k,L);var m=G(l);P(r[1],r[2],m);g(m,m,k,L);var b=G(l);P(r[2],r[2],b);g(b,b,k,L);J.iH=x;J.ib=a;J.ii=d;
J.iD=t;J.iY=m;J.ik=b;for(var I=0;I<l;I++){var v=J.it[I],W=J.ip[I],B=J.i$[I],n=x[I]-v*v+E,j=a[I]-v*W,p=d[I]-v*B,X=t[I]-W*W+E,M=m[I]-W*B,H=b[I]-B*B+E,c=X*H-M*M,S=M*p-j*H,w=j*M-X*p,R=n*H-p*p,i=p*j-n*M,f=n*X-j*j,_=c*n+S*j+w*p,u=1/_;
J.iH[I]=c*u;J.ib[I]=S*u;J.ii[I]=w*u;J.iD[I]=R*u;J.iY[I]=i*u;J.ik[I]=f*u}return J};e.KT.$=function(z){return new Float32Array(z)};
e.KT.KC=function(z){var r=z.length,k=new Float32Array(r);for(var L=0;L<r;L++)k[L]=z[L]*(1/255);return k};
e.KT.Kq=function(z,r,k){for(var L=0;L<z.length;L++)k[L]=z[L]*r[L]};e.Ko={};e.Ko.mJR=function(z,r,k,L,E){var F=e.Ko.KL(z.buffer,r,k).ij,U=Date.now(),l=new Uint32Array(F.length);
for(var G=0;G<F.length;G++)l[G]=F[G].bq;var g=UPNG.quantize.getKDtree(new Uint8Array(l.buffer),L),P=[r,1,-r,-1,r+1,-r+1,-r-1,r-1,r+r,2,-r-r,-2,r+r-1,r+r+1,r+2,-r+2,-r-r+1,-r-r-1,-r-2,r-2,r+r+2,-r-r+2-r-r-2,r+r-2],J=new Uint8Array(r*k),x=z;
for(var a=0;a<k;a++)for(var d=0;d<r;d++){var G=a*r+d<<2,t=x[G]*(1/255),m=x[G+1]*(1/255),b=x[G+2]*(1/255),I=x[G+3]*(1/255),v=e.Ko.KU(g,t,m,b,I,E);
if(v==null){var W=[],B=0;while(B<20){var n=a*r+d+P[B]<<2,j=x[n]*(1/255),p=x[n+1]*(1/255),X=x[n+2]*(1/255),M=x[n+3]*(1/255),H=e.Ko.KU(g,j,p,X,M,.005);
if(H!=null){if(W.indexOf(H)==-1){W.push(H);H.if=1}else H.if++}B++}W.sort(function(I,b){return b.if-I.if});
while(W.length!=0&&W[W.length-1].if<3)W.pop();if(W.length==0)v=e.Ko.KU(g,t,m,b,I,100);else if(W.length==1)v=W[0];
else if(W.length==2){var c=W[0],S=W[1],w=c.est.q,R=S.est.q,i=R[0]-w[0],f=R[1]-w[1],_=R[2]-w[2],u=R[3]-w[3],Q=t-w[0],$=m-w[1],C=b-w[2],y=I-w[3],N=i*i+f*f+_*_+u*u,O=Q*Q+$*$+C*C+y*y,JQ=(Q*i+$*f+C*_+y*u)/N,zf=O-JQ*JQ*N;
if(zf<.5)v=JQ<.5?c:S;else{v=e.Ko.KU(g,t,m,b,I,100)}}else{var c=W[0],S=W[1],ze=W[2],w=c.est.q,R=S.est.q,zg=ze.est.q,zF=w[0]-zg[0],GS=w[1]-zg[1],Gm=w[2]-zg[2],GJ=w[3]-zg[3],GP=R[0]-zg[0],Gz=R[1]-zg[1],GG=R[2]-zg[2],GW=R[3]-zg[3],GM=zg[0]-t,GQ=zg[1]-m,Gu=zg[2]-b,GK=zg[3]-I,GE=zF*zF+GS*GS+Gm*Gm+GJ*GJ,Gl=zF*GP+GS*Gz+Gm*GG+GJ*GW,Gx=GM*zF+GQ*GS+Gu*Gm+GK*GJ,Ga=zF*GP+GS*Gz+Gm*GG+GJ*GW,Gc=GP*GP+Gz*Gz+GG*GG+GW*GW,GB=GM*GP+GQ*Gz+Gu*GG+GK*GW,GA=1/(Gl*Ga-GE*Gc),JQ=(Gc*Gx-GB*Gl)*GA,Gh=(GB*GE-Gx*Ga)*GA,GT=1-JQ-Gh,Gw=Math.max(JQ,Gh,GT);
if(Gw==JQ)v=c;else if(Gw==Gh)v=S;else v=ze}}J[G>>2]=v.ind}return{ie:J,ij:g[1]}};e.Ko.KL=function(z,r,k){var L=[],E={},F=r-1,U=k-1,l=0,G=new Uint32Array(z),g=[-r-1,-r,-r+1,-1,1,r-1,r,r+1,r+r,2,-r-r,-2,r+r-1,r+r+1,r+2,-r+2,-r-r+1,-r-r-1,-r-2,r-2,r+r+2,-r-r+2-r-r-2,r+r-2];
for(var P=1;P<U;P++)for(var J=1;J<F;J++){var x=P*r+J,a=G[x],d=!0;for(var t=0;t<8;t++)d=d&&G[x+g[t]]==a;
if(d){l++;var m=E[a];if(m==null){E[a]=L.length;L.push({bq:a,OJ:1})}else L[m].OJ++}}return{ij:L,ig:l}};
e.Ko.KU=function(z,r,k,L,E,F){var U=UPNG.quantize.getNearest(z[0],r,k,L,E);return e.Ko.mlj(U,r,k,L,E)<F?U:null};
e.Ko.mlj=function(z,r,k,L,E){var F=z.est.q,U=r-F[0],l=k-F[1],G=L-F[2],g=E-F[3];return U*U+l*l+G*G+g*g};
e.Ko.mz_=function(z,r,k,L){var E=e.Ko.mxG(z,r,k,L),F=E.ie,U=E.ij,l=E.iF,G=UPNG.quantize.getKDtree(new Uint8Array(l.buffer.slice(0)),200),g=[];
for(var P=0;P<U.length;P++){var J=U[P].GQ,x=J[0],a=J[1],d=J[2],t=J[3];if(Math.min(x,a,d,t)<0)throw"e";
var m=UPNG.quantize.getNearest(G[0],x/255,a/255,d/255,t/255);g.push(G[1].indexOf(m))}for(var P=0;P<r*k;
P++)F[P]=g[F[P]];return{ie:F,ij:G[1]}};e.Ko.mxG=function(z,r,k,L){var E=r*k,F=2*E,U=e.Ko.mxQ(z,r,k),l=65535+1,G=new Uint32Array(l),J=0;
for(var g=0;g<F;g++)G[U[g]]++;var P=new Uint32Array(l);for(var g=0;g<l;g++){P[g]=J;J+=G[g]}var x=new Uint32Array(F);
for(var g=0;g<F;g++){var a=U[g];x[P[a]]=g;P[a]++}var d=new UnionFind(E),t=new Uint16Array(E),m=new Uint32Array(E);
for(var g=0;g<E;g++)m[g]=1;var b=E,I=1e5/(L*10);for(var v=0;v<F;v++){var W=x[v],B=U[W];if(B==65535)continue;
var g=W>>1,n=g+((W&1)==0?1:r),j=d.find(g),p=d.find(n),X=Math.min(t[j]+I/Math.sqrt(m[j]),t[p]+I/Math.sqrt(m[p]));
if(j!=p&&B<=X){d.link(g,n);b--;var M=d.find(g);m[M]=m[j]+m[p];t[M]=B}}var H=[],c={},S=new Uint16Array(E);
for(var g=0;g<E;g++){var M=d.find(g),w=c[M];if(w==null){c[M]=w=H.length;H.push({OJ:0,GQ:[0,0,0,0]})}H[w].OJ++;
for(var n=0;n<4;n++)H[w].GQ[n]+=z[(g<<2)+n];S[g]=w}var R=new Uint32Array(H.length);for(var g=0;g<H.length;
g++){var w=H[g];for(var n=0;n<4;n++)w.GQ[n]=Math.round(w.GQ[n]/w.OJ);R[g]=w.GQ[3]<<24|w.GQ[2]<<16|w.GQ[1]<<8|w.GQ[0]}return{ie:S,ij:H,iF:R}};
e.Ko.mxQ=function(z,r,k){var L=new Uint16Array(r*k*2);for(var E=0;E<k;E++)for(var F=0;F<r;F++){var U=E*r+F;
L[U+U]=F<r-1?e.Ko.Ks(z,U,U+1):65535;L[U+U+1]=E<k-1?e.Ko.Ks(z,U,U+r):65535}return L};e.Ko.Ks=function(z,r,k){var L=r<<2,E=k<<2,F=z[L],U=z[L+1],l=z[L+2],G=z[L+3],g=z[E],P=z[E+1],J=z[E+2],x=z[E+3],a=F-g,d=U-P,t=l-J,m=G-x;
return a*a+d*d+t*t+m*m>>2};var mu=function(){function z(){this.Y=0;this.DJ=0;this.DP={};this.Dz=[];this.DG=1e5;
this.DW=1e5;this.DM=-1;this.DQ=-1;this.color=0}function r(E){this.Du=E;this.DK=new Array(E);this.bq=new Array(E*6);
this.mGI=0;this.Dl=new Array(E*2);this.alpha=new Array(E);this.Dx=new Array(E);this.Da=new Array(E)}function k(E,F,U,l){function G(b,I,E,F){return E[F*I+b]}function g(m){var p=E.length;
while(m<p&&E[m]==0)m++;return m<p?m:-1}function P(b,I,p){for(var m=2;m<5;m++){var X=0;for(var M=-m+1;
M<=m-1;M++){X+=G(b+M,I+m-1,E,F)==p?1:-1;X+=G(b+m-1,I+M-1,E,F)==p?1:-1;X+=G(b+M-1,I-m,E,F)==p?1:-1;X+=G(b-m,I+M,E,F)==p?1:-1}if(X>0)return 1;
else if(X<0)return 0}return 0}function J(p,d){var t=new z,b=p,I=d,X=0,M=1,H;t.color=E[d*F+p];t.sign=G(p,d,E,F)==t.color?"+":"-";
while(1){t.Dz.push(b,I);if(b>t.DM)t.DM=b;if(b<t.DG)t.DG=b;if(I>t.DQ)t.DQ=I;if(I<t.DW)t.DW=I;t.DJ++;b+=X;
I+=M;t.Y-=b*M;if(b==p&&I==d)break;var c=G(b+(X+M-1>>1),I+(M-X-1>>1),E,F)==t.color,S=G(b+(X-M-1>>1),I+(M+X-1>>1),E,F)==t.color;
if(S&&!c){if(l.DB=="right"||l.DB=="black"&&t.sign=="+"||l.DB=="white"&&t.sign=="-"||l.DB=="majority"&&P(b,I,t.color)||l.DB=="minority"&&!P(b,I,t.color)){H=X;
X=-M;M=H}else{H=X;X=M;M=-H}}else if(S){H=X;X=-M;M=H}else if(!c){H=X;X=M;M=-H}}return t}var x=0,a=[];
while(!0){var x=g(x);if(x==-1)break;var d=Math.floor(x/F),t=J(x-d*F,d);for(var m=0;m<t.Dz.length-2;m+=2){var b=t.Dz[m],I=t.Dz[m+1],v=I*F+b;
if(b==t.Dz[m+2]&&I+1==t.Dz[m+3]&&E[v]!=0)mu.fill(v,E,F,0)}if(t.Y>l.Dc)a.push(t)}for(var m=0;m<a.length;
m++)a[m].parent=-1;var W=Date.now();for(var m=1;m<a.length;m++){var B=a[m];for(var n=m-1;n>=0;n--){var j=a[n];
if(B.DG<j.DG||B.DM>j.DM||B.DW<j.DW||B.DQ>j.DQ)continue;if(!mu.mzb(j.Dz,B.Dz[0]+.5,B.Dz[1]+.5))continue;
B.parent=n;break}}return a}function L(E,F){function U(X,M,H,c,S){this.x=X;this.y=M;this.Dh=H;this.DT=c;
this.DR=S}function l(X,M){return(M+X)%M}function G(X,M,H,c){return X*c-H*M}function g(X,M,H,c){return X*H+M*c}function P(X,M,H){if(X<=H)return X<=M&&M<H;
else return X<=M||M<H}function J(X,M,H){var c=0;c+=M*X[0]*M;c+=M*X[1]*H;c+=M*X[2];c+=H*X[3]*M;c+=H*X[4]*H;
c+=H*X[5];c+=X[6]*M;c+=X[7]*H;c+=X[8];return c}function x(X,M,H){return M+X*(H-M)}function a(X,M,H,c){var S=Math.sign(H-X),w=-Math.sign(c-M);
return S*(H-X)-w*(c-M)}function d(X,M){return Math.sqrt(X*X+M*M)}function t(X,M,H,c,S){var w=1-X;return w*w*w*M+3*(w*w*X)*H+3*(X*X*w)*c+X*X*X*S}function m(X,M,H,c,S,w,R,i){var f=G(X,M,R,i),_=G(H,c,R,i),u=G(S,w,R,i),Q=f-2*_+u,$=-2*f+2*_,C=f,y=$*$-4*Q*C;
if(Q==0||y<0)return-1;var N=Math.sqrt(y),O=(-$+N)/(2*Q),JQ=(-$-N)/(2*Q);if(O>=0&&O<=1)return O;else if(JQ>=0&&JQ<=1)return JQ;
else return-1}function b(p){var j,X,M;p.Dw=p.Dz[0];p.DN=p.Dz[1];p.Dy=[];var H=p.Dy;H.push(new U(0,0,0,0,0));
for(j=0;j<p.DJ;j++){X=p.Dz[j<<1]-p.Dw;M=p.Dz[(j<<1)+1]-p.DN;H.push(new U(H[j].x+X,H[j].y+M,H[j].Dh+X*M,H[j].DT+X*X,H[j].DR+M*M))}}function I(p){var X=p.DJ,M=p.Dz,H,c=new Array(X),S=new Array(X),w=new Array(4),R,i,f,_,u,Q,$,C,y,N,O,j,JQ,zf,ze,zg,zF,GS,Gm=0;
p.DV=new Array(X);for(j=X-1;j>=0;j--){if(M[j<<1]!=M[Gm<<1]&&M[(j<<1)+1]!=M[(Gm<<1)+1])Gm=j+1;S[j]=Gm}for(j=X-1;
j>=0;j--){var GJ=l(j+1,X)<<1;w[0]=w[1]=w[2]=w[3]=0;H=(3+3*(M[GJ]-M[j<<1])+(M[GJ+1]-M[(j<<1)+1]))/2;w[H]++;
R=0;i=0;f=0;_=0;Gm=S[j];zf=j;while(1){O=0;H=(3+3*Math.sign(M[Gm*2]-M[zf*2])+Math.sign(M[Gm*2+1]-M[zf*2+1]))/2;
w[H]++;if(w[0]&&w[1]&&w[2]&&w[3]){c[j]=zf;O=1;break}y=M[Gm*2]-M[j*2];N=M[Gm*2+1]-M[j*2+1];if(G(R,i,y,N)<0||G(f,_,y,N)>0){break}if(Math.abs(y)<=1&&Math.abs(N)<=1){}else{u=y+(N>=0&&(N>0||y<0)?1:-1);
Q=N+(y<=0&&(y<0||N<0)?1:-1);if(G(R,i,u,Q)>=0){R=u;i=Q}u=y+(N<=0&&(N<0||y<0)?1:-1);Q=N+(y>=0&&(y>0||N<0)?1:-1);
if(G(f,_,u,Q)<=0){f=u;_=Q}}zf=Gm;Gm=S[zf];if(!P(Gm,j,zf)){break}}if(O==0){$=Math.sign(M[Gm*2]-M[zf*2]);
C=Math.sign(M[Gm*2+1]-M[zf*2+1]);y=M[zf*2]-M[j*2];N=M[zf*2+1]-M[j*2+1];ze=G(R,i,y,N);zg=G(R,i,$,C);zF=G(f,_,y,N);
GS=G(f,_,$,C);JQ=1e7;if(zg<0){JQ=Math.floor(ze/-zg)}if(GS>0){JQ=Math.min(JQ,Math.floor(-zF/GS))}c[j]=l(zf+JQ,X)}}JQ=c[X-1];
p.DV[X-1]=JQ;for(j=X-2;j>=0;j--){if(P(j+1,c[j],JQ)){JQ=c[j]}p.DV[j]=JQ}for(j=X-1;P(l(j+1,X),JQ,p.DV[j]);
j--){p.DV[j]=JQ}}function v(p){function X(p,j,M){var S=p.DJ,y=p.Dz,N=p.Dy,O,JQ,zf,ze,zg,c,zF,GS,C,Gm,GJ,GP,Gz,GG,GW=0;
if(M>=S){M-=S;GW=1}if(GW==0){O=N[M+1].x-N[j].x;JQ=N[M+1].y-N[j].y;ze=N[M+1].DT-N[j].DT;zf=N[M+1].Dh-N[j].Dh;
zg=N[M+1].DR-N[j].DR;c=M+1-j}else{O=N[M+1].x-N[j].x+N[S].x;JQ=N[M+1].y-N[j].y+N[S].y;ze=N[M+1].DT-N[j].DT+N[S].DT;
zf=N[M+1].Dh-N[j].Dh+N[S].Dh;zg=N[M+1].DR-N[j].DR+N[S].DR;c=M+1-j+S}GJ=(y[j<<1]+y[M<<1])/2-y[0];GP=(y[(j<<1)+1]+y[(M<<1)+1])/2-y[1];
GG=y[M<<1]-y[j<<1];Gz=-(y[(M<<1)+1]-y[(j<<1)+1]);zF=(ze-2*O*GJ)/c+GJ*GJ;GS=(zf-O*GP-JQ*GJ)/c+GJ*GP;C=(zg-2*JQ*GP)/c+GP*GP;
Gm=Gz*Gz*zF+2*Gz*GG*GS+GG*GG*C;return Math.sqrt(Gm)}var j,M,H,c,S=p.DJ,w=new Array(S+1),R=new Array(S+1),i=new Array(S),f=new Array(S+1),_=new Array(S+1),u=new Array(S+1),Q,$,C;
for(j=0;j<S;j++){C=l(p.DV[l(j-1,S)]-1,S);if(C==j){C=l(j+1,S)}if(C<j){i[j]=S}else{i[j]=C}}M=1;for(j=0;
j<S;j++){while(M<=i[j]){f[M]=j;M++}}j=0;for(M=0;j<S;M++){_[M]=j;j=i[j]}_[M]=S;H=M;j=S;for(M=H;M>0;M--){u[M]=j;
j=f[j]}u[0]=0;w[0]=0;for(M=1;M<=H;M++){for(j=u[M];j<=_[M];j++){$=-1;for(c=_[M-1];c>=f[j];c--){Q=X(p,c,j)+w[c];
if($<0||Q<$){R[j]=c;$=Q}}w[j]=$}}p.iG=H;p.DO=new Array(H);for(j=S,M=H-1;j>0;M--){j=R[j];p.DO[M]=j}}function W(p){function X(p,j,Q,i,f,GM){var c=p.DJ,GQ=p.Dy,Gu=0,C;
while(Q>=c){Q-=c;Gu+=1}while(j>=c){j-=c;Gu-=1}while(Q<0){Q+=c;Gu-=1}while(j<0){j+=c;Gu+=1}var GK=GQ[Q+1].x-GQ[j].x+Gu*GQ[c].x,GE=GQ[Q+1].y-GQ[j].y+Gu*GQ[c].y,Gl=GQ[Q+1].DT-GQ[j].DT+Gu*GQ[c].DT,Gx=GQ[Q+1].Dh-GQ[j].Dh+Gu*GQ[c].Dh,Ga=GQ[Q+1].DR-GQ[j].DR+Gu*GQ[c].DR,$=Q+1-j+Gu*c;
i[GM]=GK/$;i[GM+1]=GE/$;var Gc=(Gl-GK*GK/$)/$,GB=(Gx-GK*GE/$)/$,GA=(Ga-GE*GE/$)/$,Gh=(Gc+GA+Math.sqrt((Gc-GA)*(Gc-GA)+4*GB*GB))/2;
Gc-=Gh;GA-=Gh;if(Math.abs(Gc)>=Math.abs(GA)){C=Math.sqrt(Gc*Gc+GB*GB);if(C!=0){f[GM]=-GB/C;f[GM+1]=Gc/C}}else{C=Math.sqrt(GA*GA+GB*GB);
if(C!=0){f[GM]=-GA/C;f[GM+1]=GB/C}}if(C==0){f[GM]=f[GM+1]=0}}var M=p.iG,H=p.DO,c=p.DJ,S=p.Dz,w=p.Dw,R=p.DN,i=new Array(M*2),f=new Array(M*2),_=new Array(M),u=new Array(3),j,Q,$,C,JQ,zf,ze,zg,zF,GS,Gm;
p.DP=new r(M);for(j=0;j<M;j++){Q=H[l(j+1,M)];Q=l(Q-H[j],c)+H[j];i[j<<1]=0;i[(j<<1)+1]=0;f[j<<1]=0;f[(j<<1)+1]=0;
X(p,H[j],Q,i,f,j<<1)}for(j=0;j<M;j++){_[j]=[0,0,0,0,0,0,0,0,0];var y=f[j<<1]*f[j<<1]+f[(j<<1)+1]*f[(j<<1)+1],N=1/y;
if(y!=0){u[0]=f[(j<<1)+1];u[1]=-f[j<<1];u[2]=-u[1]*i[(j<<1)+1]-u[0]*i[j<<1];for(C=0;C<3;C++){_[j][C*3+0]=u[C]*u[0]*N;
_[j][C*3+1]=u[C]*u[1]*N;_[j][C*3+2]=u[C]*u[2]*N}}}var O=[0,0,0,0,0,0,0,0,0];for(j=0;j<M;j++){O[0]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=0;
var GJ=S[H[j]<<1]-w,GP=S[(H[j]<<1)+1]-R,Gz=0,GG=0;Q=l(j-1,M);for(C=0;C<9;C+=3){O[C+0]=_[Q][C+0]+_[j][C+0];
O[C+1]=_[Q][C+1]+_[j][C+1];O[C+2]=_[Q][C+2]+_[j][C+2]}while(1){var GW=O[0]*O[4]-O[1]*O[3];if(GW!=0){Gz=(-O[2]*O[4]+O[5]*O[0])/GW;
GG=(O[2]*O[3]-O[5]*O[0])/GW;break}if(O[0]>O[4]){u[0]=-O[1];u[1]=O[0]}else if(O[4]){u[0]=-O[4];u[1]=O[3]}else{u[0]=1;
u[1]=0}var y=u[0]*u[0]+u[1]*u[1],N=1/y;u[2]=-u[1]*GP-u[0]*GJ;for(C=0;C<3;C++){O[C*3+0]+=u[C]*u[0]*N;
O[C*3+1]+=u[C]*u[1]*N;O[C*3+2]+=u[C]*u[2]*N}}JQ=Math.abs(Gz-GJ);zf=Math.abs(GG-GP);if(JQ<=.5&&zf<=.5){p.DP.Dl[j<<1]=Gz+w;
p.DP.Dl[(j<<1)+1]=GG+R;continue}ze=J(O,GJ,GP);zF=GJ;GS=GP;if(O[0]!=0){for(Gm=0;Gm<2;Gm++){GG=GP-.5+Gm;
Gz=-(O[1]*GG+O[2])/O[0];JQ=Math.abs(Gz-GJ);zg=J(O,Gz,GG);if(JQ<=.5&&zg<ze){ze=zg;zF=Gz;GS=GG}}}if(O[4]!=0){for(Gm=0;
Gm<2;Gm++){Gz=GJ-.5+Gm;GG=-(O[3]*Gz+O[5])/O[4];zf=Math.abs(GG-GP);zg=J(O,Gz,GG);if(zf<=.5&&zg<ze){ze=zg;
zF=Gz;GS=GG}}}for(C=0;C<2;C++){for($=0;$<2;$++){Gz=GJ-.5+C;GG=GP-.5+$;zg=J(O,Gz,GG);if(zg<ze){ze=zg;
zF=Gz;GS=GG}}}p.DP.Dl[j<<1]=zF+w;p.DP.Dl[(j<<1)+1]=GS+R}}function B(p){var X=p.DP.Du,M=p.DP,j,H,c,S,w,R,i,f,_;
for(j=0;j<X;j++){H=l(j+1,X);c=l(j+2,X);var u=M.Dl[j<<1],Q=M.Dl[(j<<1)+1],$=M.Dl[c<<1],C=M.Dl[(c<<1)+1],y=M.Dl[H<<1],N=M.Dl[(H<<1)+1],O=x(.5,$,y),JQ=x(.5,C,N);
w=a(u,Q,$,C);if(w!=0){S=G(y-u,N-Q,$-u,C-Q)/w;S=Math.abs(S);R=S>1?1-1/S:0;R=R*(1/.75)}else{R=4/3}M.Dx[H]=R;
var zf=3*H<<1;if(R>=F.mlc){M.DK[H]=0;M.bq[zf+0]=M.bq[zf+1]=0;M.bq[zf+2]=y;M.bq[zf+3]=N;M.bq[zf+4]=O;
M.bq[zf+5]=JQ}else{if(R<.55){R=.55}else if(R>1){R=1}var ze=.5+.5*R;M.DK[H]=1;M.bq[zf]=x(ze,u,y);M.bq[zf+1]=x(ze,Q,N);
M.bq[zf+2]=x(ze,$,y);M.bq[zf+3]=x(ze,C,N);M.bq[zf+4]=O;M.bq[zf+5]=JQ}M.alpha[H]=R;M.Da[H]=.5}M.mxW=1}function n(p){function X(){this.Dq=0;
this.Dr=0;this.DL=0;this.DU=0;this.Dn=0;this.KQ=0;this.bB=0;this.alpha=0}function M(p,j,u,GT,Gw,zg,zF){var c=p.DP.Du,GN=p.DP.bq,Gy=p.DP.Dl;
if(j==u)return 1;var GV=j,y=l(j+1,c),GO=l(GV+1,c),Gl=Gy[j<<1],Gx=Gy[(j<<1)+1],G_=Gy[y<<1],GZ=Gy[(y<<1)+1],GC=zg[GO];
if(GC==0)return 1;var Gq=d(Gl-G_,Gx-GZ);for(GV=GO;GV!=u;GV=GO){var GO=l(GV+1,c),Go=l(GV+2,c),Gr=Gy[GO<<1],GU=Gy[(GO<<1)+1],Gn=Gy[Go<<1],Gv=Gy[(Go<<1)+1];
if(zg[GO]!=GC)return 1;if(Math.sign(G(G_-Gl,GZ-Gx,Gn-Gr,Gv-GU))!=GC)return 1;if(g(G_-Gl,GZ-Gx,Gn-Gr,Gv-GU)<Gq*d(Gr-Gn,GU-Gv)*-.999847695156)return 1}var GX=l(j,c)*3+2<<1,GI=l(j+1,c)<<1,Gs=l(u,c)<<1,Gt=l(u,c)*3+2<<1,GW=GN[GX],GM=GN[GX+1],Gp=Gy[GI],G$=Gy[GI+1],Gd=Gy[Gs],GH=Gy[Gs+1],Gb=GN[Gt],Gi=GN[Gt+1],GS=Gy[0],Gm=Gy[1];
GX=u*3+2<<1;var GD=GN[GX],GY=GN[GX+1],N=zF[u]-zF[j];N-=G(GD-GS,GY-Gm,GD-GS,GY-Gm)/2;if(j>=u){N+=zF[c]}var Gk=Gp-GW,Gj=G$-GM,Gf=Gd-GW,Ge=GH-GM,Gg=Gb-GW,GF=Gi-GM,WS=G(Gk,Gj,Gf,Ge),Wm=G(Gk,Gj,Gg,GF),WJ=G(Gf,Ge,Gg,GF),WP=WS+WJ-Wm;
if(Wm==WS)return 1;var ze=WJ/(WJ-WP),zf=Wm/(Wm-WS),Wz=Wm*ze/2;if(Wz==0)return 1;var WG=N/Wz,O=2-Math.sqrt(4-WG/.3);
GT.Dr=x(ze*O,GW,Gp);GT.DL=x(ze*O,GM,G$);GT.DU=x(zf*O,Gb,Gd);GT.Dn=x(zf*O,Gi,GH);GT.alpha=O;GT.KQ=ze;
GT.bB=zf;Gp=GT.Dr;G$=GT.DL;Gd=GT.DU;GH=GT.Dn;GT.Dq=0;for(GV=l(j+1,c);GV!=u;GV=GO){GO=l(GV+1,c);var WW=Gy[GV<<1],WM=Gy[(GV<<1)+1],Gr=Gy[GO<<1],GU=Gy[(GO<<1)+1];
ze=m(Gp-GW,G$-GM,Gd-Gp,GH-G$,Gb-Gd,Gi-GH,Gr-WW,GU-WM);if(ze<-.5)return 1;var WQ=t(ze,GW,Gp,Gd,Gb),Wu=t(ze,GM,G$,GH,Gi),Gq=d(Gr-WW,GU-WM);
if(Gq==0)return 1;var WK=G(Gr-WW,GU-WM,WQ-WW,Wu-WM)/Gq;if(Math.abs(WK)>Gw)return 1;if(g(Gr-WW,GU-WM,WQ-WW,Wu-WM)<0||g(WW-Gr,WM-GU,WQ-Gr,Wu-GU)<0){return 1}GT.Dq+=WK*WK}for(GV=j;
GV!=u;GV=GO){GO=l(GV+1,c);var GX=GV*3+2<<1,GI=GO*3+2<<1,WE=GN[GX],Wl=GN[GX+1],Wx=GN[GI],Wa=GN[GI+1];
ze=m(Gp-GW,G$-GM,Gd-Gp,GH-G$,Gb-Gd,Gi-GH,Wx-WE,Wa-Wl);if(ze<-.5)return 1;var WQ=t(ze,GW,Gp,Gd,Gb),Wu=t(ze,GM,G$,GH,Gi),Gq=d(Wx-WE,Wa-Wl);
if(Gq==0)return 1;var WK=G(Wx-WE,Wa-Wl,WQ-WE,Wu-Wl)/Gq,Wc=G(Wx-WE,Wa-Wl,Gy[GO<<1]-WE,Gy[(GO<<1)+1]-Wl)/Gq;
Wc*=.75*p.DP.alpha[GO];if(Wc<0){WK=-WK;Wc=-Wc}if(WK<Wc-Gw)return 1;if(WK<Wc){GT.Dq+=(WK-Wc)*(WK-Wc)}}return 0}var H=p.DP,c=H.Du,S=H.Dl,w=new Array(c+1),R=new Array(c+1),i=new Array(c+1),f=new Array(c+1),_,j,u,Q,$=new X,C,y,N,O,JQ,zf,ze,zg=new Array(c),zF=new Array(c+1);
for(j=0;j<c;j++){if(H.DK[j]=="CURVE"){var GS=S[l(j-1,c)<<1],Gm=S[(l(j-1,c)<<1)+1],GJ=S[j<<1],GP=S[(j<<1)+1],Gz=S[l(j+1,c)<<1],GG=S[(l(j+1,c)<<1)+1];
zg[j]=Math.sign(G(GJ-GS,GP-Gm,Gz-GJ,GG-GP))}else{zg[j]=0}}N=0;zF[0]=0;var GW=H.Dl[0],GM=H.Dl[1];for(j=0;
j<c;j++){y=l(j+1,c);if(H.DK[y]=="CURVE"){O=H.alpha[y];var GQ=j*3+2<<1,Gu=y*3+2<<1,GK=H.bq[GQ],GE=H.bq[GQ+1],Gl=S[y<<1],Gx=S[(y<<1)+1],Ga=H.bq[Gu],Gc=H.bq[Gu+1];
N+=.3*O*(4-O)*G(Gl-GK,Gx-GE,Ga-GK,Gc-GE)/2;N+=G(GK-GW,GE-GM,Ga-GW,Gc-GM)/2}zF[j+1]=N}w[0]=-1;R[0]=0;
i[0]=0;for(u=1;u<=c;u++){w[u]=u-1;R[u]=R[u-1];i[u]=i[u-1]+1;for(j=u-2;j>=0;j--){Q=M(p,j,l(u,c),$,F.mxM,zg,zF);
if(Q){break}if(i[u]>i[j]+1||i[u]==i[j]+1&&R[u]>R[j]+$.Dq){w[u]=j;R[u]=R[j]+$.Dq;i[u]=i[j]+1;f[u]=$;$=new X}}}_=i[c];
JQ=new r(_);zf=new Array(_);ze=new Array(_);u=c;for(j=_-1;j>=0;j--){var GB=l(u,c),GA=j*3+0<<1,Gh=GB*3+0<<1;
if(w[u]==u-1){JQ.DK[j]=H.DK[GB];JQ.bq[GA]=H.bq[Gh];JQ.bq[GA+1]=H.bq[Gh+1];JQ.bq[GA+2]=H.bq[Gh+2];JQ.bq[GA+3]=H.bq[Gh+3];
JQ.bq[GA+4]=H.bq[Gh+4];JQ.bq[GA+5]=H.bq[Gh+5];JQ.Dl[j<<1]=H.Dl[GB<<1];JQ.Dl[(j<<1)+1]=H.Dl[(GB<<1)+1];
JQ.alpha[j]=H.alpha[GB];JQ.Dx[j]=H.Dx[GB];JQ.Da[j]=H.Da[GB];zf[j]=ze[j]=1}else{JQ.DK[j]="CURVE";JQ.bq[GA]=f[u].Dr;
JQ.bq[GA+1]=f[u].DL;JQ.bq[GA+2]=f[u].DU;JQ.bq[GA+3]=f[u].Dn;JQ.bq[GA+4]=H.bq[Gh+4];JQ.bq[GA+5]=H.bq[Gh+5];
JQ.Dl[j<<1]=x(f[u].bB,H.bq[Gh+4],S[GB<<1]);JQ.Dl[(j<<1)+1]=x(f[u].bB,H.bq[Gh+5],S[(GB<<1)+1]);JQ.alpha[j]=f[u].alpha;
JQ.Dx[j]=f[u].alpha;zf[j]=f[u].bB;ze[j]=f[u].KQ}u=w[u]}for(j=0;j<_;j++){y=l(j+1,_);JQ.Da[j]=zf[j]/(zf[j]+ze[y])}JQ.mxW=1;
p.DP=JQ}for(var j=0;j<E.length;j++){var p=E[j];b(p);I(p);v(p);W(p);B(p);if(F.DA)n(p)}}return{DS:k,Dm:L}}();
mu.mQC=function(z,r,k,L){var E={DB:"minority",Dc:L,DA:!0,mlc:1,mxM:.2},F=mu.DS(z,r,k,E);mu.Dm(F,E);return F};
mu.mKE=function(z){var r=[];for(var k=0;k<z.length;k++){var L=z[k],E=L.DP,F=["M"],U=[E.bq[(E.Du-1)*6+4],E.bq[(E.Du-1)*6+5]];
for(var l=0;l<E.Du;l++){var G=l*6;if(E.DK[l]==1){F.push("C");for(var g=0;g<6;g++)U.push(E.bq[G+g])}else if(E.DK[l]==0){F.push("L");
for(var g=2;g<4;g++)U.push(E.bq[G+g])}}r.push({parent:L.parent,color:L.color,path:{O:U,be:F}})}return r};
mu.mzY=function(z,r,k,L,E){function F(t){function m(G){var d="C "+(t.bq[G*3+0<<1]*r).toFixed(1)+" "+(t.bq[(G*3+0<<1)+1]*r).toFixed(1)+",";
d+=(t.bq[G*3+1<<1]*r).toFixed(1)+" "+(t.bq[(G*3+1<<1)+1]*r).toFixed(1)+",";d+=(t.bq[G*3+2<<1]*r).toFixed(1)+" "+(t.bq[(G*3+2<<1)+1]*r).toFixed(1)+" ";
return d}function b(G){var W="L "+(t.bq[G*3+1<<1]*r).toFixed(1)+" "+(t.bq[(G*3+1<<1)+1]*r).toFixed(1)+" ";
W+=(t.bq[G*3+2<<1]*r).toFixed(1)+" "+(t.bq[(G*3+2<<1)+1]*r).toFixed(1)+" ";return W}var I=t.Du,G,v="M"+(t.bq[(I-1)*3+2<<1]*r).toFixed(1)+" "+(t.bq[((I-1)*3+2<<1)+1]*r).toFixed(1)+" ";
for(G=0;G<I;G++){if(t.DK[G]==1){v+=m(G)}else if(t.DK[G]==0){v+=b(G)}}return v}var k=k*r,L=L*r,U=z.length,l=[];
for(var G=0;G<256;G++)l.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var g="<svg id=\"svg\" version=\"1.1\" width=\""+k+"\" height=\""+L+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var G=0;G<U;G++){var P=E[z[G].color-1].mQM.mzW;if((P>>>24&255)==0)continue;g+="<path d=\"";var J=z[G].DP;
g+=F(J);var x=P>>0&255,a=P>>8&255,d=P>>16&255,P="rgb("+x+","+a+","+d+")";g+="\" fill=\""+P+"\" fill-rule=\"evenodd\"/>"}g+="</svg>";
return g};mu.mzb=function(z,r,k){var L=z.length>>1,E,F=z[2*L-3]-k,U=z[2*L-2]-r,l=z[2*L-1]-k,G=l>F,P=0;
for(var g=0;g<L;g++){E=U;F=l;U=z[2*g]-r;l=z[2*g+1]-k;if(F==l)continue;G=l>F}for(var g=0;g<L;g++){E=U;
F=l;U=z[2*g]-r;l=z[2*g+1]-k;if(F<0&&l<0)continue;if(F>0&&l>0)continue;if(E<0&&U<0)continue;if(F==l&&Math.min(E,U)<=0)return!0;
if(F==l)continue;var J=E+(U-E)*-F/(l-F);if(J==0)return!0;if(J>0)P++;if(F==0&&G&&l>F)P--;if(F==0&&!G&&l<F)P--;
G=l>F}return(P&1)==1};mu.fill=function(z,r,k,L){var E=r[z],F=[z],U=0;while(U<F.length){if(F.length>k*k*2)throw"e";
var l=F[U];U++;r[l]=L;if(r[l-k]==E){F.push(l-k);r[l-k]=254}if(r[l-1]==E){F.push(l-1);r[l-1]=254}if(r[l+1]==E){F.push(l+1);
r[l+1]=254}if(r[l+k]==E){F.push(l+k);r[l+k]=254}}};var o={};o.KH=!1;o.Kb=!1;o.Ki=!1;o.M_=document.createElement("canvas");
o.MZ=null;o.KY=null;o.Kk=0;(function(){var z={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},r;
if(!r)r=o.M_.getContext("webgl",z);if(!r)r=o.M_.getContext("experimental-webgl",z);if(r){o.KH=!0;o.Kb=!0;
o.MZ=r;o.KY=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,o.KY);r.disable(r.BLEND);r.disable(r.DEPTH_TEST);
var k=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,k);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW);
r.enableVertexAttribArray(0);r.vertexAttribPointer(0,2,r.FLOAT,!1,0,0)}}());o.mKB=function(z){var r=o.MZ;
if(z>r.getParameter(r.MAX_TEXTURE_SIZE)){o.KH=!1;alert("Disabling WebGL")}};o.Kf=function(z,r){return new Float32Array([(z.x-r.x)/r.X,(z.y-r.y)/r.z,z.X/r.X,z.z/r.z])};
o.Ke=function(){return this.M_};o.Kg=function(z,r){var k=o.MZ;k.bindFramebuffer(k.FRAMEBUFFER,o.KY);
k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,z.DI,0);k.viewport(0,0,z.X,z.z);
if(r){k.enable(k.SCISSOR_TEST);k.scissor(r.x,r.y,r.X,r.z)}else k.disable(k.SCISSOR_TEST)};o.KF=function(z,r,k){if(k)throw"error";
var L=o.MZ;L.disable(L.SCISSOR_TEST);L.bindFramebuffer(L.FRAMEBUFFER,null);L.viewport(0,0,z,r);if(k){L.enable(L.SCISSOR_TEST);
L.scissor(k.x,k.y,Math.round(k.X),Math.round(k.z))}else L.disable(L.SCISSOR_TEST)};o.clear=function(){var z=o.MZ;
z.clearColor(0,0,0,0);z.clear(z.COLOR_BUFFER_BIT)};o.Jy=function(z,r){if(r==null)r=0;var k=(r>>0&255)==0,L=(r>>8&255)==0,E=(r>>16&255)==0,F=(r>>24&255)==0,U=(z>>0&255)*(1/255),l=(z>>8&255)*(1/255),G=(z>>16&255)*(1/255),g=(z>>24&255)*(1/255),P=o.MZ;
P.colorMask(k,L,E,F);P.clearColor(U,l,G,g);P.clear(P.COLOR_BUFFER_BIT);P.colorMask(!0,!0,!0,!0)};o.Ji=function(z,r,k,L,E){var F=r.Mk(L);
if(E)F=F.Mk(E);if(F.z$())return;var U=o.MZ;o.Kg(z);U.bindTexture(U.TEXTURE_2D,k.DI);U.copyTexSubImage2D(U.TEXTURE_2D,0,F.x-L.x,F.y-L.y,F.x-r.x,F.y-r.y,F.X,F.z)};
o.mEC=function(z,r,k){var L=o.Em[z];if(L==null||L.X!=r||L.z!=k){if(L)L.delete();L=new o.Ph(r,k)}o.Em[z]=L;
return L};o.Em=[];o.EJ=function(){this.Ds=null;this.OQ=null};o.EJ.EP=null;o.EJ.prototype.Ez=function(z){if(this.OQ)return;
this.OQ={};var r=o.MZ,k=this.Ds,L=this.OQ;for(var E=0;E<z.length;E++){var F=z[E];L[F]=r.getUniformLocation(k,F)}};
o.EJ.prototype.EG=function(){};o.EJ.prototype.UG=function(z,r){var k=o.MZ,L=k.createShader(k.FRAGMENT_SHADER);
k.shaderSource(L,z);k.compileShader(L);if(!k.getShaderParameter(L,k.COMPILE_STATUS))console.log(k.getShaderInfoLog(L));
var E=k.createShader(k.VERTEX_SHADER);k.shaderSource(E,r);k.compileShader(E);if(!k.getShaderParameter(E,k.COMPILE_STATUS))console.log(k.getShaderInfoLog(E));
var F=k.createProgram();k.attachShader(F,E);k.attachShader(F,L);k.linkProgram(F);if(!k.getProgramParameter(F,k.LINK_STATUS))console.log("Could not initialise shaders");
this.Ds=F};o.EJ.prototype.EW=function(){if(o.EJ.EP!=this){o.MZ.useProgram(this.Ds);o.EJ.EP=this}};o.EM=function(z,r){o.Eu++;
o.Kk+=z*r;if(o.Ki)console.log("GL.Channels instances: "+o.Eu+", memory: "+o.Kk);var k=o.MZ;this.X=z;
this.z=r;this.DI=k.createTexture();this.Dt=null;this.EQ(this.DI,z,r)};o.EM.prototype.EQ=function(z,r,k){var L=o.MZ;
L.bindTexture(L.TEXTURE_2D,z);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE);
L.texImage2D(L.TEXTURE_2D,0,L.ALPHA,r,k,0,L.ALPHA,L.UNSIGNED_BYTE,null)};o.EM.prototype.set=function(z){var r=o.MZ;
r.bindTexture(r.TEXTURE_2D,this.DI);r.pixelStorei(r.UNPACK_ALIGNMENT,1);r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,this.X,this.z,0,r.ALPHA,r.UNSIGNED_BYTE,z);
r.pixelStorei(r.UNPACK_ALIGNMENT,4)};o.EM.prototype.delete=function(){var z=o.MZ;if(this.DI){z.deleteTexture(this.DI);
o.Eu--;o.Kk-=this.X*this.z}if(o.Ki)if(o.Ki)console.log("GL.Channels instances: "+o.Eu+", memory: "+o.Kk*4)};
o.Eu=0;o.Ph=function(z,r,k){if(k==null)k=!1;o.Eu++;o.Kk+=z*r*4;if(o.Ki)console.log("GL.Channels instances: "+o.Eu+", memory: "+o.Kk);
var L=o.MZ;this.mKY=k;this.X=z;this.z=r;this.DI=L.createTexture();this.Dt=null;this.EQ(this.DI,z,r)};
o.Ph.prototype.set=function(z,r){var k=o.MZ;k.disable(k.SCISSOR_TEST);k.bindTexture(k.TEXTURE_2D,this.DI);
if(z==null||z instanceof Uint8Array){var L=this.X*this.z;if(r==null||r.Y()*10>L)k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.X,this.z,0,k.RGBA,k.UNSIGNED_BYTE,z);
else{var E=e.$(r.Y()*4);e.Jb(z,new Z(0,0,this.X,this.z),E,r);k.texSubImage2D(k.TEXTURE_2D,0,r.x,r.y,r.X,r.z,k.RGBA,k.UNSIGNED_BYTE,E)}}else k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,z)};
o.Ph.prototype.get=function(z){var r=o.MZ;o.Kg(this);r.readPixels(0,0,this.X,this.z,r.RGBA,r.UNSIGNED_BYTE,z)};
o.Ph.prototype.EK=function(z){if(z.z$())return;var r=o.MZ;if(this.Dt==null){this.Dt=r.createTexture();
this.EQ(this.Dt,this.X,this.z);o.Eu++;o.Kk+=this.X*this.z*4}r.bindFramebuffer(r.FRAMEBUFFER,o.KY);r.bindTexture(r.TEXTURE_2D,this.Dt);
if(z){var k=Math.max(z.x,0),L=Math.max(z.y,0);r.copyTexSubImage2D(r.TEXTURE_2D,0,k,L,k,L,z.X,z.z)}else r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,this.X,this.z,0)};
o.Ph.prototype.EQ=function(z,r,k){var L=o.MZ;L.bindTexture(L.TEXTURE_2D,z);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,this.mKY?L.LINEAR:L.NEAREST);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE);L.texImage2D(L.TEXTURE_2D,0,L.RGBA,r,k,0,L.RGBA,L.UNSIGNED_BYTE,null)};
o.Ph.prototype.delete=function(){var z=o.MZ;if(this.DI){z.deleteTexture(this.DI);o.Eu--;o.Kk-=this.X*this.z*4}if(this.Dt){z.deleteTexture(this.Dt);
o.Eu--;o.Kk-=this.X*this.z*4}if(o.Ki)if(o.Ki)console.log("GL.Channels instances: "+o.Eu+", memory: "+o.Kk*4)};
o.Ph.prototype.clone=function(){var z=o.MZ,r=new o.Ph(this.X,this.z);o.Kg(this);z.bindTexture(z.TEXTURE_2D,r.DI);
z.copyTexImage2D(z.TEXTURE_2D,0,z.RGBA,0,0,this.X,this.z,0);return r};o.EE={mSZ:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",mS_:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Ea:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",JS:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Ec:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",me:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",mf:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",P_:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",mza:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Jl:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",mW$:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",JE:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Eh:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",JW:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",JQ:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",JM:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Ju:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",JK:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }"};
o.Pz=function(z,r,k,L,E){if(o.Pz.ET==null)o.Pz.ET=new o.Pz.Ew;var F=r.F.length;if(o.Pz.ER["m"+F]==null){o.Pz.ER["m"+F]={mxB:new o.Ph(F,1),bT:e.$(F*4)}}var U=o.Pz.ER["m"+F];
e.JN(r.F,U.bT,0);e.JN(r.P,U.bT,1);e.JN(r.g,U.bT,2);var l=U.mxB;l.set(U.bT);var G=o.Pz.ET,g=o.MZ;o.Kg(z,E);
z.EK(E);G.EW();G.EG(z.Dt,l.DI,k?1:0,L?1:0);g.drawArrays(g.TRIANGLES,0,6)};o.Pz.ET=null;o.Pz.ER={};o.Pz.Ew=function(){o.EJ.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+o.EE.mf+"\t\t\t"+o.EE.Ea+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.Pz.Ew.prototype=new o.EJ;o.Pz.Ew.prototype.EG=function(z,r,k,L){this.Ez(["source","map","toGray","presLum"]);
var E=o.MZ,F=this.OQ;E.uniform1f(F.toGray,k);E.uniform1f(F.presLum,L);E.uniform1i(F.source,0);E.uniform1i(F.map,1);
E.activeTexture(E.TEXTURE0);E.bindTexture(E.TEXTURE_2D,z);E.activeTexture(E.TEXTURE1);E.bindTexture(E.TEXTURE_2D,r);
E.activeTexture(E.TEXTURE0)};o.EN=function(z,r,k,L,E,F){if(o.EN.ET==null){o.EN.ET=new o.EN.Ew;o.EN.Ey=new o.Ph(256,1);
o.EN.EV=e.$(256*4)}r.n=e.$(256);var U=o.EN.EV;e.Jh(r,U);var l=o.EN.Ey;l.set(U);var G=o.EN.ET,g=o.MZ;
o.Kg(z,k);z.EK(k);G.EW();G.EG(z.Dt,l.DI,L,E,F);g.drawArrays(g.TRIANGLES,0,6)};o.EN.ET=null;o.EN.Ey=null;
o.EN.EV=null;o.EN.Ew=function(){o.EJ.call(this);var z="\t\t\tprecision mediump float;\t\t\t"+o.EE.JM+"\t\t\t"+o.EE.JW+"\t\t\t"+o.EE.JQ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = cfa*src.rgb + cfb*(1.0-src.rgb);\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat ns; \t\t\t\tif(colorize==1) ns = sc; \t\t\t\telse {\t\t\t\t\tif(sc>0.0) sc = tan((3.14159265359/2.0)*sc);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tfloat alc = abs(lc); \t\t\t\t\t\t\t\tvec3 zrgb = hslToRgb(nh, min(1.0,ns*(1.0-alc)), l + (lc>0.0 ? 1.0 : -1.0)*min(l, 1.0-l)*s); \t\t\t\tvec3 nrgb = hslToRgb(nh, min(1.0,ns), l); \t\t\t\trgb = nrgb * (1.0-alc) + zrgb * alc; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.EN.Ew.prototype=new o.EJ;o.EN.Ew.prototype.EG=function(z,r,k,L,E){this.Ez(["source","map","cfa","cfb","colorize"]);
var F=o.MZ,U=this.OQ;F.uniform1f(U.cfa,k);F.uniform1f(U.cfb,L);F.uniform1i(U.colorize,E);F.uniform1i(U.source,0);
F.uniform1i(U.map,1);F.activeTexture(F.TEXTURE0);F.bindTexture(F.TEXTURE_2D,z);F.activeTexture(F.TEXTURE1);
F.bindTexture(F.TEXTURE_2D,r);F.activeTexture(F.TEXTURE0)};o.EO=function(z,r,k,L){if(o.EO.ET==null)o.EO.ET=new o.EO.Ew;
var E=o.EO.ET,F=o.MZ;o.Kg(z,L);z.EK(L);E.EW();E.EG(z.Dt,r,k);F.drawArrays(F.TRIANGLES,0,6)};o.EO.ET=null;
o.EO.Ew=function(){o.EJ.call(this);var z="\t\t\tprecision mediump float;\t\t\t"+o.EE.JM+"\t\t\t"+o.EE.Ju+"\t\t\t"+o.EE.JK+"\t\t\t"+o.EE.JW+"\t\t\t"+o.EE.JQ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.EO.Ew.prototype=new o.EJ;o.EO.Ew.prototype.EG=function(z,r,k){this.Ez(["source","vib","sat"]);
var L=o.MZ,E=this.OQ;L.uniform1f(E.vib,r);L.uniform1f(E.sat,k);L.uniform1i(E.source,0);L.activeTexture(L.TEXTURE0);
L.bindTexture(L.TEXTURE_2D,z)};o.E_=function(z,r,k){if(o.E_.ET==null)o.E_.ET=new o.E_.Ew;var L=o.E_.ET,E=o.MZ;
o.Kg(z,k);z.EK(k);L.EW();L.EG(z.Dt,r);E.drawArrays(E.TRIANGLES,0,6)};o.E_.ET=null;o.E_.Ew=function(){o.EJ.call(this);
var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = vec4(texture2D(source, sCoord).rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*src).rgb,src.w); \t\t\t\t\t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.E_.Ew.prototype=new o.EJ;o.E_.Ew.prototype.EG=function(z,r){this.Ez(["source","trf"]);
var k=o.MZ,L=this.OQ;k.uniformMatrix4fv(L.trf,!1,new Float32Array(e.WR.GT(r)));k.uniform1i(L.source,0);
k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,z)};o.EZ=function(z,r,k){if(o.EZ.ET==null){o.EZ.ET=new o.EZ.Ew}var L=o.EZ.ET,E=o.MZ;
o.Kg(z,k);z.EK(k);L.EW();L.EG(z.Dt,r);E.drawArrays(E.TRIANGLES,0,6)};o.EZ.ET=null;o.EZ.Ew=function(){o.EJ.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+o.EE.Ea+"\t\t\t"+o.EE.JS+"\t\t\t"+o.EE.Ec+"\t\t\t"+o.EE.JW+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.EZ.Ew.prototype=new o.EJ;o.EZ.Ew.prototype.EG=function(z,r){this.Ez(["source","cfs"]);
var k=o.MZ,L=this.OQ;k.uniform3fv(L.cfs,r);k.uniform1i(L.source,0);k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,z);
k.activeTexture(k.TEXTURE0)};o.EC=function(z,r,k,L){if(o.EC.ET==null){o.EC.ET=new o.EC.Ew}var E=o.EC.ET,F=o.MZ;
o.Kg(z,L);z.EK(L);E.EW();E.EG(z.Dt,r,k);F.drawArrays(F.TRIANGLES,0,6)};o.EC.ET=null;o.EC.Ew=function(){o.EJ.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+o.EE.JM+"\t\t\t"+o.EE.JS+"\t\t\t"+o.EE.Ec+"\t\t\t"+o.EE.JW+"\t\t\t"+o.EE.JQ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.EC.Ew.prototype=new o.EJ;o.EC.Ew.prototype.EG=function(z,r,k){this.Ez(["source","wght","prms"]);
var L=o.MZ,E=this.OQ;L.uniform1fv(E.wght,new Float32Array(r));L.uniform1fv(E.prms,new Float32Array(k));
L.uniform1i(E.source,0);L.activeTexture(L.TEXTURE0);L.bindTexture(L.TEXTURE_2D,z);L.activeTexture(L.TEXTURE0)};
o.M={};o.M.Eq={};o.M.Eo=null;o.M.Er=null;o.M.EL=null;o.M.EU=function(z,r,k,L,E,F,U,l){if(l==null)l=mK.oK();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(z)==-1){U=U*l.fill;l.fill=1;l.style=!1}if(o.M.Eq[z]==null)o.M.Eq[z]=new o.M.Ew(z);
var G=o.M.Eq[z],g=k.Mk(E).Mk(F);g.offset(-E.x,-E.y);if(g.z$())return;var P=o.MZ;o.Kg(L,g);L.EK(g);G.EW();
G.EG(r.DI,L.Dt,o.Kf(k,E),U,l.fill,l.style?1:0,l.bR?1:0);P.drawArrays(P.TRIANGLES,0,6)};o.M.En=function(z,r,k,L,E,F,U,l,G,g){if(o.M.Eo==null)o.M.Eo=new o.M.EI(!0,!0);
if(o.M.Er==null)o.M.Er=new o.M.EI(!0,!1);if(o.M.EL==null)o.M.EL=new o.M.EI(!1,!0);var P=g?1:0,J=z?E?o.M.Eo:o.M.Er:o.M.EL,x=r?r.Mk(L).Mk(l):L.Mk(l);
if(x.z$())return;x.offset(-L.x,-L.y);var a=o.MZ;o.Kg(k,x);k.EK(x);J.EW();if(z==null)J.EG(null,k.Dt,E.DI,o.Kf(L,L),o.Kf(F,L),U/255,G,P);
else if(E)J.EG(z.DI,k.Dt,E.DI,o.Kf(r,L),o.Kf(F,L),U/255,G,P);else J.EG(z.DI,k.Dt,null,o.Kf(r,L),null,U/255,G,P);
a.drawArrays(a.TRIANGLES,0,6)};o.M.mM$=function(z,r,k){if(o.M.DH==null)o.M.DH=new o.M.Es;var L=o.M.DH,E=new Z(0,0,z.X,z.z),F=o.MZ;
o.Kg(r);r.EK(E);L.EW();L.EG(E,z.DI,r.Dt,k.DI);F.drawArrays(F.TRIANGLES,0,6)};o.M.EX={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
o.M.Ew=function(z){o.EJ.call(this);var r="\t\t\tprecision mediump float;\t\t\t"+o.EE.Ea+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+o.EE.me+"\t\t\t"+o.EE.mf+"\t\t\t"+o.EE.P_+"\t\t\t"+o.EE.mSZ+"\t\t\t"+o.EE.mS_+"\t\t\t"+o.EE.mza+"\t\t\t"+o.EE.Jl+"\t\t\t"+o.EE.mW$+"\t\t\t"+o.EE.JE+"\t\t\t"+o.EE.hash+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+o.M.EX[z]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",k="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(z=="diss")r+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else r+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.UG(r,k)};o.M.Ew.prototype=new o.EJ;o.M.Ew.prototype.EG=function(z,r,k,L,E,F,U){this.Ez("srct alpha source target fill style keepBGA".split(" "));
var l=o.MZ,G=this.OQ;l.uniform4fv(G.srct,k);l.uniform1f(G.alpha,L);l.uniform1f(G.fill,E);l.uniform1f(G.style,F);
l.uniform1f(G.keepBGA,U);l.uniform1i(G.source,0);l.uniform1i(G.target,1);l.activeTexture(l.TEXTURE0);
l.bindTexture(l.TEXTURE_2D,z);l.activeTexture(l.TEXTURE1);l.bindTexture(l.TEXTURE_2D,r);l.activeTexture(l.TEXTURE0)};
o.M.EI=function(z,r){o.EJ.call(this);this.mQH=z;this.Di=r;var k="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+o.EE.Eh+"\t\t\t"+o.EE.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(z?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(r?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(z?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",L="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(k,L)};o.M.EI.prototype=new o.EJ;o.M.EI.prototype.EG=function(z,r,k,L,E,F,U,l){if(this.Di)this.Ez("srct wrct wcolor awg dissv source target weight".split(" "));
else this.Ez(["srct","awg","dissv","source","target"]);var G=o.MZ,g=this.OQ;G.uniform4fv(g.srct,L);if(this.Di){G.uniform4fv(g.wrct,E);
G.uniform1f(g.wcolor,F)}G.uniform1f(g.awg,U);G.uniform1f(g.dissv,l);G.uniform1i(g.source,0);G.uniform1i(g.target,1);
if(this.Di)G.uniform1i(g.weight,2);G.activeTexture(G.TEXTURE0);G.bindTexture(G.TEXTURE_2D,z);G.activeTexture(G.TEXTURE1);
G.bindTexture(G.TEXTURE_2D,r);if(this.Di){G.activeTexture(G.TEXTURE2);G.bindTexture(G.TEXTURE_2D,k)}G.activeTexture(G.TEXTURE0)};
o.M.Es=function(){o.EJ.call(this);var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.UG(z,r)};o.M.Es.prototype=new o.EJ;o.M.Es.prototype.EG=function(z,r,k,L){this.Ez(["rct","prev","next","alpha"]);
var E=o.MZ,F=this.OQ;E.uniform4fv(F.rct,[0,0,1,1]);E.uniform1i(F.prev,0);E.uniform1i(F.next,1);E.uniform1i(F.alpha,2);
E.activeTexture(E.TEXTURE0);E.bindTexture(E.TEXTURE_2D,r);E.activeTexture(E.TEXTURE1);E.bindTexture(E.TEXTURE_2D,k);
E.activeTexture(E.TEXTURE2);E.bindTexture(E.TEXTURE_2D,L);E.activeTexture(E.TEXTURE0)};function V(z,r){if(!z)z=0;
if(!r)r=0;this.x=z;this.y=r}V.prototype.add=function(z){return new V(this.x+z.x,this.y+z.y)};V.prototype.clone=function(){return new V(this.x,this.y)};
V.prototype.Et=function(z){this.x=z.x;this.y=z.y};V.prototype.Jq=function(z){return this.x==z.x&&this.y==z.y};
V.prototype.normalize=function(z){var r=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=z/r;this.y*=z/r};
V.prototype.offset=function(z,r){this.x+=z;this.y+=r};V.prototype.Ep=function(z,r){this.x=z;this.y=r};
V.prototype.E$=function(z){return new V(this.x-z.x,this.y-z.y)};V.Ed=function(z,r){return V.mx$(z.x,z.y,r.x,r.y)};
V.We=function(z,r,k){return new V(z.x+k*(r.x-z.x),z.y+k*(r.y-z.y))};V.mcr=function(z,r){return new V(z*Math.cos(r),z*Math.sin(r))};
V.mx$=function(z,r,k,L){return Math.sqrt((k-z)*(k-z)+(L-r)*(L-r))};V.Ei={};V.ED={};V.Ei.create=function(){var z=new Float32Array(4);
return z};V.ED.create=function(z){var r=new Float32Array(16);r[0]=r[5]=r[10]=r[15]=1;if(z)V.ED.set(z,r);
return r};V.Ei.add=function(z,r,k){k[0]=z[0]+r[0];k[1]=z[1]+r[1];k[2]=z[2]+r[2];k[3]=z[3]+r[3]};V.Ei.set=function(z,r){r[0]=z[0];
r[1]=z[1];r[2]=z[2];r[3]=z[3]};V.ED.set=function(z,r){r[0]=z[0];r[1]=z[1];r[2]=z[2];r[3]=z[3];r[4]=z[4];
r[5]=z[5];r[6]=z[6];r[7]=z[7];r[8]=z[8];r[9]=z[9];r[10]=z[10];r[11]=z[11];r[12]=z[12];r[13]=z[13];r[14]=z[14];
r[15]=z[15]};V.ED.multiply=function(z,r,k){var L=z[0],E=z[1],F=z[2],U=z[3],l=z[4],G=z[5],g=z[6],P=z[7],J=z[8],x=z[9],a=z[10],d=z[11],t=z[12],m=z[13],b=z[14],I=z[15],v=r[0],W=r[1],B=r[2],n=r[3];
k[0]=v*L+W*l+B*J+n*t;k[1]=v*E+W*G+B*x+n*m;k[2]=v*F+W*g+B*a+n*b;k[3]=v*U+W*P+B*d+n*I;v=r[4];W=r[5];B=r[6];
n=r[7];k[4]=v*L+W*l+B*J+n*t;k[5]=v*E+W*G+B*x+n*m;k[6]=v*F+W*g+B*a+n*b;k[7]=v*U+W*P+B*d+n*I;v=r[8];W=r[9];
B=r[10];n=r[11];k[8]=v*L+W*l+B*J+n*t;k[9]=v*E+W*G+B*x+n*m;k[10]=v*F+W*g+B*a+n*b;k[11]=v*U+W*P+B*d+n*I;
v=r[12];W=r[13];B=r[14];n=r[15];k[12]=v*L+W*l+B*J+n*t;k[13]=v*E+W*G+B*x+n*m;k[14]=v*F+W*g+B*a+n*b;k[15]=v*U+W*P+B*d+n*I;
return k};V.ED.inverse=function(z,r){var k=z[0],L=z[1],E=z[2],F=z[3],U=z[4],l=z[5],G=z[6],g=z[7],P=z[8],J=z[9],x=z[10],a=z[11],d=z[12],t=z[13],m=z[14],b=z[15],I=k*l-L*U,v=k*G-E*U,W=k*g-F*U,B=L*G-E*l,n=L*g-F*l,j=E*g-F*G,p=P*t-J*d,X=P*m-x*d,M=P*b-a*d,H=J*m-x*t,c=J*b-a*t,S=x*b-a*m,w=I*S-v*c+W*H+B*M-n*X+j*p;
if(!w){return null}w=1/w;r[0]=(l*S-G*c+g*H)*w;r[1]=(E*c-L*S-F*H)*w;r[2]=(t*j-m*n+b*B)*w;r[3]=(x*n-J*j-a*B)*w;
r[4]=(G*M-U*S-g*X)*w;r[5]=(k*S-E*M+F*X)*w;r[6]=(m*W-d*j-b*v)*w;r[7]=(P*j-x*W+a*v)*w;r[8]=(U*c-l*M+g*p)*w;
r[9]=(L*M-k*c-F*p)*w;r[10]=(d*n-t*W+b*I)*w;r[11]=(J*W-P*n-a*I)*w;r[12]=(l*X-U*H-G*p)*w;r[13]=(k*H-L*X+E*p)*w;
r[14]=(t*v-d*B-m*I)*w;r[15]=(P*B-J*v+x*I)*w;return r};V.ED.mmr=function(z,r,k){var L=r[0],E=r[1];k[0]=L*z[0]+E*z[4]+z[12];
k[1]=L*z[1]+E*z[5]+z[13]};V.ED.mSf=function(z,r,k){var L=r[0],E=r[1],F=r[2],U=r[3];k[0]=z[0]*L+z[4]*E+z[8]*F+z[12]*U;
k[1]=z[1]*L+z[5]*E+z[9]*F+z[13]*U;k[2]=z[2]*L+z[6]*E+z[10]*F+z[14]*U;k[3]=z[3]*L+z[7]*E+z[11]*F+z[15]*U};
function zT(z,r,k,L,E,F){if(typeof z==="undefined"){z=1;r=0;k=0;L=1;E=0;F=0}this.n=z;this.g=r;this.bq=k;
this.br=L;this.bo=E;this.bL=F}zT.prototype.Ej=function(){return Math.sqrt(Math.abs(this.n*this.br-this.g*this.bq))};
zT.prototype.Ef=function(z){return new V(z.x*this.n+z.y*this.bq+this.bo,z.x*this.g+z.y*this.br+this.bL)};
zT.prototype.translate=function(z,r){this.bo+=z;this.bL+=r};zT.prototype.rotate=function(z){var r=new zT(Math.cos(z),-Math.sin(z),Math.sin(z),Math.cos(z),0,0);
this.concat(r)};zT.prototype.scale=function(z,r){var k=new zT(z,0,0,r,0,0);this.concat(k)};zT.prototype.concat=function(z){this.Et(new zT(this.n*z.n+this.g*z.bq,this.n*z.g+this.g*z.br,this.bq*z.n+this.br*z.bq,this.bq*z.g+this.br*z.br,this.bo*z.n+this.bL*z.bq+z.bo,this.bo*z.g+this.bL*z.br+z.bL))};
zT.prototype.Jo=function(){var z=this.n*this.br-this.g*this.bq;this.Et(new zT(this.br/z,-this.g/z,-this.bq/z,this.n/z,(this.bq*this.bL-this.br*this.bo)/z,(this.g*this.bo-this.n*this.bL)/z))};
zT.prototype.clone=function(){return new zT(this.n,this.g,this.bq,this.br,this.bo,this.bL)};zT.prototype.Et=function(z){this.n=z.n;
this.g=z.g;this.bq=z.bq;this.br=z.br;this.bo=z.bo;this.bL=z.bL};function zR(){}zR.Ee=function(z,r,k,L){var E=k,F=h.xC(z,k);
k+=4+2*F.length;if(F!="\0")r.__name=F;if(L)console.log("---------------------",F,F.length);r.classID=zR.lm(z,k);
if(L)console.log("- reading descriptor",r.classID,k);k+=4+Math.max(4,r.classID.length);var U=h.xY(z,k);
k+=4;if(L)console.log(3,k);for(var l=0;l<U;l++){var G=zR.lm(z,k);k+=4+Math.max(4,G.length);if(L)console.log(G);
var g=zR.EF(z,k,L);r[G]=g;k+=g.size;delete g.size}return k-E};zR.Eg=function(z,r,k,L){var E=k,F=r.__name;
if(F==null)F="\0";h.xo(z,k,F);k+=4+2*F.length;zR.lJ(z,k,r.classID);k+=4+Math.max(4,r.classID.length);
h.xj(z,k,Object.keys(r).length-1-(r.__name==null?0:1));k+=4;for(var U in r){if(U=="classID")continue;
if(U=="__name")continue;zR.lJ(z,k,U);k+=4+Math.max(4,U.length);k+=zR.lS(z,k,r[U])}return k-E};zR.EF=function(z,r,k){var L=r,E=h.xU(z,r,4);
r+=4;var F={size:0,t:E,v:null};if(k)console.log("reading key",E,L);switch(E){case"obj ":case"VlLs":F.v=[];
var U=h.S(z,r);r+=4;for(var l=0;l<U;l++){var G=zR.EF(z,r,k);r+=G.size;delete G.size;F.v.push(G)}break;
case"Enmr":var g=h.xC(z,r);r+=4+g.length*2;var P=zR.lm(z,r);r+=4+Math.max(4,P.length);var J=zR.lm(z,r);
r+=4+Math.max(4,J.length);var x=zR.lm(z,r);r+=4+Math.max(4,x.length);F.v={class:P,type:J,enum:x};break;
case"UntF":F.v={type:h.xU(z,r,4),val:h.aQ(z,r+4)};r+=12;break;case"doub":F.v=h.aQ(z,r);r+=8;break;case"bool":F.v=z[r]==1;
r+=1;break;case"long":F.v=h.xY(z,r);r+=4;break;case"Objc":F.v={};var a=zR.Ee(z,F.v,r,k);r+=a;break;case"TEXT":F.v=h.xC(z,r);
r+=4+F.v.length*2;F.v=F.v.substring(0,F.v.length-1);break;case"enum":var J=zR.lm(z,r);r+=4+Math.max(4,J.length);
var d=zR.lm(z,r);r+=4+Math.max(4,d.length);F.v={};F.v[J]=d;break;case"tdta":var t=h.xY(z,r);r+=4;F.v=[];
for(var l=0;l<t;l++)F.v.push(z[r+l]);r+=t;break;case"ObAr":var m=h.S(z,r);r+=4;var b=h.xC(z,r);r+=4+2*b.length;
var I=zR.lm(z,r);r+=4+Math.max(4,I.length);F.v={classID:I,arr:[]};var v=h.S(z,r);r+=4;for(var l=0;l<v;
l++){var I=zR.lm(z,r);r+=4+Math.max(4,I.length);var J=h.xU(z,r,4);r+=4;var W=h.xU(z,r,4);r+=4;var B={id:I,type:J,uID:W,arr:[]};
F.v.arr.push(B);var n=h.S(z,r,4);r+=4;for(var j=0;j<n;j++){var p=h.aQ(z,r);r+=8;B.arr.push(p)}}break;
default:{console.log("unknown oskey: "+E+", "+L);return F}}if(k)console.log(F.v,L);F.size=r-L;return F};
zR.lS=function(z,r,k){var L=r,E=k.t;k=k.v;h.xv(z,r,E);r+=4;switch(E){case"obj ":case"VlLs":h.xj(z,r,k.length);
r+=4;for(var F=0;F<k.length;F++){var U=zR.lS(z,r,k[F]);r+=U}break;case"Enmr":h.xo(z,r,"\0");r+=6;zR.lJ(z,r,k.class);
r+=4+Math.max(4,k.class.length);zR.lJ(z,r,k.type);r+=4+Math.max(4,k.type.length);zR.lJ(z,r,k.enum);r+=4+Math.max(4,k.enum.length);
break;case"UntF":h.xv(z,r,k.type);h.aE(z,r+4,k.val);r+=12;break;case"doub":h.aE(z,r,k);r+=8;break;case"bool":h.aI(z,r,k?1:0,1);
r+=1;break;case"long":h.xj(z,r,k);r+=4;break;case"Objc":var U=zR.Eg(z,k,r);r+=U;break;case"TEXT":h.xo(z,r,k+"\0");
r+=4+k.length*2+2;break;case"enum":var l=Object.keys(k)[0],G=k[l];zR.lJ(z,r,l);r+=4+Math.max(4,l.length);
zR.lJ(z,r,G);r+=4+Math.max(4,G.length);break;case"tdta":h.e(z,r,k.length);r+=4;h.av(z,r,k);r+=k.length;
break;case"ObAr":h.e(z,r,k.arr[0].arr.length);r+=4;h.xo(z,r,"\0");r+=6;zR.lJ(z,r,k.classID);r+=4+Math.max(4,k.classID.length);
h.e(z,r,k.arr.length);r+=4;for(var g=0;g<k.arr.length;g++){var P=k.arr[g];zR.lJ(z,r,P.id);r+=4+Math.max(4,P.id.length);
h.xv(z,r,P.type);r+=4;h.xv(z,r,P.uID);r+=4;h.e(z,r,P.arr.length);r+=4;for(var F=0;F<P.arr.length;F++){h.aE(z,r,P.arr[F]);
r+=8}}break;default:console.log("unknown oskey: "+E);r=L;break}return r-L};zR.lm=function(z,r){var k=h.xY(z,r);
if(k>1e3)return"blbost...";if(k==0)k=4;return h.xU(z,r+4,k).trim()};zR.lJ=function(z,r,k){if(k.length<=4&&k!="warp"&&k!="list"&&k!="Comp")h.xj(z,r,0);
else h.xj(z,r,k.length);h.xv(z,r+4,k);if(k.length<4){var L="";for(var E=k.length;E<4;E++)L+=" ";h.xv(z,r+4+k.length,L)}};
zR.mMo=function(z){var r={};for(var k in z){if(k=="classID")r[k]=z[k];else if(k=="__name")r[k]=z[k];
else r[k]=zR.lz(z[k])}return r};zR.lz=function(z){if(z.KQ=="Objc")return zR.mMo(z.v);else if(z.KQ=="VlLs"){var r=[];
for(var k=0;k<z.v.length;k++)r.push(zR.lz(z.v[k]));return r}else if(z.KQ=="UntF")return z.v.val;else return z.v};
function zv(){}zv.lG=function(z,r,k,L,E,F){while(r<k){var U=h.xU(z,r,4);r+=4;if(U!="8BIM"&&U!="8B64"){console.log("layer information signature error! "+U,"PSB = "+E);
alert("Error in Photoshop file: wrong signature.");throw"e"}var l=h.xU(z,r,4);r+=4;var G=h.xY(z,r);r+=4;
if(E&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD".split(" ").indexOf(l)!=-1){G=G<<32|h.xY(z,r);
r+=4}if(E&&["pths"].indexOf(l)!=-1){G=G<<32|h.xY(z,r);r+=4}var g=["lrFX","PlLd"];if(g.indexOf(l)!=-1){if(G%4!=0)G+=4-G%4;
r+=G;continue}switch(l){case"iOpa":L[l]=z[r];break;case"brst":L[l]=[1,1,1];for(var P=0;P<G;P+=4)L[l][h.S(z,r+P)]=0;
break;case"knko":L[l]=z[r];break;case"infx":L[l]=z[r];break;case"clbl":L[l]=z[r];break;case"lmgm":L[l]=z[r];
break;case"vmgm":L[l]=z[r];break;case"lyid":L[l]=h.S(z,r);break;case"lsct":L[l]={type:h.S(z,r)};if(G>=12)L[l].DD=h.xU(z,r+8,4);
break;case"lsdk":L.lsct={type:h.S(z,r)};break;case"lyvr":L[l]=h.S(z,r);break;case"lnsr":L[l]=h.xU(z,r,4);
break;case"lspf":L[l]=h.S(z,r);break;case"lclr":L[l]=h.xI(z,r);break;case"luni":L[l]=h.xC(z,r);break;
case"fxrp":L[l]=new V(h.aQ(z,r),h.aQ(z,r+8));break;case"artb":case"artd":L[l]={};zR.Ee(z,L[l],r+4);break;
case"SoCo":L[l]={};zR.Ee(z,L[l],r+4);break;case"GdFl":L[l]={};zR.Ee(z,L[l],r+4);zv.lu(L[l],l);break;
case"PtFl":L[l]={};zR.Ee(z,L[l],r+4);zv.lu(L[l],l);break;case"CgEd":L[l]={};zR.Ee(z,L[l],r+4);break;
case"brit":L[l]={};L[l].DY=h.xH(z,r);L[l].Dk=h.xH(z,r+2);L[l].Dj=h.xH(z,r+4);L[l].Df=z[r+6];break;case"levl":var J=z.buffer.slice(r,r+G);
L[l]=zD.lK(J);break;case"curv":L[l]=zI.xP(z,r,G);break;case"expA":var x=h.xI(z,r);L[l]=[h.al(z,r+2),h.al(z,r+6),h.al(z,r+10)];
break;case"vibA":L[l]={};zR.Ee(z,L[l],r+4);break;case"hue2":L[l]=zY.xP(z,r,G);break;case"blnc":L[l]={sn:[],mf:z[r+18]==1};
for(var P=0;P<3;P++){var a=[];L[l].sn.push(a);for(var d=0;d<3;d++)a.push(h.xH(z,r+P*6+d*2))}break;case"blwh":L[l]={};
zR.Ee(z,L[l],r+4);break;case"phfl":L[l]={};var x=h.xI(z,r);if(x==3)L[l].De=[h.al(z,r+2),h.al(z,r+6),h.al(z,r+10)];
if(x==2)L[l].color={Dg:h.xI(z,r+2),KM:[h.xH(z,r+4),h.xH(z,r+6),h.xH(z,r+8),h.xH(z,r+10)]};var t=r+2+(x==3?12:10);
L[l].DF=h.S(z,t);t+=4;L[l].YS=z[t]==1;break;case"mixr":L[l]={Ym:h.xI(z,r+2)==1,u:[]};for(var P=0;P<20;
P++)L[l].u.push(h.xH(z,r+4+P*2));break;case"clrL":L[l]={};zR.Ee(z,L[l],r+6);break;case"nvrt":L[l]=1;
break;case"post":L[l]=h.xI(z,r);break;case"thrs":L[l]=h.xI(z,r);break;case"grdm":var m={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{KQ:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}};
L[l]={rev:z[r+2]==1,YJ:z[r+3]==1,v:m};var b=r+4;m.Nm.v=h.xC(z,b);b+=4+m.Nm.v.length*2;var I=h.xI(z,b);
b+=2;for(var P=0;P<I;P++){var v=h.S(z,b),W=h.S(z,b+4),B=h.xI(z,b+8);if(B!=0)console.log("Unknown mode of color in Gradient Map adjustment layer");
var n=[];for(var d=0;d<4;d++)n.push(255*h.xI(z,b+10+d*2)/65535);var j={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:n[0]},Grn:{t:"doub",v:n[1]},Bl:{t:"doub",v:n[2]}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:v},Mdpn:{t:"long",v:W}}};
m.Clrs.v.push(j);b+=20}var p=h.xI(z,b);b+=2;for(var P=0;P<p;P++){var v=h.S(z,b),W=h.S(z,b+4),X=h.xI(z,b+8),j={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*X/255)}},Lctn:{t:"long",v:v},Mdpn:{t:"long",v:W}}};
m.Trns.v.push(j);b+=10}var M=h.xI(z,b);b+=2;m.Intr.v=h.xI(z,b);b+=2;var H=h.xI(z,b);b+=2;L[l].mode=h.xI(z,b);
b+=2;L[l].YP=h.S(z,b);b+=4;L[l].Yz=h.xI(z,b)==1;b+=2;L[l].YG=h.xI(z,b)==1;b+=2;L[l].YW=h.S(z,b);b+=4;
L[l].YM=h.xI(z,b);b+=2;L[l].YQ=[];for(var P=0;P<4;P++)L[l].YQ.push(h.xI(z,b+P*2));b+=8;L[l].Yu=[];for(var P=0;
P<4;P++)L[l].Yu.push(h.xI(z,b+P*2));b+=8;var c=h.xI(z,b);b+=2;break;case"selc":L[l]=zk.xP(z,r,G);break;
case"vmsk":case"vsms":var S=L.vmsk=new T.Zx,w=h.xY(z,r+4),R=(w>>0&1)==1;S.YK=(w>>1&1)==0;S.isEnabled=(w>>2&1)==0;
S.A=z$.xK(z,r+8,G-8,F.X,F.z);break;case"shmd":L[l]={};var i=h.S(z,r),t=r+4;for(var P=0;P<i;P++){var U=h.xU(z,t,4);
t+=4;var f=h.xU(z,t,4);t+=4;t+=4;var _=h.S(z,t);t+=4;if(f=="cust"||f=="cmls"||f=="extn"||f=="mlst"){var u={};
zR.Ee(z,u,t+4,!1);L[l][f]=u;if(f=="cmls")zM.yl.yB(L[l][f])}else{console.log("unknown shmd key: "+f+", size: "+_)}t+=_}break;
case"shpa":var x=h.S(z,r),Q=h.S(z,r+4);if(Q!=0)console.log("some patterns present!");break;case"TySh":var $=L[l]={},x=h.xI(z,r);
$.Wg=h.aV(z,r+2);var C=h.xI(z,r+2+48);$.Yl={};var y=zR.Ee(z,$.Yl,r+56),N=q.LW();for(var O in N)if($.Yl[O]==null)$.Yl[O]=N[O];
$.Yx={};var JQ=zR.Ee(z,$.Yx,r+56+y+6);$.Ya=h.mJe(z,r+56+y+6+JQ);var zf=$.Yl.EngineData.v;$.Yc=mz.lK($.Yl.EngineData.v);
if($.Yc.ResourceDict==null)$.Yc.ResourceDict=JSON.parse(JSON.stringify($.Yc.DocumentResources));delete $.Yl.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var ze=h.S(z,r),zg=h.S(z,r+4);L.lmfx={};var y=zR.Ee(z,L.lmfx,r+8);
zv.lM(L.lmfx);break;case"FMsk":L[l]=h.aU(z,r,G);break;case"Txt2":L[l]={};L[l].raw=h.aU(z,r,G);L[l].YB=zq.lK(L[l].raw);
break;case"Patt":L[l]=[];var zF=r,GS=r;while(GS-zF<G){var Gm=GS,GJ={},H=h.S(z,GS);GS+=4;GS=zE.xx(z,GS,GJ);
L[l].push(GJ);if(H%4!=0)H+=4-H%4;GS=Gm+H+4}break;case"SoLd":var GP=h.xU(z,r,4),Gz=h.S(z,r+4),GG=h.S(z,r+8);
L[l]={};var GW=zR.Ee(z,L[l],r+12);if(L[l].nonAffineTransform==null)L[l].nonAffineTransform=JSON.parse(JSON.stringify(L[l].Trnf));
break;case"vstk":case"pths":var Gz=h.S(z,r);L[l]={};var GW=zR.Ee(z,L[l],r+4);break;case"vscg":var f=h.xU(z,r,4),Gz=h.S(z,r+4);
L[f]={};var GW=zR.Ee(z,L[f],r+8);zv.lu(L[f],f);break;case"vogk__":var GM=h.S(z,r),Gz=h.S(z,r+4);L[l]={};
var GW=zR.Ee(z,L[l],r+8),GQ=L[l].mMh.KM;for(var P=0;P<GQ.length;P++)console.log(GQ[P].KM);break;case"lnk2":case"lnkD__":case"lnk3__":L[l]=[];
var b=r;while(b<r+G){var Gu=new T.ZA;L[l].push(Gu);var H=h.aJ(z,b);b+=8;var zF=b;Gu.type=h.xU(z,b,4);
b+=4;if(Gu.type!="liFD"){alert("Unknown Linked Layer type: "+Gu.type);throw"error"}Gu.Yh=h.S(z,b);b+=4;
var GK=h.aw(z,b);b+=1+GK.Bf.length;Gu.ic=GK.Bf;Gu.YT=h.xC(z,b);b+=4+Gu.YT.length*2;Gu.YR=h.xU(z,b,4);
b+=4;Gu.Yw=h.xU(z,b,4);b+=4;var GE=h.aJ(z,b);b+=8;Gu.open=z[b];b+=1;if(Gu.open!=0){var Gl={},y=zR.Ee(z,Gl,b+4);
if(y%4!=0)y+=4-y%4;console.log(Gl);b+=y+4}Gu.open=0;Gu.raw=h.aU(z,b,GE);b=zF+H;if(H%4!=0)b+=4-H%4}break;
case"FEid":var b=r;L[l]=[];var Gx=b+G,x=h.S(z,b);b+=4;while(b<Gx){b+=4;var H=h.S(z,b);b+=4;var Ga={};
L[l].push(Ga);Ga.id=h.aw(z,b).Bf;b+=Ga.id.length+1;var x=h.S(z,b);b+=4;b+=4;var Gc=h.S(z,b);b+=4;Ga.rect=h.ao(z,b);
b+=16;var GB=h.S(z,b);b+=4;var GA=h.S(z,b);b+=4;var Gh=new e.Ph(0);for(var P=0;P<GA+2;P++){var GT=h.S(z,b);
b+=4;if(GT!=0){b+=4;var Gw=h.S(z,b),GN=null;b+=4;if(P<3||P==25)GN=zu.lO(!0,z,Ga.rect.X,Ga.rect.z,b,Gw);
if(P==0)Gh.F=GN;if(P==1)Gh.P=GN;if(P==2)Gh.g=GN;if(P==25)Gh.n=GN;b+=Gw}}Ga.buffer=e.$(Ga.rect.Y()*4);
e.Jh(Gh,Ga.buffer);e.PK(Ga);var Gy=z[b];b++;if(Gy!=0){Ga.k=new T.Zu;Ga.k.rect=h.ao(z,b);b+=16;b+=4;var GV=h.S(z,b);
b+=4;Ga.k.channel=zu.lO(!0,z,Ga.k.rect.X,Ga.k.rect.z,b,GV);Ga.k.color=255;Ga.k.Pu();b+=GV}if(H%4!=0)b+=4-H%4}break;
default:console.log("unknown layer tag: "+l+", size: "+G);break}var GO=["Txt2","artd","extd","luni","pths"];
if(GO.indexOf(l)==-1)if(G%4!=0)console.log("size not multiple of 4!!!",l);if(l!="luni"&&l!="TySh")if(G%4!=0)G+=4-G%4;
r+=G}var G_=[];for(var P=0;P<G_.length;P++)delete L[G_[P]];return r};zv.lW=function(z,r,k,L){for(var E in k)if(k[E]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+E+"\" tag was present with a null value.");delete k[E]}for(var E in k){h.xv(z,r,"8BIM");
r+=4;var F=r,U=0;h.xv(z,r,E);r+=4;h.xj(z,r,0);r+=4;switch(E){case"iOpa":h.aI(z,r,k[E],1);U=4;break;case"brst":U=0;
for(var l=0;l<3;l++)if(k[E][l]==0){h.e(z,r+U,l);U+=4}break;case"knko":h.aI(z,r,k[E],1);U=4;break;case"infx":h.aI(z,r,k[E],1);
U=4;break;case"clbl":h.aI(z,r,k[E],1);U=4;break;case"lmgm":h.aI(z,r,k[E],1);U=4;break;case"vmgm":h.aI(z,r,k[E],1);
U=4;break;case"lyid":h.e(z,r,k[E]);U=4;break;case"lsct":h.e(z,r,k[E].type);U=4;if(k[E].DD){h.xv(z,r+4,"8BIM");
h.xv(z,r+8,k[E].DD);U=12}break;case"lyvr":h.e(z,r,k[E]);U=4;break;case"lnsr":h.xv(z,r,k[E]);U=4;break;
case"lspf":h.e(z,r,k[E]);U=4;break;case"lclr":h.xt(z,r,k[E]);U=8;break;case"luni":h.xo(z,r,k[E]);U=4+2*k[E].length;
break;case"fxrp":h.aE(z,r,k[E].x);h.aE(z,r+8,k[E].y);U=16;break;case"artb":case"artd":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;
break;case"SoCo":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;break;case"GdFl":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;
break;case"PtFl":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;break;case"CgEd":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;
break;case"brit":z.$q(r,8);h.xi(z.data,r+0,k[E].DY);h.xi(z.data,r+2,k[E].Dk);h.xi(z.data,r+4,k[E].Dj);
z.data[r+6]=k[E].Df;U=8;break;case"levl":var G=new Pf;U=zD.lN(G,k[E]);h.av(z,r,G.data);break;case"curv":U=zI.xu(z,r,k[E]);
break;case"expA":U=14;z.$q(r,14);h.xs(z.data,r,1);h.aa(z.data,r+2,k[E][0]);h.aa(z.data,r+6,k[E][1]);
h.aa(z.data,r+10,k[E][2]);break;case"vibA":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;break;case"hue2":U=zY.xu(z,r,k[E]);
break;case"blnc":U=19;z.$q(r,U);for(var l=0;l<3;l++){var g=k[E].sn[l];for(var P=0;P<3;P++)g.push(h.xi(z.data,r+l*6+P*2,g[P]))}z.data[r+18]=k[E].mf?1:0;
break;case"blwh":h.e(z,r,16);U=zR.Eg(z,k[E],r+4)+4;break;case"phfl":var J=k[E].De!=null?3:2;h.xt(z,r,J);
var x=k[E].De,a=k[E].color;if(J==3){h.ac(z,r+2,x[0]);h.ac(z,r+6,x[1]);h.ac(z,r+10,x[2])}if(J==2){h.xt(z,r+2,a.Dg);
h.xt(z,r+4,a.KM[0]);h.xt(z,r+6,a.KM[1]);h.xt(z,r+8,a.KM[2]);h.xt(z,r+10,a.KM[3])}var d=r+2+(J==3?12:10);
z.$q(d,5);h.aS(z.data,d,k[E].DF);d+=4;z.data[d]=k[E].YS?1:0;d++;U=d-r;break;case"mixr":U=44;z.$q(r,U);
h.xs(z.data,r,1);h.xs(z.data,r+2,k[E].Ym?1:0);for(var l=0;l<20;l++)h.xi(z.data,r+4+l*2,k[E].u[l]);break;
case"clrL":h.xt(z,r,1);h.e(z,r+2,16);U=zR.Eg(z,k[E],r+6)+6;break;case"nvrt":U=0;break;case"post":h.xt(z,r,k[E]);
U=2;break;case"thrs":h.xt(z,r,k[E]);U=2;break;case"grdm":var t=k[E].v;z.$q(r,4);h.xs(z.data,r,1);z.data[r+2]=k[E].rev?1:0;
z.data[r+3]=k[E].YJ?1:0;var m=r+4;h.xo(z,m,t.Nm.v);m+=4+t.Nm.v.length*2;var b=t.Clrs.v.length;h.xt(z,m,b);
m+=2;for(var l=0;l<b;l++){var a=t.Clrs.v[l];h.e(z,m,a.v.Lctn.v);h.e(z,m+4,a.v.Mdpn.v);h.xt(z,m+8,0);
var I=e.v.Gn(e.v.GU(a.v.Clr.v)),v=[I.Rd.v,I.Grn.v,I.Bl.v,0];for(var P=0;P<4;P++)h.xt(z,m+10+P*2,Math.round(65535*(v[P]/255)));
m+=20}var W=t.Trns.v.length;h.xt(z,m,W);m+=2;for(var l=0;l<W;l++){var a=t.Trns.v[l];h.e(z,m,a.v.Lctn.v);
h.e(z,m+4,a.v.Mdpn.v);h.xt(z,m+8,Math.round(255*a.v.Opct.v.val/100));m+=10}h.xt(z,m,2);m+=2;h.xt(z,m,t.Intr.v);
m+=2;h.xt(z,m,32);m+=2;h.xt(z,m,k[E].mode);m+=2;h.e(z,m,k[E].YP);m+=4;h.xt(z,m,k[E].Yz?1:0);m+=2;h.xt(z,m,k[E].YG?1:0);
m+=2;h.e(z,m,k[E].YW);m+=4;h.xt(z,m,k[E].YM);m+=2;for(var l=0;l<4;l++)h.xt(z,m+l*2,k[E].YQ[l]);m+=8;
for(var l=0;l<4;l++)h.xt(z,m+l*2,k[E].Yu[l]);m+=8;m+=2;U=m-r;break;case"selc":U=zk.xu(z,r,k[E]);break;
case"FMsk":h.av(z,r,k[E]);U=k[E].length;break;case"Txt2":var B=new Pf,n=zq.lE(k[E].YB,B),j=e.$(n,!0);
for(var l=0;l<n;l++)j[l]=B.data[l];h.av(z,r,j);U=j.length;break;case"vmsk":var p=k[E],X=0;h.e(z,r,3);
if(!p.YK)X+=1<<1;if(!p.isEnabled)X+=1<<2;h.e(z,r+4,X);U=8;var M=p.A.length;z.$q(r+8,M*26);z$.xE(z.data,r+8,p.A,L.X,L.z);
U+=M*26;break;case"shmd":h.e(z,r,Object.keys(k[E]).length);var d=r+4;for(var H in k[E]){h.xv(z,d,"8BIM");
d+=4;h.xv(z,d,H);d+=4;h.e(z,d,0);d+=4;h.e(z,d,0);d+=4;h.e(z,d,16);d+=4;var c=zR.Eg(z,k[E][H],d);if(c%4!=0)c+=4-c%4;
h.e(z,d-8,c+4);d+=c}U=d-r;break;case"TySh":var d=r;h.xD(z,d,1);d+=2;var S=k[E],B=new Pf;S.Yc.DocumentResources=JSON.parse(JSON.stringify(S.Yc.ResourceDict));
var n=mz.lE(S.Yc,B),j=e.$(n,!0);for(var l=0;l<n;l++)j[l]=B.data[l];S.Yl.EngineData={t:"tdta",v:j};var w=S.Yc.EngineDict.Editor.Text;
S.Yl.Txt.v=w.substring(0,w.length-1);h.muv(z,d,S.Wg);d+=48;h.xD(z,d,50);d+=2;h.e(z,d,16);d+=4;d+=zR.Eg(z,S.Yl,d);
h.xD(z,d,1);d+=2;h.e(z,d,16);d+=4;d+=zR.Eg(z,S.Yx,d);h.mJH(z,d,S.Ya);d+=16;U=d-r;break;case"lmfx":h.e(z,r,0);
h.e(z,r+4,16);var R=JSON.parse(JSON.stringify(k[E])),i=!1;zv.lQ(R);for(var l=0;l<K.qo.length;l++)if(R[K.qo[l]]!=null)i=!0;
h.xv(z,F,i?"lmfx":"lfx2");U=zR.Eg(z,R,r+8)+8;break;case"Patt":var f=r,_=r;for(var l=0;l<k[E].length;
l++){var u=k[E][l],m=_;h.e(z,_,0);_+=4;_=zE.xa(z,_,u);var Q=_-m-4;if(Q%4!=0)Q+=4-Q%4;h.e(z,m,Q);_=m+Q+4}U=_-f;
break;case"SoLd":h.xv(z,r,"soLD");h.e(z,r+4,4);h.e(z,r+8,16);U=zR.Eg(z,k[E],r+12)+12;break;case"vstk":case"pths":h.e(z,r,16);
U=zR.Eg(z,k[E],r+4)+4;break;case"vscg__":h.xv(z,r,k[E].key);h.e(z,r+4,16);U=zR.Eg(z,k[E].u,r+8)+8;break;
case"vogk__":h.e(z,r,1);h.e(z,r+4,16);U=zR.Eg(z,k[E],r+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var m=r;
for(var l=0;l<k[E].length;l++){var $=k[E][l],C=m;h.az(z,m,0);m+=8;h.xv(z,m,$.type);m+=4;h.e(z,m,$.Yh);
m+=4;z.$q(m,1);z.data[m]=$.ic.length;m++;h.xv(z,m,$.ic);m+=$.ic.length;h.xo(z,m,$.YT);m+=4+$.YT.length*2;
h.xv(z,m,$.YR);m+=4;h.xv(z,m,$.Yw);m+=4;h.az(z,m,$.raw.length);m+=8;z.$q(m,1);z.data[m]=$.open;m++;h.av(z,m,$.raw);
m+=$.raw.length;h.e(z,m,1);m+=4;m+=11;var Q=m-C-8;h.az(z,C,Q);if(Q%4!=0){z.$q(m,4-Q%4);m+=4-Q%4}}U=m-r;
break;case"FEid":var m=r;h.e(z,m,3);m+=4;for(var y=0;y<k[E].length;y++){var N=k[E][y];m+=4;var O=m;m+=4;
h.ay(z,m,N.id);m+=N.id.length+1;h.e(z,m,1);m+=4;m+=4;var JQ=m;m+=4;h.aL(z,m,N.rect);m+=16;h.e(z,m,8);
m+=4;h.e(z,m,24);m+=4;var zf=new e.Ph(N.rect.Y());e.JR(N.buffer,zf);for(var l=0;l<24+2;l++){var ze=null;
if(l==0)ze=zf.F;if(l==1)ze=zf.P;if(l==2)ze=zf.g;if(l==25)ze=zf.n;h.e(z,m,ze!=null?1:0);m+=4;if(ze!=null){m+=4;
var zg=m;m+=4;z.$q(m,N.rect.Y()+2);m=zu.l_(ze,z.data,N.rect.X,N.rect.z,m,3);h.e(z,zg,m-(zg+4))}}h.e(z,JQ,m-(JQ+4));
z.$q(m,1);z.data[m]=N.k?1:0;m++;if(N.k!=null){var zF=N.k.rect,GS=N.k.channel;zF=N.rect;GS=e.$(zF.Y());
e.set(GS,N.k.color);e.Jp(N.k.channel,N.k.rect,GS,zF);h.aL(z,m,zF);m+=16;m+=4;var Gm=m;m+=4;z.$q(m,zF.Y()+2);
m=zu.l_(GS,z.data,zF.X,zF.z,m,3);h.e(z,Gm,m-(Gm+4))}var Q=m-(O+4);h.e(z,O,Q);if(Q%4!=0)m+=4-Q%4}U=m-r;
break;default:console.log("unknown layer tag: "+E+", size: "+U);r-=12;continue}var GJ=["Txt2","artd","extd","luni","pths"];
if(GJ.indexOf(E)==-1)if(U%4!=0)U+=4-U%4;h.xj(z,r-4,U);if(E!="luni"&&E!="TySh")if(U%4!=0)U+=4-U%4;r+=U}return r};
zv.lM=function(z){for(var r=0;r<K.order.length;r++){var k=K.order[r],L=K.qo[r];if(z[L]==null)z[L]={t:"VlLs",v:[]};
if(z[k]!=null){z[L].v.push(z[k]);delete z[k]}var E=[];for(var F=0;F<z[L].v.length;F++){var U=z[L].v[F];
if(U.v.present==null||U.v.present.v==!0)E.push(U)}z[L].v=E}};zv.lQ=function(z){for(var r=0;r<K.order.length;
r++){var k=K.order[r],L=K.qo[r],E=z[L].v.length;if(E==0){delete z[L];continue}if(E==1){z[k]=z[L].v[0];
delete z[L];continue}}};zv.lu=function(z,r){if(r=="GdFl"){if(z.Angl==null)z.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(z.Algn==null)z.Algn={v:!0,t:"bool"};if(z.Scl==null)z.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(z.Ofst==null)z.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(z.Rvrs==null)z.Rvrs={v:!1,t:"bool"};if(z.Dthr==null)z.Dthr={v:!1,t:"bool"}}if(r=="PtFl"){if(z.Algn==null)z.Algn={v:!0,t:"bool"};
if(z.Scl==null)z.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(z.phase==null)z.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
zv.clone=function(z,r){var k={};if(z=="TySh"){k.Wg=r.Wg.clone();k.Yl=JSON.parse(JSON.stringify(r.Yl));
k.Yx=JSON.parse(JSON.stringify(r.Yx));k.Ya=r.Ya.clone();k.Yc=JSON.parse(JSON.stringify(r.Yc));return k}else if(z=="fxrp")return r.clone();
else if(z=="vmsk")return r.clone();else return JSON.parse(JSON.stringify(r))};function zC(z,r){}zC.lK=function(z,r,k,L){L=zC.muM(z,r,k,L);
return L};zC.lE=function(z,r,k,L,E){L=zC.mEW(z,r,k,L,E);return L};zC.muM=function(z,r,k,L){var E=L;z.rect=h.ao(k,L);
L+=16;var F=h.xI(k,L);L+=2;z.Yy=[];var U=r.YV;for(var l=0;l<F;l++){z.Yy[l]={id:h.xH(k,L),length:(U?h.aJ:h.S)(k,L+2)};
L+=U?10:6}var G=h.xU(k,L,4);L+=4;if(G!="8BIM"){console.log("Invalid Blend mode signature: "+G);alert("Error in Photoshop file: wrong signature.");
throw"e"}z.DD=h.xU(k,L,4);L+=4;z.opacity=k[L];L+=1;z.YO=k[L]==1;L+=1;z.Y_=k[L];L+=1;if(k[L]!=0)console.log("error in filler!");
L+=1;var g=h.S(k,L);L+=4;var P=L;L=zC.maJ(z,k,L);L=zC.mEQ(z,k,L);var J=h.aw(k,L);z.name=J.Bf;L+=J.length;
if(J.length%4!=0)L+=4-J.length%4;L=zv.lG(k,L,P+g,z.add,U,r);if(z.YZ){var x=z.YZ;if(z._F()){z._F().iN=x[0];
z._F().YC=x[1]}if(z.add.vmsk){z.add.vmsk.iN=x[2];z.add.vmsk.YC=x[3]}}if(z.add.lsct){if(z.add.lsct.DD)z.DD=z.add.lsct.DD;
z.add.lsct=z.add.lsct.type}return L};zC.mEW=function(z,r,k,L,E){var F=L;h.aL(k,L,z.rect);L+=16;var U=z._t();
h.xt(k,L,U.length);L+=2;E.push(L);for(var l=0;l<U.length;l++){h.xD(k,L,U[l]);h.e(k,L+2,0);L+=6}h.xv(k,L,"8BIM");
L+=4;h.xv(k,L,z.DD);L+=4;h.aI(k,L,z.opacity,1);L+=1;h.aI(k,L,z.YO?1:0,1);L+=1;h.aI(k,L,z.Y_,1);L+=1;
h.aI(k,L,0,1);L+=1;var G=L;h.e(k,L,0);L+=4;var g=L;L=zC.mWz(z,k,L);L=zC.muV(z,k,L);var P=h.ay(k,L,z.name);
L+=P;if(P%4!=0)L+=4-P%4;if(z.add.lsct){z.add.lsct={type:z.add.lsct};if(z.DD=="pass"){z.add.lsct.DD="pass";
z.DD="norm"}}if(z.DD=="pass")z.add.lsct={type:z.add.lsct,DD:"pass"};L=zv.lW(k,L,z.add,r);if(z.add.lsct){if(z.add.lsct.DD)z.DD=z.add.lsct.DD;
z.add.lsct=z.add.lsct.type}var J=L-g;h.e(k,G,J);return L};zC.maJ=function(z,r,k){var L=h.S(r,k);k+=4;
if(L==0)return k;var E=k;z.k=new T.Zu;z.k.rect=h.ao(r,k);k+=16;z.k.color=r[k];k+=1;var F=zC.lh(z.k,r,k);
k+=1;if(F){var U=!1,G=255,g=0,P=255,J=0;for(var l=0;l<z.Yy.length;l++)if(z.Yy[l].id==-3)U=!0;if(U){z.Yq=zC.lB(r,k);
k+=18}var x=k,a=r[k];k++;if(a>>0&1){G=r[k];k++}if(a>>1&1){g=h.aQ(r,k);k+=8}if(a>>2&1){P=r[k];k++}if(a>>3&1){J=h.aQ(r,k);
k+=8}if((k-x&1)==1)k++;z.YZ=[G,g,P,J]}else{if(L==20)k+=2;else{z.Yq=zC.lB(r,k);k+=18}}return E+L};zC.mWz=function(z,r,k){h.e(r,k,0);
k+=4;if(z.k==null)return k;var L=k,E=!0;h.e(r,k,0);h.aL(r,k,z.k.rect);k+=16;h.aI(r,k,z.k.color);k+=1;
zC.lT(z.k,r,k,E);k+=1;if(E){if(z.Yq){zC.mzf(r,k,z.Yq);k+=18}h.aI(r,k,15);k+=1;var F=z._F(),U=z.add.vmsk;
h.aI(r,k,F?F.iN:255);k+=1;h.aE(r,k,F?F.YC:0);k+=8;h.aI(r,k,U?U.iN:255);k+=1;h.aE(r,k,U?U.YC:0);k+=8;
k++;h.e(r,L-4,k-L)}return k};zC.lB=function(z,r){var k=new T.Zu;zC.lh(k,z,r);r+=1;k.color=z[r];r+=1;
k.rect=h.ao(z,r);r+=16;return k};zC.mzf=function(z,r,k){zC.lT(k,z,r,!1);r+=1;h.aI(z,r,k.color);r+=1;
h.aL(z,r,k.rect);r+=16};zC.lh=function(z,r,k){var L=r[k];z.YK=(L>>0&1)==0;z.isEnabled=(L>>1&1)==0;z.Yo=(L>>3&1)==1;
return L>>4&1};zC.lT=function(z,r,k,L){var E=0;if(!z.YK)E+=1<<0;if(!z.isEnabled)E+=1<<1;if(z.Yo)E+=1<<3;
if(L)E+=1<<4;h.aI(r,k,E)};zC.mEQ=function(z,r,k){var L=h.S(r,k);k+=4;if(L!=5*8)console.log("unexpected Layer Blending Ranges content, size:",L);
z.Yr=[];for(var E=0;E<L/4;E++){z.Yr.push(h.xI(r,k));k+=2;z.Yr.push(h.xI(r,k));k+=2}return k};zC.muV=function(z,r,k){h.e(r,k,z.Yr.length*2);
k+=4;for(var L=0;L<z.Yr.length;L++){h.xt(r,k,z.Yr[L]);k+=2}return k};function zu(){}zu.lK=function(z,r,k,L){L=zu.mWQ(r.YV,r.YL,z,k,L);
return L};zu.lN=function(z,r,k,L,E){k=zu.mao(z,r,k,L,E);return k};zu.mWQ=function(z,r,k,L,E){var F=k.Yy,U={},l=E;
for(var G=0;G<F.length;G++){var g=F[G],P=g.id,J=g.length,x;if(P==-3)x=k.Yq.rect;else if(P==-2)x=k.k.rect;
else x=k.rect;var a=zu.lO(z,L,x.X,x.z,E,J);E+=J;if(P==-3)k.Yq.channel=a;else if(P==-2)k.k.channel=a;
else U["c"+P]=a}var d=new e.Ph(0);d.n=null;if(r==3){d.F=U.c0;d.P=U.c1;d.g=U.c2;d.n=U["c-1"]}else if(r==1){d.F=U.c0;
d.P=U.c0;d.g=U.c0;d.n=U["c-1"]}else if(r==4){var t=U.c0,m=U.c1,b=U.c2,I=U.c3,v=t.length,W=1/255;for(var G=0;
G<v;G++){var B=t[G],n=m[G],j=b[G],p=I[G]*W;t[G]=Math.round(B*p);m[G]=Math.round((.2*B+.8*n)*p);b[G]=Math.round((.2*n+.8*j)*p)}d.F=t;
d.P=m;d.g=b;d.n=U["c-1"];console.log("converting from CMYK to RGB")}if(d.n==null&&d.F!=null){d.n=e.clone(d.F);
e.set(d.n,255)}k.buffer=e.$(Math.max(0,k.rect.Y()*4));e.Jh(d,k.buffer);return E};zu.mao=function(z,r,k,L,E){var F=z._t(),U=new e.Ph(z.rect.Y());
e.JR(z.buffer,U);for(var l=0;l<F.length;l++){var G=F[l],g,P;if(G==-3)g=z.Yq.rect;else if(G==-2)g=z.k.rect;
else g=z.rect;if(G==-3)P=z.Yq.channel;if(G==-2)P=z.k.channel;if(G==-1)P=U.n;if(G==0)P=U.F;if(G==1)P=U.P;
if(G==2)P=U.g;r.$q(k,g.Y()*3+4);var J=k;k=zu.l_(P,r.data,g.X,g.z,k,E[1]?3:1);var x=k-J;if(x%2!=0){x+=x%2;
k++}h.aS(r.data,L+l*6+2,x)}return k};zu.lO=function(z,r,k,L,E,F){var U=h.xH(r,E);E+=2;return zu.lZ(z,r,k,L,E,U,F-2)};
zu.l_=function(z,r,k,L,E,F){h.xi(r,E,F);E+=2;E=zu.lC(z,r,k,L,E,F);return E};zu.lZ=function(z,r,k,L,E,F,U){var l,G=k*L,g=G&3,P=G+(g==0?0:4-g);
if(F==0){if(E+P<=r.length)l=r.slice(E,E+P);else{l=e.$(G);for(var J=0;J<G;J++)l[J]=r[E+J]}E+=G}else if(F==1){l=e.$(G);
var x=z?4:2,a=zu.lq(r,l,k,L,E,E+x*L,x);E+=x*L+a}else if(F==2||F==3){var d=new Uint8Array(r.buffer,E+2,U-6),t=pako.inflateRaw(d);
if(F==3){for(var m=0;m<L;m++){var b=m*k+1,I=b+k-1,v=t[b-1];t[b-1]=v;for(var W=b;W<I;W++){v+=t[W];t[W]=v&255}}}if(t.length==P)l=t;
else{l=e.$(P);for(var J=0;J<t.length;J++)l[J]=t[J]}}else console.log("Unknown compression: "+F);return l};
zu.lC=function(z,r,k,L,E,F){var U=k*L;if(F==0)for(var l=0;l<U;l++)r[E++]=z[l];else if(F==1){var G=zu.lo(z,r,k,L,E,E+2*L);
E+=2*L+G}else if(F==2||F==3){if(F==3){var g=new Uint8Array(z.length);for(var P=0;P<L;P++){var J=P*k+1,x=J+k-1,a=z[J-1];
g[J-1]=a;for(var d=J;d<x;d++){g[d]=z[d]+(256-a)&255;a=z[d]}}z=g}r[E]=120;r[E+1]=156;E+=2;var t=pako.deflateRaw(z,{mEf:4});
h.an(r,E,t);E+=t.length+4}else console.log("Unknown compression: "+F);return E};zu.lq=function(z,r,k,L,E,F,U){var l=F,G=L|0;
if(U==2)for(var g=0;g<G;g++){var P=h.xI(z,E+(g<<1));zu.lL(z,F,P,r,g*k,k);F+=P}else for(var g=0;g<G;g++){var P=h.S(z,E+(g<<2));
zu.lL(z,F,P,r,g*k,k);F+=P}return F-l};zu.lo=function(z,r,k,L,E,F){var U=F;for(var l=0;l<L;l++){var G=zu.mut(z,l*k,k,r,F);
h.xs(r,E+l*2,G);F+=G}return F-U};zu.mut=function(z,r,k,L,E){var F,U,l,G,g,P,J;G=r+k;for(l=r,U=E;k>0;
l=F,k-=P){J=k<128?k:128;if(l<=G-3&&z[l+1]==z[l+0]&&z[l+2]==z[l+0]){for(F=l+3;F<l+J&&z[F]==z[l+0];)++F;
P=F-l;L[U++]=1+256-P;L[U++]=z[l+0]}else{for(F=l;F<l+J;)if(F<=G-3&&z[F+1]==z[F+0]&&z[F+2]==z[F+0])break;
else++F;P=F-l;L[U++]=P-1;for(var x=0;x<P;x++)L[U+x]=z[l+x];U+=P}}return U-E};zu.lL=function(z,r,k,L,E,F){for(var U=0;
U<k;){var l=z[r++];if(l>=128){var G=z[r++],g=E+(257-l);L.fill(G,E,g);E=g;U+=2}else{var g=E+(1+l);while(E<g)L[E++]=z[r++];
U+=1+1+l}}};function zK(){}zK.lK=function(z,r){r.YV=!1;r.mPL=8;var k=new Uint8Array(z),L=0,E=0,d=0;E=zK.ln(r,k,L);
L=E;E=zK.mui(r,k,L);L=E;E=zK.mMt(r,k,L);L=E;E=zK.muj(r,k,L);L=E;E=zK.mEt(r,k,L);L=E;if(r.a.length==0){var F=r.qa();
F._p("Background");r.a.push(F);F.buffer=e.clone(r.buffer);F.rect=new Z(0,0,r.X,r.z)}if(r.Yv.r1005){r.bx=h.xI(r.Yv.r1005,0)}if(r.Yv.r1026){var k=r.Yv.r1026;
for(var U=0;U<k.length;U+=2){var E=r.a[U>>>1];if(E)E.YX=h.xI(k,U)}}if(r.Yv.r1032){var k=r.Yv.r1032,l=h.S(k,12);
for(var U=0;U<l;U++){var G=k[16+U*5+4],g=h.S(k,16+U*5)/32;r.YI[G].push(g)}}if(r.Yv.r1065){var k=r.Yv.r1065;
r.Ys={};zR.Ee(r.Yv.r1065,r.Ys,4,!1)}if(r.Yv.r1069){var k=r.Yv.r1069,P=[];for(var U=2;U<k.length;U+=4){var J=h.S(k,U);
for(var x=0;x<r.a.length;x++){var E=r.a[x];if(E.add.lyid==J&&E.add.lsct!=3)P.push(x)}}r.L=P}delete r.YV;
var a=new Z(0,0,r.X,r.z),t=r.add.Txt2,m=t;if(m){m=m.YB;if(m._DocumentResources==null)m=mh.mGw(m)}if(t&&t.YB._DocumentResources!=null){var b="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),I=t.YB._DocumentResources._TextFrameSet._Resources;
for(var U=0;U<I.length;U++){}}for(var U=0;U<r.a.length;U++){var E=r.a[U],v=E.add.vmsk,W=E._F();if(E._Y()&&E.ZS(r).k){var B=E.ZS(r);
B.k.isEnabled=E.add.SoLd.filterFX.v.filterMaskEnable.v}if(v&&E._N()&&E.add.vstk==null){E.add.vstk=JSON.parse(JSON.stringify(K.qk.default));
E.add.vstk.strokeEnabled.v=!1}if(W==null&&E.k!=null){if(E.k.Yo==!1){E.k.Yo=!0;E.Yq=E.k.clone()}else{v.Yq=E.k;
v.Yp=!1;E.k.YC=v.YC;E.k.iN=v.iN}}if(W!=null&&v!=null&&(W.YC+v.YC!=0||W.iN+v.iN!=2*255))E._q(r);if(E._N()&&(E.rect.z$()||v&&v.YC!=0))E._o(r);
if(E.add.TySh&&m){var n=E.add.TySh.Yc,j=q.rY(n),p=n.EngineDict.ParagraphRun.RunArray,X=m._DocumentObjects._TextObjects;
if(X.length<=d){console.log("Txt2 incomplete");continue}X=X[d]._Model._ParagraphRun._RunArray;var M=Math.min(X.length,p.length);
for(var x=0;x<M;x++){var H=p[x].ParagraphSheet.Properties,c=m._DocumentResources._ParagraphSheetSet._Resources,S=X[x]._RunData._ParagraphSheet;
if(typeof S=="string")S=c[parseInt(S.slice(1))]._Resource;var w=S._Parent==null?S:c[parseInt(S._Parent.slice(1))]._Resource,R=S._Features._ParagraphDirection;
if(R==null)R=w._Features._ParagraphDirection;if(R)H._Direction=parseInt(R.slice(1))}var i=m._DocumentResources,f=i._TextFrameSet._Resources,_=f[d]._Resource,u=new zT(1,0,0,1,0,0);
if(_._0){var Q=parseFloat(_._0[0].slice(1)),$=parseFloat(_._0[1].slice(1));u.translate(Q,$)}if(j){u.translate(j[0],j[1]);
q.rk(n,[0,0,j[2]-j[0],j[3]-j[1]])}else{if(_._Bezier&&_._Bezier._Points){var C=_._Bezier._Points,Q=parseFloat(C[0].slice(1)),$=parseFloat(C[1].slice(1));
if(Q!=0||$!=0){u.translate(Q,$)}}}if(_._Data&&_._Data._FrameMatrix){var y=_._Data._FrameMatrix;y=y.map(function(N){return parseFloat(N.slice(1))});
u.concat(new zT(y[0],y[1],y[2],y[3],y[4],y[5]))}u.concat(E.add.TySh.Wg);E.add.TySh.Wg=u;d++}}zM.yl.yO(r,!0)};
zK.mQR=function(z,r,k,L){for(var E=0;E<L;E++)if(z[k+E]!=r[k+E])return!1;return!0};zK.lE=function(z,r,k){zM.yl.yx(z);
zM.yl.yO(z,!1);var L=[],E=[],F=[],U=[],l=[],n=0;for(var G=0;G<z.a.length;G++){var g=z.a[G],P=new Z(0,0,z.X,z.z);
if(g._Y()&&g.ZS(z).k){g.add.SoLd.filterFX.v.filterMaskEnable.v=g.ZS(z).k.isEnabled}if(g.add.SoLd){E.push(g.add.SoLd.Idnt.v);
F.push(g.add.SoLd.placed.v)}if(g.add.TySh){g.add.TySh.Yl.TextIndex={t:"long",v:L.length};L.push(g.add.TySh.Yc)}if(g.add.PtFl)U.push(g.add.PtFl.Ptrn.v.Idnt.v);
if(g.add.lmfx){for(var J=0;J<K.qo.length;J++){var x=g.add.lmfx[K.qo[J]].v;for(var a=0;a<x.length;a++)if(x[a].v.Ptrn)U.push(x[a].v.Ptrn.v.Idnt.v)}}var d=g.add.vstk;
if(d&&d.strokeStyleContent.v.classID=="patternLayer"){U.push(d.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(g._N()){l[G]=[g.rect,g.buffer];
g.rect=new Z;g.buffer=e.$(0)}}if(L.length>0){var t=z.add.Txt2?z.add.Txt2.YB:null;z.add.Txt2={};z.add.Txt2.YB=mA.mPc(L,null,t)}var m=z.add.lnk2;
if(m){var b=z.add.lnk2=[];for(var G=0;G<m.length;G++)if(E.indexOf(m[G].ic)!=-1)b.push(m[G]);if(b.length==0)delete z.add.lnk2}var I=z.add.FEid;
if(I){var v=z.add.FEid=[];for(var G=0;G<I.length;G++)if(F.indexOf(I[G].id)!=-1)v.push(I[G]);if(v.length==0)delete z.add.FEid}var W=z.add.Patt;
if(W){var B=z.add.Patt=[];for(var G=0;G<W.length;G++)if(U.indexOf(W[G].id)!=-1)B.push(W[G])}n=zK.maD(z,r,n);
n=zK.mGi(z,r,n);n=zK.muY(z,r,n);n=zK.mPn(z,r,n,k);n=zK.mBS(z,r,n,k[0]);for(var G=0;G<z.a.length;G++){var g=z.a[G];
if(g._N()){g.rect=l[G][0];g.buffer=l[G][1]}}if(m)z.add.lnk2=m;if(I)z.add.FEid=I;if(W)z.add.Patt=W;zM.yl.yO(z,!0);
return n};zK.ln=function(z,r,k){var L=h.xU(r,k,4);k+=4;if(L!="8BPS")alert("invalid header signature: "+L);
var E=h.xI(r,k);k+=2;z.YV=E==2;if(E!=1&&E!=2)alert("invalid version: "+E);k+=6;z.Y$=h.xI(r,k);k+=2;z.z=h.xY(r,k);
k+=4;z.X=h.xY(r,k);k+=4;var F=h.xI(r,k);k+=2;if(F!=8)alert(F+" Bits/Channel are not supported!");z.mPL=F;
z.YL=h.xI(r,k);k+=2;var U=z.YL,l="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" ");
if(U!=3){if(U==1||U==4)alert("Project will be converted from "+l[U]+" to "+l[3]+" mode.");else{alert("Color mode "+l[U]+" is not supported yet :(");
return null}}return k};zK.maD=function(z,r,k){r.$q(0,64);h.xn(r.data,k,"8BPS");k+=4;h.xs(r.data,k,1);
k+=2;h.aS(r.data,k,0);k+=4;h.xs(r.data,k,0);k+=2;h.xs(r.data,k,z.Y$);k+=2;h.xk(r.data,k,z.z);k+=4;h.xk(r.data,k,z.X);
k+=4;h.xs(r.data,k,8);k+=2;h.xs(r.data,k,3);k+=2;return k};zK.mui=function(z,r,k){var L=h.xY(r,k);k+=4;
k+=L;return k};zK.mGi=function(z,r,k){h.xj(r,k,0);k+=4;return k};zK.mMt=function(z,r,k){var L=h.S(r,k),E=0,J="";
k+=4;var F=[];while(E<L){var U=h.xU(r,k+E,4);E+=4;var l=h.xI(r,k+E);E+=2;var G=h.aw(r,k+E);E+=G.length;
if(U!="8BIM"){F.push(l);console.log("Unknown Image Resources signature: "+U+", ID: "+l)}var g=h.S(r,k+E);
E+=4;if(z.Yv["r"+l]!=null)console.log("--- two resources with same ID");z.Yv["r"+l]=h.aU(r,k+E,g);E+=g;
if(g%2!=0)E++}for(var P=0;P<F.length;P++)delete z.Yv["r"+F[P]];if(z.qW()==null)z.qM(30);return k+L};
zK.muY=function(z,r,k){z.Yv.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);h.xs(z.Yv.r1005,0,z.bx);
h.xs(z.Yv.r1005,8,z.bx);z.Yv.r1026=new Uint8Array(z.a.length*2);for(var L=0;L<z.a.length;L++)h.xs(z.Yv.r1026,L*2,z.a[L].YX);
var E=z.YI,F=E[0].length+E[1].length,U=z.Yv.r1032=e.$(16+5*F,!0),l=16,m=0;h.aS(U,0,1);h.aS(U,4,576);
h.aS(U,8,576);h.aS(U,12,F);for(var L=0;L<2;L++)for(var G=0;G<E[L].length;G++){h.aS(U,l,Math.round(E[L][G]*32));
U[l+4]=L;l+=5}var g=new Pf;h.e(g,0,16);var P=zR.Eg(g,z.Ys,4);z.Yv["r"+1065]=g.data.slice(0,P+4);var J=z.L;
U=z.Yv["r"+1069]=e.$(2+J.length*4,!0);h.xs(U,0,J.length);for(var L=0;L<J.length;L++)h.aS(U,2+4*L,z.a[J[L]].add.lyid);
var x=new Date,a=[x.getFullYear(),x.getMonth()+1,x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds()];
for(var L=0;L<6;L++)a[L]=(a[L]+"").padStart(2,"0");var d=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[a[0]+":"+a[1]+":"+a[2]+" "+a[3]+":"+a[4]+":"+a[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
z.Yv["r"+1058]=new Uint8Array(UTIF.encode(d));var t=k;h.e(r,k,4294967295);k+=4;for(var b in z.Yv){h.xv(r,k+m,"8BIM");
m+=4;var I=parseInt(b.substring(1));h.xt(r,k+m,I);m+=2;var v=h.ay(r,k+m,"");m+=v;var W=z.Yv["r"+I],B=W.length;
h.e(r,k+m,B);m+=4;h.av(r,k+m,W);m+=B;if(B%2==1)m++}h.e(r,t,m);return k+m};zK.muj=function(z,r,k){var L=k,E,F=z.YV?8:4;
if(z.YV)E=h.aJ(r,k);else E=h.S(r,k);k+=F;if(E==0)return L+F;k=zK.mKS(z,r,k);k=zK.mce(z,r,k);k=zv.lG(r,k,L+F+E,z.add,z.YV,z);
return L+F+E};zK.mPn=function(z,r,k,L){var E=k;h.e(r,k,0);k+=4;k=zK.mcL(z,r,k,L);k=zK.mJZ(z,r,k);k=zv.lW(r,k,z.add,z);
h.e(r,E,k-E-4);return k};zK.mKS=function(z,r,k){var L=k,E,F=z.YV?8:4,U;if(z.YV)E=h.aJ(r,k);else E=h.S(r,k);
k+=F;U=h.xH(r,k);k+=2;if(E==0){console.log("no layers!");return k-2}var l=Math.abs(U);for(var G=0;G<l;
G++){var g=new T;k=zC.lK(g,z,r,k);z.a[G]=g}for(var G=0;G<l;G++){var g=z.a[G];k=zu.lK(g,z,r,k)}if(E%2!=0)E++;
return L+E+F};zK.mcL=function(z,r,k,L){var E=k;h.e(r,k,0);k+=4;var F=z.a.length;h.xt(r,k,-F);k+=2;var U=[];
for(var l=0;l<F;l++)k=zC.lE(z.a[l],z,r,k,U);for(var l=0;l<F;l++)k=zu.lN(z.a[l],r,k,U[l],L);var G=k-E-4;
if(G%2!=0)G++;h.e(r,E,G);return E+G+4};zK.mce=function(z,r,k){var L=h.S(r,k);k+=4;k+=L;return k};zK.mJZ=function(z,r,k){var L=h.e(r,k,0);
k+=4;return k};zK.mEt=function(z,r,k){var L=h.xI(r,k),E;k+=2;z.buffer=e.$(z.X*z.z*4);e.JV(z.buffer,4278190080);
var F=k;for(var U=0;U<z.Y$;U++){if(L==0){E=zu.lZ(z.YV,r,z.X,z.z,k,L);k+=z.X*z.z}else if(L==1){E=e.$(z.X*z.z);
var l=z.YV?4:2;if(U==0)k+=z.Y$*z.z*l;k+=zu.lq(r,E,z.X,z.z,F+U*z.z*l,k,l)}else console.log("unknown compression of image data: ",L);
e.JN(E,z.buffer,U);if(z.Y$==1&&U==0){e.JN(E,z.buffer,1);e.JN(E,z.buffer,2)}}z.Y$=4;return k};zK.mBS=function(z,r,k,L){var E=1,F=16,U=z.X,l=z.z,g,P;
h.xt(r,k,E);k+=2;var G=U*l;if(!L){P=new e.Ph(U*l);e.JR(z.buffer,P);for(var J=0;J<G;J++){var x=P.n[J]*(1/255);
P.F[J]=~~(P.F[J]*x+255*(1-x));P.P[J]=~~(P.P[J]*x+255*(1-x));P.g[J]=~~(P.g[J]*x+255*(1-x))}}else g=e.$(G);
var a=k;for(var d=0;d<z.Y$;d++){r.$q(k,U*l+4);if(!L)g=d==0?P.F:d==1?P.P:d==2?P.g:P.n;if(E==0||E==2||E==3)k=zu.lC(g,r.data,U,l,k,E);
else{if(d==0)k+=z.Y$*l*2;var t=k;k+=zu.lo(g,r.data,U,l,a+d*l*2,k)}}return k};function mz(){}mz.lK=function(z){var r={};
mz.lk(z,r,0,0);return r};mz.lE=function(z,r){var k=0;k=mz.lj(z,r,k,0);return k};mz.lk=function(z,r,k,L){while(z[k]!="<".charCodeAt(0))k++;
k+=2;while(!0){if(z[k]=="/".charCodeAt(0)){k++;var E=h.indexOf(z," ".charCodeAt(0),k,k+50),F=h.indexOf(z,"\n".charCodeAt(0),k,k+50);
if(F==-1)F=Infinity;if(E==-1)E=Infinity;var U=h.xU(z,k,Math.min(F,E)-k),l=mz.lf(z,Math.min(F,E)+1,L+1,U);
r[U]=l.u;k=Math.min(F,E)+1;k+=l.size}else if(z[k]==">".charCodeAt(0)){k+=2;break}else{var G=z[k];if(G==10||G==9||G==32)k++;
else{console.log("unknown byte: "+G+", char: "+String.fromCharCode(G),k);k++}}}return k};mz.lj=function(z,r,k,L){h.xv(r,k,"<<\n");
k+=3;var E=mz.mMp;for(var F in z){h.aI(r,k,"\t".charCodeAt(0),L+1);k+=L+1;h.xv(r,k,"/"+F);k+=1+F.length;
if(E(z[F])||z[F]instanceof Array){h.xv(r,k," ");k++}else{h.xv(r,k,"\n");k++;h.aI(r,k,"\t".charCodeAt(0),L+1);
k+=L+1}k=mz.le(z[F],r,k,L+1);h.xv(r,k,"\n");k++}h.aI(r,k,"\t".charCodeAt(0),L);k+=L;h.xv(r,k,">>");k+=2;
return k};mz.lf=function(z,r,k,L){var E=r,F={size:0,u:0};while(!0){while(z[r]==" ".charCodeAt(0)||z[r]=="\t".charCodeAt(0)||z[r]=="\n".charCodeAt(0))r++;
if(z[r]=="<".charCodeAt(0)){F.u={};r=mz.lk(z,F.u,r,k+1);break}else if(z[r]=="(".charCodeAt(0)){r+=3;
var U=r;while(!0){if(z[U]==")".charCodeAt(0)&&(z[U+1]=="\n".charCodeAt(0)||z[U+1]==" ".charCodeAt(0)))break;
else U++}F.u=h.xR(z,r,U);r=U+2;break}else if(z[r]=="[".charCodeAt(0)){r++;F.u=[];while(z[r]==" ".charCodeAt(0)||z[r]=="\t".charCodeAt(0)||z[r]=="\n".charCodeAt(0))r++;
while(z[r]!="]".charCodeAt(0)){var l=mz.lf(z,r,k+1,L);F.u.push(l.u);r+=l.size;while(z[r]==" ".charCodeAt(0)||z[r]=="\t".charCodeAt(0)||z[r]=="\n".charCodeAt(0))r++}r++;
break}else{var G=h.indexOf(z," ".charCodeAt(0),r,r+50),g=h.indexOf(z,"\n".charCodeAt(0),r,r+50);if(g==-1)g=Infinity;
if(G==-1)G=Infinity;var P=h.xU(z,r,Math.min(G,g)-r).trim(),J=parseFloat(P);if(!isNaN(J)){F.u=parseFloat(P);
r=Math.min(G,g)+1;break}else if(P=="true"||P=="false"){F.u=P=="true";r=Math.min(G,g)+1;break}else console.log("unknown identifier: "+P);
r=Math.min(G,g)+1}}F.size=r-E;return F};mz.le=function(z,r,k,L){if(z instanceof Array){var E=z.length==0||typeof z[0]=="number";
if(E){h.xv(r,k,"[ ");k+=2;for(var F=0;F<z.length;F++){var U=z[F]+" ";h.xv(r,k,U);k+=U.length}h.xv(r,k,"]");
k+=1}else{h.xv(r,k,"[\n");k+=2;for(var F=0;F<z.length;F++){h.aI(r,k,"\t".charCodeAt(0),L);k+=L;k=mz.le(z[F],r,k,L);
h.xv(r,k,"\n");k++}h.aI(r,k,"\t".charCodeAt(0),L);k+=L;h.xv(r,k,"]");k+=1}}else if(z instanceof Object){k=mz.lj(z,r,k,L)}else if(typeof z=="string"){h.xv(r,k,"(");
k++;h.aI(r,k,254);k++;h.aI(r,k,255);k++;k=h.xN(r,k,z);h.xv(r,k,")");k+=1}else{var U=z+"";h.xv(r,k,U);
k+=U.length}return k};mz.mMp=function(z){var r=typeof z;return r=="string"||r=="number"||r=="boolean"};
function zs(){}zs.lK=function(z){var r=new Uint8Array(z),k=0,L={Yd:[],YH:[],list:[]},E=h.xI(r,k);k+=2;
var F=h.xI(r,k);k+=2;var U=h.xU(r,k,8);k+=8;var l=h.S(r,k);k+=4;if(l>0)L.Yd=zs.mPu(r,k,l,F,E);k+=l;var G=h.xU(r,k,8);
k+=8;var g=h.S(r,k);k+=4;if(g>0)L.YH=zs.mE$(r,k,g);k+=g;var P=h.xU(r,k,8);k+=8;var J=h.S(r,k);k+=4;if(J>0){var x={};
zR.Ee(r,x,k+4);L.list=x.Brsh.v}k+=J;var a=L.list;for(var d=0;d<a.length;d++){mE.oM.check(a[d].v)}return L};
zs.lN=function(z){var r=new Pf,k=0,L=0;h.xt(r,k,6);k+=2;h.xt(r,k,2);k+=2;h.xv(r,k,"8BIMsamp");k+=8;k+=4;
L=k;k=zs.mEp(r,k,z.Yd);h.e(r,L-4,k-L);h.xv(r,k,"8BIMpatt");k+=8;k+=4;L=k;k=zs.mEd(r,k,z.YH);h.e(r,L-4,k-L);
var E={classID:"null",Brsh:{t:"VlLs",v:z.list}};h.xv(r,k,"8BIMdesc");k+=8;k+=4;L=k;h.e(r,k,16);k+=4;
k+=zR.Eg(r,E,k);h.e(r,L-4,k-L);return r.data.slice(0,k).buffer};zs.mPu=function(z,r,k,L,E){var F=r+k,U=[];
while(r<F){var l={};U.push(l);var G=h.S(z,r);r+=4;var g=r,P=h.aw(z,r);r+=P.length;l.id=P.Bf;if(L==1){r+=9;
l.iy=h.ao(z,r);r+=16}else{r+=7;var J=h.S(z,r);r+=4;l.iy=h.ao(z,r);r+=16;var x=h.S(z,r);r+=4;r+=x*4;var a=h.S(z,r);
r+=4;var d=h.S(z,r);r+=4;var t=h.ao(z,r);r+=16}var m=h.xI(z,r);r+=2;var b=z[r];r+=1;l.channel=zu.lZ(!1,z,l.iy.X,l.iy.z,r,b);
if(G%4!=0)G+=4-G%4;r=g+G}return U};zs.mEp=function(z,r,k){for(var L=0;L<k.length;L++){var E=k[L],F=r+4,l=56,g=1;
r+=4;h.ay(z,r,E.id);r+=E.id.length+2;z.$q(r,1);z.data[r]=1;r+=3;h.e(z,r,3);r+=4;var U=r;r+=4;h.aL(z,r,E.iy);
r+=16;h.e(z,r,l);r+=4;r+=l*4;h.e(z,r-4,1);var G=r;r+=4;h.e(z,r,8);r+=4;h.aL(z,r,E.iy);r+=16;h.xt(z,r,8);
r+=2;z.$q(r,1);z.data[r]=g;r++;z.$q(r,E.iy.Y()*2);r=zu.lC(E.channel,z.data,E.iy.X,E.iy.z,r,g);z.$q(r,8);
r+=8;var P=r-F;h.e(z,F-4,P);h.e(z,U,P-49);h.e(z,G,P-305);if(P%4!=0)r+=4-P%4}return r};zs.mE$=function(z,r,k){var L=r+k,E=[];
while(r<L){var F={};E.push(F);var U=h.S(z,r);r+=4;var l=r;r=zE.xx(z,r,F);if(U%4!=0)U+=4-U%4;r=l+U}return E};
zs.mEd=function(z,r,k){for(var L=0;L<k.length;L++){var E=k[L];r+=4;var F=r;r=zE.xa(z,r,E);var U=r-F;
h.e(z,F-4,U);if(U%4!=0)F+=4-U%4;r=F+U}return r};function zI(){}zI.lK=function(z){var r=new Uint8Array(z),k=[],L=0,E=h.xI(r,L);
L+=2;if(E!=4){throw"Unknown version of curves: "+E}var F=h.xI(r,L);L+=2;for(var U=0;U<F;U++){var l=zI.xG(r,L);
L+=2+2*l.length;k.push(l)}if(L==r.length)return k;var G=h.xU(r,L,4);L+=4;var g=h.xI(r,L);L+=2;var P=h.xI(r,L);
L+=2;if(P!=0)throw"extra curves for channels";return k};zI.xP=function(z,r,k){var L=r,E=[],F=z[r];r+=3;
var U=h.S(z,r);r+=4;for(var l=0;l<4;l++){var G=U>>>l&1;if(G){if(F==0){var g=zI.xG(z,r);r+=2+2*g.length}else{var g=zI.mEi(z,r);
r+=256}E.push(g)}else E.push(F==0?[0,0,255,255]:zI.mEH())}return E};zI.mEH=function(){var z=[];for(var r=0;
r<256;r++)z.push(r);return z};zI.xG=function(z,r){var k=[],L=h.xI(z,r);r+=2;for(var E=0;E<L;E++){var F=h.xI(z,r);
r+=2;var U=h.xI(z,r);r+=2;k.push(U,F)}return k};zI.mEb=function(z,r,k){var L=k.length/2;h.xt(z,r,L);
r+=2;for(var E=0;E<L;E++){h.xt(z,r,k[E*2+1]);r+=2;h.xt(z,r,k[E*2+0]);r+=2}};zI.mEi=function(z,r){var k=[];
for(var L=0;L<256;L++)k.push(z[r+L]);return k};zI.mBT=function(z,r,k){z.$q(r,256);for(var L=0;L<256;
L++)z.data[r+L]=k[L]};zI.xu=function(z,r,k){var L=r,E=k[0].length==256?1:0;z.$q(r,3);z.data[r]=E;z.data[r+1]=0;
z.data[r+2]=1;r+=3;h.e(z,r,15);r+=4;for(var F=0;F<4;F++){var U=k[F];if(E==0){zI.mEb(z,r,U);r+=2+2*U.length}else{zI.mBT(z,r,U);
r+=256}}return r-L};function zY(){}zY.xP=function(z,r,k){var L={},E=h.xI(z,r);r+=2;L.Yb=z[r]==1;r++;
r++;L.HS=[h.xH(z,r),h.xH(z,r+2),h.xH(z,r+4)];r+=6;L.Yi=[h.xH(z,r),h.xH(z,r+2),h.xH(z,r+4)];r+=6;L.YD=[];
for(var F=0;F<6;F++){var U={};U.YY=[h.xH(z,r),h.xH(z,r+2),h.xH(z,r+4),h.xH(z,r+6)];r+=8;U.sn=[h.xH(z,r),h.xH(z,r+2),h.xH(z,r+4)];
r+=6;L.YD.push(U)}return L};zY.xu=function(z,r,k){var L=2+2+12+6*14,E=z.data;z.$q(r,L);h.xs(E,r,2);r+=2;
E[r]=k.Yb?1:0;r++;r++;h.xi(E,r+0,k.HS[0]);h.xi(E,r+2,k.HS[1]);h.xi(E,r+4,k.HS[2]);r+=6;h.xi(E,r+0,k.Yi[0]);
h.xi(E,r+2,k.Yi[1]);h.xi(E,r+4,k.Yi[2]);r+=6;for(var F=0;F<6;F++){var U=k.YD[F].YY,l=k.YD[F].sn;h.xi(E,r+0,U[0]);
h.xi(E,r+2,U[1]);h.xi(E,r+4,U[2]);h.xi(E,r+6,U[3]);r+=8;h.xi(E,r+0,l[0]);h.xi(E,r+2,l[1]);h.xi(E,r+4,l[2]);
r+=6}return L};function zD(){}zD.lK=function(z){var r=new Uint8Array(z),k=2,L=[];for(var E=0;E<29;E++){var F=[];
L.push(F);for(var U=0;U<5;U++)F.push(h.xI(r,k+E*10+U*2))}k+=29*10;if(k==r.length)return L;var l=h.xU(r,k,4);
k+=4;var G=h.xI(r,k);k+=2;var g=h.xI(r,k);k+=2;var P=g-29;for(var E=0;E<P;E++){var F=[];L.push(F);for(var U=0;
U<5;U++)F.push(h.xI(r,k+E*10+U*2))}return L};zD.lN=function(z,r){var k=0;z.$q(0,2+29*10);h.xs(z.data,k,2);
k+=2;for(var L=0;L<29;L++){var E=r[L];for(var F=0;F<5;F++)h.xs(z.data,k+L*10+F*2,E[F])}k+=29*10;if(r.length==29)return k;
z.$q(k,8+10*(r.length-29));h.xn(z.data,k,"Lvls");k+=4;h.xs(z.data,k,3);k+=2;h.xs(z.data,k,r.length);
k+=2;var U=r.length-29;for(var L=0;L<U;L++){var E=r[29+L];for(var F=0;F<5;F++)h.xs(z.data,k+L*10+F*2,E[F])}k+=10*U;
return k};function za(){}za.lK=function(z){var r=new Uint8Array(z),k=2,L={Yk:[],Yj:[]},E=h.xU(r,k,4);
k+=4;var F=h.xI(r,k);k+=2;var U=h.S(r,k);k+=4;while(k<U){var l=h.S(r,k);k+=4;if((l&3)!=0)l+=4-(l&3);
var G=k,g={};L.Yk.push(g);k=zE.xx(r,k,g);k=G+l}var P=h.S(r,k);k+=4;for(var J=0;J<P;J++){var l=h.S(r,k);
k+=4;var G=k,x={Yf:{},Ye:{}};L.Yj.push(x);k+=4;k+=zR.Ee(r,x.Yf,k);k+=4;k+=zR.Ee(r,x.Ye,k);k=G+l;var a=x.Ye.blendOptions,d=x.Ye.Lefx;
if(a&&Object.keys(a.v).length>1){}if(d){if(d.v.masterFXSwitch==null)d.v.masterFXSwitch={t:"bool",v:!0};
zv.lM(d.v)}}return L};za.lN=function(z){var r=new Pf,k=0;h.xt(r,k,2);k+=2;h.xv(r,k,"8BSL");k+=4;h.xt(r,k,3);
k+=2;var L=k;k+=4;for(var E=0;E<z.Yk.length;E++){k+=4;var F=k;k=zE.xa(r,k,z.Yk[E]);var U=k-F;h.e(r,F-4,U);
if((U&3)!=0)U+=4-(U&3);k=F+U}h.e(r,L,k-L-4);var l=z.Yj.length;h.e(r,k,l);k+=4;for(var E=0;E<l;E++){k+=4;
var F=k,G=z.Yj[E];h.e(r,k,16);k+=4;k+=zR.Eg(r,G.Yf,k);var g=G.Ye.Lefx;if(g){G.Ye.Lefx=JSON.parse(JSON.stringify(g));
zv.lQ(G.Ye.Lefx.v)}h.e(r,k,16);k+=4;k+=zR.Eg(r,G.Ye,k);if(g)G.Ye.Lefx=g;h.e(r,F-4,k-F)}return r.data.slice(0,k).buffer};
function zk(){}zk.xP=function(z,r,k){var L=h.xI(z,r);r+=2;var E={};E.Yg=h.xI(z,r)==1;r+=2;E.YF=[];for(var F=0;
F<10;F++){var U=[];E.YF.push(U);for(var l=0;l<4;l++)U.push(h.xH(z,r+l*2));r+=8}return E};zk.xu=function(z,r,k){z.$q(r,84);
h.xs(z.data,r,1);r+=2;h.xs(z.data,r,k.Yg?1:0);r+=2;for(var L=0;L<10;L++){var E=k.YF[L];for(var F=0;F<4;
F++)h.xi(z.data,r+F*2,E[F]);r+=8}return 84};function z$(){}z$.lK=function(z){z=new Uint8Array(z);var r=0,k=[],L=Date.now(),E=h.xU(z,0,4);
r+=4;var F=h.S(z,r);r+=4;var U=h.S(z,r);r+=4;for(var l=0;l<U;l++){var G=h.xC(z,r);r+=G.length*2+4;if((G.length&1)==1)r+=2;
var g=h.S(z,r);r+=4;var P=h.S(z,r);r+=4;var J=r,x=h.aw(z,J).Bf;J+=x.length+1;var a=h.ao(z,J);J+=16;var d=z$.xK(z,J,P-(J-r));
k.push({kS:G,Yf:x,A:d,km:a});r+=P}return k};z$.lN=function(z){var r=new Pf,k=0;h.xv(r,k,"cush");k+=4;
h.e(r,k,2);k+=4;h.e(r,k,z.length);k+=4;for(var L=0;L<z.length;L++){var E=z[L];h.xo(r,k,E.kS);k+=4+E.kS.length*2;
if((E.kS.length&1)==1)k+=2;h.e(r,k,1);k+=4;k+=4;var F=k;h.ay(r,k,E.Yf);k+=E.Yf.length+1;h.aL(r,k,E.km);
k+=16;r.$q(k,E.A.length*26);z$.xE(r.data,k,E.A,1,1);k+=E.A.length*26;var U=k-F;if((U&3)!=0)U+=4-(U&3);
h.e(r,F-4,U);k=F+U}return r.data.slice(0,k).buffer};z$.xK=function(z,r,k,L,E){if(L==null)L=1;if(E==null)E=1;
var F=[],U=Math.floor(k/26);for(var l=0;l<U;l++){var G=r+l*26,g={},P=0;F.push(g);g.type=h.xH(z,G);G+=2;
if(g.type==6){P=24}if(g.type==8){g.all=h.xH(z,G);G+=2;P=22}if(g.type==0||g.type==3){g.length=h.xH(z,G);
G+=2;g.bF=h.xH(z,G);G+=2;g.iS=h.xH(z,G);G+=2;g.iC=h.S(z,G);G+=4;g.iq=h.S(z,G);G+=4;P=10}if(g.type==1||g.type==2||g.type==4||g.type==5){var J,x;
x=h.ah(z,G);G+=4;J=h.ah(z,G);G+=4;g.im=new V(J*L,x*E);x=h.ah(z,G);G+=4;J=h.ah(z,G);G+=4;g.W=new V(J*L,x*E);
x=h.ah(z,G);G+=4;J=h.ah(z,G);G+=4;g.iP=new V(J*L,x*E);P=0}for(var a=0;a<P;a++)if(z[G+a]!=0){console.log("Unexpected non-zero byte!",g,a,z[G+a])}}return F};
z$.xE=function(z,r,k,L,E){var F=k.length;for(var U=0;U<F;U++){var l=r+U*26,G=k[U];h.xi(z,l,G.type);l+=2;
if(G.type==6){}if(G.type==8)h.xi(z,l,G.all);if(G.type==0||G.type==3){h.xi(z,l,G.length);l+=2;h.xi(z,l,G.bF);
l+=2;h.xi(z,l,G.iS);l+=2}if(G.type==1||G.type==2||G.type==4||G.type==5){h.aT(z,l,G.im.y/E);l+=4;h.aT(z,l,G.im.x/L);
l+=4;h.aT(z,l,G.W.y/E);l+=4;h.aT(z,l,G.W.x/L);l+=4;h.aT(z,l,G.iP.y/E);l+=4;h.aT(z,l,G.iP.x/L);l+=4}}};
function zx(){}zx.lK=function(z){var r=new Uint8Array(z),k=[],L=0;L=zx.xl(r,L,k);if(L+3<r.length){k=[];
L=zx.xl(r,L,k)}return k};zx.xl=function(z,r,k){var L=h.xI,E=h.xH,F=L(z,r);r+=2;var U=L(z,r);r+=2;var l=1/65535,G=255/65535,g=100/65535;
for(var P=0;P<U;P++){var J=L(z,r),m=null;r+=2;var x=L(z,r);r+=2;var a=L(z,r);r+=2;var d=L(z,r);r+=2;
var t=L(z,r);r+=2;if(J==0)m={F:x*G,P:a*G,g:d*G};else if(J==1){m=e.JK(x*l,a*l,d*l);m.F*=255;m.P*=255;
m.g*=255}else if(J==2)m=e.v.GU({classID:"CMYC",Cyn:{t:"doub",v:100-x*g},Mgnt:{t:"doub",v:100-a*g},Ylw:{t:"doub",v:100-d*g},Blck:{t:"doub",v:100-t*g}});
else if(J==7){var b=[x,E(z,r-6),E(z,r-4)],I=mm.Oj(b);m={F:I[0],P:I[1],g:I[2]}}else throw"e "+J+", "+P;
if(F==2){m._S=h.xC(z,r);r+=4+m._S.length*2}k.push(m)}return r};zx.lN=function(z){var r=new Pf,k=0,L=h.xt;
L(r,k,2);k+=2;L(r,k,z.length);k+=2;var E=65535/255;for(var F=0;F<z.length;F++){var U=z[F];L(r,k,0);k+=2;
L(r,k,Math.round(U.F*E));k+=2;L(r,k,Math.round(U.P*E));k+=2;L(r,k,Math.round(U.g*E));k+=2;L(r,k,0);k+=2;
var l=U._S?U._S:"";h.xo(r,k,l);k+=4+l.length*2}return r.data.slice(0,k).buffer};function zi(){}zi.lK=function(z){var r=new Uint8Array(z),k=0,L=h.S(r,k),G;
k+=4;var E=h.xU(r,k,8);k+=8;var F=h.aG(r,k);k+=4;var U=h.aG(r,k);k+=4;var l=h.aG(r,k);k+=4;if(L==2){G=new Float32Array(z,32,z.byteLength-32>>>2)}else if(L==3){G=new Float32Array(U*l*2);
var g=0,P=0,J=!0;k=32;while(k<r.length){var x=h.aG(r,k);k+=4;if(J)P+=x;else{for(var a=0;a<x;a++){G[g+P+a<<1]=h.ax(r,k);
G[(g+P+a<<1)+1]=h.ax(r,k+4);k+=8}P+=x}J=!J;if(x!=0&&P==U){g+=U;P=0;J=!0;if(g==U*l)break}}}else throw"unknown Mesh version: "+L;
return{Hg:U,HF:l,map:G}};zi.lE=function(z){var r=z.Hg,k=z.HF,L=z.map,E=new Uint8Array(32+k*r*8+k*8),F=0,U=0;
h.aS(E,F,3);F+=4;h.xn(E,F,"yfqLhseM");F+=8;h.aW(E,F,2);F+=4;h.aW(E,F,r);F+=4;h.aW(E,F,k);F+=4;h.aW(E,F,0);
F+=4;h.aW(E,F,1);F+=4;for(var l=0;l<k;l++){h.aW(E,F,0);F+=4;h.aW(E,F,r);F+=4;for(var G=0;G<r;G++){h.aB(E,F,L[U]);
h.aB(E,F+4,L[U+1]);U+=2;F+=8}}return E.buffer};function mB(){}mB.lK=function(z){var r=new Uint8Array(z),k=0,L=h.xU(r,k,4);
k+=4;var E=h.xI(r,k);k+=2;var F=h.S(r,k);k+=4;var U=[];for(var l=0;l<F;l++){var G=h.S(r,k);k+=4;var g={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
U.push(g);g.Nm.v=h.xC(r,k);k+=4+g.Nm.v.length*2;var P=h.xI(r,k);k+=2;var J=h.xI(r,k);k+=2;for(var x=0;
x<J;x++){var a=e.MF.QS(0,0,!0);a.v.Vrtc.v=h.xI(r,k);k+=2;a.v.Hrzn.v=h.xI(r,k);k+=2;g.Crv.v.push(a)}if(G==1){}else if(G==2){for(var x=0;
x<J;x++){g.Crv.v[x].v.Cnty.v=r[k]==1;k+=1}}else throw"error";var d=h.S(r,k);k+=4;var t=h.S(r,k);k+=4}return U};
mB.lN=function(z){var r=new Pf,k=0;h.xv(r,k,"8BFS");k+=4;h.xt(r,k,1);k+=2;h.e(r,k,z.length);k+=4;for(var L=0;
L<z.length;L++){h.e(r,k,2);k+=4;var E=z[L];h.xo(r,k,E.Nm.v);k+=4+E.Nm.v.length*2;h.xt(r,k,2);k+=2;var F=E.Crv.v.length;
h.xt(r,k,F);k+=2;for(var U=0;U<F;U++){var l=E.Crv.v[U];h.xt(r,k,l.v.Vrtc.v);k+=2;h.xt(r,k,l.v.Hrzn.v);
k+=2}r.$q(k,F);for(var U=0;U<F;U++){r.data[k]=E.Crv.v[U].v.Cnty.v;k++}h.e(r,k,0);k+=4;h.e(r,k,0);k+=4}return r.data.slice(0,k).buffer};
function zE(){}zE.lK=function(z){var r=new Uint8Array(z),k=4,L=h.xI(r,k);k+=2;var E=h.S(r,k);k+=4;var F=[];
for(var U=0;U<E;U++){var l={};F.push(l);k=zE.xx(r,k,l)}return F};zE.lN=function(z){var r=new Pf,k=0;
h.xv(r,k,"8BPT");k+=4;h.xt(r,k,1);k+=2;h.e(r,k,z.length);k+=4;for(var L=0;L<z.length;L++){k=zE.xa(r,k,z[L])}return r.data.slice(0,k).buffer};
zE.xx=function(z,r,k){var L=h.S(z,r);r+=4;if(L!=1)alert("Unknown version of pattern");var E=h.S(z,r);
r+=4;if(E!=1&&E!=2&&E!=3)console.log("Unsupported mode of pattern: "+E);var F=h.xI(z,r);r+=2;var U=h.xI(z,r);
r+=2;k.iy=new Z(0,0,U,F);k.name=h.xC(z,r);r+=4+2*k.name.length;k.name=k.name.substring(0,k.name.length-1);
var l=z[r];r++;k.id=h.xU(z,r,l);r+=k.id.length;var G=-1;if(E==2){G=r;r+=3*256+4}var g=new e.Ph(U*F);
r=zE.mEj(z,r,g);if(E==2){for(var P=0;P<g.F.length;P++){var J=3*g.F[P];g.F[P]=z[G+J+0];g.P[P]=z[G+J+1];
g.g[P]=z[G+J+2]}}k.bT=e.$(k.iy.Y()*4);e.Jh(g,k.bT);return r};zE.xa=function(z,r,k){h.e(z,r,1);r+=4;h.e(z,r,3);
r+=4;h.xt(z,r,k.iy.z);r+=2;h.xt(z,r,k.iy.X);r+=2;h.xo(z,r,k.name+"\0");r+=4+2*k.name.length+2;h.aI(z,r,k.id.length);
r++;h.xv(z,r,k.id);r+=k.id.length;var L=new e.Ph(k.iy.Y());e.JR(k.bT,L);r=zE.maZ(z,r,L,k);return r};
zE.mEj=function(z,r,k){var L=r,E={iy:null,kJ:[],kP:null,kz:null},F=h.S(z,r);r+=4;var U=h.S(z,r);r+=4;
E.iy=h.ao(z,r);r+=16;var l=h.S(z,r);r+=4;for(var G=0;G<l+2;G++){var g=h.S(z,r);r+=4;if(g==0)continue;
var P=h.S(z,r);r+=4;if(P==0)continue;var J=h.S(z,r);r+=4;var x=h.ao(z,r);r+=16;var a=h.xI(z,r);r+=2;
var d=z[r];r++;var t=zu.lZ(!1,z,x.X,x.z,r,d);if(G<l)E.kJ.push(t);if(G==l)E.kP=t;if(G==l+1)E.kz=t;r+=P-23}if(E.kJ[0])k.F=E.kJ[0];
if(E.kJ[1])k.P=E.kJ[1];else k.P=e.clone(E.kJ[0]);if(E.kJ[2])k.g=E.kJ[2];else k.g=e.clone(E.kJ[0]);if(E.kz)k.n=E.kz;
else e.set(k.n,255);return r};zE.maZ=function(z,r,k,L){var E=r,F={iy:L.iy,kJ:[k.F,k.P,k.g],kP:null,kz:k.n};
h.e(z,r,3);r+=4;h.e(z,r,0);r+=4;h.aL(z,r,F.iy);r+=16;h.e(z,r,24);r+=4;for(var U=0;U<24+2;U++){var l=r,G=U<3||U==25?1:0;
h.e(z,r,G);r+=4;if(G==0)continue;h.e(z,r,0);r+=4;h.e(z,r,8);r+=4;h.aL(z,r,F.iy);r+=16;h.xt(z,r,8);r+=2;
h.aI(z,r,1,1);r++;var g=U<3?F.kJ[U]:F.kz;z.$q(r,L.iy.Y()+2);r=zu.lC(g,z.data,L.iy.X,L.iy.z,r,1);h.e(z,l+4,r-l-8)}h.e(z,E+4,r-E-8);
return r};function zj(){}zj.lK=function(z){var r=new Uint8Array(z),k=0,L=h.xU(r,k,4);k+=4;var E=h.xI(r,k);
k+=2;var F={},U=zR.Ee(r,F,k+4),l=F.GrdL.v,G=[];for(var g=0;g<l.length;g++)G[g]=l[g].v.Grad.v;return G};
zj.lN=function(z){var r=new Pf,k=0;h.xv(r,k,"8BGR");k+=4;h.xt(r,k,5);k+=2;h.e(r,k,16);k+=4;var L={classID:"null",GrdL:{t:"VlLs",v:[]}},E=L.GrdL.v;
for(var F=0;F<z.length;F++)E[F]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:z[F]}}};
k+=zR.Eg(r,L,k);return r.data.slice(0,k).buffer};function h(){}h.xA=function(z){var r="";for(var k=3;
k>=0;k--)r+=String.fromCharCode(z>>k*8&255);return r};h.mWE=function(z){var r=0;for(var k=z.length-1;
k>=0;k--)r|=z.charCodeAt(k)<<(3-k)*8;return r};h.indexOf=function(z,r,k,L){if(k==null)k=0;if(L==null)L=z.length;
L=Math.min(L,z.length);for(var E=k;E<L;E++)if(z[E]==r)return E;return-1};h.mKz=function(z,r,k){if(k==null)k=0;
if(typeof r=="string"){var L=[];for(var E=0;E<r.length;E++)L.push(r.charCodeAt(E));r=L}for(var E=k;E<z.length;
E++){var F=!0;for(var U=0;U<r.length;U++)if(r[U]!=z[E+U]){F=!1;break}if(F)return E}return-1};h.xR=function(z,r,k){var L=[],F="";
while(r<k){var E=z[r++];if(E=="\\".charCodeAt(0))L.push(z[r++]);else L.push(E)}for(var U=0;U<L.length;
U+=2)F+=String.fromCharCode(L[U]<<8|L[U+1]);return F};h.mcF=function(z,r,k){var L=new Uint8Array(2);
for(var E=0;E<k.length;E++){h.xs(L,0,k.charCodeAt(E));if(L[0]==")".charCodeAt(0)||L[0]=="(".charCodeAt(0)||L[0]=="\\".charCodeAt(0)){z[r]="\\".charCodeAt(0);
r++}z[r]=L[0];r++;if(L[1]==")".charCodeAt(0)||L[1]=="(".charCodeAt(0)||L[1]=="\\".charCodeAt(0)){z[r]="\\".charCodeAt(0);
r++}z[r]=L[1];r++}return r};h.xN=function(z,r,k){z.$q(r,4*k.length);return h.mcF(z.data,r,k)};h.xy=function(z,r,k){var L="";
for(var E=0;E<k;E++){var F=z[r++]<<8|z[r++];L+=String.fromCharCode(F)}return L};h.xV=function(z,r,k){for(var L=0;
L<k.length;L++){var E=k.charCodeAt(L);h.xs(z,r+2*L,E)}};h.mSY=function(z,r,k){z.$q(r,2*k.length);h.xV(z.data,r,k)};
h.mEg=function(z,r,k){var L="";for(var E=0;E<k;E++)L+="%"+("0"+z[r+E].toString(16)).slice(-2);return decodeURIComponent(L)};
h.xZ=function(z,r){var k=h.S(z,r);r+=4;if(k>65535)return"";var L=h.mEg(z,r,k-1);return{bB:L,bA:4+k}};
h.xC=function(z,r){var k=h.S(z,r);r+=4;if(k>65535)return"";var L=h.xy(z,r,k);return L};h.mSQ=function(z,r,k){h.aS(z,r,k.length);
r+=4;h.xV(z,r,k)};h.xo=function(z,r,k){z.$q(r,4+2*k.length);h.mSQ(z.data,r,k)};h.mMF=function(z,r,k){var L=[];
for(var E=0;E<k;E++)L.push(String.fromCharCode(z[r+E]));return L};h.mJ_=function(z,r,k){var L=!1,E=z.length-k.length;
for(var F=r;F<E;F++){for(var U=0;U<k.length;U++){if(z[F+U]!=k.charCodeAt(U))break;if(U==k.length-1)return F}}};
h.xU=function(z,r,k){var L="";for(var E=0;E<k;E++)L+=String.fromCharCode(z[r+E]);return L};h.xn=function(z,r,k){for(var L=0;
L<k.length;L++)z[r+L]=k.charCodeAt(L)};h.xv=function(z,r,k){z.$q(r,k.length);h.xn(z.data,r,k)};h.mcd=function(z,r,k){var L="";
for(var E=0;E<k;E++){var F=z[r+E];if(F<10)L+="  ";else if(F<100)L+=" ";L+=F+", "}return L};h.xI=function(z,r){return z[r]<<8|z[r+1]};
h.xs=function(z,r,k){z[r]=k>>8&255;z[r+1]=k&255};h.xt=function(z,r,k){z.$q(r,4);h.xs(z.data,r,k)};h.xp=function(z,r){return z[r+1]<<8|z[r]};
h.x$=function(z,r,k){z[r+1]=k>>8&255;z[r]=k&255};h.mJy=function(z,r,k){z.$q(r,4);h.x$(z.data,r,k)};h.xH=function(z,r){h.at[0]=z[r+1];
h.at[1]=z[r];return h.as[0]};h.mMd=function(z,r){h.at[0]=z[r];h.at[1]=z[r+1];return h.as[0]};h.xi=h.xs;
h.xD=h.xt;h.xY=function(z,r){h.a$[0]=z[r+3];h.a$[1]=z[r+2];h.a$[2]=z[r+1];h.a$[3]=z[r];return h.ap[0]};
h.xk=function(z,r,k){h.ap[0]=k;z[r+3]=h.a$[0];z[r+2]=h.a$[1];z[r+1]=h.a$[2];z[r+0]=h.a$[3]};h.xj=function(z,r,k){z.$q(r,4);
h.xk(z.data,r,k)};h.xf=function(z,r){h.a$[0]=z[r+0];h.a$[1]=z[r+1];h.a$[2]=z[r+2];h.a$[3]=z[r+3];return h.ap[0]};
h.xe=function(z,r,k){h.ap[0]=k;z[r+0]=h.a$[0];z[r+1]=h.a$[1];z[r+2]=h.a$[2];z[r+3]=h.a$[3]};h.maN=function(z,r,k){z.$q(r,4);
h.xe(z.data,r,k)};h.S=function(z,r){var k=z[r]*(256*256*256)+(z[r+1]<<16|z[r+2]<<8|z[r+3]);return k};
h.aS=function(z,r,k){z[r]=k>>24&255;z[r+1]=k>>16&255;z[r+2]=k>>8&255;z[r+3]=k>>0&255};h.e=function(z,r,k){z.$q(r,4);
h.aS(z.data,r,k)};h.aJ=function(z,r){return h.S(z,r)<<32|h.S(z,r+4)};h.maw=function(z,r,k){h.aS(z,r,k>>16>>16);
h.aS(z,r+4,k&4294967295)};h.az=function(z,r,k){z.$q(r,8);h.maw(z.data,r,k)};h.aG=h.xf;h.aW=h.xe;h.aM=h.maN;
h.aQ=function(z,r){var k=new Uint8Array(8);for(var L=0;L<8;L++)k[L]=z[r+7-L];var E=new Float64Array(k.buffer);
return E[0]};h.mMI=function(z,r){var k=new Uint8Array(8);for(var L=0;L<8;L++)k[L]=z[r+L];var E=new Float64Array(k.buffer);
return E[0]};h.aK=function(z,r,k){var L=new Float64Array(1);L[0]=k;var E=new Uint8Array(L.buffer);for(var F=0;
F<4;F++){var U=E[F];E[F]=E[7-F];E[7-F]=U}for(var F=0;F<8;F++)z[r+F]=E[F]};h.aE=function(z,r,k){z.$q(r,8);
h.aK(z.data,r,k)};h.al=function(z,r){h.a$[0]=z[r+3];h.a$[1]=z[r+2];h.a$[2]=z[r+1];h.a$[3]=z[r+0];return h.ad[0]};
h.ax=function(z,r){h.a$[0]=z[r+0];h.a$[1]=z[r+1];h.a$[2]=z[r+2];h.a$[3]=z[r+3];return h.ad[0]};h.aa=function(z,r,k){h.ad[0]=k;
z[r+0]=h.a$[3];z[r+1]=h.a$[2];z[r+2]=h.a$[1];z[r+3]=h.a$[0]};h.ac=function(z,r,k){z.$q(r,4);h.aa(z.data,r,k)};
h.aB=function(z,r,k){h.ad[0]=k;z[r+0]=h.a$[0];z[r+1]=h.a$[1];z[r+2]=h.a$[2];z[r+3]=h.a$[3]};h.mQV=function(z,r,k){z.$q(r,4);
h.aB(z.data,r,k)};h.ah=function(z,r){var k=h.xY(z,r)/16777215;return k};h.aT=function(z,r,k){h.xk(z,r,Math.floor(k*16777215))};
h.mJz=function(z,r,k){z.$q(r,4);h.aT(z.data,r,k)};h.aw=function(z,r){var k=z[r],L=h.xU(z,r+1,k);k+=1-k%2;
return{Bf:L,length:k+1}};h.muX=function(z,r,k){var L=k.length;z[r]=L;h.xn(z,r+1,k);if(L%2==0){z[r+1+L]=0;
++L}return L+1};h.ay=function(z,r,k){z.$q(r,k.length+2);return h.muX(z.data,r,k)};h.aV=function(z,r){var k=new zT;
k.n=h.aQ(z,r+0*8);k.g=h.aQ(z,r+1*8);k.bq=h.aQ(z,r+2*8);k.br=h.aQ(z,r+3*8);k.bo=h.aQ(z,r+4*8);k.bL=h.aQ(z,r+5*8);
return k};h.aO=function(z,r,k){h.aK(z,r+0*8,k.n);h.aK(z,r+1*8,k.g);h.aK(z,r+2*8,k.bq);h.aK(z,r+3*8,k.br);
h.aK(z,r+4*8,k.bo);h.aK(z,r+5*8,k.bL)};h.muv=function(z,r,k){z.$q(r,48);h.aO(z.data,r,k)};h.mJe=function(z,r){var k=h.al(z,r),L=h.al(z,r+4),E=h.al(z,r+8),F=h.al(z,r+12);
return new Z(k,L,E-k,F-L)};h.mJD=function(z,r,k){h.aa(z,r,k.x);h.aa(z,r+4,k.y);h.aa(z,r+8,k.x+k.X);h.aa(z,r+12,k.y+k.z)};
h.mJH=function(z,r,k){z.$q(r,16);h.mJD(z.data,r,k)};h.ao=function(z,r){var k=h.xY(z,r),L=h.xY(z,r+4),E=h.xY(z,r+8),F=h.xY(z,r+12);
return new Z(L,k,F-L,E-k)};h.ar=function(z,r,k){h.xk(z,r,k.y);h.xk(z,r+4,k.x);h.xk(z,r+8,k.y+k.z);h.xk(z,r+12,k.x+k.X)};
h.aL=function(z,r,k){z.$q(r,16);h.ar(z.data,r,k)};h.aU=function(z,r,k){var L=new Uint8Array(k);for(var E=0;
E<k;E++)L[E]=z[r+E];return L};h.an=function(z,r,k){z.set(k,r)};h.av=function(z,r,k){z.$q(r,k.length);
h.an(z.data,r,k)};h.mlD=function(z,r,k,L){if(!L)L=1;for(var E=0;E<L;E++)z[r+E]=k};h.aI=function(z,r,k,L){if(!L)L=1;
z.$q(r,L);h.mlD(z.data,r,k,L)};h.as=new Int16Array(1);h.at=new Uint8Array(h.as.buffer);h.ap=new Int32Array(1);
h.a$=new Uint8Array(h.ap.buffer);h.ad=new Float32Array(h.ap.buffer);function Z(z,r,k,L){if(!z)z=0;if(!r)r=0;
if(!k)k=0;if(!L)L=0;this.x=z;this.y=r;this.X=k;this.z=L}Z.prototype.Y=function(){return this.X*this.z};
Z.prototype.clone=function(){return new Z(this.x,this.y,this.X,this.z)};Z.prototype.contains=function(z,r){return z>=this.x&&z<=this.x+this.X&&(r>=this.y&&r<=this.y+this.z)};
Z.prototype.ab=function(z){return this.contains(z.x,z.y)};Z.prototype.ai=function(z){return this.x<=z.x&&this.y<=z.y&&z.x+z.X<=this.x+this.X&&z.y+z.z<=this.y+this.z};
Z.prototype.Et=function(z){this.x=z.x;this.y=z.y;this.X=z.X;this.z=z.z};Z.prototype.Jq=function(z){return this.x==z.x&&this.y==z.y&&this.X==z.X&&this.z==z.z};
Z.prototype.aD=function(z,r){this.x-=z;this.y-=r;this.X+=2*z;this.z+=2*r};Z.prototype.mST=function(z){this.aD(z.x,z.y)};
Z.prototype.Mk=function(z){var r=Math.max(this.x,z.x),k=Math.max(this.y,z.y),L=Math.min(this.x+this.X,z.x+z.X),E=Math.min(this.y+this.z,z.y+z.z);
if(L<r||E<k)return new Z;else return new Z(r,k,L-r,E-k)};Z.prototype.ak=function(z){if(z.y+z.z<this.y||z.x>this.x+this.X||z.y>this.y+this.z||z.x+z.X<this.x)return!1;
return!0};Z.prototype.z$=function(){return this.X<=0||this.z<=0};Z.prototype.offset=function(z,r){this.x+=z;
this.y+=r};Z.prototype.aj=function(z){this.offset(z.x,z.y)};Z.prototype.mQo=function(){this.x=this.y=this.X=this.z=0};
Z.prototype.Ep=function(z,r,k,L){this.x=z;this.y=r;this.X=k;this.z=L};Z.prototype.MD=function(z){if(this.z$())return z.clone();
if(z.z$())return this.clone();var r=this.clone();r.mBz(z);return r};Z.Pi=new Float32Array(2);Z.prototype.mBz=function(z){if(z.z$())return;
if(this.z$()){this.Et(z);return}this.ag(z.x,z.y);this.ag(z.x+z.X,z.y+z.z)};Z.prototype.ag=function(z,r){var k=Math.min(this.x,z),L=Math.min(this.y,r);
this.X=Math.max(this.x+this.X,z)-k;this.z=Math.max(this.y+this.z,r)-L;this.x=k;this.y=L};Z.prototype.mE_=function(z,r,k,L){if(this.X==0&&this.z==0)this.muK(z,r);
else this.ag(z,r);this.ag(k,L)};Z.prototype.muK=function(z,r){this.x=z;this.y=r;this.X=this.z=0};function zq(){}zq.lK=function(z){var r={};
zq.cm(z,r,0,0);return r};zq.lE=function(z,r){var k=0;h.xv(r,k," ");k++;k=zq.cJ(z,r,k,0);k--;r.$q(k,2);
r.data[k]=r.data[k+1]=0;k+=2;return k};zq.lk=function(z,r,k,L){while(z[k]!="<".charCodeAt(0)){k++;console.log("\u0161ipka")}k+=2;
k=zq.cm(z,r,k,L);return k};zq.lj=function(z,r,k,L){h.xv(r,k,"<< ");k+=3;k=zq.cJ(z,r,k,L);h.xv(r,k,">>");
k+=2;return k};zq.cm=function(z,r,k,L){while(!0){while(z[k]==" ".charCodeAt(0)||z[k]==0)k++;if(k>=z.length)break;
if(z[k]=="/".charCodeAt(0)){k++;var E=h.indexOf(z," ".charCodeAt(0),k),F=h.xU(z,k,E-k);k=E+1;var U=zq.lf(z,k,L,F);
r["_"+F]=U.u;k+=U.size}else if(z[k]==">".charCodeAt(0)){k+=2;break}else{var l=z[k];console.log("unknown byte: "+l+", char: "+String.fromCharCode(l)+", offset: "+k);
k++;return-1}}return k};zq.cJ=function(z,r,k,L){for(var E in z){var F=E.substring(1,E.length);h.xv(r,k,"/"+F);
k+=1+F.length;h.xv(r,k," ");k++;k=zq.le(z[E],r,k,L+1);h.xv(r,k," ");k++}return k};zq.lf=function(z,r,k,L){var E=r,F={type:"",size:0,u:0};
while(z[r]==" ".charCodeAt(0))r++;if(z[r]=="<".charCodeAt(0)){F.type="Object";F.u={};r=zq.lk(z,F.u,r,k+1)}else if(z[r]=="(".charCodeAt(0)){F.type="String";
r++;if(z[r]==")".charCodeAt(0)){F.u="s";r++}else{r+=2;var U=r,zU=0;while(!0){if(z[U]==")".charCodeAt(0)&&z[U-1]!="\\".charCodeAt(0))break;
else U+=1}F.u="s"+h.xR(z,r,U);r=U+2}}else if(z[r]=="[".charCodeAt(0)){r++;F.u=[];F.type="Array";while(z[r]==" ".charCodeAt(0))r++;
while(z[r]!="]".charCodeAt(0)){var l=zq.lf(z,r,k+1,L);if(l==-1)return-1;F.u.push(l.u);r+=l.size;delete l.size;
while(z[r]==" ".charCodeAt(0))r++}r++}else{var G=h.indexOf(z," ".charCodeAt(0),r),g=h.xU(z,r,G-r),P=parseFloat(g);
if(!isNaN(P)&&g.indexOf(".")!=-1){F.type="Float";var J=parseFloat(g);F.u="f"+J}else if(!isNaN(P)&&g.indexOf(".")==-1){F.type="Integer";
F.u="i"+parseInt(g)}else if(g=="true"||g=="false"){F.type="Boolean";F.u=g=="true"}else if(g.charAt(0)=="/"){F.type="BString";
F.u=g}else console.log("unknown value",g);r=G+1}F.size=r-E;return F};zq.mMO=function(z){if(z==Math.round(z))return z+".0";
var r=z.toFixed(5);if(0<z&&z<1)r=r.substring(1,r.length);if(-1<z&&z<0)r="-"+r.substring(2,r.length);
return r};zq.le=function(z,r,k,L){if(z instanceof Array){h.xv(r,k,"[ ");k+=2;for(var E=0;E<z.length;
E++){k=zq.le(z[E],r,k,L);h.xv(r,k," ");k++}h.xv(r,k,"]");k+=1}else if(z instanceof Object){k=zq.lj(z,r,k,L)}else if(typeof z=="string"&&z.charAt(0)=="s"){h.xv(r,k,"(");
k++;h.aI(r,k,254);k++;h.aI(r,k,255);k++;k=h.xN(r,k,z.substring(1));h.xv(r,k,")");k++}else if(typeof z=="string"&&z.charAt(0)=="/"){h.xv(r,k,z);
k+=z.length}else if(typeof z=="string"&&z.charAt(0)=="f"){var F=parseFloat(z.substring(1)),U=zq.mMO(F);
h.xv(r,k,U);k+=U.length}else if(typeof z=="string"&&z.charAt(0)=="i"){h.xv(r,k,z.substring(1));k+=z.length-1}else{var U=z+"";
h.xv(r,k,U);k+=U.length}return k};function z_(){}z_.lK=function(z,r){var k=new Uint8Array(z),L=0,E=h.xU(k,L,9),l=4;
L+=9;var F=h.xU(k,L,4);L+=4;L++;r.X=h.S(k,L);L+=4;r.z=h.S(k,L);L+=4;var U=h.S(k,L);L+=4;if(U!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(F)==-1){var G=h.S(k,L);L+=4;if(G>150)alert("Unsupported precission! Not 8-bit.");
l=8}var g={};L=z_.cx(k,L,g);var P=[];L=z_.cl(k,L,P,l);var J=[];L=z_.cl(k,L,J,l);r.kG=0;for(var x=0;x<P.length;
x++)z_.mKs(k,P[x],r,g,l);while(r.kG>0){r.a.push(r.qc());r.kG--}r.a.reverse();delete r.kG;r.buffer=e.$(r.X*r.z*4);
if(r.a.length==0)console.log("No layers!!!");for(var x=0;x<J.length;x++){var a=z_.cQ(k,J[x],g,l);if(a.Lf[zL.mMB])r.i={channel:a.oZ,rect:new Z(0,0,r.X,r.z)}}};
z_.mKs=function(z,r,k,L,E){var F=k.qa(),U=h.S(z,r),P=0;r+=4;var l=h.S(z,r);r+=4;F.rect=new Z(0,0,U,l);
var G=h.S(z,r);r+=4;var g=h.xZ(z,r);r+=g.bA;F._p(g.bB);var J={};r=z_.cx(z,r,J);if(J[zL.cD]){var x=J[zL.cD];
P=x.length/4-1}if(J[zL.cr]){F.rect.x=h.xY(J[zL.cr],0);F.rect.y=h.xY(J[zL.cr],4)}if(J[zL.cN]){F.opacity=h.S(J[zL.cN],0)}if(J[zL.mSj]){F.add.lsct=mG.ZW;
F.rect=new Z(0,0,0,0);F.buffer=e.$(0);F.Y_=24}if(J[zL.cy]){var a=h.S(J[zL.cy],0);F.DD=zL.mQh[a];if(F._w()&&F.DD=="norm")F.DD="pass"}if(J[zL.cV]){if(h.S(J[zL.cV],0)==0)F.Y_+=2}if(J[zL.cY]){var d=h.S(J[zL.cY],0);
F.add.lsct=d&1==1?mG.ZW:mG.ZM}if(J[zL.cI]){var t=J[zL.cI];for(var m in t){var b=t[m];if(m=="gimp-text-layer"){var I=z_.mJJ(b),v=I.text,W=I.font,B=I.color,n=I["font-size"];
if(v==null&&I.markup){var j=new DOMParser,p=j.parseFromString(I.markup,"image/svg+xml");while(p.firstChild!=null&&p.firstChild.tagName!=null){p=p.firstChild;
var X=p.getAttribute("font"),M=p.getAttribute("foreground"),H=p.getAttribute("size");if(X!=null)W=X;
if(M!=null){M=CSS.xl(M);B=[1,M.F/255,M.P/255,M.g/255]}if(H!=null){n=""+parseFloat(H)/245}}v=p.textContent}F.add.TySh=q.rs(0,0);
F.add.TySh.Ya=new Z(0,0,100,100);F.add.TySh.Wg=new zT(1,0,0,1,F.rect.x,F.rect.y);var c=F.add.TySh.Yc;
q.rg(c,0,v);var S=q.LP(c,0,1),w=I.justify,R=I["line-spacing"];if(B)S.kW.FillColor={Type:1,Values:[1,parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])]};
if(n){n=Math.round(parseFloat(n));S.kW.FontSize=n;F.add.TySh.Wg.bL+=Math.min(17,n*.17)}if(R){R=Math.round(parseFloat(R)+S.kW.FontSize*1.2);
S.kW.Leading=R;S.kW.AutoLeading=!1}if(w)S.kM.Justification=["left","right","center","fill"].indexOf(w);
if(W&&W!="Sans-serif"){var i=W.toLowerCase(),f="bold italic semi extra regular condensed light".split(" "),_=i.length;
for(var u=0;u<f.length;u++){var Q=i.indexOf(f[u]);if(Q!=-1&&Q<_&&i[Q-1]==" ")_=Q}if(_!=i.length)W=W.slice(0,_-1).split(" ").join("")+"-"+W.slice(_).split(" ").join("");
q.rd(S,W)}q.Lm(c,0,v.length,S);var $=I["box-width"],C=I["box-height"],y=$?parseFloat($):F.rect.X,N=C?parseFloat(C):F.rect.z;
q.rD(c,1);q.rk(c,[0,0,Math.ceil(y),Math.ceil(N)])}else console.log("Unknown property "+m)}}while(k.kG>P){k.a.push(k.qc());
k.kG--}k.kG=P;if(F.add.lsct==mG.ZW||F.add.lsct==mG.ZM)k.kG++;var O=E==4?h.S:h.aJ;if(F._d()){F.buffer=e.$(F.rect.Y()*4);
var JQ=new e.Ph(F.rect.Y()),zf=O(z,r);r+=E;var ze=O(z,r);r+=E;z_.cu(z,zf,JQ,L,E);e.Jh(JQ,F.buffer);if(ze!=0){F.k=new T.Zu;
F.k.color=0;F.k.rect=F.rect.clone();F.k.channel=z_.cQ(z,ze,L,E).oZ;if(J[zL.cZ])F.k.isEnabled=h.S(J[zL.cZ],0)==1}}k.a.push(F)};
z_.mJJ=function(z){var r="("+zn.Ah(z,0,z.length-1)+")",k=[],L={};z_.cM(r,1,k);z_.mlb(k,L);return L};
z_.mlb=function(z,r){for(var k=0;k<z.length;k++){var L=z[k],E=L[0];if(L.length==2)r[E]=L[1];else r[E]=L.slice(1)}};
z_.cM=function(z,r,k){while(!0){if(r>=z.length)throw"e";var L=z.charAt(r);r++;if(L=="("){var E=[];r=z_.cM(z,r,E);
k.push(E)}else if(L==" "||L=="\n"||L=="\r"){}else if(L==")")return r;else if(L=="\""){var F=r;while(!0){var U=z[r];
r++;if(U=="\"")break;if(U=="\\")r++}k.push(JSON.parse(z.slice(F-1,r)))}else{var F=r-1;while(z[r]!=" "&&z[r]!=")")r++;
k.push(z.slice(F,r))}}};z_.cQ=function(z,r,k,L){var E=h.S(z,r);r+=4;var F=h.S(z,r);r+=4;var U=h.xZ(z,r);
r+=U.bA;var l={};r=z_.cx(z,r,l);var G=new e.Ph(E*F),g=L==4?h.S:h.aJ,P=g(z,r);r+=L;z_.cu(z,P,G,k,L);return{oZ:G.F,Lf:l}};
z_.cu=function(z,r,k,L,E){var F=h.S(z,r);r+=4;var U=h.S(z,r);r+=4;var l=h.S(z,r);r+=4;var G=E==4?h.S:h.aJ,g=G(z,r);
r+=E;z_.mMR(z,g,k,L,l,E)};z_.mMR=function(z,r,k,L,E,F){var U=h.S(z,r),d=0;r+=4;var l=h.S(z,r);r+=4;var G=new Z(0,0,U,l),g=[];
r=z_.cl(z,r,g,F);var P=new e.Ph(64*64),J=new Z,x=L[zL.mxn][0],a=[P.F,P.P,P.g,P.n];if(E==3)e.set(P.n,255);
for(var t=0;t<l;t+=64)for(var m=0;m<U;m+=64){J.Ep(m,t,Math.min(U-m,64),Math.min(l-t,64));z_.maP(z,g[d++],J.X*J.z,x,E,a);
e.Ji(P,J,k,G)}};z_.maP=function(z,r,k,L,E,F){if(L==1){for(var U=0;U<E;U++){var l=F[U],G=0;while(G<k){var g=z[r];
r++;if(g<127){var P=z[r];r++;g++;for(var J=0;J<g;J++)l[G+J]=P}else if(g==127){var x=z[r];r++;var a=z[r];
r++;var P=z[r];r++;g=x<<8|a;for(var J=0;J<g;J++)l[G+J]=P}else if(g==128){var x=z[r];r++;var a=z[r];r++;
g=x<<8|a;for(var J=0;J<g;J++)l[G+J]=z[r+J];r+=g}else{g=256-g;for(var J=0;J<g;J++)l[G+J]=z[r+J];r+=g}G+=g}}}else alert("Unknown compression "+L)};
z_.cl=function(z,r,k,L){var E=L==4?h.S:h.aJ;while(!0){var F=E(z,r);r+=L;if(F==0)break;else k.push(F)}return r};
z_.cx=function(z,r,k){while(!0){var L=h.S(z,r);r+=4;var E=h.S(z,r);r+=4;if(L==zL.mQf)break;else if(L==zL.cI)k[L]=z_.mKC(z,r,r+E);
else k[L]=h.aU(z,r,E);r+=E}return r};z_.mKC=function(z,r,k){var L={};while(r<k){var E=h.xZ(z,r);r+=E.bA;
var F=h.S(z,r);r+=4;if(F!=1)console.log("unknown flags",F);var U=h.S(z,r);r+=4;L[E.bB]=h.aU(z,r,U);r+=U}return L};
var zL={mQf:0,maF:1,mud:2,muH:3,mMB:4,ml$:5,cN:6,cy:7,cV:8,mSX:9,mSU:10,cZ:11,mSy:12,mxh:13,mMw:14,cr:15,mGl:16,mxn:17,mlH:18,mu$:19,mJY:20,cI:21,mGp:22,mJI:23,muc:24,mJs:25,mPG:26,mQW:27,mPe:28,mSj:29,cD:30,cY:31,mSc:32,mmk:33,mGL:34,mmV:35,mmW:36,mmG:37,mzI:38,mcq:0,mQc:1,mBr:2,mJj:3,mlU:1,mzm:2,mKW:0,mGs:1,mGv:1};
zL.mQh="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function zO(){}zO.lK=function(z,r){var k=zO,L=zr.parse(z),F=0;if(L.pages.length>1)console.log(L.pages.length,"pages");
var E=[],U=new Z;for(var l=0;l<L.pages.length;l++){var G=L.pages[l],g=G.layers,P=k.GF(g,l),x=!1;if(P.Y()>8e3*8e3){k.Bx(g,!0);
var J=k.GF(g,l);if(J.Y()>=P.Y())k.Bx(g,!1)}P=k.GF(g,l);for(var a=0;a<g.length;a++){var d=g[a];if(d._class=="artboard")x=!0}if(!x){console.log("no artboard");
var t={};for(var m in G)t[m]=G[m];t._class="group";G.layers=[t]}E.push(P.clone());if(P.z$())continue;
P.x=0;P.y=F;F+=P.z+200;U=U.MD(P)}var b={};if(L.foreignSymbols)for(var I=0;I<L.foreignSymbols.length;
I++){var v=L.foreignSymbols[I].symbolMaster;b[v.symbolID]={kQ:v}}k.Ba(L.pages,b,r);for(var W in b){var d=b[W].kQ,B=k.Bc(d.layers)}var n=zO.Bl(U,8192*8192);
r.ku=!0;r.X=Math.round(U.X/n);r.z=Math.round(U.z/n);r.buffer=e.$(r.X*r.z*4);r.Cp(L.pages[0].layers.length);
r.kK={};F=0;for(var l=0;l<L.pages.length;l++){var j=L.pages[l],P=E[l],p=new zT(n,0,0,n,P.x,P.y-F);k.BB(j.layers,r,p,L,b,{});
F+=P.z+200}delete r.kK;if(n!=1)alert("File scaled down "+n+"x")};zO.mBE=0;zO.Bl=function(z,r){var k=1;
while(Math.round(z.X/k)*Math.round(z.z/k)>r)k++;if(k!=1&&!window.confirm("Your image is quite large ("+z.X+" x "+z.z+" px).\n"+"Press OK to scale it down "+k+"x, or Cancel to keep the size."))k=1;
return k};zO.GF=function(z,r){var k=[],L=zO;for(var E=0;E<z.length;E++){var F=z[E],U=L.ao(F.frame);if(r==0||F._class=="artboard")k.push(U)}return e.rect.Ma(k)};
zO.Bx=function(z,r){var k=[],L=zO;for(var E=0;E<z.length;E++){var F=z[E],U=L.ao(F.frame);U.X+=150;U.z+=150;
k.push(U)}var l=e.rect.Ma(k);e.rect.mau(k,r);var G=e.rect.Ma(k);if(G.Y()*1.5<l.Y()){alert("Re-arranging artboards");
for(var E=0;E<z.length;E++){var g=k[E],F=z[E],P=F.frame;P.x=g.x;P.y=g.y}}};zO.Ba=function(z,r,k){var L=zO;
for(var E=0;E<z.length;E++){var F=z[E],U=F._class?F._class:F.$class;if(["page","artboard","group"].indexOf(U)!=-1)L.Ba(F.layers,r,k);
else if(U=="symbolMaster")r[F.symbolID]={kQ:F}}};zO.Bc=function(z){var r=zO;for(var k=0;k<z.length;k++){var L=z[k],E=L._class?L._class:L.$class,F=null;
if(["page","artboard","group"].indexOf(E)!=-1)F=r.Bc(L.layers);if(E=="symbolMaster"||E=="symbolInstance")F=L;
if(F!=null)return F}return null};zO.BB=function(z,r,k,L,E,F){var U=zO,l=[];for(var G=0;G<z.length;G++){var g=z[G],P=U.ao(g.frame),J=g.style,d="",v=null;
if(J==null){console.log("no styles")}var x=U.Bo(g,k),a=g._class?g._class:g.$class,t=g.exportOptions;
if(t){var m=t.exportFormats;if(m==null)m=t.sizes;if(a!="artboard"&&(m&&m.length!=0)){var b=m[0].scale;
d="-e"+(b==1?"":b)+"-"}}var I=r.qa();I._i(g.isVisible);I._p(d+g.name.slice(0,250));if(J!=null)v=U.mPY(L,r,J,P,x,I.getName());
if(g.shouldBreakMaskChain){while(l.length!=0)U.BO(l.pop(),r)}if(["page","artboard","group"].indexOf(a)!=-1){I.add.lsct=g.layerListExpandedType==2?mG.ZW:mG.ZM;
I.DD="pass";I.Y_=24;I._i(g.isVisible);r.a.push(r.qc());if(a=="artboard"){var W=P.clone(),B=x.Ej();W.x=-Math.floor(x.bo/B);
W.y=-Math.floor(x.bL/B);W.X=Math.floor(W.X/B);W.z=Math.floor(W.z/B);I._e(W);var n=g.backgroundColor,j=Math.round(255*n.blue)<<16|Math.round(255*n.green)<<8|Math.round(255*n.red);
if(j!=16777215){var p=r.qa();p._p("Artboard Background");p.rect=W;p.buffer=e.$(p.rect.Y()*4);e.JV(p.buffer,255<<24|j);
r.a.push(p)}}U.BB(g.layers,r,x,L,E,F)}else if(a=="shapeGroup"){I.add.vmsk=new T.Zx;I.add.vstk=JSON.parse(JSON.stringify(K.qk.default));
I.add.vstk.strokeEnabled.v=!1;var X=v!=null&&v.frameFXMulti.v.length==1,M=J.fills,H=U.BR(L,M,P,x,I.getName(),r);
if(H.length==0){if(X)I.add.vstk.fillEnabled.v=!1;else I.add.iOpa=0;I.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.v.Gn({F:0,P:0,g:0})}}}else{var c=H[0],S=null,w=null;
if(c.type=="SoFi"){S="SoCo";w=K.qL}if(c.type=="GrFl"){S="GdFl";w=K.qU}if(c.type=="patternFill"){S="PtFl";
w=K.qn}if(S!=null){I.add[S]={classID:"null"};for(var R=0;R<w.length;R++){var i=w[R];I.add[S][i]=c.u.v[i]}var f=c.u.v.Opct.v.val;
I.add.iOpa=Math.round(255*f/100)}}I.Y_|=16;I.add.vmsk.A=U.Bq(g.layers,x);var _=g.style.blur;if(_&&_.isEnabled&&_.type<=1)I.add.vmsk.YC=_.radius;
if(I.add.vmsk.A.length==2){console.log("shape with no content:",I.getName())}if(X){var u=v.frameFXMulti.v[0].v,Q=I.add.vstk,$=J.borders[0];
v.frameFXMulti.v=[];mK.oV(u,Q);var C=J.borderOptions,y=J.miterLimit;if(C){Q.strokeStyleLineCapType.v.strokeStyleLineCapType=K.qk.qj[C.lineCapStyle];
Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType=K.qk.join[C.lineJoinStyle];Q.strokeStyleLineDashSet.v=mK.oO(C.dashPattern,1/u.Sz.v.val);
if(y!=null)Q.strokeStyleMiterLimit.v=y}}I._q(r)}else if(a=="bitmap"){var N=g.image.bdata,O=r.Cf(N,I.getName(),0,0);
O.Y_=I.Y_;I=O;var _=J.blur,JQ=J.colorControls;if(_||JQ){I.add.SoLd.filterFX=mJ._u();r.C$({id:I.add.SoLd.placed.v,rect:new Z,buffer:e.$(1),k:new T.Zu});
var M=I.add.SoLd.filterFX.v.filterFXList.v;if(_){var zf=mJ._K("GsnB",{});zf.v.enab.v=_.isEnabled;zf.v.Fltr.v.Rds.v.val=_.radius;
M.push(zf)}if(JQ){var ze=JQ.brightness,zg=JQ.contrast,zF=JQ.hue,GS=JQ.saturation;if(zF!=0||GS!=1){var zf=mJ._K("hue2",{});
zf.v.enab.v=JQ.isEnabled;zf.v.Fltr.v.Adjs.v.push({t:"Objc",v:mm.Oi([Math.round(zF*180/Math.PI),Math.round((GS-1)*100),0])});
M.push(zf)}if(ze!=0||zg!=1){var zf=mJ._K("brit",{});zf.v.enab.v=JQ.isEnabled;zg=zg-1;if(zg>0)zg/=2;mm.Ob("brit",[Math.round(ze*255),Math.round(zg*100),!0],zf.v.Fltr.v);
M.push(zf)}}}P.x=P.y=0;var Gm=e.b.MJ(P).O;x.Jo();e.b.Wg(Gm,x,Gm);I.add.SoLd.Trnf=A.s.Nr(Gm);I.add.SoLd.nonAffineTransform=A.s.Nr(Gm);
I._r(r,!1)}else if(a=="text"){if(g.attributedString==null)continue;var GJ=x.clone(),GP,Gz,Gu=0;GJ.Jo();
I.add.TySh=q.rs(0,0);I.add.TySh.Ya=new Z(0,0,P.X,P.z);I.add.TySh.Wg=GJ;var GG=g.attributedString;if(GG.archivedAttributedString)GG=GG.archivedAttributedString;
var GW=GG.NSString;if(GW==null)GW=GG.string;if(GW["NS.string"])GW=GW["NS.string"];if(F[g.do_objectID]!=null)GW=F[g.do_objectID];
if(GG.attributes!=null){GP=[];Gz=[];var GM=GG.attributes;for(var R=0;R<GM.length;R++){GP.push(GM[R].length,R);
Gz.push(GM[R].attributes)}}else if(GG.NSAttributeInfo==null){GP=[GW.length,0];Gz=[GG.NSAttributes]}else{GP=GG.NSAttributeInfo["NS.data"];
Gz=GG.NSAttributes;var GQ=!1;if(GQ)console.log("-----------");if(GQ)console.log(GP,Gz,GW.length);if(GQ)console.log(GW);
GP=zO.mxf(GP,Gz);if(GQ)console.log(GP)}for(var R=0;R<GP.length;R+=2)Gu+=GP[R];if(Gu!=GW.length){while(Gu>GW.length){GP[GP.length-2]--;
Gu--;if(GP[GP.length-2]==0){GP.pop();GP.pop()}}GP[GP.length-2]+=GW.length-Gu}GW=GW.replace(/\u2028/g,"\n");
GW=GW.replace(/\u2029/g,"\n");GW=GW.replace(/\r/g,"\n");var GK=I.add.TySh.Yc;q.rg(GK,0,GW);if(GW!=""){U.mWV(GK,GP,Gz,GW);
var B=GJ.Ej(),GE=q.LP(GK,0,1),Gl=GE.kW.AutoLeading?0:GE.kW.Leading*.6,Gx=0,Ga=Math.max(GE.kW.FontSize,Gl)*B,Gc=P.X,GB=P.z;
if(g.textBehaviour==0){q.rD(GK,0);if(GE.kM.Justification==1)Gx=Gc*B;if(GE.kM.Justification==2)Gx=Gc*B*.5}else{q.rD(GK,1);
q.rk(GK,[0,0,Math.round(Gc),Math.round(GB)]);Ga=Ga*.35}I.add.TySh.Wg.translate(Gx,Ga)}}else if(a=="symbolInstance"||a=="symbolMaster"){var GA=g.symbolID;
if(F[g.do_objectID])GA=F[g.do_objectID].symbolID;if(GA=="")continue;var Gh=E[GA],GT={};for(var i in F)GT[i]=F[i];
if(g.overrides)for(var i in g.overrides)GT[i]=g.overrides[i];if(Gh==null){console.log("Unknown master master",g.symbolID);
continue}var Gw=zO.ao(Gh.kQ.frame),GN=Gw.X/P.X,Gy=Gw.z/P.z,GV=x.clone();GV.scale(GN,Gy);I.add.lsct=mG.ZM;
I.DD="pass";I.Y_=24;I._i(g.isVisible);r.a.push(r.qc());U.BB(Gh.kQ.layers,r,GV,L,E,GT)}else if(a=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+a,g);continue}if(J&&J.contextSettings){var GO=J.contextSettings;
I.DD=U.B_[GO.blendMode];I.DD=mP._l[mP._x.indexOf(I.DD)];I.opacity=Math.round(I.opacity*GO.opacity)}if(v!=null)I.add.lmfx=v;
r.a.push(I);if(g.hasClippingMask){l.push(I);r.a.push(r.qc())}}while(l.length!=0)U.BO(l.pop(),r)};zO.mxf=function(z,r){var k=0,L=[];
while(k+1<z.length){var E=z[k];k++;if(E>127){E+=128*(z[k]-1);k++;if(z[k-1]>127){E+=128*(z[k]-1);k++}}var F=z[k];
k++;L.push(E,F)}return L};zO.mWV=function(z,r,k,L){var E=0;for(var F=0;F<r.length;F+=2){var U=r[F],t=0,m="";
if(U==0)continue;var l=r[F+1],G=k[l],g=q.LP(z,E,E+U-1),P=G.NSColor;if(P==null){var P=G.MSAttributedStringColorDictionaryAttribute;
if(P==null)P=G.MSAttributedStringColorAttribute;if(P==null)P="0 0 0";else P=[P.red,P.green,P.blue].join(" ")}else if(P.$class=="MSArchivedColor")P=P.dr+" "+P.dg+" "+P.db;
else if(P.NSRGB){P=P.NSRGB;P=h.xU(P,0,P.length-1)}else if(P.NSCMYK){P=P.NSCMYK;P=h.xU(P,0,P.length-1);
P=P.split(" ").map(parseFloat);var J=1-P[0],x=1-P[1],a=1-P[2],d=1-P[3];P=J*d+" "+x*d+" "+a*d}else if(P.NSWhite){P="1 1 1"}P=P.split(" ");
g.kW.FillColor={Type:1,Values:[1,parseFloat(P[0]),parseFloat(P[1]),parseFloat(P[2])]};if(G.NSFont){t=G.NSFont.NSSize;
m=G.NSFont.NSName}else{var b=G.MSAttributedStringFontAttribute;if(b.attributes){b=b.attributes;t=b.size;
m=b.name}else{b=b.NSFontDescriptorAttributes;t=b.NSFontSizeAttribute;m=b.NSFontNameAttribute}if(m==null)m="DejaVuSans"}g.kW.FontSize=Math.round(t);
q.rd(g,m);if(G.NSKern!=null)g.kW.Tracking=Math.round(600*G.NSKern/t);if(G.NSUnderline!=null)g.kW.Underline=G.NSUnderline>0;
if(G.NSStrikethrough!=null)g.kW.Strikethrough=G.NSStrikethrough>0;if(G.MSAttributedStringTextTransformAttribute==1)g.kW.FontCaps=2;
var I=G.NSParagraphStyle;if(I==null)I=G.paragraphStyle;var v=I?I.NSAlignment:null;if(I&&v==null)v=I.alignment;
if(v!=null){var W=0;if(!1){}else if(v==1)W=1;else if(v==2)W=2;else if(v==4)W=0;else{W=v;console.log("unknown align",v)}g.kM.Justification=W}var B=I?I.NSMinLineHeight:null;
if(I&&B==null)B=I.minimumLineHeight;if(I&&B!=null){g.kW.AutoLeading=!1;g.kW.Leading=Math.round(B)}q.Lm(z,E,E+U,g);
E+=U}};zO.mPY=function(z,r,k,L,E,F){var U=zO,l=JSON.parse(K.default),g=!1;for(var G=0;G<K.order.length;
G++)l[K.qo[G]]={t:"VlLs",v:[]};var P=k.fills,J=U.BR(z,P,L,E,F,r);for(var x=0;x<2;x++){var a=k[["shadows","innerShadows"][x]];
if(a==null)continue;var d=["DrSh","IrSh"][x],t=K.qo[K.order.indexOf(d)];for(var G=0;G<a.length;G++){var m=a[G];
if(!m.isEnabled)continue;if(m.contextSettings.opacity==0||m.color.alpha==0)continue;var b=JSON.parse(K.qt[K.order.indexOf(d)]);
l[t].v.unshift({t:"Objc",v:b});g=!0;b.Clr.v=U.xl(m.color);b.blur.v.val=Math.round(m.blurRadius/E.Ej());
var I=m.offsetX,v=m.offsetY,W=Math.sqrt(I*I+v*v);b.Dstn.v.val=Math.round(W/E.Ej());b.lagl.v.val=Math.round(Math.atan2(v,-I)*(180/Math.PI));
if(b.layerConceals)b.layerConceals.v=J.length!=0;U.BC(m,b)}}var B=k.borders;if(B!=null&&(J.length==0||k.blur==null||!k.blur.isEnabled))for(var G=0;
G<B.length;G++){var n=B[G];if(!n.isEnabled)continue;var b=JSON.parse(K.qt[K.order.indexOf("FrFX")]),t=K.qo[K.order.indexOf("FrFX")];
l[t].v.unshift({t:"Objc",v:b});g=!0;b.Clr.v=U.xl(n.color);if(n.fillType!=0&&n.gradient){var j=U.BZ(n.gradient,L,E,F),p=["Type","Angl","Ofst","Scl"];
for(var G=0;G<p.length;G++)b[p[G]]=j[p[G]];b.Grad.v=j.Grad.v;b.PntT.v.FrFl="GrFl"}b.Sz.v.val=n.thickness/E.Ej();
b.Styl.v.FStl=["CtrF","InsF","OutF"][n.position];U.BC(n,b)}for(var G=1;G<J.length;G++){var X=J[G],t=K.qo[K.order.indexOf(X.type)];
l[t].v.unshift(X.u);g=!0}return g?l:null};zO.BR=function(z,r,k,L,E,F){if(r==null)return[];var U=zO,l=[];
for(var G=0;G<r.length;G++)if(r[G].isEnabled)l.push(r[G]);r=l;var g=[];for(var G=0;G<r.length;G++){var P=r[G],J=null,x=null;
if(P.fillType==0){J="SoFi";var a=JSON.parse(K.qt[K.order.indexOf("SoFi")]);x={t:"Objc",v:a};x.v.Clr.v=U.xl(P.color)}else if(P.fillType==1){J="GrFl";
x={t:"Objc",v:U.BZ(P.gradient,k,L,E)}}else if(P.fillType==4&&P.image!=null){var d=P.image,t=zc.mV(d.bdata.buffer);
if(t!=null&&t!="pdf"){var m,W=0,B=0,n=0;if(F.kK[d.key])m=F.kK[d.key];else{var b=zc.m_(t).mv(d.bdata)[0];
m={data:b.data,iy:new Z(0,0,b.Hf.X,b.Hf.z)};m.id=mM.Ck()+"-d71c-11e5-b1ae-a548a96e5f9f";m.name="someImage";
m.bT=new Uint8Array(m.data);delete m.data;F.Cj(m);F.kK[d.key]=m}var a=JSON.parse(K.qt[K.order.indexOf("patternFill")]);
J="patternFill";x={t:"Objc",v:a};var I=P.patternFillType,v=P.patternTileScale;a.Algn.v=!0;a.Ptrn.v.Idnt.v=m.id;
if(I==0){W=v*m.iy.X/Math.min(m.iy.X,m.iy.z);B=-L.bo;n=-L.bL}else{W=Math.max(k.X,k.z)/Math.min(m.iy.X,m.iy.z);
B=-L.bo-(m.iy.X*W-k.X)/2;n=-L.bL-(m.iy.z*W-k.z)/2}a.Scl.v.val=100*W*(1/L.Ej());a.phase.v.Hrzn.v=Math.round(B/L.Ej());
a.phase.v.Vrtc.v=Math.round(n/L.Ej())}}else if(P.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",P.fillType);
if(J!=null){U.BC(P,x.v);g.push({type:J,u:x})}}return g};zO.mBM=function(z){var r=zO,k=new Z(0,0,1,1);
z=z.slice(0);while(!0){var L=!1;for(var E=0;E<z.length-1;E++){var F=z[E],U=z[E+1],l=null,G=F.contextSettings;
if(F.fillType==0&&(G==null||G.opacity==1&&G.blendMode==0)&&F.color.alpha==1){var g="norm",P=1,G=U.contextSettings;
if(G){P=G.opacity;g=mP._B(r.B_[G.blendMode])}if(U.fillType==0){l=JSON.parse(JSON.stringify(U));r.BN(l.color,F.color,l.color,k,g,P)}if(U.fillType==1){l=JSON.parse(JSON.stringify(U));
var J=l.gradient.stops;for(var x=0;x<J.length;x++)r.BN(J[x].color,F.color,J[x].color,k,g,P)}if(l!=null&&l.contextSettings){var G=l.contextSettings;
G.opacity=1;G.blendMode=0}}if(l!=null){z.splice(E,0,l);L=!0;break}}if(!L||z.length<2)break}return z};
zO.BN=function(z,r,k,L,E,F){var U=zO,l=e.$(4);U.By(z,l);var G=e.$(4);U.By(r,G);e.M.Py(E,l,L,G,L,L,F);
U.mSO(G,k)};zO.By=function(z,r){r[0]=255*z.red;r[1]=255*z.green;r[2]=255*z.blue;r[3]=255*z.alpha};zO.mSO=function(z,r){r.red=z[0]/255;
r.green=z[1]/255;r.blue=z[2]/255;r.alpha=z[3]/255};zO.BO=function(z,r){z=z.clone();z.Y_=24;z._p("Mask by "+z.getName());
r.a.push(z);z.add.lsct=mG.ZW;z.add.lyid=r.qS();delete z.add.lmfx;delete z.add.SoCo;delete z.add.GdFl;
delete z.add.PtFl;delete z.add.iOpa;z.add.vmsk.Yp=!0;z._q(r);if((z.Y_&16)==16)z.Y_-=16;if((z.Y_&2)==2)z.Y_-=2;
z.DD="pass";z.opacity=255};zO.B_="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns".split(" ");
zO.BZ=function(z,r,k,L){k=k.clone();k.Jo();k.bo=k.bL=0;var E=zO,F=JSON.parse(K.qt[K.order.indexOf("GrFl")]),U=F.Grad.v,J=0,x=0;
U.Intr.v=0;if(z==null)return F;var l=z.gradientType,G=E.Br(z.from),g=E.Br(z.to);G.offset(-.5,-.5);g.offset(-.5,-.5);
G=k.Ef(G);g=k.Ef(g);var P=Math.atan2(-(g.y-G.y),g.x-G.x);F.Type.v.GrdT=["Lnr","Rdl","Angl"][l];F.Scl.v.val=100*V.Ed(G,g);
if(l==0){F.Angl.v.val=180/Math.PI*P;F.Scl.v.val=100*V.Ed(G,g);J=(G.x+g.x)/2;x=(G.y+g.y)/2}if(l==1){F.Scl.v.val=200*V.Ed(G,g);
J=G.x;x=G.y}if(l==2){F.Angl.v.val=180/Math.PI*(P-Math.PI/2)}var a=F.Ofst.v;a.Hrzn.v.val=J*100;a.Vrtc.v.val=x*100;
var d=[];for(var t=0;t<z.stops.length;t++){var m=z.stops[t],b=m.color;d.push([m.position,b?[b.red,b.green,b.blue]:[0,0,0],b.alpha])}e.v.Gp(d,U);
return F};zO.BC=function(z,r){var k=zO,L=1,E=z.contextSettings;if(E!=null){r.Md.v.BlnM=k.B_[E.blendMode];
L*=E.opacity}else r.Md.v.BlnM=k.B_[0];r.enab.v=z.isEnabled;if(r.uglg!=null)r.uglg.v=!1;if(z.color!=null)L*=z.color.alpha;
r.Opct.v.val=Math.round(L*100)};zO.xl=function(z){return e.v.Gn(z?{F:z.red*255,P:z.green*255,g:z.blue*255}:{F:0,P:0,g:0})};
zO.Bq=function(z,r){var k=zO,L=[{type:6},{type:8,all:0}];for(var E=0;E<z.length;E++){var F=z[E],U=F.booleanOperation,l=0,a=!1;
if(U==-1)l=0;else if(U==0)l=1;else if(U==1)l=2;else if(U==2)l=3;else if(U==3)l=0;if(E==0)l=1;var G=zO.ao(F.frame),g=k.Bo(F,r),P=F.path?F.path:F,J=[{type:0,length:0,bF:l,iS:2,iC:0,iq:0}],x=P.points;
for(var d=0;d<x.length;d++){var t=x[d],m=k.Br(t.curveTo),b=k.Br(t.point),I=k.Br(t.curveFrom);a=a||t.hasCurveFrom&&!I.Jq(b)||t.hasCurveTo&&!m.Jq(b)}if(!a){var v=[],W=[],B=x.length;
if(B==0)continue;for(var d=0;d<B;d++){v.push(x[d].cornerRadius);var t=k.Br(x[d].point);W.push(t.x,t.y)}g.scale(1/G.X,1/G.z);
g.Jo();e.b.Wg(W,g,W);var n=e.f.uq(W,v);J=J.concat(n);J[0].length=J.length-1}else{var j=x.length;J[0].length=j;
var p=[];for(var d=0;d<j;d++){var t=x[d];J[j-d]={type:1,im:k.Br(t.curveFrom),W:k.Br(t.point),iP:k.Br(t.curveTo)}}g.scale(1/G.X,1/G.z);
g.Jo();e.f.Qk(J,g)}if(!P.isClosed)for(var d=0;d<J.length;d++)J[d].type+=3;L=L.concat(J)}return L};zO.Bo=function(z,r){var k=r.clone(),L=zO.ao(z.frame);
k.translate(-L.x-L.X/2,-L.y-L.z/2);if(z.isFlippedHorizontal)k.scale(-1,1);if(z.isFlippedVertical)k.scale(1,-1);
k.rotate(-z.rotation*(Math.PI/180));k.translate(L.X/2,L.z/2);return k};zO.Br=function(z){z=z.slice(1,z.length-1).split(",");
return new V(parseFloat(z[0]),parseFloat(z[1]))};zO.ao=function(z){return new Z(z.x,z.y,z.width,z.height)};
zO.ar=function(z){return{_class:"rect",constrainProportions:!1,x:z.x,y:z.y,width:z.X,height:z.z}};function zl(){}zl.lK=function(z,r){var k=zl,L=UZIP.parse(z),E=JSON.parse(zn.Ah(L.manifest)),F=JSON.parse(zn.Ah(L["resources/graphics/graphicContent.agc"])).resources,U=[],l=E.children;
for(var G=0;G<l.length;G++){var g=l[G];if(g.name=="artwork"){var P=g.children;for(var J=0;J<P.length;
J++)if(P[J]["uxdesign#bounds"]){var x=P[J],a=JSON.parse(zn.Ah(L["artwork/"+x.path+"/graphics/graphicContent.agc"]));
if(a.children.length!=1)throw"e";x._node=a.children[0];U.push(x)}}}var d=[],t=new Z;for(var G=0;G<U.length;
G++){var x=U[G],m=zO.ao(x["uxdesign#bounds"]);d.push(m);t=t.MD(m)}var b=zO.Bl(t,8192*8192);r.ku=!0;r.X=Math.round(t.X/b);
r.z=Math.round(t.z/b);r.buffer=e.$(r.X*r.z*4);r.Cp(U.length);var I=new zT(b,0,0,b,t.x,t.y);r.kK={};for(var G=0;
G<U.length;G++){var x=U[G],m=zO.ao(x["uxdesign#bounds"]),v=x._node,W=I.clone(),B=m.clone(),n=W.Ej();
W.translate(-m.x,-m.y);B.x=-Math.floor(W.bo/n);B.y=-Math.floor(W.bL/n);B.X=Math.floor(B.X/n);B.z=Math.floor(B.z/n);
W.translate(m.x,m.y);zl.BL(v,r,W,F,L,B);var j=r.a[r.a.length-1];j._p(x.name);j._e(B);if(G!=U.length-1)j.add.lsct=mG.ZM}delete r.kK};
zl.aV=function(z){if(z==null)return new zT;return new zT(z.a,z.b,z.c,z.d,z.tx,z.ty)};zl.BL=function(z,r,k,L,E,F){var U=zl,l=z.type,G=z[l],g=z.style,P=U.aV(z.transform),d,t,m,b,I,v;
P.Jo();var J=k.clone();J.concat(P);var x=r.qa(),a=z.name;if(a)x._p(a.slice(0,250));if(z.visible!=null)x._i(z.visible);
if(g){d=g.stroke;t=d?d.type:"none";m=g.fill;b=m?m.type:"none";I=g.filters;v=g.clipPath;if(g.opacity)x.opacity=Math.round(255*g.opacity);
if(b=="solid"&&m.color.alpha)x.opacity=Math.round(x.opacity*m.color.alpha);if(I){x.add.lmfx=U.mBq(I);
for(var W=0;W<I.length;W++)if(I[W].type=="uxdesign#blur"){var B=I[W],n=B.params,j=n.brightnessAmount;
if(j==null)j=0;j=Math.abs(j/100);if((B.visible==null||B.visible==!0)&&n.backgroundEffect)x.opacity=Math.round(x.opacity*(j+(1-j)*n.fillOpacity))}}}if(l=="artboard"||l=="group"){if(v&&L.clipPaths[v.ref]){var p=L.clipPaths[v.ref].children[0],P=U.aV(p.transform);
P.Jo();var X=J.clone();X.concat(P);x.add.vmsk=new T.Zx;x.add.vmsk.A=U.Bq(p.shape);X=X.clone();X.Jo();
e.f.Qk(x.add.vmsk.A,X);x._q(r)}x.add.lsct=mG.ZW;x.DD="pass";x.Y_=24;if(z.visible!=null)x._i(z.visible);
r.a.push(r.qc());var M=G.children,H=m;if(H)H=H.color;if(H)H=H.value;if(m&&(b!="solid"||H.r!=255||H.g!=255||H.b!=255)){var c=r.qa();
c._p("BACKGROUND");c.Y_|=16;c.add.vstk=JSON.parse(JSON.stringify(K.qk.default));c.add.vstk.strokeEnabled.v=!1;
c.add.vmsk=new T.Zx;c.add.vmsk.A=U.Bq({type:"rect",x:F.x,y:F.y,width:F.X,height:F.z});U.Bn(m,b,J,F,F,c,r,L,E);
c._q(r);r.a.push(c)}for(var W=0;W<M.length;W++){zl.BL(M[W],r,J,L,E,F)}}else if(l=="shape"&&z.shape.type=="rect"&&(z.shape.r==null||z.shape.r==0)&&g.fill.type=="pattern"){var S=m.pattern,w=S.meta.ux,R=w.uid,i=E["resources/"+R],f=r.Cf(i,x.getName(),0,0);
f.Y_=x.Y_;x=f;var _=e.b.MJ(new Z(0,0,S.width,S.height)).O,u=new zT;u.scale(S.width/z.shape.width,S.height/z.shape.height);
J.concat(u);J.Jo();e.b.Wg(_,J,_);x.add.SoLd.Trnf=A.s.Nr(_);x.add.SoLd.nonAffineTransform=A.s.Nr(_);x._r(r,!1)}else if(l=="shape"){x.Y_|=16;
x.add.vstk=JSON.parse(JSON.stringify(K.qk.default));x.add.vstk.strokeEnabled.v=!1;x.add.vmsk=new T.Zx;
x.add.vmsk.A=U.Bq(G);var Q=e.f.um(x.add.vmsk.A,null),X=J.clone();X.Jo();e.f.Qk(x.add.vmsk.A,X);var $=e.f.um(x.add.vmsk.A,null);
if(t=="none"){}else{var C=d.color.value,y,N;y="SoFi";var O=JSON.parse(K.qt[K.order.indexOf("SoFi")]);
N={t:"Objc",v:O};N.v.Clr.v=e.v.Gn({F:C.r,P:C.g,g:C.b});var JQ=d.align,zf=d.cap;if(JQ==null)JQ="center";
var ze=x.add.vstk;ze.strokeEnabled.v=!0;ze.strokeStyleLineWidth.v.val=d.width;if(JQ)ze.strokeStyleLineAlignment.v.strokeStyleLineAlignment=K.qk.qf[["inside","center","outside"].indexOf(JQ)];
if(zf)ze.strokeStyleLineCapType.v.strokeStyleLineCapType=K.qk.qj[["butt","round","square"].indexOf(zf)];
var zg=["SoFi","GrFl","patternFill"].indexOf(y),zF=[K.qL,K.qU,K.qn][zg];ze.strokeStyleContent.v={classID:K.qk.qe[0]};
var GS=ze.strokeStyleContent.v={classID:K.qk.qe[zg]};for(var W=0;W<zF.length;W++)GS[zF[W]]=N.v[zF[W]]}U.Bn(m,b,J,Q,$,x,r,L,E);
x._q(r)}else if(l=="text"){var Gm=z.text,GJ=Gm.frame,GP=g.font,Gz=g.textAttributes;if(x.getName().startsWith("Awesome"))console.log(z,Gm,GP);
var P=J.clone();P.Jo();x.add.TySh=q.rs(0,0);x.add.TySh.Ya=new Z(0,0,100,100);x.add.TySh.Wg=P;var GG=x.add.TySh.Yc;
q.rg(GG,0,Gm.rawText);var C=m.color.value,GW=q.LP(GG,0,1);q.rd(GW,GP.postscriptName);GW.kW.FontSize=Math.round(GP.size);
GW.kW.FillColor={Type:1,Values:[1,C.r/255,C.g/255,C.b/255]};if(Gz){if(Gz.paragraphAlign)GW.kM.Justification=["left","right","center"].indexOf(Gz.paragraphAlign);
if(Gz.letterSpacing)GW.kW.Tracking=Math.round(Gz.letterSpacing);if(Gz.lineHeight){GW.kW.AutoLeading=!1;
GW.kW.Leading=Math.round(Gz.lineHeight)}}q.Lm(GG,0,Gm.rawText.length,GW);if(GJ.type=="area"){q.rD(GG,1);
q.rk(GG,[0,0,GJ.width,GJ.height])}}else console.log(l,z);r.a.push(x)};zl.Bq=function(z){var r=z.type,k=[{type:6},{type:8,all:0}];
if(r=="rect"){var L=z.r,E=z.x,F=z.y,U=z.width,l=z.height;if(L==null)k=e.f.ur.Rect(E,F,U,l,0);else k=k.concat([{type:0,bF:1,length:8,iC:0,iq:0,iS:1}]).concat(e.f.uq([E,F,E+U,F,E+U,F+l,E,F+l],L,!1))}else if(r=="circle"){var L=z.r;
k=e.f.ur.uI(z.cx-L,z.cy-L,2*L,2*L)}else if(r=="ellipse"){var G=z.rx,g=z.ry;k=e.f.ur.uI(z.cx-G,z.cy-g,2*G,2*g)}else if(r=="path"||r=="compound"){k=k.concat(e.f.uG(z.path))}else if(r=="line"){var P=z.x1,J=z.x2,x=z.y1,a=z.y2;
k=k.concat([{type:0,bF:1,length:2,iC:0,iq:0,iS:1}]).concat(e.f.uq([P,x,J,a],0,!0))}else console.log(r,z);
return k};zl.mBq=function(z){var r=JSON.parse(K.default);for(var k=0;k<K.order.length;k++)r[K.qo[k]]={t:"VlLs",v:[]};
for(var k=0;k<z.length;k++){var L=z[k],E=L.type,F=L.params,U=L.visible;if(E=="dropShadow"){var l=K.qo[K.order.indexOf("DrSh")],G=JSON.parse(K.qt[K.order.indexOf("DrSh")]);
r[l].v.unshift({t:"Objc",v:G});var g=F.dropShadows;if(g.length!=1)throw"e";var P=g[k],J=P.color,x=J.value,a=P.dx,d=P.dy;
G.Clr.v=e.v.Gn({F:x.r,P:x.g,g:x.b});G.Opct.v.val=Math.round((J.alpha!=null?J.alpha:1)*100);G.uglg.v=!1;
G.enab.v=U!=null?U:!0;G.lagl.v.val=Math.round(180/Math.PI*Math.atan2(d,-a));G.Dstn.v.val=Math.round(Math.sqrt(a*a+d*d));
G.blur.v.val=Math.round(P.r*2.3)}else console.log(E,L)}return r};zl.Bn=function(z,r,k,L,E,F,U,l,G){var g=zl;
if(r=="none"){F.add.vstk.fillEnabled.v=!1;F.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.v.Gn({F:0,P:0,g:0})}}}else{var P,J,x;
if(r=="solid"){var a=z.color.value;P="SoCo";J=K.qL;var d=JSON.parse(K.qt[K.order.indexOf("SoFi")]);x={t:"Objc",v:d};
x.v.Clr.v=e.v.Gn({F:a.r,P:a.g,g:a.b})}else if(r=="gradient"){P="GdFl";J=K.qU;var d=JSON.parse(K.qt[K.order.indexOf("GrFl")]),t=d.Grad.v,W,B,n;
t.Intr.v=0;var m=z[r],b=l.gradients[m.ref],I=["linear","radial"].indexOf(b.type),v=b.stops;d.Type.v.GrdT=["Lnr","Rdl","Angl"][I];
if(I==0){var W=new V(m.x1,m.y1),B=new V(m.x2,m.y2);W.x=B.x+.5*(W.x-B.x);W.y=B.y+.5*(W.y-B.y)}else{var W=new V(m.cx,m.cy),B=new V(m.cx+m.r,m.cy)}n=E;
if(m.units=="objectBoundingBox"){var j=new zT(L.X,0,0,L.z,L.x,L.y);W=j.Ef(W);B=j.Ef(B)}var j=g.aV(m.transform);
W=j.Ef(W);B=j.Ef(B);j=k.clone();j.Jo();W=j.Ef(W);B=j.Ef(B);e.v.Gt(W,B,n,d);var p=[];for(var X=0;X<v.length;
X++){var M=v[X],H=M.color,a=H.value,c=H.alpha;if(c==null)c=1;p.push([M.offset,[a.r/255,a.g/255,a.b/255],c])}e.v.Gp(p,t);
x={t:"Objc",v:d}}else if(r=="pattern"){P="PtFl";J=K.qn;var d=JSON.parse(K.qt[K.order.indexOf("patternFill")]),_,Q=1,$=0,C=0,y=1;
x={t:"Objc",v:d};var S=z[r],w=S.meta.ux,R=w.uid,i=G["resources/"+R].buffer,f=zc.mV(i);if(U.kK[R])_=U.kK[R];
else{var u=zc.m_(f).mv(i)[0];_={data:u.data,iy:new Z(0,0,S.width,S.height)};_.id=mM.Ck()+"-d71c-11e5-b1ae-a548a96e5f9f";
_.name="someImage";_.bT=new Uint8Array(_.data);delete _.data;U.Cj(_);U.kK[R]=_}d.Algn.v=!0;d.Ptrn.v.Idnt.v=_.id;
if(w.scaleBehavior=="cover"){Q=y*Math.max(E.X,E.z)/Math.min(_.iy.X,_.iy.z);$=E.x-(_.iy.X*Q-E.X)/2;C=E.y-(_.iy.z*Q-E.z)/2}else if(w.scaleBehavior=="fill"){Q=y*Math.min(E.X,E.z)/Math.max(_.iy.X,_.iy.z);
$=E.x-(_.iy.X*Q-E.X)/2;C=E.y-(_.iy.z*Q-E.z)/2}else throw"Unknown scale behaviour";d.Scl.v.val=100*Q;
d.phase.v.Hrzn.v=Math.round($);d.phase.v.Vrtc.v=Math.round(C)}else console.log(r);if(P!=null){F.add[P]={classID:"null"};
for(var X=0;X<J.length;X++){var N=J[X];F.add[P][N]=x.v[N]}}}};function zN(){}zN.lK=function(z,r){z=new Uint8Array(z);
var k=zn.Ah(z,0,z.length),L=new DOMParser,E=L.parseFromString(k,"image/svg+xml"),F=E.getElementsByTagName("style")[0];
if(F){var U=zN.BX(F.textContent,"{","}");F={};for(var l=0;l<U.length;l+=2){var G=U[l].split(/,?\s+/);
for(var g=0;g<G.length;g++)F[G[g]]=U[l+1]}}else F={};var P=E.firstChild;while(P.tagName!="svg")P=P.nextSibling;
var J=new Z(0,0,100,100),x=P.getAttribute("viewBox");if(x){var a=x.split(" ").map(parseFloat);J.x=a[0];
J.y=a[1];J.X=a[2];J.z=a[3]}else if(P.getAttribute("width")){J.X=parseFloat(P.getAttribute("width"));
J.z=parseFloat(P.getAttribute("height"))}J=e.b.MS(J);r.ku=!0;r.X=J.X;r.z=J.z;r.buffer=e.$(J.Y()*4);var d=new zT(1,0,0,1,-J.x,-J.y),t={Ye:zN.BH(P),kE:F};
zN.Bv(E,P.children,r,d,t,new zT)};zN.Bv=function(z,r,k,L,E,F){var U=zN,l=["display","opacity","fill-opacity"];
for(var G=0;G<r.length;G++){var g=r[G],P=g.tagName,J=g.getAttribute("id"),x=U.BH(g,E.kE),a=JSON.parse(JSON.stringify(E.Ye)),v=1,B="clip-path",n=null;
for(var d in x)if(l.indexOf(d)==-1)a[d]=x[d];if(g.getAttribute("dx"))L.bo+=U.BI(g.getAttribute("dx"),13);
if(g.getAttribute("dy"))L.bL+=U.BI(g.getAttribute("dy"),13);var t=U.Bt(g);t.concat(L);var m=g.getAttribute("visibility"),b=x.display,I=k.qa();
if(m=="hidden"||b=="none")I._i(!1);I._p(J!=null?J:"Layer");if(x.opacity)v*=parseFloat(x.opacity);if(x["fill-opacity"])v*=parseFloat(x["fill-opacity"]);
I.opacity=Math.round(255*v);if(x["mix-blend-mode"]){var W=mP._c.indexOf(x["mix-blend-mode"]);if(W!=-1)I.DD=mP._l[W]}if(g.getAttribute(B)==null)B="mask";
if(g.getAttribute(B)!=null){n=k.qa();n._p("Clip-Path"+(J?": "+J:""));n.add.lsct=mG.ZW;n.DD="pass";n.Y_=24;
var j=n.add.vmsk=new T.Zx;k.a.push(k.qc());var p=g.getAttribute(B);p=p.slice(4,p.length-1);var X=z.getElementById(p.slice(1)),M=X.children,H=[];
if(X.getAttribute(B)){var p=X.getAttribute(B);p=p.slice(4,p.length-1);H=z.getElementById(p.slice(1)).children}for(var c=0;
c<M.length;c++){var S=U.Bt(M[c]);S.concat(t);var w=U.Bq(z,M[c]).slice(2);e.f.Qk(w,S);j.A=j.A.concat(w)}for(var c=0;
c<H.length;c++){var S=U.Bt(M[c]);S.concat(t);var w=U.Bq(z,H[c]).slice(2);for(var R=0;R<w.length;R++)if(w[c].bF!=null)w[c].bF=3;
e.f.Qk(w,S);j.A=j.A.concat(w)}n._q()}if(P=="g"||P=="a"||P=="svg"||P=="switch"||(P=="text"||P=="textPath")&&g.children.length>0){if(P=="text")F=U.Bp(g,F);
var i=g.children.length,f=E.Ye;E.Ye=a;var _=P!="text"&&P!="textPath"||i>1;if(_){var u=I._$();I.add.lsct=u?mG.ZW:mG.ZM;
I.DD="pass";I.Y_=24;I._i(u);k.a.push(k.qc())}U.Bv(z,g.children,k,t,E,F);if(_)k.a.push(I);E.Ye=f}else if(P=="use"){var Q=U.Bp(g);
Q.concat(t);var $=U.Bi(g),C=z.getElementById($.slice(1)),f=E.Ye;E.Ye=a;U.Bv(z,[C],k,Q,E,F);E.Ye=f}else if(P=="path"||P=="rect"||P=="circle"||P=="ellipse"||P=="polygon"||P=="polyline"||P=="line"){I.Y_|=16;
I.add.vmsk=new T.Zx;I.add.vstk=JSON.parse(JSON.stringify(K.qk.default));I.add.vstk.strokeEnabled.v=!1;
var y=I.add.vstk,j=I.add.vmsk;j.A=U.Bq(z,g);e.f.Qk(j.A,t);var N=e.f.um(j.A),O=a.stroke,JQ=a["stroke-width"],zf=a["stroke-dasharray"],ze=a.fill,zg=a["stroke-linejoin"],zF=a["stroke-linecap"],GS=a["paint-order"];
if(O==null||O=="none"){}else{var Gm=U.Bs(z,O,t,N),GJ=["SoFi","GrFl","patternFill"].indexOf(Gm.type),GP=[K.qL,K.qU,K.qn][GJ],Gz=y.strokeStyleContent.v={classID:K.qk.qe[GJ]},GG=1;
for(var c=0;c<GP.length;c++)Gz[GP[c]]=Gm.u.v[GP[c]];JQ=JQ?parseFloat(JQ):1;if(GS&&GS.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){GG=2;
JQ/=2}y.strokeEnabled.v=!0;if(zg)y.strokeStyleLineJoinType.v.strokeStyleLineJoinType=K.qk.join[["miter","round","bevel"].indexOf(zg)];
if(zF)y.strokeStyleLineCapType.v.strokeStyleLineCapType=K.qk.qj[["butt","round","square"].indexOf(zF)];
y.strokeStyleLineWidth.v.val=JQ*A.s.Ej(t);y.strokeStyleLineAlignment.v.strokeStyleLineAlignment=K.qk.qf[GG];
y.strokeStyleOpacity.v.val=100*(a["stroke-opacity"]?parseFloat(a["stroke-opacity"]):1);if(zf!=null&&zf!="none")y.strokeStyleLineDashSet.v=mK.oO(zf.split(",").map(parseFloat),1/JQ)}if(ze=="none"){I.add.vstk.fillEnabled.v=!1;
I.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.v.Gn({F:0,P:0,g:0})}}}else{var Gm=U.Bs(z,ze,t,N),GW=null,GM=null;
if(Gm.type=="SoFi"){GW="SoCo";GM=K.qL}if(Gm.type=="GrFl"){GW="GdFl";GM=K.qU}if(Gm.type=="patternFill"){GW="PtFl";
GM=K.qn}if(GW!=null){I.add[GW]={classID:"null"};for(var c=0;c<GM.length;c++){var d=GM[c];I.add[GW][d]=Gm.u.v[d]}}}if(a.filter){var GQ=a.filter;
GQ=GQ.slice(5,GQ.length-1);var Gu=z.getElementById(GQ).children[0];if(Gu.tagName=="feGaussianBlur"){I.add.vmsk.YC=parseFloat(Gu.getAttribute("stdDeviation"))*A.s.Ej(t)}}I._q(k);
k.a.push(I)}else if((P=="text"||P=="tspan")&&g.textContent!=""){F=U.Bp(g,F);var Q=F.clone(),Gw=13;Q.concat(t);
if(g.children.length>0){var GK=U.BH(g.children[0],E.kE);for(var d in GK)if(l.indexOf(d)==-1)a[d]=GK[d]}var GE=a["xml:space"],Gl=g.textContent;
if(GE=="preserve")Gl=Gl.replace(/\t/g," ").replace(/\n/g," ");if(J==null)I._p(Gl);I.add.TySh=q.rs(0,0);
I.add.TySh.Ya=new Z(0,0,100,100);I.add.TySh.Wg=Q.clone();var Gx=I.add.TySh.Yc;q.rg(Gx,0,Gl);var ze=a.fill,Ga=a["font-size"],Gc=a["font-weight"],GB=a["font-family"],GA=a["text-decoration"],O=a.stroke,JQ=a["stroke-width"],Gh=q.LP(Gx,0,1);
if(ze&&ze!="none"){var GT=CSS.xl(ze);Gh.kW.FillColor={Type:1,Values:[1,GT.F/255,GT.P/255,GT.g/255]}}if(GA=="underline")Gh.kW.Underline=!0;
if(Ga)Gw=U.BI(Ga,Gw);Gh.kW.FontSize=Math.round(Gw);q.rd(Gh,"LiberationSans");if(Gc=="bold")q.rd(Gh,"LiberationSans-Bold");
if(GB){var GN=GB+":"+(Gc?Gc:"normal"),Gy={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'MicrosoftYahei':normal'":'MicroSoftYaHei',"'MicrosoftYaHei':bold":'MicroSoftYaHei-Bold'};
if(Gy[GN])q.rd(Gh,Gy[GN])}if(a["text-anchor"])Gh.kM.Justification=["start","end","middle"].indexOf(a["text-anchor"]);
q.Lm(Gx,0,Gl.length,Gh);if(O==null||O=="none"){}else{var GV=JSON.parse(K.qt[K.order.indexOf("FrFX")]);
GV.Clr.v=e.v.Gn(CSS.xl(O));GV.Sz.v.val=Math.round(parseFloat(JQ)*A.s.Ej(Q));var GO=JSON.parse(K.default);
for(var c=0;c<K.order.length;c++)GO[K.qo[c]]={t:"VlLs",v:[]};GO.frameFXMulti.v.push({t:"Objc",v:GV});
I.add.lmfx=GO}k.a.push(I)}else if(P=="image"){var $=U.Bi(g);if($.slice(0,4)=="data"){var G_=zc.mq($),GZ=G_,GC=k.Cf(GZ,I.getName(),0,0);
GC.Y_=I.Y_;I=GC;var Gq=I.rect.clone();Gq.x=Gq.y=0;var Go=U.Bp(g);Go.concat(t);var Gr=e.b.MJ(Gq).O;e.b.Wg(Gr,Go,Gr);
I.add.SoLd.Trnf=A.s.Nr(Gr);I.add.SoLd.nonAffineTransform=A.s.Nr(Gr);I._r(k,!1);k.a.push(I)}}else console.log("unknown tag: "+P,g.children.length,g.textContent.length);
if(n!=null)k.a.push(n)}};zN.Bq=function(z,r){var k=zN,L=r.tagName,E=[{type:6},{type:8,all:0}];if(L=="path")E=E.concat(e.f.uG(r.getAttribute("d")));
if(L=="rect"){var F=r.getAttribute("rx"),U=k.Bp(r);E=e.f.ur.Rect(U.bo,U.bL,parseFloat(r.getAttribute("width")),parseFloat(r.getAttribute("height")),F?parseFloat(F):0)}if(L=="circle"||L=="ellipse"){var l=0,G=0,F=0,g=0;
if(r.getAttribute("cx"))l=parseFloat(r.getAttribute("cx"));if(r.getAttribute("cy"))G=parseFloat(r.getAttribute("cy"));
if(r.getAttribute("rx"))F=parseFloat(r.getAttribute("rx"));if(r.getAttribute("ry"))g=parseFloat(r.getAttribute("ry"));
if(r.getAttribute("r"))F=g=parseFloat(r.getAttribute("r"));E=e.f.ur.uI(l-F,G-g,2*F,2*g)}if(L=="polygon"||L=="polyline"||L=="line"){var P;
if(L=="line")P=[r.getAttribute("x1"),r.getAttribute("y1"),r.getAttribute("x2"),r.getAttribute("y2")].map(parseFloat);
else P=r.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
E=e.f.ur.uL(P,0,L!="polygon")}if(L=="use"){var J=k.Bi(r),x=z.getElementById(J.slice(1)),a=new zT;if(x.tagName!="rect")a=k.Bp(x);
a.concat(k.Bt(x));E=k.Bq(z,x);e.f.Qk(E,a)}return E};zN.BX=function(z,r,k){var L=[],E=0,F=!1;while(!0){var U=z.indexOf(F?k:r,E);
if(U==-1)break;L.push(z.slice(E,U).trim());E=U+1;F=!F}return L};zN.BI=function(z,r){if(z.charAt(z.length-1)=="m")return r*parseFloat(z.slice(0,z.length-2));
else return parseFloat(z)};zN.Bs=function(z,r,k,L){var E,F,U=zN,l=r!=null?r.indexOf("("):-1;if(l!=-1){var G=r.indexOf(")"),g=r.slice(0,l).trim(),P=r.slice(l+1,G).trim();
if(g=="url"){if(P.charAt(0)=="#"){var J=z.getElementById(P.slice(1));if(J.tagName.slice(6)=="Gradient"){var x=U.BZ(z,J,k,L);
E="GrFl";F={t:"Objc",v:x}}}else console.log("unknown url",url)}else if(g=="rgb"){E="SoFi";var a=JSON.parse(K.qt[K.order.indexOf("SoFi")]);
F={t:"Objc",v:a};F.v.Clr.v=e.v.Gn(CSS.xl(r))}else console.log("unknown fill",r)}else{E="SoFi";var a=JSON.parse(K.qt[K.order.indexOf("SoFi")]);
F={t:"Objc",v:a};F.v.Clr.v=e.v.Gn(CSS.xl(r))}return{type:E,u:F}};zN.Bt=function(z){var r=new zT,k=z.getAttribute("transform");
if(k)r=zN.B$(k);var L=z.getAttribute("style");if(L!=null){var E={};zN.Bb(E,L,["transform"]);L=E.transform;
if(L)r.concat(zN.B$(L))}return r};zN.Bp=function(z,r){var k=new zT,L=z.getAttribute("x"),E=z.getAttribute("y");
if(L)k.bo=parseFloat(L);else if(r)k.bo=r.bo;if(E)k.bL=parseFloat(E);else if(r)k.bL=r.bL;return k};zN.B$=function(z){var r=zN.BX(z,"(",")"),k=new zT;
for(var L=0;L<r.length;L+=2){var E=k;k=zN.mBN(r[L],r[L+1]);k.concat(E)}return k};zN.mBN=function(z,r){var k=new zT,L=!0;
for(var E=0;E<r.length;E++){var F=r.charAt(E);if(F==","||F==" ")L=!0;else if(F=="."){if(!L){r=r.slice(0,E)+","+r.slice(E);
E++}L=!1}else if(F=="-"&&E>0&&r[E-1]!="e"){r=r.slice(0,E)+" "+r.slice(E);E++;L=!0}}r=r.split(/\s*[\s,]\s*/).map(parseFloat);
if(!1){}else if(z=="translate"){if(r.length==1)k.translate(r[0],0);else k.translate(r[0],r[1])}else if(z=="scale"){if(r.length==1)k.scale(r[0],r[0]);
else k.scale(r[0],r[1])}else if(z=="rotate"){var U=0,l=0;if(r.length!=1){U=r[1];l=r[2]}k.translate(-U,-l);
k.rotate(-Math.PI*r[0]/180);k.translate(U,l)}else if(z=="matrix")k=new zT(r[0],r[1],r[2],r[3],r[4],r[5]);
else console.log("unknown transform: ",z);return k};zN.BH=function(z,r){var k={},L="fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var E=0;E<L.length;E++){var F=z.getAttribute(L[E]);if(F!=null&&F!="inherit")k[L[E]]=F}var U=z.getAttribute("class");
if(r!=null&&U!=null&&r["."+U]!=null)zN.Bb(k,r["."+U],L);var l=z.getAttribute("style");if(l!=null)zN.Bb(k,l,L);
return k};zN.Bb=function(z,r,k){r=r.trim().split(";");for(var L=0;L<r.length;L++){var E=r[L].split(":");
for(var F=0;F<k.length;F++)if(E[0].trim()==k[F])z[k[F]]=E[1].trim()}};zN.Bi=function(z){var r=z.getAttribute("xlink:href");
if(r==null)r=z.getAttribute("href");return r};zN.BZ=function(z,r,k,L){var E=zN,F=new zT,U=r.getAttribute("gradientTransform");
if(U)F=E.B$(U);F.concat(k);var l=JSON.parse(K.qt[K.order.indexOf("GrFl")]),G=l.Grad.v;G.Intr.v=0;var g=r.tagName,P=new V(0,0),J=new V(L.X,0);
if(g=="linearGradient"){l.Type.v.GrdT="Lnr";if(r.getAttribute("x1"))P.x=parseFloat(r.getAttribute("x1"));
if(r.getAttribute("y1"))P.y=parseFloat(r.getAttribute("y1"));if(r.getAttribute("x2"))J.x=parseFloat(r.getAttribute("x2"));
if(r.getAttribute("y2"))J.y=parseFloat(r.getAttribute("y2"));P.x=J.x+.5*(P.x-J.x);P.y=J.y+.5*(P.y-J.y)}if(g=="radialGradient"){l.Type.v.GrdT="Rdl";
if(r.getAttribute("cx"))P.x=parseFloat(r.getAttribute("cx"));if(r.getAttribute("cy"))P.y=parseFloat(r.getAttribute("cy"));
J.Ep(P.x,P.y);if(r.getAttribute("r"))J.x+=parseFloat(r.getAttribute("r"))}if(r.getAttribute("gradientUnits")=="userSpaceOnUse"){P=F.Ef(P);
J=F.Ef(J)}else{P.x=L.x+P.x*L.X;P.y=L.y+P.y*L.z;J.x=L.x+J.x*L.X;J.y=L.y+J.y*L.z}e.v.Gt(P,J,L,l);var x=r.children;
if(x.length==0){var a=E.Bi(r);if(a==null)throw"gradient has no stops";var d=z.getElementById(a.slice(1));
if(d==null){console.log(a.slice(1));throw"e"}var t=E.BZ(z,d,F,L);l.Grad=t.Grad}else{var m=[];for(var b=0;
b<x.length;b++){var I=x[b],v=E.BH(I),W=v["stop-color"],B=v["stop-opacity"],n=I.getAttribute("offset");
if(W==null)W="#000000";if(B==null)B="1";var j=n?parseFloat(n):0;W=CSS.xl(W);m.push([j,[W.F/255,W.P/255,W.g/255],parseFloat(B)])}e.v.Gp(m,G)}return l};
zN.lN=function(z,r){var k=[],L=zN;L.BD=r.bK?"\t":"";var E=r.mQG,F=r.mSi;k.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+z.X+" "+z.z+"\" width=\""+E+"\" height=\""+F+"\">");
var U={kl:[],l:[],kx:0,ka:0,iM:0,kc:{},kB:{},kA:0,Yj:{},kh:{},kT:0,bQ:[]};zN.Bj(z,U,z.root.children,1,r);
if(U.kl.length!=0){k.push(L.BY(1)+"<defs>");k=k.concat(U.kl);k.push(L.BY(1)+"</defs>")}k.push(L.BY(1)+"<style>");
if(r.bQ){for(var l=0;l<U.bQ.length;l++){var G=U.bQ[l],g=zy.Hb.Hk(G);if(G!=zy.VY(g))continue;k.push(L.BY(2)+"@font-face { font-family: \""+G+"\";  src: url(data:font/sfnt;base64,"+zc.mL(g._data.buffer)+");  }")}}k.push(L.BY(2)+"tspan { white-space:pre }");
for(var P in U.Yj)k.push(L.BY(2)+"."+P+" { "+U.Yj[P]+" } ");k.push(L.BY(1)+"</style>");k=k.concat(U.l);
k.push("</svg>");k=k.join(r.bK?"\n":"");var J=e.$(Math.round(k.length*1.5)),x=zn.AC(k,J,0);return J.buffer.slice(0,x)};
zN.BD="";zN.BY=function(z){var r="";for(var k=0;k<z;k++)r+=zN.BD;return r};zN.Bk=function(z){return""+parseFloat(z.toFixed(3))};
zN.Bj=function(z,r,k,L,E){var F=zN;for(var U=0;U<k.length;U++){var l=k[U].C,G=l.add.lsct,g=l.add.vmsk,P=l.add.vstk,J=l.add.TySh,x=[];
if(!E.hidden&&!l._$())continue;var a=l.opacity/255,d=l.add.iOpa?l.add.iOpa/255:1;if(a!=1)x.push("opacity: "+F.Bk(a));
if(d!=1)x.push("fill-opacity: "+F.Bk(d));if(l.DD!="norm"){var t=mP._c[mP._l.indexOf(l.DD)];if(t!=null)x.push("mix-blend-mode: "+t)}if(!l._$())x.push("display: none");
var m=[];if(E.names)m.push("id=\""+F.Bf(l.getName())+"\"");var b=l.add.lmfx;if(b)b=b.solidFillMulti.v[0];
if(b)b=b.v;if(b&&b.enab.v){var I=b.Opct.v.val/100,v=F.Bk(1-I),W=e.v.GU(b.Clr.v);r.ka++;r.kl.push(F.BY(2)+"<filter id=\"flt"+r.ka+"\"> <feColorMatrix in=\"SourceGraphic\" type=\"matrix\" values=\""+v+" 0 0 0 "+F.Bk(I*W.F/255)+"   0 "+v+" 0 0 "+F.Bk(I*W.P/255)+"   0 0 "+v+" 0 "+F.Bk(I*W.g/255)+"   0 0 0 1 0\" /> </filter>");
x.push("filter: url(#flt"+r.ka+")")}if(l._w()){if(g){r.iM++;m.push("clip-path=\"url(#cp"+r.iM+")\"");
r.kl.push(F.BY(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+r.iM+"\">");var B=e.f.uW(g.A);
r.kl.push(F.BY(3)+"<path d=\""+B.iV+"\" />");r.kl.push(F.BY(2)+"</clipPath>")}if(x.length!=0)m.push("style=\""+x.join(";")+"\"");
r.l.push(F.BY(L)+"<g "+m.join(" ")+">");F.Bj(z,r,k[U].children,L+1,E);r.l.push(F.BY(L)+"</g>")}else if(l._N()&&g==null){var n=new Z(0,0,z.X,z.z);
F.Be(x,l.add,r,n);if(x.length!=0)m.push("style=\""+x.join(";")+"\"");r.l.push(F.BY(L)+"<rect width=\""+z.X+"\" height=\""+z.z+"\" "+m.join(" ")+" />")}else if(g){var n=e.f.um(g.A),B=e.f.uW(g.A);
if(B.iO!=0){m.push("fill-rule=\"evenodd\"")}var j=B.iV;F.Be(x,l.add,r,n);if(x.length!=0){var p=x.join(";"),X=r.kh[p];
if(X==null){X="shp"+r.kT;r.kT++;r.kh[p]=X;r.Yj[X]=p}m.push("class=\""+X+"\"")}r.l.push(F.BY(L)+"<path "+m.join(" ")+" d=\""+j+"\" />")}else if(J&&!E.mlg){var M=J.Yc,H=J.Wg.clone(),Q=0,$=0;
if(q.ri(M)==1){var c=q.LP(M,0,0).kM.Justification,S=0,w=q.rY(M)[2];if(c==2)S=w/2;if(c==1)S=w;H.translate(S,0)}x.push("transform: "+F.aO(H));
var R=q.rH(M),i=M.EngineDict.ParagraphRun,f=i.RunArray,_=i.RunLengthArray;if(x.length!=0)m.push("style=\""+x.join(";")+"\"");
r.l.push(F.BY(L)+"<text "+m.join(" ")+" >");var u=l.add.lmfx;if(u)u=u.frameFXMulti.v[0];if(u)u=u.v;for(var C=0;
C<f.length;C++){var y=[],N=_[C],O=R.slice(Q,Q+N-1),JQ=q.LP(M,Q,Q),zf=JQ.kw[JQ.kW.Font].Name;if(r.bQ.indexOf(zf)==-1)r.bQ.push(zf);
CSS.L$(y,JQ,J.Wg,!0,E.bQ);if(u){x.push("stroke: "+CSS.Lp(u.Clr.v));x.push("stroke-width: "+u.Sz.v.val)}var ze=JQ.kW.FontSize*1.12;
if(C==0)ze=q.ri(M)==0?0:JQ.kW.FontSize;$+=ze;if(O!=""){var p=y.join(";"),X=r.kh[p];if(X==null){X="txt"+r.kT;
r.kT++;r.kh[p]=X;r.Yj[X]=p}r.l.push(F.BY(L+1)+"<tspan x=\"0\" y=\""+F.Bk($)+"\" class=\""+X+"\">"+F.Bf(O)+"</tspan>")}Q+=N}r.l.push(F.BY(L)+"</text>")}else if(l.add.SoLd){var zg=l.add.SoLd,zF=zg.Idnt.v,GS=0;
if(r.kB[zF]!=null)GS=r.kB[zF];else{r.kA++;GS=r.kA;r.kB[zF]=r.kA;var Gm=z.ql(zF,zg.Crop?zg.Crop.v:null),Gz="";
if(Gm==null)return;var GJ=Gm.kN,GP=zc.mV(Gm.raw.buffer);if(GP=="pdf"){var GG=new mM("h");zc.PDF.mv(Gm.raw.buffer,GG);
GG.qV();GG.qN();GG.N();GG.qx();if(zg.Crop&&zg.Crop.v==1){A.RK.Rx(GG,GG.root.Te(GG,!0))}var GW=zc.SVG.mn(GG,GG.X,GG.z);
Gz="data:image/svg+xml;base64,"+zc.mL(GW)}else if(GP=="jpg"||GP=="png"||GP=="gif"||GP=="svg"){var GM={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
Gz="data:"+GM[GP]+";base64,"+zc.mL(Gm.raw.buffer)}else{Gz=zc.mo(GJ[0],GJ[1].X,GJ[1].z)}r.kl.push(F.BY(2)+"<image width=\""+GJ[1].X+"\" height=\""+GJ[1].z+"\" id=\"img"+GS+"\" href=\""+Gz+"\"/>")}var Gm=z.ql(zF,zg.Crop?zg.Crop.v:null),GJ=Gm.kN,GQ=e.GE.Gl(zg);
if(x.length!=0)m.push("style=\""+x.join(";")+"\"");var Gu=m.join(" ");r.l.push(F.BY(L)+"<use "+Gu+" href=\"#img"+GS+"\" transform=\""+F.aO(GQ)+"\"/>")}else if(!l.rect.z$()&&(E.mGO||J)){if(x.length!=0)m.push("style=\""+x.join(";")+"\"");
var Gu=m.join(" "),GK=l.rect;r.kA++;var Gz=zc.mo(l.buffer,GK.X,GK.z);r.kl.push(F.BY(2)+"<image width=\""+l.rect.X+"\" height=\""+l.rect.z+"\" id=\"img"+r.kA+"\" href=\""+Gz+"\"/>");
r.l.push(F.BY(L)+"<use "+Gu+" href=\"#img"+r.kA+"\" x=\""+GK.x+"\" y=\""+GK.y+"\" />")}}};zN.Bf=function(z){return String(z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
zN.aO=function(z){var r=[z.n,z.g,z.bq,z.br,z.bo,z.bL].map(zN.Bk);return"matrix("+r.join(",")+")"};zN.Be=function(z,r,k,L){var E=zN,F=r.vstk,U=r.vmsk,l=r.lmfx;
if(U&&U.YC!=0){var G=E.Bk(U.YC);if(k.kc[G]==null){k.ka++;k.kc[G]=k.ka;k.kl.push(E.BY(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+k.ka+"\"> <feGaussianBlur stdDeviation=\""+G+"\" /> </filter>")}z.push("filter: url(#flt"+k.kc[G]+")")}var g=mK.oS(l),P=g[0],J=g[1];
if(F&&!F.fillEnabled.v)z.push("fill: none");else if(r.SoCo&&J==null||P){var x=CSS.Lp((P?P:r.SoCo).Clr.v);
z.push("fill: "+x)}else if(r.GdFl||J){E.Bg(J?J:r.GdFl,k,L);z.push("fill: url(#grd"+k.kx+")")}if(F==null||!F.strokeEnabled.v)F=mK.oy(l);
if(F&&F.strokeEnabled.v){var a=F.strokeStyleContent.v,d=a.classID;if(d=="solidColorLayer")z.push("stroke: "+CSS.Lp(a.Clr.v));
else{E.Bg(a,k,L);z.push("stroke: url(#grd"+k.kx+")")}var t=K.qk.qj.indexOf(F.strokeStyleLineCapType.v.strokeStyleLineCapType),m=K.qk.join.indexOf(F.strokeStyleLineJoinType.v.strokeStyleLineJoinType),b=F.strokeStyleOpacity.v.val/100,I=F.strokeStyleLineWidth.v.val,v=K.qk.qf.indexOf(F.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(v==2){I*=2;z.push("paint-order:stroke fill markers")}var W=F.strokeStyleLineDashSet.v,B=[];for(var n=0;
n<W.length;n++)B.push(Math.round(W[n].v.val*I));if(t!=0)z.push("stroke-linecap:"+["butt","round","square"][t]);
if(m!=0)z.push("stroke-linejoin:"+["miter","round","bevel"][m]);if(b!=1)z.push("stroke-opacity:"+E.Bk(b));
if(I!=1)z.push("stroke-width: "+E.Bk(I));if(B.length!=0)z.push("stroke-dasharray: "+B.join(","))}};zN.Bg=function(z,r,k){r.kx++;
var L=zN,E=z.Grad.v,F=E.Clrs.v.slice(0),U=E.Trns.v.slice(0),l=z.Ofst.v,G=z.Type.v.GrdT=="Rdl"?1:0,g=(G==1?"radial":"linear")+"Gradient",P=e.v.Gs(z,k);
if(G==0){P[0].x=P[1].x+2*(P[0].x-P[1].x);P[0].y=P[1].y+2*(P[0].y-P[1].y)}var J=L.BY(2)+"<"+g+" id=\"grd"+r.kx+"\" gradientUnits=\"userSpaceOnUse\" ";
if(G==0)r.kl.push(J+" x1=\""+L.Bk(P[0].x)+"\" y1=\""+L.Bk(P[0].y)+"\" x2=\""+L.Bk(P[1].x)+"\" y2=\""+L.Bk(P[1].y)+"\">");
if(G==1)r.kl.push(J+" cx=\""+L.Bk(P[0].x)+"\" cy=\""+L.Bk(P[0].y)+"\" r=\""+L.Bk(V.Ed(P[0],P[1]))+"\">");
var x=z.Rvrs.v;if(x){F.reverse();U.reverse()}for(var a=0;a<F.length;a++){var d=F[a].v,t=a<U.length?U[a].v.Opct.v.val/100:1,t=t==1?"":"stop-opacity=\""+L.Bk(t)+"\"",m=d.Lctn.v/4096;
if(x)m=1-m;r.kl.push(L.BY(3)+"<stop offset=\""+L.Bk(m)+"\" stop-color=\""+CSS.Lp(d.Clr.v)+"\" "+t+" />")}r.kl.push(L.BY(2)+"</"+g+">")};
var zr={};zr.parse=function(z){var r=new Uint8Array(z),k=null;if(r[0]==80&&r[1]==75){var L=Date.now(),E=UZIP.parse(r.buffer),k=E["document.json"];
k=JSON.parse(zn.Ah(k,0,k.length));zr.BF(k,E)}else{var F=zw.parse(z);k=zr.Am(F[2][0][1])}return k};zr.BF=function(z,r){var k=typeof z;
if(k=="string"||k=="number"||k=="boolean")return z;if(z instanceof Array){for(var L=0;L<z.length;L++)z[L]=zr.BF(z[L],r);
return z}var E=z._class;if(E==null)return z;if(E=="MSJSONFileReference"){var F=z._ref;if(!1){}else if(r[F+".json"]!=null){var U=zn.Ah(r[F+".json"],0,r[F+".json"].length);
z=JSON.parse(U)}else if(r[F+".png"]!=null)return{key:F.split("/").pop(),bdata:r[F+".png"]};else if(r[F+".jpg"]!=null)return{key:F.split("/").pop(),bdata:r[F+".jpg"]};
else if(r[F+".pdf"]!=null)return{key:F.split("/").pop(),bdata:r[F+".pdf"]};else if(r[F]!=null)return{key:F.split("/").pop(),bdata:r[F]};
else{console.log(z,r);throw"e"}}else if(E=="MSAttributedString"){var U=atob(z.archivedAttributedString._archive),l=U.length-1,G=new Uint8Array(l);
for(var L=0;L<l;L++)G[L]=U.charCodeAt(L);z.archivedAttributedString=zr.Am(G)}for(var g in z)z[g]=zr.BF(z[g],r);
return z};zr.AS=function(z,r,k,L){if(z instanceof Uint8Array)return null;if(L.indexOf(z)!=-1)return null;
L.push(z);if(z==r)return k;for(var E in z){k.push(E);var F=zr.AS(z[E],r,k,L);if(F){console.log(z,F);
throw"e"}k.pop()}};zr.Am=function(z){var r=zb.parse(z,0),k=r.$objects,L=new Uint8Array(k.length),E=zr.AP(k,L,r.$top.root);
for(var F=0;F<k.length;F++)if(L[F]==0&&F!=0){console.log(F,k[F]);zr.AS(E,F,[],[])}for(var F=0;F<k.length;
F++){var U=k[F];if(U._class&&(U._class=="bitmap"||U._class=="fill"&&U.fillType==4)){var l=null,G=null;
if(U.image&&U.image.data){G=U.image.sha1["NS.bytes"];G=btoa(h.xU(G,0,G.length));l=U.image.data instanceof Uint8Array?U.image.data:U.image.data["NS.bytes"]}else{if(U.imageSHA)G=U.imageSHA instanceof Uint8Array?U.imageSHA:U.imageSHA["NS.bytes"];
else G=U.image.sha1["NS.bytes"];G=btoa(h.xU(G,0,G.length));var g=E.assets?E.assets.imageCollection:E.images,l=g.images[G].data;
if(l["NS.bytes"])l=l["NS.bytes"]}l=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.length));
delete U.imageSHA;U.image={key:G,bdata:l}}}return E};zr.mc$=function(z){return z.slice(0,11)=="MSImmutable"?"MS"+z.slice(11):z};
zr.AP=function(z,r,k){var L=z[k];if(r[k]==1){return L}r[k]=1;if(typeof L=="string")return L;if(typeof L=="number")return L;
if(typeof L=="boolean")return L;if(L instanceof Array)return L;if(L instanceof Uint8Array){return L}if(z[L.$class]==null){if(L.$class==null&&L["NS.data"]!=null)return L;
console.log(k,L);throw"e"}var E=z[L.$class],F=zr.mc$(E.$classname);r[L.$class]=1;L.$class=F;if(zr.AG[F]){delete L.$class;
L._class=zr.AG[F]}var U=zr.AP;if(F=="NSMutableArray"||F=="NSArray"){var l=[];if(L["NS.objects"]!=null)for(var G=0;
G<L["NS.objects"].length;G++)l.push(U(z,r,L["NS.objects"][G]));else for(var G=0;L["NS.object."+G]!=null;
G++)l.push(U(z,r,L["NS.object."+G]));z[k]=l;return l}if(F=="NSDictionary"||F=="NSMutableDictionary"){var g={$class:F};
if(L["NS.keys"]!=null)for(var G=0;G<L["NS.keys"].length;G++){var P=U(z,r,L["NS.keys"][G]);if(P instanceof Uint8Array)P=btoa(zr.Az.xU(P,0,P.length));
else if(typeof P!="string"&&typeof P!="number")P=btoa(zr.Az.xU(P["NS.bytes"],0,P["NS.bytes"].length));
g[P]=U(z,r,L["NS.objects"][G])}else for(var G=0;L["NS.key."+G]!=null;G++){var P=U(z,r,L["NS.key."+G]);
if(P instanceof Uint8Array)P=btoa(zr.Az.xU(P,0,P.length));else if(typeof P!="string"&&typeof P!="number")P=btoa(zr.Az.xU(P["NS.bytes"],0,P["NS.bytes"].length));
g[P]=U(z,r,L["NS.object."+G])}for(var J in L)delete L[J];for(var J in g)L[J]=g[J];return L}if(F=="NSURL")return{$class:F,base:U(z,r,L["NS.base"]),relative:U(z,r,L["NS.relative"])};
if(zr.mcR.indexOf(F)!=-1){z[k]=U(z,r,L.array_do);return z[k]}if(L.do_objectID!=null)L.do_objectID=U(z,r,L.do_objectID);
if(zr.mcl.indexOf(F)!=-1)return L;var x=zr.mSm[F];if(x==null){console.log(z,L);throw"unknown class "+F}for(var G=0;
G<x.length;G++)if(L[x[G]]!=null)L[x[G]]=U(z,r,L[x[G]]);if(F=="MSTextLayer"){var a=L,d,t,m,b;if(a.attributedString)d=a.attributedString.archivedAttributedString;
else d=a.storage;b=d.NSString;if(typeof b!="string")b=zn.Ah(b["NS.bytes"],0,b["NS.bytes"].length);if(d.NSAttributeInfo)t=d.NSAttributeInfo["NS.bytes"];
else{var I=b.length,v=[];while(I>0){var W=Math.min(100,I);v.push(W,0);I-=W}t=new Uint8Array(v)}m=d.NSAttributes instanceof Array?d.NSAttributes:[d.NSAttributes];
var B={$class:"NSAttributedString",NSString:b,NSAttributes:m};a.attributedString={_class:"MSAttributedString",archivedAttributedString:B};
B.NSAttributeInfo={$class:"NSMutableData","NS.data":t};delete a.storage}return L};zr.Az={xI:function(z,r){return z[r+1]<<8|z[r]},S:function(z,r){return z[r+3]<<24|z[r+2]<<16|z[r+1]<<8|z[r]},xU:function(z,r,k){var L="";
for(var E=0;E<k;E++)L+=String.fromCharCode(z[r+E]);return L}};zr.AG={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill"};
zr.mcR=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
zr.mcl="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData MSStyleReflection".split(" ");
zr.mSm={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var zb={};zb.parse=function(z,r){var k=h.xU(z,r,8);r+=8;var L=zb.parse.mSw(z,z.length-31),E=[];if(L.ky==1){var r=z.length-31-L.ky*L.kV;
for(var F=0;F<L.kV;F++)E.push(z[r+F])}else if(L.ky==2){var r=z.length-31-L.ky*L.kV;for(var F=0;F<L.kV;
F++)E.push(h.xI(z,r+F*2))}else if(L.ky==4){var r=z.length-31-L.ky*L.kV;for(var F=0;F<L.kV;F++)E.push(h.S(z,r+F*4))}else{throw"e"}var U=zb.parse.AP(z,E,L.root,L);
return U};zb.parse.AP=function(z,r,k,L){var E=zb.Az,F=L.mBx,U=F==4?E.S:F==2?E.xI:E.mSI,l=zb.parse,G=r[k],g=z[G],P=g>>4,J=g&15,a=null;
G+=1;if([4,5,6,10,12,13].indexOf(P)!=-1&&J==15){var x=l.xY(z,G);G+=x.DJ;J=x.u}if(!1){}else if(P==0)a=J==8?!1:J==9?!0:null;
else if(P==1)a=l.xY(z,G-1).u;else if(P==2)a=1<<J==4?h.al(z,G):h.aQ(z,G);else if(P==3)a=h.aQ(z,G);else if(P==4)a=new Uint8Array(z.buffer,G,J);
else if(P==5)a=h.xU(z,G,J);else if(P==6)a=h.xy(z,G,J);else if(P==8){a=0;for(var d=0;d<J+1;d++)a=a<<8|z[G+d]}else if(P==10){a=[];
for(var d=0;d<J;d++)a.push(l.AP(z,r,U(z,G+F*d),L))}else if(P==12){a=[];for(var d=0;d<J;d++)a.push(l.AP(z,r,U(z,G+F*d),L))}else if(P==13){a={};
for(var d=0;d<J;d++){var t=l.AP(z,r,U(z,G+F*d),L),m=l.AP(z,r,U(z,G+F*(J+d)),L);a[t]=m}}else throw"unknown mask "+P;
return a};zb.parse.xY=function(z,r){var k=1<<(z[r]&15),L=0;for(var E=0;E<k;E++)L=L<<8|z[r+1+E];return{u:L,DJ:k+1}};
zb.parse.mSw=function(z,r){var k={};r+=6;k.ky=z[r];r++;k.mBx=z[r];r++;r+=4;k.kV=h.S(z,r);r+=4;r+=4;k.root=h.S(z,r);
r+=4;r+=4;k.mGz=h.S(z,r);r+=4;return k};zb.Az={mSI:function(z,r){return z[r]},xI:function(z,r){return z[r]<<8|z[r+1]},S:function(z,r){return z[r]<<24|z[r+1]<<16|z[r+2]<<8|z[r+3]},xU:function(z,r,k){var L="";
for(var E=0;E<k;E++)L+=String.fromCharCode(z[r+E]);return L}};var zw={parse:function(z){var r=new Uint8Array(z),k=zw.ln(r),L=[],E=new Uint8Array(r.length),F=[];
L.push(F);zw.AE(r,k,1,E,F);for(var U=0;U<F.length;U++){var l=[];L.push(l);zw.AE(r,k,F[U][3],E,l);F[U][3]=U+1}return L},AE:function(z,r,k,L,E){k--;
var F=k*r.kZ+(k==0?100:0),U=z[F],l=zw.xI(z,F+1);if(l!=0)throw"free block in a page";var G=zw.xI(z,F+3),g=zw.xI(z,F+5);
if(g==0)g=65536;var P=z[F+7],J=zw.xI(z,F+8);if(U==2||U==5)F+=4;else J=0;for(var x=0;x<G;x++){var a=k*r.kZ+zw.xI(z,F+8+2*x),d=-1,t=0,m=0,b=0;
if(U==2||U==5){d=zw.S(z,a);a+=4}if(U==2||U==10||U==13){t=zw.AA(z,a);a+=t.DJ}if(U==5||U==13){m=zw.AA(z,a);
a+=m.DJ}if(U==5){zw.AE(z,r,d,L,E);continue}var I=r.kZ-(k==0?100:0),v=t.KM,W=U==13?I-35:Math.floor((I-12)*64/255)-23,B=Math.floor((I-12)*32/255)-23,n=B+(v-B)%(I-4);
if(v<=W){zw.JZ(z,a,L,0,v)}else{var j=n<=W?n:B,p=0;zw.JZ(z,a,L,0,j);p+=j;b=zw.S(z,a+j);while(b!=0){var X=(b-1)*r.kZ;
b=zw.S(z,X);var M=Math.min(r.kZ-4,v-p);zw.JZ(z,X+4,L,p,M);p+=M}}E.push(zw.mSs(L,v))}},mSs:function(z,r){var k=0,L=zw.AA(z,k);
k+=L.DJ;var E=[],F=[];while(k<L.KM){var U=zw.AA(z,k);k+=U.DJ;E.push(U.KM)}if(k!=L.KM)throw"e";for(var l=0;
l<E.length;l++){var U=E[l];if(!1){}else if(U==0)F.push(null);else if(U==1){F.push(zw.mSD(z,k));k+=1}else if(U==2){F.push(zw.xH(z,k));
k+=2}else if(U==3){F.push(zw.mSb(z,k));k+=3}else if(U==4){F.push(zw.xY(z,k));k+=4}else if(U==7){F.push(zw.mSe(z,k));
k+=16}else if(U==8)F.push(0);else if(U==9)F.push(1);else if(U>=12&&(U&1)==0){var G=U-13>>1,g=new Uint8Array(G);
zw.JZ(z,k,g,0,G);F.push(g);k+=G}else if(U>=13&&(U&1)==1){var G=U-12>>1;F.push(zw.Ah(z,k,G));k+=G}else throw"unknonw type "+U}return F},ln:function(z){if(!(z[18]==1&&z[19]==1&&z[20]==0&&z[21]==64&&z[22]==32&&z[23]==32))throw"unexpected SQL3 header";
var r={kC:zw.xU(z,0,15),kZ:zw.xI(z,16),mGJ:zw.S(z,24),size:zw.S(z,28),mMm:zw.S(z,32),mmY:zw.S(z,36),mQS:zw.S(z,40),mPf:zw.S(z,44),mzQ:zw.S(z,48),muD:zw.S(z,52),kX:zw.S(z,56),mQm:zw.S(z,60),mJS:zw.S(z,64)!=0,mWF:zw.S(z,68),mco:zw.S(z,92),mcv:zw.S(z,96)};
if(r.kZ==1)r.kZ=65536;if(r.kX!=1)throw"unsupported text encoding "+r.kX;return r},mSd:function(z,r){return z[r]<<16|z[r+1]<<8|z[r+2]},mSb:function(z,r){var k=zw.mSd(z,r),L=k&8388608;
return L?-(16777215-k+1):k},mSD:function(z,r){zw.AR[0]=z[r];return zw.mmx[0]},xY:function(z,r){var k=zw.AR;
for(var L=0;L<4;L++)k[L]=z[r+3-L];return zw.mmn[0]},xH:function(z,r){var k=zw.AR;k[0]=z[r+1];k[1]=z[r];
return zw.mmq[0]},xI:function(z,r){return z[r]<<8|z[r+1]},S:function(z,r){return z[r]<<24|z[r+1]<<16|z[r+2]<<8|z[r+3]},mSe:function(z,r){var k=zw.AR;
for(var L=0;L<8;L++)k[L]=z[r+7-L];return zw.mmv[0]},AA:function(z,r){var k=r,L=0;while(!0){var E=z[r];
r++;L=L*128+(E&127);if(E<128)break}return{KM:L,DJ:r-k}},xU:function(z,r,k){var L="";for(var E=0;E<k;
E++)L+=String.fromCharCode(z[r+E]);return L},Ah:function(z,r,k){var L="";for(var E=0;E<k;E++)L+="%"+zw.mml(z[r+E].toString(16));
return decodeURIComponent(L)},JZ:function(z,r,k,L,E){if(z[r+E-1]==null||k[L+E-1]==null){console.log(r,L,E);
throw"e"}for(var F=0;F<E;F++)k[L+F]=z[r+F]},mml:function(z){return z.length<2?"0"+z:z}};zw.AR=new Uint8Array(8);
zw.mmx=new Int8Array(zw.AR.buffer);zw.mmq=new Int16Array(zw.AR.buffer);zw.mmn=new Int32Array(zw.AR.buffer);
zw.mmv=new Float64Array(zw.AR.buffer);var zn={};zn.parse=function(z,r,k){var L=zn.A_(z,r,k),E=[0,0,{}],F=0,U=[],l=0,g=0,P=0,J=0;
for(var G=0;G<100;G++)E.push(0,0,0);while(L[r]==32||L[r]==10)r++;r++;while(L[r]==32||L[r]==10)r++;while(r<k&&-1<F){g=E[F];
P=E[F+1];if(g==0){if(P==0){r++;E[F+1]=1;F+=3;E[F]=3;E[F+1]=0;E[F+2]=0;continue}else if(P==1){U[l++]=E[F+5];
r++;E[F+1]=2;F+=3;E[F]=2;E[F+1]=0;E[F+2]=0}else if(P==2){var x=U[--l],a=E[F+5];E[F+2][x]=a;if(L[r]==125){r++;
F-=3}else{r++;E[F+1]=0}}}else if(g==1){if(P==0){E[F+1]=1;F+=3;E[F]=2;E[F+1]=0;E[F+2]=0;continue}else if(P==1){var a=E[F+5];
E[F+2].push(a);if(L[r]==93){r++;F-=3}else{r++;E[F+1]=0}}}else if(g==2){if(P==0){J=L[r];if(J==123){r++;
if(L[r]==125){r++;E[F+2]={};F-=3}else{E[F+1]=1;F+=3;E[F]=0;E[F+1]=0;E[F+2]={}}}else if(J==91){r++;if(L[r]==93){r++;
E[F+2]=[];F-=3}else{E[F+1]=1;F+=3;E[F]=1;E[F+1]=0;E[F+2]=[]}}else if(J==34){r++;if(L[r]==34){r++;E[F+2]="";
F-=3}else{E[F+1]=1;F+=3;E[F]=3;E[F+1]=0;E[F+2]="";continue}}else if(J==102){r+=5;E[F+2]=!1;F-=3}else if(J==116){r+=4;
E[F+2]=!0;F-=3}else if(J==110){r+=4;E[F+2]=null;F-=3}else{var d="";while(48<=J&&J<=57||J==46||J==101||J==69||J==43||J==45){d+=String.fromCharCode(J);
J=L[++r]}E[F+2]=parseFloat(d);F-=3}}else if(P==1){E[F+2]=E[F+5];F-=3;continue}}else if(g==3){var t=[];
while(!0){J=L[r];r++;if(J==34)break;else if(J==92){J=L[r];r++;if(J==34||J==47||J==92)t.push(String.fromCharCode(J));
else if(J==110)t.push("\n");else if(J==114)t.push("\r");else if(J==116)t.push("\t");else if(J==117){throw"e"}}else t.push(String.fromCharCode(J))}E[F+2]=t.join("");
F-=3}while(L[r]==32||L[r]==10)r++}return E[2]};zn.mxs=function(z,r,k){var L="";for(var E=r;E<r+k;E++)L+=String.fromCharCode(z[E]);
return L};zn.A_=function(z,r,k){var L=[],E=0,F=0;k+=r;while(r<k){E=z[r++];if((E&128)==0)F=E;else if((E&224)==192){F=(E&31)<<6;
E=z[r++];F|=E&63}else if((E&240)==224){F=(E&15)<<12;E=z[r++];F|=(E&63)<<6;E=z[r++];F|=E&63}else if((E&248)==240){F=(E&7)<<18;
E=z[r++];F|=(E&63)<<12;E=z[r++];F|=(E&63)<<6;E=z[r++];F|=E&63}else throw"e";L.push(F)}return L};zn.AZ=window.TextDecoder?new window.TextDecoder:null;
zn.Ah=function(z,r,k){if(r==null)r=0;if(k==null)k=z.length;if(zn.AZ&&r==0&&k==z.length)return zn.AZ.decode(z);
var L=zn.A_(z,r,k),E=L.length;for(var F=0;F<E;F++)L[F]=String.fromCharCode(L[F]);return L.join("")};
zn.AC=function(z,r,k){var L=z.length,E=0;for(var F=0;F<L;F++){var U=z.charCodeAt(F);if((U&4294967295-(1<<7)+1)==0){r[k+E]=U;
E++}else if((U&4294967295-(1<<11)+1)==0){r[k+E]=192|U>>6;r[k+E+1]=128|U>>0&63;E+=2}else if((U&4294967295-(1<<16)+1)==0){r[k+E]=224|U>>12;
r[k+E+1]=128|U>>6&63;r[k+E+2]=128|U>>0&63;E+=3}else if((U&4294967295-(1<<21)+1)==0){r[k+E]=240|U>>18;
r[k+E+1]=128|U>>12&63;r[k+E+2]=128|U>>6&63;r[k+E+3]=128|U>>0&63;E+=4}else throw"e"}return E};function zV(z,r,k){this.kH=z;
this.kb=r;this.mB_=k;this.kD=0;this.kY=-1;this.kk=0;this.kj=[];this.kf=null;this.ke=null;this.kg=null;
this.kF=null;this.jS=null}zV.prototype.StartPage=function(z,r,k,L){this.ke=[z,r,k,L];var E=this.kb.Ej();
z=Math.round(z*E);r=Math.round(r*E);k=Math.round(k*E);L=Math.round(L*E);var F=this.kH,U=this.kg;F.X+=Math.round(k-z);
F.z=Math.max(F.z,Math.round(L-r));this.kb.bL=this.mB_?L:-r;if(U){var l=U[2]-U[0]+30;this.kb.bo+=l;this.kD+=l;
F.X+=30}else this.kb.bo=-z;this.kg=[z,r,k,L];F.a.push(F.qc())};zV.prototype.Aq=function(){var z=this.kH,r=z.a[z.a.length-1];
return r};zV.prototype.Ao=function(){var z=JSON.parse(JSON.stringify(K.qk.default));z.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
z.strokeEnabled.v=!1;z.fillEnabled.v=!1;return z};zV.prototype.Ar=function(){var z=this.kH,r=z.qa();
r._p("Path "+z.a.length);this.kH.a.push(r);r.Y_|=16;r.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.v.Gn({F:0,P:0,g:0})}};
r.add.vmsk=new T.Zx;r.add.vstk=this.Ao();return r};zV.prototype.AL=function(z){var r=[{type:6},{type:8,all:0}].concat(e.f.uG(Typr.U.pathToSVG(z)));
e.f.Qk(r,this.kb);return r};zV.AU=function(z,r){for(var k=0;k<z.length;k++)if(z[k].bF!=null)z[k].bF=r};
zV.mJE=function(z){return Math.sqrt(Math.abs(z[0]*z[3]-z[1]*z[2]))};zV.Av=function(z){return e.v.Gn({F:z[0]*255,P:z[1]*255,g:z[2]*255})};
zV.AX=function(z){return new zT(z[0],z[1],z[2],z[3],z[4],z[5])};zV.prototype.Stroke=function(z){if(this.kY!=-1&&this.kY!=this.kk)return;
if(z.pth.cmds.length<=1)return;var r=this.AL(z.pth);if(r.length<=2)return;this.At(z);zV.AU(r,-1);r[2].bF=1;
var k=zV.Av(z.COLR),L=this.Aq(),E=this.Ao();E.strokeEnabled.v=!0;E.strokeStyleMiterLimit.v=z.mlimit;
E.strokeStyleLineDashSet.v=mK.oO(z.dash,1/z.lwidth);E.strokeStyleLineDashOffset.v.val=z.doff;E.strokeStyleLineJoinType.v.strokeStyleLineJoinType=K.qk.join[z.ljoin];
E.strokeStyleLineCapType.v.strokeStyleLineCapType=K.qk.qj[z.lcap];E.strokeStyleLineWidth.v.val=Math.max(.4,z.lwidth*zV.mJE(z.ctm));
E.strokeStyleContent.v.Clr.v=k;var F=L!=null&&L.add.vmsk!=null&&!L._w(),U=F&&!L.add.vstk.strokeEnabled.v&&T.Zx.mKy(L.add.vmsk.A,r,!0),l=F&&!L.add.vstk.fillEnabled.v&&JSON.stringify(E)==JSON.stringify(L.add.vstk);
if(l){zV.AU(r,-1);L.add.vmsk.A=L.add.vmsk.A.concat(r.slice(2))}else if(U){L.add.vstk=E;E.fillEnabled.v=!0}else{L=this.Ar();
L.add.vmsk.A=r;L.add.vstk=E}};zV.prototype.Fill=function(z,r){if(this.kY!=-1&&this.kY!=this.kk)return;
if(z.ca==0)return;var k=z.pth.cmds;if(k.length==0)return;if(k.length==2&&JSON.stringify(k)=="[\"M\",\"L\"]")return;
var L=e.b.GF(z.cpth.crds),E=e.b.GF(z.pth.crds);if(E.Mk(L).z$())return;var F=z.pth;if(this.kF==null&&zV.As(F.cmds.join(""),F.crds,[E.x,E.y,E.x+E.X,E.y+E.z])&&E.ai(L)){F=z.cpth}else this.At(z);
var U=this.AL(F);zV.AU(U,r?0:-1);U[2].bF=1;var l=e.b.MJ(E);e.b.Wg(l.O,this.kb,l.O);E=e.b.GF(l.O);var G=zV.Ap(z.colr,this.kb,E),g=this.Aq();
if(g!=null&&g.add.vstk!=null&&!g.add.vstk.strokeEnabled.v&&g.add.SoCo&&G.type=="SoFi"&&JSON.stringify(g.add.SoCo.Clr.v)==JSON.stringify(G.u.v.Clr.v)){var P=g.add.vmsk.A;
for(var J=2;J<U.length;J++)P.push(U[J])}else{g=this.Ar();delete g.add.SoCo;g.add.vmsk.A=T.Zx.Za(U);zV.Bn(z.colr,g,this.kb,E);
zV.Ad(z,g)}};zV.Bn=function(z,r,k,L){var E=zV.Ap(z,k,L),F=null,U=null;r.add.vstk.fillEnabled.v=!0;if(E.type=="SoFi"){F="SoCo";
U=K.qL}if(E.type=="GrFl"){F="GdFl";U=K.qU}if(E.type=="patternFill"){F="PtFl";U=K.qn}if(F!=null){r.add[F]={classID:"null"};
for(var l=0;l<U.length;l++){var G=U[l];r.add[F][G]=E.u.v[G]}}};zV.AI=function(z,r){for(var k=0;k<8;k+=2){var L=!0;
for(var E=0;E<8;E++)if(Math.abs(r[E]-z[E+k&7])>=2){L=!1;break}if(L)return!0}return!1};zV.As=function(z,r,k){var L=!1;
if(z=="MLLLZ"&&r.length==8||z=="MLLLLZ"&&r.length==10){if(r.length==10)r=r.slice(0,8);var E=k[0],F=k[1],U=k[2],l=k[3];
if(!L)L=zV.AI(r,[E,F,U,F,U,l,E,l]);if(!L)L=zV.AI(r,[E,l,U,l,U,F,E,F])}return L};zV.prototype.At=function(z){var r=this.kH,k=z.cpth,L=k.cmds.join(""),E=k.crds,F=L+" "+E.join(","),U=zV.As(L,E,this.ke);
if(U&&this.kF==null)return;if(F==this.kF)return;if(this.kF!=null){r.a.push(this.jS);this.kF=null}if(!U){this.kF=F;
r.a.push(r.qc());var l=r.qa();l._p("Mask");l.add.lsct=mG.ZM;l.DD="pass";l.Y_=24;var G=l.add.vmsk=new T.Zx;
G.A=this.AL(z.cpth);this.jS=l}};zV.Ap=function(z,r,k){var L,E;if(z.length!=null){L="SoFi";var F=JSON.parse(K.qt[K.order.indexOf("SoFi")]);
E={t:"Objc",v:F};E.v.Clr.v=zV.Av(z)}else{var U=zV.mJv(z,r,k);L="GrFl";E={t:"Objc",v:U}}return{type:L,u:E}};
zV.mJv=function(z,r,k){var L=JSON.parse(K.qt[K.order.indexOf("GrFl")]),E=L.Grad.v;E.Intr.v=0;var F=zV.AX(z.mat);
F.concat(r);var U=new V(0,0),l=new V(k.X,0),G=z.crds;if(z.typ=="rad"){L.Type.v.GrdT="Rdl";U.x=G[0];U.y=G[1];
l.x=U.x;l.y=U.y;l.x+=G[5]}else{L.Type.v.GrdT="Lnr";U.x=G[0];U.y=G[1];l.x=G[2];l.y=G[3];U.x=l.x+.5*(U.x-l.x);
U.y=l.y+.5*(U.y-l.y)}U=F.Ef(U);l=F.Ef(l);e.v.Gt(U,l,k,L);var g=z.grad;e.v.Gp(g,E);return L};zV.prototype.PutText=function(z,r,k){if(this.kY!=-1&&this.kY!=this.kk)return;
if(r.length==0||r.length==1&&r.charCodeAt(0)==0)return;this.At(z);var L=this.kH,E=z.font,F=zV.AX(z.ctm),P=null;
F.concat(this.kb);var U=zV.AX(E.Tm);U.concat(F);var l=A.s.Ej(U),G=new zT(1/l,0,0,-1/l,0,0);G.concat(U);
var g=E.Tfs*l;if(E.Th!=100||E.Trise!=0){console.log(E)}var J=L.a.length-1;while(J>=0&&L.a[J].add.TySh==null)J--;
if(J>=0&&L.a[J].add.TySh){var x=L.a[J],a=x.add.TySh.Wg,d=a.n==G.n&&a.g==G.g&&a.bq==G.bq&&a.br==G.br&&Math.abs(a.bL-G.bL)==0&&Math.abs(a.bo+this.kj[J]-G.bo)<g*.3;
if(d){P=x;this.kj[J]=G.bo-a.bo}}if(P==null){J=L.a.length;this.kj[J]=0;P=L.qa();L.a.push(P);P.add.TySh=q.rs(0,0);
P.add.TySh.Wg=G}this.kj[J]+=k*g;var t=P.add.TySh.Yc,m=q.rH(t);P._p(m+r);var b=m.length-1,I=b+r.length;
q.rg(t,b,r);if(this.kf==null)this.kf=q.LP(t,b,b);var v=this.kf;v.kW.FontSize=Math.round(g);v.kW.Tracking=E.Tc*100;
v.kW.Underline=E.Tun==1;v.kW.FillColor={Type:1,Values:[1,z.colr[0],z.colr[1],z.colr[2]]};if(E.Tal!=0)v.kM.Justification=E.Tal;
var W=E.Tf,B={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular"};
if(B[W])W=B[W];q.rd(v,W);q.Lm(t,b,I-1,v)};zV.prototype.PutImage=function(z,r,k,L,E){if(this.kY!=-1&&this.kY!=this.kk)return;
this.At(z);var F=zV.AX(z.ctm);F.concat(this.kb);var U=new zT(1/k,0,0,-1/L,0,1);U.concat(F);F=U;r=zV.Ab(r,k,L);
if(E)E=zV.Ab(E,k,L);if(E==null){if(r.length==k*L*4)r=new Uint8Array(zc.PNG.mn([[r.buffer,0]],k,L))}else{r=this.Ai(r,k,L);
E=this.Ai(E,k,L);var l=e.$(k*L);e.Jw(E,l,0);e.JN(l,r,3);r=new Uint8Array(zc.PNG.mn([[r.buffer,0]],k,L))}var G=this.kH,g=G.Cf(r,"Bitmap",0,0),P=g.rect.clone();
P.x=P.y=0;var J=e.b.MJ(P).O;e.b.Wg(J,F,J);g.add.SoLd.Trnf=A.s.Nr(J);g.add.SoLd.nonAffineTransform=A.s.Nr(J);
g._r(G,!1);zV.Ad(z,g);G.a.push(g)};zV.Ad=function(z,r){r.opacity=Math.round(255*z.ca);var k=zV.AH[z.bmode];
if(k==null)console.log("Unknown blend mode",k);else r.DD=k};zV.AH={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
zV.Ab=function(z,r,k){var L=zc.mV(z.buffer);if(L=="jpg")z=new Uint8Array(zc.JPG.mPi(z.buffer));if(L==null&&z.length!=r*k*4){var E=new Uint8Array(r*k*4),F=new Uint8Array(Math.ceil(r*k/8));
UTIF.decode._decodeG4(z,0,z.length,F,0,r,1);for(var U=0;U<r*k;U++){var l=U*4,G=(F[U>>3]>>7-(U&7)&1)*255;
E[l]=G;E[l+1]=G;E[l+2]=G;E[l+3]=255}z=E}return z};zV.prototype.Ai=function(z,r,k){if(z.length!=r*k*4){var L=zc.mV(z.buffer),E=zc.m_(L);
z=new Uint8Array(E.mv(z)[0].data)}return z};zV.prototype.ShowPage=function(){var z=this.kH;this.kk++;
var r=this.kg;if(this.kF!=null){z.a.push(this.jS);this.kF=null}var k=z.qa();z.a.push(k);k._e(new Z(Math.round(this.kD),0,Math.round(r[2]-r[0]),Math.round(r[3]-r[1])));
k._p("Page "+this.kk);k.add.lsct=mG.ZM;k.DD="pass";k.Y_=24};zV.prototype.Print=function(z){console.log("Print:",z)};
zV.prototype.Done=function(){var z=this.kH;if(this.kk==1)z.a[z.a.length-1].add.lsct=mG.ZW;z.Cp(this.kk);
for(var r=0;r<z.a.length;r++){z.a[r]._q(z)}z.ku=!0;z.buffer=e.$(z.X*z.z*4)};var zt={};zt.lN=function(z,r,k){var L=z.add.artd?z.root.children:[z.root],E=new Z(0,0,z.X,z.z);
for(var F=0;F<L.length;F++){var U=L[F],l=z.add.artd?U.C._f():E;k.StartPage(0,0,l.X,l.z);var G=UDOC.getState([[0,0,l.X,l.z]]),g=new zT;
g.translate(-l.x,-l.y-l.z);g.scale(1,-1);if(r[0]){var P=z.Ce();if(!E.Jq(l)){P=e.$(l.Y()*4);e.Jb(z.Ce(),E,P,l)}var J=new zT;
J.translate(l.x,l.y);zt.Ak(G,k,P,l,J,g)}else zt.AY(z,U,G,k,g,r);k.ShowPage()}k.Done()};zt.AD=function(z){z=e.v.GU(z);
return[z.F/255,z.P/255,z.g/255]};zt.AY=function(z,r,k,L,E,F){var U=r.C,l=U.add.lsct,G=U.add.lmfx,g=U.add.vmsk,P=U.add.vstk,J=U.add.TySh;
if(!U._$())return;var x=U.opacity/255,a=U.add.iOpa?U.add.iOpa/255:1;for(var d in zV.AH)if(zV.AH[d]==U.DD)k.bmode=d;
k.ca=k.CA=x*a;if(U._w()){for(var t=0;t<r.children.length;t++)zt.AY(z,r.children[t],k,L,E,F)}else if(g){var m=g.A,b=e.f.um(m),I=e.b.Wk(m),v=!1,W=!1,B=!1;
e.b.Wg(I.O,E,I.O);k.pth={cmds:I.be,crds:I.O};if(P.fillEnabled.v){var n=mK.oS(G),j=n[0],p=n[1];if(j==null)j=U.add.SoCo;
if(p==null)p=U.add.GdFl;if(j&&p==null){k.colr=zt.AD(j.Clr.v)}else if(p){var X=p,M=[],H,c=X.Type.v.GrdT=="Rdl"?"rad":"lin",S=e.v.Gs(X,b),w=E.Ef(S[0]),R=E.Ef(S[1]);
if(c=="rad")H=[w.x,w.y,0,w.x,w.y,V.Ed(w,R)];else{w.Ep(R.x+(w.x-R.x)*2,R.y+(w.y-R.y)*2);H=[w.x,w.y,R.x,R.y]}var i=X.Grad.v.Clrs.v;
for(var t=0;t<i.length;t++){var f=i[t].v;M.push([f.Lctn.v/4096,zt.AD(f.Clr.v)])}k.colr={typ:c,mat:[1,0,0,1,0,0],grad:M,crds:H}}v=!0}var _=mK.oy(G);
if(!P.strokeEnabled.v&&_)P=_;if(P.strokeEnabled.v){var u=P.strokeStyleContent.v,Q=P.strokeStyleLineDashSet.v,$=K.qk.qf.indexOf(P.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(u.Clr==null)return;var C=e.v.GU(u.Clr.v);k.COLR=[C.F/255,C.P/255,C.g/255];k.lwidth=P.strokeStyleLineWidth.v.val*($==2?2:1);
k.mlimit=P.strokeStyleMiterLimit.v;k.doff=P.strokeStyleLineDashOffset.v.val;k.ljoin=K.qk.join.indexOf(P.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
k.lcap=K.qk.qj.indexOf(P.strokeStyleLineCapType.v.strokeStyleLineCapType);k.dash=[];for(var t=0;t<Q.length;
t++)k.dash.push(Q[t].v.val*k.lwidth);W=!0;if($==2)B=!0}if(v&&!B)L.Fill(k);if(W)L.Stroke(k);if(v&&B)L.Fill(k)}else if(J&&F[1]==!1){var y=J.Yc,N=J.Wg.clone(),O=new zT(1,0,0,-1,0,0),GS=0,Gm=0;
if(q.ri(y)==0&&q.LP(y,0,0).kM.Justification==2)O.bo-=U.rect.X/2;O.concat(N);O.concat(E);var JQ=q.rH(y),zf=y.EngineDict.ParagraphRun,ze=zf.RunArray,zg=zf.RunLengthArray,zF=U.add.lmfx;
if(zF)zF=zF.frameFXMulti.v[0];if(zF)zF=zF.v;for(var t=0;t<ze.length;t++){var GJ=[],GP=zg[t],Gz=JQ.slice(GS,GS+GP-1);
if(Gz=="")continue;var GG=q.LP(y,GS+Gz.length-1,GS+Gz.length-1),C=q.GU(GG.kW);k.colr=[C.F/255,C.P/255,C.g/255];
var GW=GG.kw[GG.kW.Font].Name;k.font.Tf=GW;k.font.Tfs=Math.round(GG.kW.FontSize);var GM=GG.kW.FontSize*1.12;
if(t==0)GM=q.ri(y)==0?0:GG.kW.FontSize;Gm+=GM;var GQ=new zT;GQ.translate(0,-Gm);GQ.concat(O);k.ctm=[GQ.n,GQ.g,GQ.bq,GQ.br,GQ.bo,GQ.bL];
if(GG.kW.FontCaps==2)Gz=Gz.toUpperCase();L.PutText(k,Gz,0);GS+=GP}}else if(!U.rect.z$()){var Gu,GK,GE=new zT;
if(U.add.SoLd){var Gl=U.add.SoLd,Gx=Gl.Idnt.v,Ga=z.ql(Gx,Gl.Crop?Gl.Crop.v:null),GA="";if(Ga==null)return;
var Gc=Ga.kN,GB=zc.mV(Ga.raw.buffer);if(F[2].indexOf(GB)!=-1)Gu=Ga.raw;else Gu=Gc[0];GK=Gc[1];GE=e.GE.Gl(Gl)}else{Gu=U.buffer;
GK=U.rect;GE.translate(GK.x,GK.y)}var Gh=G;if(Gh)Gh=Gh.solidFillMulti.v[0];if(Gh)Gh=Gh.v;if(Gh&&Gh.enab.v){var GT=Gu;
Gu=Gu.slice(0);var Gw=mP._l[mP._x.indexOf(Gh.Md.v.BlnM)],GN=e.v.GU(Gh.Clr.v),Gy=4278190080|Math.round(GN.g)<<16|Math.round(GN.P)<<8|Math.round(GN.F),C=e.$(GK.Y()*4);
e.JV(C,Gy);e.M.Py(Gw,C,GK,Gu,GK,GK,Gh.Opct.v.val/100);for(var t=0;t<Gu.length;t+=4)Gu[t+3]=GT[t+3]}zt.Ak(k,L,Gu,GK,GE,E)}};
zt.Ak=function(z,r,k,L,E,F){var U=new zT;U.scale(L.X,-L.z);U.translate(0,L.z);U.concat(E);U.concat(F);
z.ctm=[U.n,U.g,U.bq,U.br,U.bo,U.bL];r.PutImage(z,k,L.X,L.z);z.ctm=[1,0,0,1,0,0]};var mw={};mw.lK=function(z,r){var k=new Uint8Array(z);
return mw.Aj(k,0,r)};mw.Aj=function(z,r,k){var L=h.aG,E=h.xU,F={ic:E(z,r,4),V:r+8,size:L(z,r+4)};if(k&&k[F.size]!=null)F.size=k[F.size];
if(F.ic=="RIFF"||F.ic=="LIST"){F.qe=E(z,r+8,4)}if(F.size<0||F.V+F.size>z.length)throw"e";if(F.ic=="RIFF"||F.ic=="LIST"&&(F.qe!="cmpr"&&F.qe!="stlt")){F.sub=[];
r+=12;var U=F.V+F.size;while(r<U){var l=mw.Aj(z,r,k);F.sub.push(l);r+=8+l.size+(l.size&1)}}return F};
function mR(){}mR.lK=function(z,r){var k=new Uint8Array(z);r.ku=!0;var L=h.xU(k,0,2);if(L=="WL"){alert("Unsupported CDR version")}else{var E=mR.Af,F=mw.lK(k.buffer),U={data:k,V:0,jJ:mR.mGS(k[11])};
U.jP=U.jJ<600?16:32;mR.hu(U,F.sub,r,0);var l=E(F,"cmpr").sub,G=l[0],g=l.slice(1),P=E(G,"mcfg").u,J=P.mQY,x=Math.round(J.x*300),a=Math.round(J.y*300);
r.X=x;r.z=a;var d=E(G,"filt").sub,t=E(G,"otlt").sub;G.jG={};for(var m=0;m<d.length;m++)G.jG[d[m].sub[0].u.id]=d[m].sub[0].u;
G.jW={};for(var m=0;m<t.length;m++)G.jW[t[m].u.id]=t[m].u;var b=new zT(300,0,0,-300,J.x*150,J.y*150),I=g[1];
mR.BL(I,G,r,b);r.Cp(1);r.a[r.a.length-1]._e(new Z(0,0,x,a))}};mR.Af=function(z,r){var k=null;for(var L=0;
L<z.sub.length;L++){var E=z.sub[L];if(E.ic==r||E.qe==r)k=E}return k};mR.BL=function(z,r,k,L){var E=mR.Af,F=z.qe?z.qe:z.ic,U=E(z,"lgob"),l=E(z,"txsm"),G,g;
if(U){G=E(U,"trfl");g=E(U,"loda")}var P=G?G.sub[0].WR.clone():new zT;P.concat(L);var J=k.qa();if(F=="page"||F=="layr"||F=="grp "){J._p((F=="page"?"Page":"Group")+" "+k.a.length);
J.add.lsct=mG.ZW;J.DD="pass";J.Y_=24;var x=[];if(F=="page")x=E(z,"gobj").sub;if(F=="layr")x=z.sub.slice(2);
if(F=="grp ")x=z.sub.slice(4);if(x.length==0)return;k.a.push(k.qc());for(var a=x.length-1;a>=0;a--)mR.BL(x[a],r,k,L)}else if(F=="obj "&&g.u&&g.u.path){J._p("Object "+k.a.length);
var d=r.jG[g.u.mmD],t=r.jW[g.u.mum],m=J.getName(),b=d&&d.type!=0,I=b&&d.u!=null?d.u:[0,0,0];J.Y_|=16;
J.add.vstk=JSON.parse(JSON.stringify(K.qk.default));var v=J.add.vstk;v.strokeEnabled.v=!1;J.add.vmsk=new T.Zx;
if(t&&t.mcQ!=1){v.strokeEnabled.v=!0;v.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
v.strokeStyleLineWidth.v.val=t.lineWidth*300;var W=t.color;v.strokeStyleContent.v.Clr.v=e.v.Gn({F:W[0]*255,P:W[1]*255,g:W[2]*255})}var B=g.u.path,n={crds:B.O,cmds:B.be};
J.add.vmsk.A=[{type:6},{type:8,all:0}].concat(e.f.uG(Typr.U.pathToSVG(n)));e.f.Qk(J.add.vmsk.A,P);zV.Bn(I,J,P,e.f.um(J.add.vmsk.A));
v.fillEnabled.v=b;J._q(k)}else if(F=="obj "&&l){var j=g.u.mKU,M="";J.add.TySh=q.rs(0,0);var p=P.Ej();
J.add.TySh.Wg.translate(P.bo,P.bL);var X=J.add.TySh.Yc,H=l.u.jE;for(var a=0;a<H.length;a++){var c=H[a],S=M.length;
M+=c.text+"\n";q.rg(X,S,c.text+"\n");var w=mR.mPw(c.mKt,r),R=q.LP(X,S,M.length);if(w.align==3)R.kM.Justification=1;
else R.kM.Justification=0;var i=w.fill.u;R.kW.FillColor={Type:1,Values:[1,i[0],i[1],i[2]]};R.kW.FontSize=Math.round(w.mcE.fontSize*P.Ej());
q.Lm(X,S,M.length-1,R)}q.rD(X,1);q.rk(X,[0,0,Math.round(j.x*P.n),Math.round(-j.y*P.br)]);J._p(M.slice(0,10))}else{J=null}if(J)k.a.push(J)};
mR.mPw=function(z,r){var k=mR.Af(r,"stlt").u,L=JSON.parse(JSON.stringify(k.ja[z]));if(L.jc!=0){var E=k.ja[L.jc];
for(var F in E)if(L[F]==null||L[F]==0)L[F]=E[F];delete L.jc}L.align=k.muN[L.mJq];L.fill=r.jG[k.maE[L.jT]];
L.mln=r.jW[k.mPm[L.jN]];L.mcE=k.jy[L.mKe];return L};mR.mPV=function(z){var r=z.data[z.V];z.V+=1;return r};
mR.AF=function(z){var r=h.xp(z.data,z.V);z.V+=2;return r};mR.hS=function(z){var r=h.aG(z.data,z.V);z.V+=4;
return r};mR.hm=function(z){var r=h.mMd(z.data,z.V);z.V+=2;return r};mR.hJ=function(z){var r=h.xf(z.data,z.V);
z.V+=4;return r};mR.aQ=function(z){var r=h.mMI(z.data,z.V);z.V+=8;return r};mR.hP=function(z){var r=0;
while(z.data[z.V+r]!=0)r++;var k=h.xU(z.data,z.V,r);z.V+=r+1;return k};mR.mPU=function(z){if(z.jJ<600)return Math.PI*mR.hm(z)/1800;
return Math.PI*mR.hJ(z)/18e7};mR.maH=function(z){if(z.jJ<1500)return mR.hW(z);else return mR.aQ(z)/254e3};
mR.hW=function(z){if(z.jJ<600)return mR.hm(z)/1e3;else return mR.hJ(z)/254e3};mR.ma_=function(z){if(z.jJ<600)return CRDParser.AF(z);
else return mR.hS(z)};mR.maV=function(z){if(z.jJ<600)return CRDParser.hm(z);else return mR.hJ(z)};mR.hu=function(z,r,k,L){var E=mR,F=E.mPV,U=E.AF,l=E.hS,G=E.hm,g=E.hJ,P=E.aQ,J=E.hW,x=E.maH,a=E.mPU,d=E.ma_,t=E.maV;
for(var m=0;m<r.length;m++){var b=z.jJ,I=r[m];z.V=I.V+(I.ic=="LIST"?4:0);if(I.ic=="vrsn"){var v=U(z);
z.jJ=v;console.log("Version",v);z.jP=v<600?16:32}else if(I.ic=="DISP"){}else if(I.ic=="LIST"&&I.qe=="cmpr"){var W=l(z),B=l(z),n=l(z),j=l(z),p=new Uint8Array(z.data.buffer,z.V+8+2,W-6-8),X=pako.inflateRaw(p),S=0;
z.V+=W;p=new Uint8Array(z.data.buffer,z.V+8+2);var M=pako.inflateRaw(p),H=[];for(var c=0;c<M.length;
c+=4)H.push(h.aG(M,c));I.sub=[];while(S<X.length){var w=mw.Aj(X,S,H);S=w.V+w.size;I.sub.push(w)}var R={data:X,V:0,jJ:b,jP:z.jP};
mR.hu(R,I.sub,k,L+1)}else if(I.ic=="LIST"&&I.qe=="stlt"){var i=z.V,Gm=32;I.u={};var f=l(z);if(f==0)return;
I.u.maE=mR.hK(z,b>=1300);I.u.mPm=mR.hK(z);I.u.jy={};var _=l(z);for(var u=0;u<_;u++){var Q=l(z);z.V+=b<1e3?12:20;
var $=U(z),C=U(z);z.V+=8;var y=J(z);z.V+=b<1e3?12:20;I.u.jy[Q]={mSS:$,mJi:C,fontSize:y}}I.u.muN=mR.hK(z);
var N=l(z);z.V+=52*N;var O=l(z);z.V+=152*O;var JQ=l(z);z.V+=784*JQ;var zf=l(z);for(var u=0;u<zf;u++){z.V+=40;
if(b>1300)z.V+=4;if(b>=1300){if(l(z))z.V+=68;else z.V+=12}else{z.V+=20;if(b>=1e3)z.V+=8;if(l(z))z.V+=8;
z.V+=8}}var ze=l(z);I.u.mSl={};for(var u=0;u<ze;u++){var zg=l(z),zF={};z.V+=12;zF.right=J(z);zF.mJA=J(z);
zF.left=J(z);I.u.mSl[zg]=zF}var GS=l(z);if(b>=1300)Gm+=4;z.V+=Gm*GS;var GJ=l(z);z.V+=28*GJ;if(b>800){var GP=l(z);
z.V+=12*GP}I.u.ja={};for(var u=0;u<f;u++){var Gz=l(z),GG=l(z),GW={};GW.jc=l(z);z.V+=8;var GM=l(z);if(b>=1200)GM*=2;
z.V+=GM;GW.jT=l(z);GW.jN=l(z);if(Gz>1){GW.mKe=l(z);GW.mJq=l(z);GW.mMM=l(z);GW.mzg=l(z);if(b>800)GW.mxu=l(z)}if(Gz>2){GW.mSu=l(z);
GW.mze=l(z);GW.mme=l(z);GW.muG=l(z);GW.mSM=l(z)}I.u.ja[GG]=GW}}else if(I.ic=="LIST")mR.hu(z,I.sub,k,L+1);
else if(I.ic=="txsm"){I.u={};if(b<600)throw"e";if(b<700)throw"e";if(b>=1600)throw"e";if(b>=1500)z.V+=37;
else z.V+=36;if(l(z)){if(b<800)z.V+=32}if(b<800)z.V+=4;I.u.mzy=l(z);I.u.jE=[];z.V+=48;if(b>=800){if(l(z)){z.V+=32;
if(b>=1300)z.V+=8}}if(b>=1500)z.V+=12;var Gz=l(z),GQ=1;if(!Gz){if(b>=800)z.V+=4;if(b>800)z.V+=2;if(b>=1400)z.V+=2;
z.V+=24;if(b<800)z.V+=8;GQ=l(z)}for(var c=0;c<GQ;c++){var Gu=l(z),u=0;if(b>=1300&&Gz)z.V++;z.V++;var f=l(z),GK=[];
for(u=0;u<f;u++){var GE=F(z),Gx=0;F(z);var Gl=F(z);if(b>=800)Gx=F(z);var GW={};if(Gl&1){GW.mSS=U(z);
var Ga=U(z);if(Ga)GW.mK$=Ga}if(Gl&2)z.V+=4;if(Gl&4)GW.mSC=J(z);if(Gl&8)z.V+=4;if(Gl&16)z.V+=4;if(Gl&32)z.V+=4;
if(Gl&64){GW.jT=l(z);if(b>=1500)z.V+=48}if(Gl&128){GW.jN=l(z)}if(Gx&8){if(b>=1300){var Gc=l(z);z.V+=Gc*2}else z.V+=4}if(Gx&32){var GB=F(z);
if(GB)z.V+=52}if(GE==2)if(b>=1300)z.V+=48;GK.push(GW)}var GA=l(z),Gh=[];for(u=0;u<GA;u++){var GT=0;if(b>=1200)GT=readU64(z)&4294967295;
else GT=l(z);Gh[u]=GT>>16|GT&1}var Gw=GA;if(b>=1200)Gw=l(z);var GN=mR.hP(z);I.u.jE.push({mKt:Gu,text:GN,ja:GK})}}else if(I.ic=="font"){var Gy=U(z),GV=U(z);
z.V+=14;var GO=mR.hP(z);I.u={id:Gy,mPl:GV,name:GO}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(I.ic)!=-1){}else if(I.ic=="flgs")I.u=l(z);
else if(I.ic=="bbox"){var G_=J(z),GZ=J(z),GC=J(z),Gq=J(z);I.u=new Z(G_,GZ,GC-G_,Gq-GZ)}else if(I.ic=="fild"){var Go=l(z),Gr=0,Gn;
if(b>=1300){z.V+=4;Gr=U(z);z.V+=2}var GU=U(z);if(GU==0){}else if(GU==1){z.V+=b>=1300?13:2;Gn=mR.xl(z)}else if(GU==2){z.V+=b>=1300?8:2;
var Gv=F(z),GX=0;if(b>=1300){z.V+=17;GX=G(z)}else if(b>=600){z.V+=19;GX=g(z)}else{z.V+=11;GX=G(z)}var GI=a(z),Gs=.5+t(z),Gt=.5+t(z)-.5;
if(b>=600)z.V+=2;var Gp=d(z)&255,G$=F(z)/100;z.V++;var Gd=d(z)&65535;if(b>=1300)z.V+=3;var GH=[];for(var u=0;
u<Gd;u++){var Gb=mR.xl(z);if(b>=1300){if(Gr==158||b>=1600&&Gr==150)z.V+=26;else z.V+=5}var Gi=d(z)/100;
if(b>=1300)z.V+=3;GH.push([Gi,Gb])}Gn={typ:Gv==1?"lin":"rad",crds:[Gs-Math.cos(GI)/2,Gt-Math.sin(GI)/2,Gs,Gt],grad:GH,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",GU);
I.u={id:Go,type:GU,u:Gn}}else if(I.ic=="outl"){var GD=l(z);if(b>=1300){var GY=0,Gk=0;while(GY!=1){z.V+=Gk;
GY=l(z);Gk=l(z)}}var Gj=U(z),Gf=U(z),Ge=U(z);if(b<1300&&b>=600)z.V+=2;var Gg=J(z),GF=U(z)/100;if(b>=600)z.V+=2;
var WS=a(z);if(b>=1300)z.V+=46;else if(b>=600)z.V+=52;var Gn=mR.xl(z,GD==270963208||GD==276198e3,GD);
I.u={id:GD,mcQ:Gj,mPj:Gf,mSL:Ge,lineWidth:Gg,color:Gn}}else if(I.ic=="mcfg"){if(1300<=b)z.V+=12;else if(900<=b)z.V+=4;
else if(600<=b&&b<700)z.V+=28;var Wm=0,WJ=0;if(b<400)throw"e";else{Wm=J(z);WJ=J(z)}I.u={mQY:new V(Wm,WJ)}}else if(I.ic=="loda"){var i=z.V,WP=d(z),Wz=d(z),WG=d(z),WW=d(z),WM=d(z),WQ=[],Wu=[];
z.V=i+WG;for(var u=0;u<Wz;u++)WQ[u]=d(z);z.V=i+WW;for(var u=Wz-1;u>=0;u--)Wu[u]=d(z);I.u={};for(var u=0;
u<Wz;u++){z.V=i+WQ[u];var WK=Wu[u];if(WK==10)I.u.mum=l(z);else if(WK==20)I.u.mmD=l(z);else if(WK==200)I.u.mJb=d(z);
else if(WK==30){if(b<400)WM--;if(WM==1){var G_=x(z),GZ=x(z),WE=0,Wl=0,Wx=0,Wa=0;if(b<1500){Wa=x(z);Wx=b<900?Wa:x(z);
Wl=b<900?Wa:x(z);WE=b<900?Wa:x(z)}else throw"e";I.u.path=e.b.Wk(e.f.ur.Rect(0,0,G_,GZ,WE))}else if(WM==2){var Wc=J(z),WB=J(z),WA=a(z),Wh=a(z),WT=Math.abs(Wc),WR=Math.abs(WB);
I.u.path=e.b.Wk(e.f.ur.uI(0,0,WT,-WR))}else if(WM==3){I.u.path=mR.mz$(z)}else if(WM==6){I.u.mKU=mR.may(z)}else if(WM==37){I.u.path=mR.mac(z)}else console.log(WM)}}}else if(I.ic=="trfd"){var i=z.V,WP=d(z),Wz=d(z),WG=d(z);
z.V=i+WG;var WQ=[];for(var u=0;u<Wz;u++)WQ[u]=d(z);for(var u=0;u<Wz;u++){z.V=i+WQ[u];if(b>=1300)z.V+=8;
var Ww=U(z);if(Ww==8){var WN,Wy,G_,WV,WO,GZ;if(b>=600)z.V+=6;if(b>=500){WN=P(z);Wy=P(z);G_=P(z)/(b<600?1e3:254e3);
WV=P(z);WO=P(z);GZ=P(z)/(b<600?1e3:254e3)}else throw"e";I.WR=new zT(WN,WV,Wy,WO,G_,GZ)}else console.log(Ww)}}else if(!1){console.log(I);
var W_=Math.min(I.size,32);console.log(h.mMF(data,I.V,W_));console.log(h.mcd(data,I.V,W_))}}};mR.hK=function(z,r){var k=mR.hS,L={},E=k(z);
for(var F=0;F<E;F++){var U=k(z);z.V+=4;var l=k(z);L[U]=l;if(r)z.V+=48}return L};mR.may=function(z){var r=mR,k=r.hW;
z.V+=4;var L=k(z),E=k(z);return new V(L,E)};mR.mac=function(z){var r=mR,k=r.hS,L=r.AF,E=r.hW;z.V+=4;
var F=L(z)+L(z);z.V+=16;var U=mR.ha(z,F);return U};mR.mz$=function(z){var r=mR.AF(z);z.V+=2;return mR.ha(z,r)};
mR.ha=function(z,r){var k=mR,L=k.hW,E=z.jJ<600?2:4,F=z.V,U={O:[],be:[]},l=0,G=0,g=0;for(var P=0;P<r;
P++){var l=L(z),G=L(z),J=z.data[F+r*E*2+P];if(!(J&64)&&!(J&128)){U.O.push(l,G);U.be.push("M");g+=2}else if(J&64&&!(J&128)){U.O.push(l,G);
U.be.push("L");g+=2}else if(!(J&64)&&J&128){U.O.push(l,G);U.be.push("C");g+=6}else if(J&64&&J&128){U.O.push(l,G)}}if(g!=U.O.length)throw"e";
return U};mR.mzK=function(z,r){var k=h.aG;r+=8;var L=k(z,r);r+=4;var E=k(z,r);r+=4;r+=4*7;var F=r,U=e.$(L*E*4);
r+=1024;for(var l=0;l<E;l++)for(var G=0;G<L;G++){var g=l*L+G,P=(E-l-1)*L+G,J=z[r+g]<<2,x=P<<2;U[x+0]=z[F+J+2];
U[x+1]=z[F+J+1];U[x+2]=z[F+J+0];U[x+3]=255}return{bT:U,rect:new Z(0,0,L,E)}};mR.mGS=function(z){if(z==32)return 300;
else if(z<49)return 0;else if(z<58)return 100*(z-48);else if(z<65)return 0;return 100*(z-55)};mR.xl=function(z,r,k){var L=mR.AF,E=mR.hS,F=z.jJ,U=0,l=0;
if(F>=500){U=L(z);if(U==1&&F>=1300)U=25;if(U==25||U==30)throw"e";else if(U==14)throw"e";else{z.V+=6;
l=E(z)}}else throw"e";var G=[];if(U==2||U==17){var g=[l>>>0&255,l>>>8&255,l>>>16&255,l>>>24&255];if(U==2)for(var P=0;
P<4;P++)g[P]=Math.round(255*g[P]/100);for(var P=0;P<4;P++)g[P]/=255;G=PSI.C.cmykToRgb(g)}else console.log("Unknown color model "+U,l,l.toString(16));
return G};var A={};A.hA=function(z,r,k){this.name=z;this.id=r;if(k!=null)this.jb=k};A.hA.prototype.hh=function(z,r,k,L,E){};
A.hA.prototype.enable=function(z,r,k,L,E,F){var U=new D(Y.E.D,!0);U.data={J:Y.Q.UH,ji:"default"};r.K(U)};
A.hA.prototype.disable=function(z,r,k,L){};A.hA.prototype.hT=function(z,r,k,L,E){};A.hA.prototype.hR=function(z,r,k,L,E){};
A.hA.prototype.hw=function(z,r,k,L,E){};A.hA.prototype.hN=function(z,r,k,L,E){};A.hA.prototype.hy=function(z,r,k,L){};
A.hA.prototype.hV=function(z,r,k,L){};A.hA.prototype.hO=function(z,r){};A.hA.prototype.h_=function(z,r){};
A.hA.prototype.hZ=function(z,r,k,L,E){};A.hA.prototype.hC=function(z,r){};A.hA.prototype.hq=function(z){return!1};
A.hA.prototype.ho=function(z){return!1};A.hA.prototype.hr=function(){return!1};A.hA.prototype.hL=function(z,r){return!0};
A.hA.prototype.hU=function(){return null};A.hA.prototype.hn=function(z,r,k){};A.hA.prototype.hv=function(){return!1};
A.hA.prototype.hX=function(z,r,k,L){};A.hI="0";A.hs="1";A.ht="2";A.hp="5";A.mWl="6";A.mWx="7";A.hH="8";
A.mWa="9";A.hi="10";A.hD="14";A.mWi="16";A.hk="18";A.hj="19";A.hf="20";A.he="23";A.hg="24";A.hF="27";
A.TS="31";A.mMz="34";A.mMQ="35";A.TP="36";A.Tz="37";A.TG="38";A.mME="39";A.mMx="40";A.mMi="41";A.mMj="42";
A.TK="43";A.TE="47";A.Tl="51";A.mQt="52";A.mQi="54";A.mQD="55";A.muS="56";A.mx_="57";A.muh="58";A.TT="59";
A.TR="61";A.Tw="100";A.TN="101";A.Ty="230";A.mSx="231";A.TO="232";A.T_="233";A.TZ="234";A.TC="235";A.Tq="236";
A.To=function(z,r,k){A.hA.call(this,z,r,k);this.jD={brush:z?mE.oI():null,bmode:"norm",opacity:1,flow:1,smth:0,wconf:{jY:10,jk:!0},algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.jj=null;this.jf=null;this.je=null;this.jg=null;this.jF=null;this.fS=null;this.fm=null;this.fJ=null;
this.fP=1;this.fz=!1;this.fG=null;this.caller=null};A.To.prototype=new A.hA;A.To.prototype.hh=function(z,r,k,L,E){if(z.J=="draw"){var F=z.mWJ,U=this.jD.bmode;
this.TU(k);this.jD.bmode="norm";this.TH(k,"draw",z.mPr,F,F);this.jD.bmode=U;this.N(k,F);this.finish(k,F,z.HZ)}};
A.To.prototype.hq=function(z){if(0<=parseInt(z)&&parseInt(z)<=9)return!0;return!1};A.To.prototype.hy=function(z,r,k,L){var E=this.jD.brush,F=A.To.Tr(E,L);
if(F!=null){var U=new D(Y.E.D,!0);U.data={J:Y.Q.na,Hq:zB.yf,op:F};r.K(U)}if(!L._(s.VO)&&L.Vc()!=-1){var l=Y.UB(Math.round(this.jD.opacity*100),L.Vc())/100;
this.jD.opacity=l;var U=new D(Y.E.D,!0);U.data={J:Y.Q.nx,R:this.id,fQ:{opacity:l}};r.K(U)}if(this.id==A.hH&&L._(s.V_)!=this.fz&&z!=null){var G=this.jD.qsmode;
if(G==2)G=z.i==null?0:1;else G=2;this.Tp(G,r);this.fz=L._(s.V_)}else this.fz=L._(s.V_);if(this.id==A.hF||this.id==A.hj||this.id==A.hf||this.id==A.he||this.id==A.hg){this.TL(r,k,L)}};
A.To.Tr=function(z,r){var k=z.Brsh.v.Dmtr.v.val,L=z.Brsh.v.Hrdn!=null?z.Brsh.v.Hrdn.v.val:-1,E=k,F=L,U=r._(s.Vy);
if(r._(s.VH)){if(U)L=25*Math.floor((L-1)/25);else{if(k>10)k=5*Math.floor((k-1)/5);else k--}}if(r._(s.Vb)){if(U)L=25*Math.ceil((L+1)/25);
else{if(k>9)k=5*Math.ceil((k+1)/5);else k++}}k=Math.max(1,k);L=Math.max(0,Math.min(100,L));if(F==-1)L=-1;
if(k!=E||L!=F){var l=JSON.parse(JSON.stringify(z));l.Brsh.v.Dmtr.v.val=k;if(F!=-1)l.Brsh.v.Hrdn.v.val=L;
return l}return null};A.To.prototype.TL=function(z,r,k){if(r.fu.list.length==0)return;var L=mx.rh(this.jD.brush,r.fu.Yd,this.fP),E=Y.Uq(L);
if((this.id==A.hF||this.id==A.hj||this.id==A.he||this.id==A.hg)&&k!=null&&k._(s.V_))E="crosshair";var F=new D(Y.E.D,!0);
F.data={J:Y.Q.UH,ji:E};if(z)z.K(F)};A.To.prototype.enable=function(z,r,k,L){this.caller=r;var E=new D(Y.E.D,!0);
E.data={J:Y.Q.na,Hq:zB.yf,op:JSON.parse(JSON.stringify(this.jD.brush))};r.K(E);if(z&&z.t.o!=0)this.fP=z.t.o;
this.TL(r,k,L)};A.To.prototype.hC=function(z,r){if(r==zB.yf){this.jD.brush=z.fu.fE;this.TL(this.caller,z)}};
A.To.prototype.hZ=function(z,r,k,L,E){for(var F in z)this.jD[F]=z[F]};A.To.prototype.TU=function(z){var r=z.a[z.L[0]],k=null;
this.fJ=z.i==null?null:{rect:z.i.rect.clone(),channel:e.clone(z.i.channel)};if(r.B<=0){this.jg=r.rect.clone();
k=r.buffer}if(r.B==1){var L=r._F();this.jg=L.rect.clone();k=L.channel}if(r.B==3){var L=r.ZS(z).k;this.jg=L.rect.clone();
k=L.channel}if(A.To.Tn.length<k.length)A.To.Tn=e.$(k.length);this.jF=A.To.Tn;e.JZ(k,this.jF);this.fS=this.jg;
this.fm=this.jF;if(r.B<=0&&(this.id==A.hF||this.id==A.hj)){var E=this.jD.sfrom;if(E!=0){this.fS=new Z(0,0,z.X,z.z);
this.fm=e.clone(z.Ce(E==1?z.L[0]:null))}}};A.To.Tn=e.$(4e6);A.To.prototype.Tv=function(z,r,k){if(z._(s.V_)){var L=new D(Y.E.q,!0);
L.R=A.hD;L.data={J:"pickhere",mlF:k};r.K(L);return!0}return!1};A.To.prototype.TX=function(z,r,k,L,E,F){if(!z.qm()){this.jj=null;
return}this.TU(z);var U=new Z(0,0,z.X,z.z),l=null;if(F!=null){var G=z.a[z.L[0]],g=G.B<=0?null:G.B==1?G._F():G.ZS(z).k;
l=e.$(U.Y()*4);if(g)A.To.TD(this.jF,this.jg,g.color,l,U);else e.Jb(this.jF,this.jg,l,U)}if(this.jj&&this.id==A.hH&&this.jD.qsmode!=0){}else{var P=this.id==A.hH?z.a[z.L[0]].rect:U;
this.jj=new mx(this.jD.brush,r.fu.Yd,r.fu.YH,{fx:E,fa:F,mMN:this.jD.smth*50*Y.Z()/z.t.o,fB:this.id==A.hg},r.fh,r.fT,P,l,F)}if(this.id==A.hH){this.jj.oY(this.jD.brush,this.jD.qsmode==2?0:16777215)}var J=z.t.q_(L.x,L.y);
J=A.nA.wN(z,J,r);if(k._(s.Vy)&&this.jf){this.jj.moveTo(this.jf.x,this.jf.y,L.fR);this.jj.lineTo(J.x,J.y,L.fR)}else this.jj.moveTo(J.x,J.y,L.fR);
this.jf=J;this.je=new ml(J)};A.To.prototype.TI=function(z,r,k){if(z.t.o!=0&&z.t.o!=this.fP){this.fP=z.t.o;
this.TL(this.caller,k)}};A.To.prototype.Ts=function(z,r,k,L){if(this.jj==null)return;var E=z.a[z.L[0]],F=z.t.q_(L.x,L.y);
F=A.nA.wN(z,F,r);var U=this.je.oi(F,k);this.jj.lineTo(U.x,U.y,L.fR);this.jf=U};A.To.prototype.hV=function(z,r,k,L){if(this.id!=A.hH||z==null)return;
if(z.i==null||z.L[0]!=this.muI){this.muI=z.L[0];this.Tp(0,r)}};A.To.prototype.N=function(z,r){if(r==null)r=this.jj.rc();
if(r.z$())return;var k=z.a[z.L[0]];if(k.B<=0){k.N(r)}if(k.B==1){k._F().Yp=!0;k._q(z)}if(k.B==3){k.N()}z.N(z.root.CC(r,z,z.L[0]))};
A.To.prototype.hw=function(z,r,k,L,E){if(this.jj==null)return;this.jj.finish();if(this.id!=A.hk)this.Td(z);
if(this.id==A.hH){var F=z.i;z.i=this.fJ;var U=new D(Y.E.q,!0);U.data={J:"setsel",HZ:this.name,i:F};U.R=A.hs;
r.K(U);if(this.jD.qsmode==0)this.Tp(1,r)}else{this.finish(z,this.jj.mcD());this.jj=null}this.dir=0};
A.To.prototype.Tp=function(z,r){if(z==this.jD.qsmode)return;this.jD.qsmode=z;var k=new D(Y.E.D,!0);k.data={J:Y.Q.nx,R:this.id,fQ:{qsmode:z}};
r.K(k)};A.To.prototype.finish=function(z,r,k){var L=z.a[z.L[0]],E,F;if(L.B<=0){E=e.$(r.Y()*4);e.Jb(this.jF,this.jg,E,r);
F=e.$(r.Y()*4);e.Jb(L.buffer,L.rect,F,r)}else{var U=L.B==1?L._F():L.ZS(z).k;E=e.$(r.Y());e.set(E,U.color);
e.Jp(this.jF,this.jg,E,r);F=e.$(r.Y());e.set(F,U.color);e.Jp(U.channel,U.rect,F,r)}var l=new mS(k?k:this.name,this);
l.data={J:"putbrush",C:z.L[0],fN:L.B,fy:r,fV:E,fO:F};z.qA(l)};A.To.prototype.h_=function(z,r){this.T$(z,r,z.fV,z.mEw)};
A.To.prototype.hO=function(z,r){this.T$(z,r,z.fO,z.mcV)};A.To.prototype.T$=function(z,r,k,L){var E=r.a[z.C];
if(z.J=="putbrush"){if(z.fN<=0){E.extend(z.fy);e.Jb(k,z.fy,E.buffer,E.rect);E.Pu()}if(z.fN==1||z.fN==3){var F=z.fN==1?E._F():E.ZS(r).k;
e.Jp(k,z.fy,F.channel,F.rect);if(z.fN==1){E._F().Yp=!0;E._q(r)}}}if(z.J=="drawtemp"){E.fq.fC=L;E._s(r,0,0,r.i)}E.N();
r.N()};A.To.prototype.Td=function(z){this.TH(z,this.fG,this.jj.rA(),this.jj.Te(),this.jj.rc());this.N(z)};
A.To.prototype.TH=function(z,r,k,L,E){var F=this.jD,U=z.a[z.L[0]],l=U.B<=0?null:U.B==1?U._F():U.ZS(z).k,G=e.$(E.Y()*4);
if(l==null){U.extend(E);e.Jb(this.jF,this.jg,G,E)}else{l.extend(E);A.To.TD(this.jF,this.jg,l.color,G,E)}if(z.i&&r!="qselect"){var g=E.Mk(z.i.rect),P=e.$(g.Y()*4);
e.Jb(k,L,P,g);e.JF(z.i.channel,z.i.rect,P,g);k=P;L=g}if(r=="draw")e.M.Py(F.bmode,k,L,G,E,E,F.opacity);
if(r=="erase"){var J=e.$(E.Y()*4);e.Jb(k,L,J,E);if(l==null){var x=e.$(E.Y());e.Jw(J,x,3);e.Jk(x,F.opacity);
e.Jo(x);e.JF(x,E,G,E)}else{e.JV(J,0,4278190080);e.M.Py("norm",J,E,G,E,E,F.opacity)}}if(r=="clone"||r=="heal"){var a=this.Tb(),d=this.fS.clone();
d.offset(a.x,a.y);var t=E.clone();t.aD(1,1);var m=e.$(t.Y()*4),b=e.$(t.Y());e.Jb(k,L,m,t);e.Jw(m,b,3);
e.JV(m,0);if(l==null){e.Jb(this.fm,d,m,t);var I=e.$(t.Y());e.Jw(m,I,3);e.Jf(I,b)}else A.To.TD(this.jF,d,l.color,m,t);
if(r=="clone"){e.JN(b,m,3);e.M.Py(F.bmode,m,t,G,E,E,F.opacity)}if(r=="heal"){var v=e.clone(b);e.round(v,20);
var W=e.$(t.Y()*4);e.Jb(this.jF,this.jg,W,t);e.M.Pv(m,t,W,t,v,t,0,t,1,!1);e.Mx.Gd(W,v,t);e.M.Pv(W,t,G,E,b,t,0,E,1,!1)}}if(r=="dodge"||r=="burn"){var m=e.$(E.Y()*4),j=1,p=0,X=0,M=0;
e.Jb(k,L,m,E);var B=E.Y()*4,n=A.To.Ti;if(this.fz){if(r=="dodge")r="burn";else r="dodge"}var H=F.rng;
if(r=="dodge"){p=[1-j/2,1,1+j][H];X=[1,1/(1+j),1][H];M=[j/2,0,0][H]}if(r=="burn"){p=[1/(1-j/2),1,1-j/2][H];
X=[1,1+j,1][H];M=[-(j/2)/(1-j/2),0,0][H]}for(var c=0;c<B;c+=4){var S=m[c+3];G[c+0]=n(G[c+0],p,X,M,S);
G[c+1]=n(G[c+1],p,X,M,S);G[c+2]=n(G[c+2],p,X,M,S)}}if(r=="sponge"){var m=e.$(E.Y()*4),b=e.$(E.Y());e.Jb(k,L,m,E);
e.Jw(m,b,3);e.JZ(G,m);var w=F.smode;if(this.fz)w=1-w;var R=e.$(256);for(var c=0;c<256;c++)R[c]=c;var i=e.$(256);
e.set(i,127+[-50,23][w]);var f=e.$(256);e.set(f,127+[25,-5][w]);var _={type:"remapHSL",fo:R,iw:i,fL:f,fU:1,fn:0,fv:0};
mm.Os(_,m,m);e.M.Pv(m,E,G,E,b,E,0,E,1,!1)}if(r=="copy")e.Jb(k,L,G,E);if(r=="sheal0"||r=="sheal1"||r=="sheal2"){var m=e.$(E.Y()*4),b=e.$(E.Y());
e.Jb(k,L,m,E);e.Jw(m,b,3);var u=[null,null,e.G$.Gd][parseInt(r.charAt(5))];u(this.jF,this.jg,b,G,E)}if(r=="qselect"){var Q=this.jD.brush,$=this.jD.qsmode,C=Math.max(40,Math.round(Q.Brsh.v.Dmtr.v.val*1.7)),t=E.clone();
t.aD(C,C);t=t.Mk(this.jg);var m=e.$(t.Y()*4);e.Jb(k,L,m,t);var b=e.$(t.Y());for(var c=0;c<b.length;c++){var y=m[c<<2],N=m[(c<<2)+3];
b[c]=y==255&&N==255?255:y==0&&N==255?0:100}if(z.i==null)z.i={channel:e.$(0),rect:new Z};e.extend(z.i,t);
var O=e.$(t.Y());e.Jp(z.i.channel,z.i.rect,O,t);if($==2){e.Jo(b);e.Jo(O)}e.Jb(this.jF,this.jg,m,t);var JQ=e.MM.MM(t,m,b);
e.MH.MD(O,JQ,JQ);if($==2){e.Jo(JQ)}e.Jp(JQ,t,z.i.channel,z.i.rect);z.fX=!0}if(l==null)e.Jb(G,E,U.buffer,U.rect);
else A.To.TY(G,E,l)};A.To.Tb=function(){return null};A.To.Ti=function(z,r,k,L,E){var F=z*(1/255),U=L+r*Math.pow(F,k),l=Math.round(U*E+F*(255-E));
return Math.max(0,Math.min(255,l))};A.To.TD=function(z,r,k,L,E){var F=e.$(E.Y());e.set(F,k);e.Jp(z,r,F,E);
e.JV(L,4278190080);e.mKR(F,L)};A.To.TY=function(z,r,k){var L=e.$(r.Y());e.JB(z,L);e.Jp(L,r,k.channel,k.rect)};
A.Tk=function(z,r,k){A.hA.call(this,z,r,k);this.jD={fI:"front",YC:0,fs:{KQ:0,x:3,y:2}};this.ft=new V(-1,-1);
this.fp=new V(-1,-1);this.f$="default";this.fd=!1;this.fH=!1;this.fz=!1;this.fD=0;this.fY=0;this.fk=!1;
this.fj=null;this.ff=null};A.Tk.prototype=new A.hA;A.Tk.prototype.ho=function(z){return this.fk||z.fe&&this.id!=A.hp};
A.Tk.prototype.Tj=function(z,r,k){var L=new D(r,!0);L.data=k;z.K(L)};A.Tk.prototype.Tf=function(z,r){var k=new D(Y.E.D,!0);
k.data={J:Y.Q.UH,ji:r};z.K(k)};A.Tk.prototype.Te=function(z,r,k){r=z.i==null||this.fD>1||this.fY>1?r:null;
var L=this.ft,E=this.fp;L.x=Math.round(L.x);L.y=Math.round(L.y);E.x=Math.round(E.x);E.y=Math.round(E.y);
if(k){L.x=Math.max(0,Math.min(z.X,L.x));L.y=Math.max(0,Math.min(z.z,L.y));E.x=Math.max(0,Math.min(z.X,E.x));
E.y=Math.max(0,Math.min(z.z,E.y))}var F=A.Nu.Nx(L,E,r,!0,this.jD.fs),U=F[0].x,l=F[0].y;return new Z(U,l,F[1].x-U,F[1].y-l)};
A.Tk.prototype.hT=function(z,r,k,L,E){this.fd=!1;this.fH=L._(s.Vy);this.fz=L._(s.V_);this.fD=this.fH?0:1;
this.fY=this.fz?0:1;this.ft=z.t.q_(E.x,E.y);this.ft=A.nA.wN(z,this.ft,k);if(this.Tg(z,this.ft)){this.fk=!0;
this.fj=z.i.rect.clone();return}this.Rm(z,k,L,E);z.t.fg=new Z};A.Tk.prototype.Tg=function(z,r){if(z.i&&this.jD.fI=="front")return e.Pl(r,z.i.channel,z.i.rect);
return!1};A.Tk.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);if(V.Ed(this.ft,F)*z.t.o>5)this.fd=!0;
if(L._(s.VC)){if(this.ff==null)this.ff=new V(F.x-this.ft.x,F.y-this.ft.y);this.ft.x=F.x-this.ff.x;this.ft.y=F.y-this.ff.y}else this.ff=null;
this.fp=F;if(!this.fk)this.fp=A.nA.wN(z,this.fp,k);if(this.Tg(z,this.fp))this.Tf(r,"move");else this.Tf(r,this.f$);
if(this.fk){var U=this.fj.clone();U.x+=this.fp.x-this.ft.x;U.y+=this.fp.y-this.ft.y;var l=A.nA.wy(z,U,k);
z.i.rect.x=Math.round(this.fp.x-this.ft.x+this.fj.x+l[0]);z.i.rect.y=Math.round(this.fp.y-this.ft.y+this.fj.y+l[1]);
z.fX=!0;A.nA.ww(z,U,l);return}this.RJ(z,k,L,E);if(z.t.fg)z.t.fg=this.Te(z,L)};A.Tk.prototype.hw=function(z,r,k,L,E){z.t.fg=null;
this.fp=z.t.q_(E.x,E.y);this.fp=A.nA.wN(z,this.fp,k);if(this.fk){this.fk=!1;if(this.fp.Jq(this.ft)&&this.RS()=="front"){var F=new mS([7,1],this);
F.data={J:"changesel",fJ:z.i,fF:null};z.qA(F);this.hO(F.data,z);return}this.TF(z,this.fj,z.i.rect.clone());
if(z!=null&&z.w.eS){z.w.eS=null;z.eJ=!0}return}this.RP(z,k,L,E)};A.Tk.prototype.TF=function(z,r,k){var L=z.qh();
if(L!=null&&L.R==this&&L.data.J=="movesel"){}else{L=new mS([7,7],this);L.data={J:"movesel",eP:r};z.qA(L)}L.data.ez=k;
this.hO(L.data,z)};A.Tk.prototype.hy=function(z,r,k,L){if(this.fd){if(this.fD==0&&!L._(s.Vy))this.fD++;
if(this.fD==1&&L._(s.Vy))this.fD++;if(this.fY==0&&!L._(s.V_))this.fY++;if(this.fY==1&&L._(s.V_))this.fY++}if(z.i!=null){var E=L.Va();
if(E.x!=0||E.y!=0){var F=z.i.rect.clone();F.x+=E.x;F.y+=E.y;this.TF(z,z.i.rect.clone(),F)}}};A.Tk.prototype.finish=function(z,r,k,L){var E=z.i,F=this.getSelection(z,r,k,L),g;
if(F&&this.jD.YC!=0){var U={rect:F.rect.clone(),channel:null},l=Math.round(this.jD.YC*2.6);U.rect.aD(l,l);
var G=e.$(U.rect.Y());U.channel=e.$(U.rect.Y());e.Jp(F.channel,F.rect,G,U.rect);e.blur.Pk(G,U.channel,U.rect,this.jD.YC);
F=U}if(F!=null&&e.JD(F.channel,0)){F=null}if(F==null){if(E==null)return;g=new mS([7,1],this);g.data={J:"changesel",fJ:E,fF:F}}else{if(E!=null)F=e.MH.Mb(F,E,this.RS());
g=new mS(this.name,this);g.data={J:"changesel",fJ:E,fF:F}}z.qA(g);this.hO(g.data,z);this.ft.Ep(-1,-1);
this.fp.Ep(-1,-1)};A.Tk.prototype.RS=function(){var z=this.jD.fI;if(this.fH)z="union";if(this.fz)z="difference";
if(this.fH&&this.fz)z="intersection";return z};A.Tk.prototype.getSelection=function(z,r,k,L){return null};
A.Tk.prototype.Rm=function(z,r,k,L){};A.Tk.prototype.RJ=function(z,r,k,L){};A.Tk.prototype.RP=function(z,r,k,L){};
A.Tk.prototype.h_=function(z,r){var k=z.J;if(k=="changesel")r.i=z.fJ;if(k=="movesel")r.i.rect=z.eP;r.fX=!0};
A.Tk.prototype.hO=function(z,r){var k=z.J;if(k=="changesel")r.i=z.fF;if(k=="movesel")r.i.rect=z.ez;r.fX=!0};
A.Tk.prototype.hZ=function(z){this.jD=z};A.Tk.prototype.Rz=function(z){var r=e.b.Mm(z.O);if(r.z$())return null;
var k=Y.d("canvas","");k.width=r.X;k.height=r.z;var L=k.getContext("2d");L.beginPath();L.translate(-r.x,-r.y);
Typr.U.pathToContext({cmds:z.be,crds:z.O},L);L.closePath();L.fill();var E=e.$(r.Y()),F=L.getImageData(0,0,k.width,k.height);
e.Jw(F.data,E,3);return{rect:r,channel:E}};A.RG=function(){A.To.call(this,[10,18],A.TP,"tools/blur");
this.fG="copy"};A.RG.prototype=new A.To;A.RG.prototype.hT=function(z,r,k,L,E){var F=L._(s.V_)?mx.rT:mx.TP;
this.TX(z,k,L,E,this.jD.strn,F);if(this.jj==null)return;this.Td(z)};A.RG.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;
this.TI(z,r,k);if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.RW=function(){A.To.call(this,[10,0],A.he,"tools/brush");
this.fG="draw"};A.RW.prototype=new A.To;A.RW.prototype.hT=function(z,r,k,L,E){if(this.Tv(L,r,E))return;
this.TX(z,k,L,E,this.jD.flow);if(this.jj==null)return;this.Td(z)};A.RW.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;
this.TI(z,r,k);if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.RM=function(){A.To.call(this,[10,38],A.hg,"tools/pencil");
this.fG="draw"};A.RM.prototype=new A.To;A.RM.prototype.hT=function(z,r,k,L,E){if(this.Tv(L,r,E))return;
this.TX(z,k,L,E,this.jD.flow);if(this.jj==null)return;this.Td(z)};A.RM.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;
this.TI(z,r,k);if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.RQ=function(){A.To.call(this,[10,22],A.mMx,"tools/burn");
this.fG="burn"};A.RQ.prototype=new A.To;A.RQ.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,this.jD.expo/Math.E);
if(this.jj==null)return;this.Td(z)};A.RQ.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.Ru=function(){A.To.call(this,[10,1],A.hF,"tools/clone");
this.fG="clone";this.eG=null;this.eW=null;this.V=null;this.eM=0};A.Ru.prototype=new A.To;A.Ru.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
this.eG=F;if(L._(s.V_)||L._(s.VF)){this.eW=z.t.q_(E.x,E.y);this.V=null;return}if(this.eW==null){if(Date.now()-this.eM>1e3){alert(zA.get([15,7,0]));
this.eM=Date.now()}return}this.TX(z,k,L,E,this.jD.flow);if(this.jj==null)return;if(this.V==null||!this.jD.algnd)this.V=new V(Math.round(F.x-this.eW.x),Math.round(F.y-this.eW.y));
this.Td(z)};A.Ru.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);if(!E.fe||this.eW==null)return;
this.Ts(z,k,L,E);this.Td(z)};A.Ru.prototype.Tb=function(){return this.V};A.Ru.prototype.disable=function(z,r,k,L){this.eW=null;
this.V=null};A.RK=function(){A.hA.call(this,[10,2],A.hi,"tools/crop");this.eQ={eu:{KQ:0,x:0,y:0}};this.eK=null;
this.cursor=null;this.eE=0};A.RK.prototype=new A.hA;A.RK.prototype.ho=function(z){return this.eK&&this.eK.Ns()};
A.RK.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),U=this.eQ.eu,l=U.KQ==1?U.x/U.y:null;if(this.eK==null)this.eK=new zo(null,!0,!1,!1,!0,U.KQ==1);
this.eK.hT(z,k,L,F,l)};A.RK.prototype.TL=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.UH,ji:this.cursor};
z.K(r)};A.RK.prototype.enable=function(z,r,k,L){this.cursor="crosshair";this.TL(r)};A.RK.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
if(!E.fe){var U="crosshair";if(this.eK&&this.eK.Nb(F,z.t.o))U=this.eK.Nb(F,z.t.o);else if(this.eK){if(this.eK.ND(F))U="default";
else U="default"}if(U!=this.cursor){this.cursor=U;this.TL(r)}}if(this.eK==null)return;this.eK.hR(z,k,L,F);
z.t.fg=this.Rc()};A.RK.prototype.hw=function(z,r,k,L,E){if(this.eK==null)return;var F=z.t.q_(E.x,E.y);
this.eK.hw(z,k,L,F);this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,el:!0});var U=this.eK.Nt();if(Math.abs(U[0]-U[4])<2||Math.abs(U[1]-U[5])<2){this.disable(z,r,null,L);
return}if(Date.now()-this.eE<200&&this.eK.ND(F)){this.Ra(z,k);this.disable(z,r,k,L);return}this.eE=Date.now()};
A.RK.prototype.hy=function(z,r,k,L){if(L._(s.VR)){this.Ra(z,k);this.disable(z,r,k,L)}else if(L._(s.VZ)){this.disable(z,r,k,L)}else if(this.eK)this.eK.hy(z,k,L)};
A.RK.prototype.hh=function(z,r,k,L,E){var F,U=new Z(0,0,k.X,k.z),l=[11,3],G=k.bx,g=k.X/2,P=k.z/2,J=!1;
if(z.J=="imgsize"){U=new Z(0,0,z.ex,z.ea);if(z.ec)G=z.ec;J=z.eB==0}else if(z.J=="canvsize"){var x=z.eA!=null?z.eA:0;
U=new Z(0,0,z.ex,z.ea);var a=k.X-z.ex,d=k.z-z.ea,t=Math.round(a/2),m=Math.round(d/2);if(x==1||x==4||x==7)U.x=t;
if(x==2||x==5||x==8)U.x=a;if(x==3||x==4||x==5)U.y=m;if(x==6||x==7||x==8)U.y=d;if(z.V){U.x=z.V.x;U.y=z.V.y}}else if(z.J=="rot"&&z.u!=Math.PI){U=new Z(g-k.z/2,P-k.X/2,k.z,k.X);
if((k.X+k.z&1)==1){g=Math.floor(g);P=Math.floor(P);U=new Z(g-Math.floor(k.z/2),P-Math.floor(k.X/2),k.z,k.X);
if((k.X&1)==1&&z.u!=-Math.PI/2)U.y--;if((k.z&1)==1&&z.u==-Math.PI/2)U.x--}}else if(z.J=="trim"){l=[11,12];
var b=k.a[k.L[0]];U=e.PQ(b.buffer,b.rect);if(U.z$())U=b.rect.clone()}if(z.J=="imgsize"||z.J=="rot"||z.J=="scl"){var I=new zT;
if(z.J=="imgsize"){l=[11,10];I.scale(z.ex/k.X,z.ea/k.z)}else{I.translate(-g,-P);if(z.J=="rot")I.rotate(z.u);
if(z.J=="scl")I.scale(z.u.x,z.u.y);I.translate(g,P);l=z.HZ}F=this.RE(k,E,I,J)}var v=new mS(l,this);v.data={eP:new Z(0,0,k.X,k.z),ez:U,eh:k.bx,ec:G,eT:F,WR:I};
k.qA(v);this.hO(v.data,k)};A.RK.prototype.RE=function(z,r,k,L){var E={a:[],eR:null,ew:null};for(var F=0;
F<z.a.length;F++)E.a.push(F);E.eR=A.s.NV(z,E.a,!0);A.s.N_(z,r,E.a,E.eR,L,e.GE.GB(k));E.ew=A.s.NV(z,E.a,!0);
return E};A.RK.prototype.hO=function(z,r){if(z.ec)r.bx=z.ec;if(z.eT){A.RK.Rl(r,z.WR);A.s.NO(r,z.eT.a,z.eT.ew)}A.RK.Rx(r,z.ez)};
A.RK.prototype.h_=function(z,r){if(z.eh)r.bx=z.eh;var k=z.eP.clone();k.offset(-z.ez.x,-z.ez.y);A.RK.Rx(r,k);
if(z.eN)r.t.V.Et(z.eN);r.Cg();if(z.eT){var L=z.WR.clone();L.Jo();A.RK.Rl(r,L);A.s.NO(r,z.eT.a,z.eT.eR)}};
A.RK.Rl=function(z,r){for(var k=0;k<z.a.length;k++){var L=z.a[k];if(L.add.artb==null)continue;var E=e.b.MJ(L._f()).O;
e.b.Wg(E,r,E);var F=e.b.Mm(E);L._e(F)}};A.RK.Rx=function(z,r){z.X=r.X;z.z=r.z;var k=[];for(var L=0;L<z.a.length;
L++)k.push(L);A.nA.wh(z,k,null,-r.x,-r.y);for(var L=0;L<z.a.length;L++){z.a[L]._q(z)}z.Cg();z.t.V.Ep(0,0);
if(z.i)z.i.rect.offset(-r.x,-r.y)};A.RK.prototype.hZ=function(z,r,k,L,E){if(z.ey=="commit"){this.Ra(k,E);
this.disable(k,r,null,L)}else if(z.ey=="cancel"){this.disable(k,r,null,L)}var F=null,U=this.eQ.eu;if(z.ey=="config"){this.eQ=z.eQ;
U=this.eQ.eu;if(k==null)return;F=new Z(0,0,k.X,k.z);if(U.KQ==1){var l=U.x/U.y;F.z=Math.round(F.X/l)}if(U.KQ==2){F.X=U.x;
F.z=U.y}F.x=Math.round((k.X-F.X)/2);F.y=Math.round((k.z-F.z)/2)}if(z.ey=="cropby"){if(k==null)return;
var G=z.mWN,F;if(G==0)F=k.root.Te(k,!0);if(G==1){var g=k.root.Cy(k.L[0]);F=g.Te(k,!0)}if(G==2){var P=k.a[k.L[0]];
F=e.PQ(P.buffer,P.rect);if(F.z$())F=P.rect.clone();if(F.z$())F=null}if(G==3){if(k.i!=null)F=k.i.rect;
else alert("There is no selection.")}}if(F!=null){this.eK=new zo([F.x,F.y,F.x+F.X,F.y,F.x+F.X,F.y+F.z,F.x,F.y+F.z],!0,!1,!1,!0,U.KQ==1);
this.eK.Ng(k);this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,el:!0})}};A.RK.prototype.Ra=function(z,r){var k=new mS(this.name,this),L=e.GE.Gc(e.GE.Gx(this.eK.Nt())),E,F=Math.atan2(L.g,L.n);
if(F!=0){var U=new zT;U.translate(-L.bo,-L.bL);U.rotate(F);U.translate(L.bo,L.bL);E=this.RE(z,r,U,!1)}var l=this.Rc();
k.data={eP:new Z(0,0,z.X,z.z),ez:l,eT:E,WR:U,eN:z.t.V.clone()};z.qA(k);this.hO(k.data,z)};A.RK.prototype.Rc=function(){var z=e.GE.Gc(e.GE.Gx(this.eK.Nt())),r=z.bo,k=z.bL,L=Math.atan2(z.g,z.n);
z.rotate(L);var E=new Z(r,k,z.n,z.br);E.x=Math.round(E.x);E.y=Math.round(E.y);E.X=Math.round(E.X);E.z=Math.round(E.z);
if(E.X<0){E.x=E.x+E.X;E.X*=-1}if(E.z<0){E.y=E.y+E.z;E.z*=-1}return E};A.RK.prototype.disable=function(z,r,k,L){if(z==null)return;
if(this.eK)this.eK.clear(z);this.eK=null;z.t.fg=null;this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,el:!1})};A.RK.prototype.Tj=function(z,r,k,L){var E=new D(r,!0);
E.data=k;if(L)E.R=L;z.K(E)};A.RB=function(){A.To.call(this,[10,21],A.mME,"tools/dodge");this.fG="dodge"};
A.RB.prototype=new A.To;A.RB.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,this.jD.expo/Math.PI);
if(this.jj==null)return;this.Td(z)};A.RB.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.RA=function(){A.To.call(this,[10,3],A.TS,"tools/eraser");
this.fG="erase"};A.RA.prototype=new A.To;A.RA.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,this.jD.flow);
if(this.jj==null)return;this.Td(z)};A.RA.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;var F=this.Ts(z,k,L,E);this.Td(z)};A.RA.prototype.hh=function(z,r,k,L,E){if(!k.qm())return;
var F=k.a[k.L[0]];if(z.J=="clear"){var U=k.i,J,x;if(z.eO!=null){F=k.a[z.eO];U={rect:F.rect.clone(),channel:e.$(F.rect.Y())};
e.set(U.channel,255)}if(U==null)return;var l=F.B<=0?null:F.B==1?F._F():F.ZS(k).k,G=F.B<=0?F.rect:l.rect,g=F.B<=0||l.color==0?U.rect.Mk(G):U.rect;
if(g.z$())return;var P=g.Y();if(F.B<=0){J=e.$(P*4);x=e.$(P*4);e.Jb(F.buffer,F.rect,J,g);e.Jb(F.buffer,F.rect,x,g)}else{J=e.$(P);
x=e.$(P);l.extend(g);e.Jp(l.channel,l.rect,J,g);e.Jp(l.channel,l.rect,x,g)}if(F._I(k,U)){if(F.B<=0){e.JV(x,0);
e.Jb(F.fq.km,F.fq.e_,x,g)}else{e.set(x,255);e.Jp(F.fq.km,F.fq.e_,x,g)}}else{if(F.B<=0){var a=e.$(x.length>>2);
e.Jw(x,a,3);e.M.PH(e.PB(U.rect.Y()),U.rect,a,g,U.channel,g,1);e.JN(a,x,3)}else{var d=e.$(U.rect.Y()),t=E.fT>>16&255,m=E.fT>>8&255,b=E.fT>>0&255;
e.set(d,Math.round(e.mg(t,m,b)));e.M.PH(d,U.rect,x,g,U.channel,g,1)}}var I=new mS([2,2],this);I.data={J:"putbrush",C:k.L[0],fN:F.B,fy:g,fV:J,fO:x};
k.qA(I);this.hO(I.data,k)}if(z.J=="stroke"){var v=z.mlQ,U=k.i;if(U==null){U={rect:F.rect.clone(),channel:e.$(F.rect.Y())};
e.Jw(F.buffer,U.channel,3)}var W=mK.oP(v),B=A.wH.wb(U,Math.ceil(W[0]),Math.ceil(W[1])),n=e.v.GU(v.Clr.v),t=Math.round(n.F),m=Math.round(n.P),b=Math.round(n.g);
this.Rh(k,F,B,t,m,b,Math.round(255*v.Opct.v.val/100),mP._B(v.Md.v.BlnM),[14,9])}if(z.J=="fill"){var n=[E.fh,E.fT,0,16777215][z.YR],t=n>>16&255,m=n>>8&255,b=n>>0&255;
this.Rh(k,F,k.i,t,m,b,255,"norm",[2,3])}if(z.J=="fillBMP"){this.RT(k,F,k.i,z.bP,z.in,z.HZ)}if(z.J=="paste"){var j=z.eC,p=zM.yG.yQ(j,k);
this.TU(k);this.TH(k,"draw",j.buffer,p,p);this.N(k,p);this.finish(k,p,"Paste")}};A.RA.prototype.Rh=function(z,r,k,L,E,F,U,l,G){var g=k==null?new Z(0,0,z.X,z.z):k.rect,P=U<<24|F<<16|E<<8|L<<0,J=e.$(g.Y()*4);
e.JV(J,P);this.RT(z,r,k,J,l,G)};A.RA.prototype.RT=function(z,r,k,L,E,F){var U=r.B<=0?null:r.B==1?r._F():r.ZS(z).k,l=r.B<=0?r.rect:U.rect,G=k==null?new Z(0,0,z.X,z.z):k.rect,g=k==null?e.Pa(z.X*z.z):k.channel,P=G.Y(),J,x,a=null;
if(r.B<=0){J=e.$(P*4);x=e.$(P*4);e.Jb(r.buffer,r.rect,J,G);e.Jb(r.buffer,r.rect,x,G)}else{J=e.$(P);x=e.$(P);
U.extend(G);e.Jp(U.channel,U.rect,J,G);e.Jp(U.channel,U.rect,x,G)}if(k!=null)e.mab(g,L);if(r.B>0){a=e.$(P);
e.JB(L,a)}if(r._I(z,k)){var d=r.fq.fC,t=e.clone(r.fq.fC);if(r.B<=0)e.JZ(L,t);else e.JZ(a,t);var m=new mS([2,3],this);
m.data={J:"drawtemp",C:z.L[0],fN:r.B,mEw:d,mcV:t};z.qA(m);this.hO(m.data,z)}else{if(r.B<=0)e.M.Py(E,L,G,x,G,G,1);
else e.M.PH(a,G,x,G,g,G,1);var m=new mS(F,this);m.data={J:"putbrush",C:z.L[0],fN:r.B,fy:G,fV:J,fO:x};
z.qA(m);this.hO(m.data,z)}};A.RR=function(){A.Tk.call(this,[10,4],A.ht,"tools/eselect");this.f$="crosshair"};
A.RR.prototype=new A.Tk;A.RR.prototype.RJ=function(z,r,k,L){if(!L.fe||!this.fd)return;var E=this.Te(z,k);
z.w.eq=A.RR.Rw(E);z.eJ=!0};A.RR.prototype.RP=function(z,r,k,L){z.w.eq=null;z.eJ=!0;this.finish(z,r,k,L)};
A.RR.prototype.getSelection=function(z,r,k,L){if(this.ft.Jq(this.fp)||!this.fd)return null;var E=this.Te(z,k);
if(!E.ak(new Z(0,0,z.X,z.z)))return null;return this.Rz(A.RR.Rw(E))};A.RR.Rw=function(z){var r=z.x,k=z.y,L=z.x+z.X,E=z.y+z.z,F=(r+L)/2,U=(k+E)/2,l=(r-L)/2,G=(k-E)/2,g=.5522848,P={O:[F,U-G],be:["M","C","C","C","C"]};
P.O.push(F+g*l,U-G,F+l,U-g*G,F+l,U);P.O.push(F+l,U+g*G,F+g*l,U+G,F,U+G);P.O.push(F-g*l,U+G,F-l,U+g*G,F-l,U);
P.O.push(F-l,U-g*G,F-g*l,U-G,F,U-G);return P};A.RN=function(){A.hA.call(this,[10,5],A.hD,"tools/eyedropper");
this.eo=!1;this.er=1};A.RN.prototype=new A.hA;A.RN.prototype.ho=function(z){return z.fe};A.RN.prototype.hh=function(z,r,k,L,E){if(z.J=="pickhere")this.Ry(k,r,E,L,z.mlF)};
A.RN.prototype.hT=function(z,r,k,L,E){this.eo=!0;this.Ry(z,r,k,L,E)};A.RN.prototype.hR=function(z,r,k,L,E){if(this.eo)this.Ry(z,r,k,L,E)};
A.RN.prototype.hw=function(z,r,k,L,E){this.eo=!1};A.RN.prototype.Ry=function(z,r,k,L,E){var F=A.RN.RV(z,E,this.er),U=new D(Y.E.D);
U.data={J:Y.Q.na,Hq:zB.yg,eL:0,u:F};r.K(U)};A.RN.RV=function(z,r,k){var L=z.t.q_(r.x,r.y),E=Math.floor(L.x),F=Math.floor(L.y),U=(k-1)/2,l=Math.max(0,E-U),G=Math.max(0,F-U),g=Math.min(z.X,E+U+1),P=Math.min(z.z,F+U+1),J=(g-l)*(P-G),x=z.Ce(),a=0,d=0,t=0;
for(var E=l;E<g;E++)for(var F=G;F<P;F++){var m=4*(F*z.X+E);a+=x[m];d+=x[m+1];t+=x[m+2]}a=Math.round(a/J);
d=Math.round(d/J);t=Math.round(t/J);return a<<16|d<<8|t};A.RN.prototype.hZ=function(z){this.er=z.er};
A.RO=function(){A.hA.call(this,[10,6],A.mMz,"tools/gradient");this.jD={v:JSON.parse(K.qv.qI).v,style:"Lnr",reverse:!1,eU:"norm",opacity:1};
this.en=!1;this.ev=null};A.RO.prototype=new A.hA;A.RO.prototype.enable=function(z,r,k,L){var E=new D(Y.E.D,!0);
E.data={J:Y.Q.UH,ji:"default"};r.K(E)};A.RO.prototype.hZ=function(z){this.jD=z.Hq};A.RO.prototype.hT=function(z,r,k,L,E){if(!z.qm())return;
this.ev=z.t.q_(E.x,E.y);this.ev=A.nA.wN(z,this.ev,k);this.en=!0};A.RO.prototype.hR=function(z,r,k,L,E){if(!this.en)return;
var F=z.t.q_(E.x,E.y);F=A.nA.wN(z,F,k);if(L._(s.Vy))F=A.RO.R_(this.ev,F);z.w.eq={O:[this.ev.x,this.ev.y,F.x,F.y],be:["M","L"]};
z.w.eX=[this.ev.x,this.ev.y,F.x,F.y];z.eJ=!0};A.RO.prototype.hw=function(z,r,k,L,E){if(!this.en)return;
var F=z.a[z.L[0]],U=z.t.q_(E.x,E.y);U=A.nA.wN(z,U,k);if(L._(s.Vy))U=A.RO.R_(this.ev,U);var l=U.E$(this.ev),G=V.We(this.ev,U,.5),g=Math.atan2(l.y,l.x),P=V.Ed(this.ev,U),J=Math.sin(g),x=Math.cos(g);
if(P>2){var a;if(z.i)a=z.i.rect;else a=new Z(0,0,z.X,z.z);var d=e.$(a.Y()*4),t=this.jD.style;if(t!="Lnr"){P*=2;
G=this.ev}e.v.Gr(this.jD.v,d,a,[x*1/P,J*1/P,-J*1/P,x*1/P],G.x,G.y,this.jD.reverse,K.v.types.indexOf(t),k.fh,k.fT);
var m=Math.round(this.jD.opacity*256),b=d.length;if(m!=256)for(var I=0;I<b;I+=4)d[I+3]=d[I+3]*m>>>8;
var v=new D(Y.E.q);v.R=A.TS;v.data={J:"fillBMP",bP:d,in:this.jD.eU,HZ:this.name};r.K(v)}z.w.eq=null;
z.w.eX=[];z.eJ=!0;this.en=!1};A.RO.R_=function(z,r){if(z.Jq(r))return z;var k=r.x-z.x,L=r.y-z.y,E=Math.abs(k),F=Math.abs(L);
if(E>F)F=E/2>F?0:E;if(F>E)E=F/2>E?0:F;E=k>0?E:-E;F=L>0?F:-F;var U=Math.sqrt(k*k+L*L)/Math.sqrt(E*E+F*F);
return new V(z.x+E*U,z.y+F*U)};A.RO.Qa=function(z,r,k,L,E,F,U){if(U==null)U=Y.d("canvas","");var l=U.getContext("2d");
U.width=r;U.height=k;var G=new Z(0,0,r,k),g=e.$(r*k*4);e.Ja(g,r,k,4,0,0);var P=Math.sin(L),J=Math.cos(L),x=e.$(r*k*4);
e.v.Gr(z,x,G,[J*1/r,P*1/r,-P*1/k,J*1/k],r/2,k/2,!1,0,E,F);e.M.Py("norm",x,G,g,G,G,1);var a=l.getImageData(0,0,r,k);
e.JZ(g,a.data);l.putImageData(a,0,0);return U.toDataURL()};A.RO.mEJ=function(z,r,k){var L=JSON.parse(JSON.stringify(z));
for(var E=0;E<L.Clrs.v.length;E++){var F=L.Clrs.v[E].v,U=F.Type.v.Clry;if(U=="UsrS")continue;var l=U=="FrgC"?r:k;
F.Type.v.Clry="UsrS";F.Clr={t:"Objc",v:e.v.Gn({F:l>>16&255,P:l>>8&255,g:l&255})}}return L};A.RC=function(){A.hA.call(this,[10,7],A.TT,"tools/hand");
this.eI=new V(0,0);this.es=new V(0,0)};A.RC.prototype=new A.hA;A.RC.prototype.hh=function(z,r,k,L,E){var F=z.J;
if(F=="scroll"&&!L._(s.V_)){if(L._(s.VO))this.Rq(k,k.t.V.x-z.et.y,k.t.V.y-z.et.x);else this.Rq(k,k.t.V.x-z.et.x,k.t.V.y-z.et.y)}};
A.RC.prototype.enable=function(z,r,k,L){var E=new D(Y.E.D,!0);E.data={J:Y.Q.UH,ji:"grab; cursor:-moz-grab; cursor:-webkit-grab;"};
r.K(E)};A.RC.prototype.hT=function(z,r,k,L,E){this.es.Et(z.t.V);this.eI.Ep(E.x,E.y)};A.RC.prototype.hR=function(z,r,k,L,E){if(!E.fe)return;
this.Rq(z,this.es.x+(E.x-this.eI.x),this.es.y+(E.y-this.eI.y))};A.RC.prototype.Rq=function(z,r,k){var L=z.t.o;
if(z.X*L<z.t.l.X&&z.z*L<z.t.l.z)z.t.V.Ep(0,0);else{z.t.V.x=r;z.t.V.y=k}z.ep=!0};A.Ro=function(){A.To.call(this,[10,25],A.hj,"tools/hbrush");
this.fG="clone";this.eG=null;this.eW=null;this.V=null};A.Ro.prototype=new A.To;A.Ro.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
this.eG=F;if(L._(s.V_)||L._(s.VF)){this.eW=z.t.q_(E.x,E.y);this.V=null;return}if(this.eW==null){alert(zA.get([15,7,0]));
return}this.TX(z,k,L,E,this.jD.flow);if(this.jj==null)return;if(this.V==null||!this.jD.algnd)this.V=new V(Math.round(F.x-this.eW.x),Math.round(F.y-this.eW.y));
this.Td(z,{V:this.V})};A.Ro.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe||this.eW==null)return;this.Ts(z,k,L,E);this.Td(z)};A.Ro.prototype.hw=function(z,r,k,L,E){if(this.jj==null)return;
this.TH(z,"heal",this.jj.rA(),this.jj.Te(),this.jj.Te());this.N(z,this.jj.Te());A.To.prototype.hw.call(this,z,r,k,L,E);
if(!this.jD.algnd)this.V=null};A.Ro.prototype.Tb=function(){return this.V};A.Ro.prototype.disable=function(z,r,k,L){this.eW=null;
this.V=null};A.Rr=function(){A.hA.call(this,[10,8],A.TE,"tools/htype");this.e$=[];this.ed=null;this.eH=null;
this.caller=null;this.eb=0;this.ei=null;this.eD=null;this.eY=null;this.ek=null;this.ej=null;this.ef=null;
this.ee=null;this.eK=null;this.eg=!1;this.gS=!1;this.Ua=!1;this.gJ=null;this.gP=null;this.gz=null;this.gG=!1;
this.gW=!1;this.gM=-1;this.gQ=-1;this.gu=document.createElement("textarea");this.gu.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.gu.addEventListener("input",this.mxP.bind(this),!1);this.gu.addEventListener("keydown",this.mlS.bind(this),!1);
document.body.appendChild(this.gu)};A.Rr.prototype=new A.hA;A.Rr.prototype.ho=function(z){return z.fe};
A.Rr.prototype.hV=function(z,r,k,L){if(this.eD!=null)return;this.caller=r;this.ed=z;var E=this.RL(z);
if(E.length!=0){var F=null,U=[],l=[];for(var G=0;G<E.length;G++){var g=z.a[E[G]],P=g.add.TySh,J=0,x=q.rH(P.Yc).length-2,a=q.LP(P.Yc,J,x);
q.Lz(a,A.s.Ej(P.Wg));if(a.kW.Font!=null)a.kW.Font=a.kw[a.kW.Font].Name;F=a.kw;U.push(a.kW);l.push(a.kM)}var a={kw:F,kW:q.Gw(U),kM:q.Gw(l)};
if(a.kW.Font)q.rd(a,a.kW.Font);this.ei=JSON.stringify(a);this.Rp(r,a)}};A.Rr.prototype.RL=function(z){var r=[];
for(var k=0;k<z.L.length;k++)if(z.a[z.L[k]].add.TySh)r.push(z.L[k]);return r};A.Rr.prototype.hh=function(z,r,k,L,E){if(this.eD!=null){var F=this.gW;
if(z.J=="warp"||z.J=="warpCancel"){if(z.J=="warp")this.eD.add.TySh.Yx=z.ut;else this.eD.add.TySh.Yx=this.ef;
var k=this.ed;this.Ri(k,E);if(!F)this.Rg(k);this.gu.focus()}if(z.J=="warpConfirm"){}if((z.J=="warpConfirm"||z.J=="warpCancel")&&F){this.gW=!1;
if(z.J=="warpConfirm")this.Rj(k,r);else this.Rf(k,r)}}if(z.J=="editCurr"){if(this.eD!=null)this.disable(k,r,E,L);
this.ed=k;this.eH=E;this.caller=r;this.Rn(k,r,E,[z.gK]);var U=q.rH(this.eD.add.TySh.Yc);this.gM=0;this.gQ=U.length-1;
this.Rg(k);this.Rt();this.gu.focus()}if(z.J=="newED"){var l=k.a[z.gE],G=l.add.TySh,g=this.RH(k,[z.gE]);
G.Yc=z.mSk;if(z.Wg)G.Wg=z.Wg;var P=new mc(G.Yc,E.bQ),J=ma.rR(P,G);l.rect=J.rect;l.buffer=J.bT;l.N();
k.N();var x=new mS(this.name,this);x.data={ga:g,gc:this.RH(k,[z.gE])};k.qA(x)}};A.Rr.prototype.hq=function(z){return this.e$.indexOf(z)!=-1};
A.Rr.prototype.enable=function(z,r,k,L){this.TL(r)};A.Rr.prototype.hr=function(){return this.eD!=null};
A.Rr.prototype.RU=function(z,r){for(var k=z.a.length-1;k>=0;k--){var L=z.a[k];if(L.add.TySh&&L.rect.ab(r)&&z.qP(k))return k}return-1};
A.Rr.prototype.hT=function(z,r,k,L,E){this.ed=z;this.eH=k;this.caller=r;var F=z.t.q_(E.x,E.y),U=this.eD==null;
if(U){var l=this.RU(z,F);if(l!=-1)this.Rn(z,r,k,[l]);else{this.Ua=!0;this.gJ=E;return}}if(this.eK&&this.eK.hT(z,k,L,F)&&e.ut.up(this.eD.add.TySh.Yx)||!U&&e.b.WF(F,this.eD.rect)>20/z.t.o&&q.ri(this.eD.add.TySh.Yc)==0){this.eg=!0;
this.gP=F;this.gz=this.eD.add.TySh.Wg.clone()}else{this.gS=!0;this.gM=this.gQ=this.Re(F);var G=Date.now();
if(G-this.eb<300){this.mEN();this.gS=!1}this.eb=G}this.Rg(z)};A.Rr.prototype.Rn=function(z,r,k,L){var E=z.a[L[0]];
this.eD=E;this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,ey:"showactive"});this.eY=L;z.L=L.slice(0);z.qO();z.gB=!0;
var F=E.add.TySh;this.ej=this.RH(z,L);if(q.ri(F.Yc)==1){var U=q.rY(F.Yc);U=new Z(0,0,U[2]-U[0],U[3]-U[1]);
var l=[U.x,U.y,U.x+U.X,U.y,U.x+U.X,U.y+U.z,U.x,U.y+U.z];e.b.Wg(l,F.Wg,l);this.eK=new zo(l,!1,!1,!1,!0)}this.Ri(z,k)};
A.Rr.prototype.mEN=function(){var z=q.rH(this.eD.add.TySh.Yc);this.gM=this.RX(z,this.gM);this.gQ=this.RI(z,this.gM)};
A.Rr.prototype.RX=function(z,r){var k=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",L=[];for(var E=0;E<k.length;
E++)L.push(k.charAt(E));var F=L.indexOf(z[r])==-1?!0:!1;for(var E=r-1;E>=0;E--)if(L.indexOf(z.charAt(E))!=-1==F)return E+1;
return 0};A.Rr.prototype.RI=function(z,r){var k=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",L=[];for(var E=0;
E<k.length;E++)L.push(k.charAt(E));var F=L.indexOf(z[r])==-1?!0:!1;for(var E=r+1;E<z.length;E++)if(L.indexOf(z.charAt(E))!=-1==F)return E;
return z.length-1};A.Rr.prototype.TL=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.UH,ji:this.ee};
z.K(r)};A.Rr.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),U=this.eD;if(!E.fe){var l="default";
if(this.eK&&e.ut.up(U.add.TySh.Yx)){if(this.eK.Nb(F,z.t.o))l=this.eK.Nb(F,z.t.o);else{if(this.eK.ND(F))l="text"}}else if(U&&e.b.WF(F,U.rect)>20/z.t.o)l="move";
else if(this.RU(z,F)!=-1)l="text";if(l!=this.ee){this.ee=l;this.TL(r)}}if(this.Ua&&V.Ed(this.gJ,E)>4){this.Ua=!1;
this.Rs(z,r,k,L,E);U=this.eD;q.rD(U.add.TySh.Yc,1);this.eg=!0;this.eK=new zo(null,!1,!1,!1,!0);this.eK.hT(z,k,L,z.t.q_(this.gJ.x,this.gJ.y))}if(this.eg){var G=U.add.TySh;
if(this.eK){this.eK.hR(z,k,L,F);var g=G.Wg.clone(),P=Math.atan2(g.g,g.n);g.rotate(P);var J=e.GE.Gc(e.GE.Gx(this.eK.Nt())),x=Math.atan2(J.g,J.n);
J.rotate(x);if(!isNaN(J.n)&&J.n*J.br-J.g*J.bq!=0){var a=new Z(0,0,J.n/g.n,J.br/g.br);q.rk(G.Yc,[0,0,Math.round(a.X),Math.round(a.z)]);
G.Wg=e.GE.Gc(e.GE.Gx(this.eK.Nt(),a));this.Ri(z,k)}}else{var d=F.x-this.gP.x,t=F.y-this.gP.y;G.Wg=this.gz.clone();
var m=new V(G.Wg.bo+d,G.Wg.bL+t);m=A.nA.wN(z,m,k);G.Wg.bo=m.x;G.Wg.bL=m.y;this.Ri(z,k)}}if(this.gS)this.gQ=this.Re(F);
if(this.eg||this.gS)this.Rg(z)};A.Rr.prototype.Rs=function(z,r,k,L,E){var F=z.qa(),U=z.a.slice(0);F._p("Text layer "+U.length);
this.eD=F;var l=z.L[z.L.length-1],G=l+1;if(U[l].add.lsct==mG.ZW)G--;this.ej={gA:U.slice(0),fJ:z.L.slice(0)};
U.splice(G,0,F);z.L=[G];this.gM=this.gQ=0;z.qy(U);this.ej.gh=U.slice(0);this.ej.fF=z.L.slice(0);this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,ey:"showactive"});
E=z.t.q_(E.x,E.y);F.add.TySh=q.rs(E.x,E.y,k.gT);return F};A.Rr.prototype.hw=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
if(this.Ua){this.Ua=!1;this.Rs(z,r,k,L,E);q.rD(this.eD.add.TySh.Yc,0);this.gS=!0}if(this.eg||this.gS){this.Rg(z);
this.Rt()}if(this.eg&&this.eK)this.eK.hw(z,k,L,F);this.eg=this.gS=!1;this.gu.focus()};A.Rr.prototype.Rt=function(){var z=Math.min(this.gM,this.gQ),r=Math.max(this.gM,this.gQ),k,L;
if(z==r){var E=this.ek&&this.ek.rC(z-1);if(z==0||E&&E.gR=="\n")k=L=z;else k=L=z-1}else{k=z;L=r-1}var F=this.eD.add.TySh,U=q.LP(F.Yc,k,L);
q.Lz(U,A.s.Ej(F.Wg));this.Rp(this.caller,U)};A.Rr.prototype.Rp=function(z,r){this.Tj(z,Y.E.D,{J:Y.Q.na,Hq:zB.yY,gT:r})};
A.Rr.prototype.hy=function(z,r,k,L){if(L._(s.VZ))this.Rf(z,r)};A.Rr.prototype.disable=function(z,r,k,L){if(this.eD)this.Rj(z,r);
else this.Rf(z,r)};A.Rr.prototype.hZ=function(z,r,k,L,E){if(z.ey=="commit")this.Rj(k,r);if(z.ey=="cancel")this.Rf(k,r);
if(z.ey=="showwarp"){if(k==null)return;if(this.eD==null){var F=k.a[k.L[0]],U=F.add.TySh;if(U==null)return;
this.Rn(k,r,E,[k.L[0]]);this.gu.focus();this.gW=!0}this.ef=this.eD.add.TySh.Yx;var l=new D(Y.E.D,!0);
l.data={J:Y.Q.nP,Hw:"textwarp"};r.K(l)}};A.Rr.prototype.hC=function(z,r){this.eH=z;var k=this.ed;if(k==null)return;
if(r!=zB.yt&&r!=zB.yY&&r!=zB.yD)return;if(this.gG){this.gG=!1;var L=this.eY;for(var E=0;E<L.length;E++){this.eD=k.a[L[E]];
this.Ri(k,z)}this.Rj(k,this.caller);return}if(this.eD==null){if(this.ei==JSON.stringify(z.gT)){return}var L=this.RL(k),F=!1;
if(L.length!=0){this.Rn(k,this.caller,z,L);for(var E=0;E<L.length;E++){var U=k.a[L[E]],l=U.add.TySh;
this.eD=U;var G=q.rH(l.Yc);this.gM=0;this.gQ=G.length-1;q.Lm(l.Yc,this.gM,this.gQ,this.R$(z,l));var g=this.Ri(k,z);
if(g==!1)F=!0}if(F){this.gG=!0;return}this.Rj(k,this.caller)}return}var P=Math.min(this.gM,this.gQ),J=Math.max(this.gM,this.gQ),l=this.eD.add.TySh;
q.Lm(l.Yc,P,J-1,this.R$(z,l));var k=this.ed;this.Ri(k,z);this.Rg(k);this.gu.focus()};A.Rr.prototype.R$=function(z,r){var k=JSON.parse(JSON.stringify(z.gT));
q.Lz(k,1/A.s.Ej(r.Wg));return k};A.Rr.prototype.hO=function(z,r){if(z.ga!=null)this.Rd(r,z.gc);else this.Rb(r,z.gh,z.fF)};
A.Rr.prototype.h_=function(z,r){if(z.ga!=null)this.Rd(r,z.ga);else this.Rb(r,z.gA,z.fJ)};A.Rr.prototype.Rd=function(z,r){for(var k=0;
k<r.length;k++){var L=r[k],E=L.gE;z.a[E].buffer=L.gw;z.a[E].rect=L.iy.clone();z.a[E].N();var F=z.a[E].add.TySh;
F.Yx=L.ut;F.Ya=L.Ya.clone();F.Wg=L.Wg.clone();F.Yc=JSON.parse(JSON.stringify(L.Yc))}z.N()};A.Rr.prototype.RH=function(z,r){var k=[];
for(var L=0;L<r.length;L++){var E=r[L],F=z.a[E],U=F.add.TySh;k.push({gE:E,Wg:U.Wg.clone(),ut:JSON.parse(JSON.stringify(U.Yx)),Ya:U.Ya.clone(),Yc:JSON.parse(JSON.stringify(U.Yc)),gw:e.clone(F.buffer),iy:F.rect.clone()})}return k};
A.Rr.prototype.Rb=function(z,r,k){z.L=k;z.qy(r);z.N()};A.Rr.prototype.Ri=function(z,r,k){if(k==null)k=!1;
var L=this.eD.add.TySh;if(!ma.ry(L,r.bQ))return!1;this.ek=new mc(L.Yc,r.bQ);if(!k){var E=q.rH(L.Yc);
this.gu.value=E.slice(0,E.length-1)}var F=ma.rR(this.ek,L),U=F.rect;if(e.ut.up(L.Yx))L.Ya=new Z;else{if(q.ri(L.Yc)==1){var l=q.rY(L.Yc),G=F.Ya.y;
L.Ya=new Z(0,G,l[2]-l[0],l[3]-l[1]-G)}else{L.Ya=F.Ya}}var g=this.eD.rect;this.eD.rect=F.rect;this.eD.buffer=F.bT;
this.eD.N();z.qV();z.N(z.root.CC(F.rect.MD(g),z,z.a.indexOf(this.eD)));return!0};A.Rr.prototype.mxP=function(z){if(this.eD==null)return;
var r=this.gu.selectionStart,k=this.eD.add.TySh,L=q.rH(k.Yc),E=this.gu.value+"\n",F=Math.min(this.gM,this.gQ),U=Math.max(this.gM,this.gQ);
this.gM=Math.min(r,F);if(E.length-r<L.length-this.gQ)this.gQ=L.length-E.length+r;if(L!=E){while(this.gM>0&&L.charAt(this.gM-1)!=E.charAt(this.gM-1))this.gM--}var l=L.substring(0,this.gM),G=L.substring(this.gQ,L.length),g=E.substring(this.gM,E.length-G.length);
q.rF(k.Yc,this.gM,this.gQ);q.rg(k.Yc,this.gM,g);q.Lm(k.Yc,this.gM,this.gM+g.length-1,this.R$(this.eH,k));
this.gM=this.gQ=l.length+g.length;var P=this.ed;this.Ri(P,this.eH,!0);this.Rg(P,!0)};A.Rr.prototype.mlS=function(z){if(this.eD==null)return;
var r=s,k=0,L=0,G=!1;if(r.VB(z.code,r.Vn))k=1;if(r.VB(z.code,r.VL))k=-1;if(r.VB(z.code,r.VU))L=-1;if(r.VB(z.code,r.Vv))L=1;
var E=z.ctrlKey||z.metaKey,F=r.VB(z.code,s.Vo),U=r.VB(z.code,s.Vr),l=q.rH(this.eD.add.TySh.Yc);if(k!=0||L!=0||F||U){z.preventDefault();
var g=this.gM;if(k!=0){if(E&&k==-1)g=this.RX(l,this.gM-1);else if(E&&k==1)g=this.RI(l,this.gM);else g=this.gM+k}else if(L!=0){var P=this.ek.ro(this.gM);
if(L==-1&&P.gN==0)g=0;else if(L==1&&P.gN==this.ek.gy-1)g=99999999999;else g=this.ek.rq(new V(P.rect.x+P.rect.X/2,0),P.gN+L)}else if(F){var J=this.gM-1;
while(J>0&&l.charCodeAt(J)!=10)J--;g=J==0?0:J+1}else if(U){var J=this.gM;while(J<l.length-1&&l.charCodeAt(J)!=10)J++;
g=J}g=Math.max(0,Math.min(l.length-1,g));if(z.shiftKey)this.gM=g;else this.gM=this.gQ=g;G=!0}if(r.VB(z.code,s.Q)&&E){this.gM=0;
this.gQ=l.length-1;G=!0}if(G){this.Rt();this.Rg(this.ed)}};A.Rr.mll=function(z,r){var k=z.length;if(k!=r.length)return!1;
for(var L=0;L<k;L++)if(z[L].gE!=r[L].gE)return!1;return!0};A.Rr.prototype.Rj=function(z,r){if(this.eD==null)return;
var k=this.ej;if(k instanceof Array){var L=this.RH(z,this.eY),E=z.qh();if(E!=null&&E.R==this&&E.data.ga&&A.Rr.mll(E.data.ga,k))E.data.gc=L;
else{var F=new mS(this.name,this);F.data={ga:k,gc:L};z.qA(F)}}else{var U=this.eD,l=U.add.TySh,G=q.rH(l.Yc).slice(0,50);
G=G.replace(/(?:\r\n|\r|\n)/g," ");U._p(G);var F=new mS(this.name,this);F.data={gA:k.gA,gh:k.gh,fJ:k.fJ,fF:k.fF};
z.qA(F)}this.escape(z,r)};A.Rr.prototype.Rf=function(z,r){if(this.eD==null)return;if(this.ej instanceof Array)this.Rd(z,this.ej);
else{z.L=this.ej.fJ;z.qy(this.ej.gA)}z.N();this.escape(z,r)};A.Rr.prototype.escape=function(z,r){this.eD=null;
this.eY=null;this.ek=null;this.eK=null;this.gu.blur();z.w.eq=null;z.w.gV=null;z.w.eX=[];z.eJ=!0;this.eg=!1;
this.gS=!1;this.gM=this.gQ=-1;this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,ey:"hideactive"})};A.Rr.prototype.Tj=function(z,r,k,L){var E=new D(r,!0);
E.data=k;if(L)E.R=L;z.K(E)};A.Rr.prototype.Re=function(z){var r=this.eD.add.TySh,k=this.ek,L=r.Wg.clone();
L.Jo();var E=L.Ef(z),F=q.Te(r,k),U=e.ut.uH(r.Yx,F),l=e.zB.c.zn(U,0,1,0,1),G=new Uint32Array(30),g=e.zB.c.mSB(l.bw,l.bN,E.x,E.y,G),P=e.zB.Pl(U,E.x,E.y,l.bw,G,g,!1),J=e.zB.zT;
if(J==null)J=new Float64Array(2);E=new V(F.x+J[0]*F.X,F.y+J[1]*F.z);var x=k.rq(E),a=k.rC(x),d=k.ro(x).rect;
if(a.gR!="\n"&&(a.gO==0&&E.x>d.x+d.X/2||a.gO==1&&E.x<d.x+d.X/2))x++;return x};A.Rr.prototype.Rg=function(z,r){if(r==null)r=!1;
var k=this.eD.add.TySh,L=this.ek;z.w.eX=[];z.w.eq=null;z.w.gV=null;if(this.eK){this.eK.Ng(z,!e.ut.up(k.Yx));
var E=k.Wg.clone();E.Jo();e.b.Wg(z.w.eX,E,z.w.eX);e.b.Wg(z.w.eq.O,E,z.w.eq.O)}else this.mlh(z,k,L);var F=Math.min(this.gM,this.gQ),U=Math.max(this.gM,this.gQ);
if(!r){this.gu.selectionStart=F;this.gu.selectionEnd=U}if(L!=null){if(F==U){var l=L.ro(F).rect.clone(),G=this.eH.gT.kW.FontSize;
if(G!=null&&G!=0){l.y+=l.z-G;l.z=G}var g=L.rC(F);if(g!=null&&g.gO==1)l.x+=l.X;l.y+=l.z*.27;z.w.eq.be.push("M","L");
z.w.eq.O.push(l.x,l.y,l.x,l.y+l.z)}else{z.w.gV={O:[],be:[]};for(var P=F;P<U;P++){var l=L.ro(P).rect;
l.y+=l.z*.27;var J=e.b.MJ(l);e.b.concat(z.w.gV,J)}}}if(L!=null){var x=q.Te(k,L);if(!x.z$()){var a=e.ut.uH(k.Yx,x);
if(z.w.eq){z.w.eq=e.b.MP(z.w.eq);z.w.eq=e.b.Mz(z.w.eq,Math.min(x.X,x.z)/10);e.zB.apply(a,z.w.eq.O,x)}if(z.w.gV){z.w.gV=e.b.MP(z.w.gV);
z.w.gV=e.b.Mz(z.w.gV,Math.min(x.X,x.z)/10);e.zB.apply(a,z.w.gV.O,x)}e.zB.apply(a,z.w.eX,x)}}if(z.w.eq)e.b.Wg(z.w.eq.O,k.Wg,z.w.eq.O);
if(z.w.gV)e.b.Wg(z.w.gV.O,k.Wg,z.w.gV.O);e.b.Wg(z.w.eX,k.Wg,z.w.eX);z.eJ=!0};A.Rr.prototype.mlh=function(z,r,k){if(k==null)return;
z.w.eX.push(0,0);if(z.w.eq==null)z.w.eq={be:[],O:[]};for(var L=0;L<k.kM.length;L++){var E=k.kM[L];for(var F=0;
F<E.g_.length;F++){var U=E.g_[F],l=E.gZ.x+U.gZ.x+U.rect.x,G=E.gZ.y+U.gZ.y+U.rect.y+U.rect.z;z.w.eq.be.push("M","L");
z.w.eq.O.push(l,G,l+U.rect.X,G)}}z.eJ=!0};A.wS=function(){A.Tk.call(this,[10,9],A.hp,"tools/lasso");
this.f$="crosshair";this.gC=null;this.gq=null};A.wS.prototype=new A.Tk;A.wS.prototype.Rm=function(z,r,k,L){this.gC=this.ft;
this.gq={O:[this.gC.x,this.gC.y],be:["M"]}};A.wS.prototype.RJ=function(z,r,k,L){if(!L.fe||this.gq==null)return;
this.gq.be.push("L");this.gq.O.push(this.fp.x,this.fp.y);this.gC=this.fp;if(this.fd){z.w.eq=this.gq;
z.eJ=!0}};A.wS.prototype.RP=function(z,r,k,L){if(this.gq==null||!this.fd)return;z.w.eq=null;z.eJ=!0;
this.finish(z,r,k,L)};A.wS.prototype.getSelection=function(z,r,k,L){if(this.ft.Jq(this.fp))return null;
return this.Rz(this.gq)};A.nA=function(){A.hA.call(this,[10,11],A.hI,"tools/move");this.go=new V(0,0);
this.gr=new V(0,0);this.je=null;this.gL=new V(0,0);this.gU=null;this.gn=null;this.gv=null;this.gX=null;
this.m=[];this.gI=null;this.en=!1;this.J=0;this.gs=null;this.gt=null;this.gp=null;this.g$=!1;this.jD={gd:!1,gH:!1,gb:!1};
this.eK=null;var z="<svg  class=\"autoscale\" style=\"vertical-align:middle;\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.gD=[{name:z+" PNG"},{name:z+" SVG",Hc:!0},{name:"Copy CSS",T:function(k){return{gf:zA.get([5,1])+" CSS"}}}];
this.gY=new mV(this.gD);this.gY.U("select",this.wM,this);this.gk=[];for(var r=0;r<e.MB.MR.length;r++)this.gk.push({name:e.MB.MR[r],T:function(k,L,E){return{ge:L.gF.gg==E}}});
this.gj=new mV(this.gk);this.gj.U("select",this.mlr,this)};A.nA.prototype=new A.hA;A.hA.prototype.ho=function(z){return this.en&&this.J!=2};
A.nA.prototype.hv=function(){return this.en&&this.J==0};A.nA.prototype.hX=function(z,r,k,L){this.wx(z,-this.gL.x,-this.gL.y);
this.gL.Ep(0,0);this.wc(z,null,k);this.wG(z)};A.nA.prototype.hU=function(){var z=this.jD;return[z.gd?1:0,z.gH?1:0,z.gb?1:0]};
A.nA.prototype.hn=function(z,r,k){var L=this.jD;if(z&&z[0]!=null)L.gd=z[0]==1;if(z&&z[1]!=null)L.gH=z[1]==1;
if(z&&z[2]!=null)L.gb=z[2]==1;var E=new D(Y.E.D,!0);E.data={J:Y.Q.nx,R:this.id,HO:L,FS:r};k.K(E)};A.nA.wJ=function(z,r,k,L,E){var F=z.qT(null,E),U=z.CD(F)[0];
if(k!=1){var l=new Z(0,0,Math.round(U.X*k),Math.round(U.z*k));A.RK.Rx(U,l);var G=[];for(var g=0;g<U.a.length;
g++)G.push(g);var P=A.s.NV(U,G,!0);A.s.N_(U,L,G,P,!1,e.GE.GB(new zT(k,0,0,k,0,0)),null,!0);U.qx()}var J=[];
for(var g=0;g<r.length;g++)J.push(zc.mU(U,r[g].toUpperCase()));return J};A.nA.prototype.wP=function(z,r,k,L,E){if(z==null)return;
var F=A.nA.wJ(z,[r],k,L,null)[0],U=new D(Y.E.D,!0);U.data={J:Y.Q.nz,data:F,name:z.a[z.L[0]].getName()+"."+r};
E.K(U)};A.nA.prototype.hZ=function(z,r,k,L,E){if(z.eL=="getPNG"){this.wP(k,"png",z.Fm,E,r)}else if(z.eL=="getSVG"){this.wP(k,"svg",z.Fm,E,r)}if(z.eL=="prms"){this.jD=z;
this.wG(k)}if(z.eL=="algn"){var F=z.u;if(k==null)return;if(k.L.length<2&&!(k.i!=null&&F!=3&&F!=7)){alert(zA.get([15,7,5]));
return}var U=k.i;k.i=null;var l=U?U.rect:A.s.Te(k);this.wK(k,r,L,E,!1);if(!this.en)return;var G=this.gX,g={},P=[],J=[],x=[];
for(var a=0;a<G.length;a++){var d=G[a];while(k.a[d].getName()=="</Layer group>")d++;var t=k.root.Cy(d),m=t;
while(t.parent!=null){t=t.parent;if(G.indexOf(t.index)!=-1)m=t}var b=J.indexOf(m.index);if(b==-1){b=J.length;
J.push(m.index)}P[a]=b}var I=[],v=[],W=[];for(var a=0;a<J.length;a++){var B=A.s.Te(k,k.qT(!0,J[a]));
W.push(B);var n=F==3?[B.y,B.z]:[B.x,B.X];I[a]=n;v.push(n)}A.nA.mlV(v);for(var a=0;a<J.length;a++){var B=W[a],j=B.x,p=B.y;
if(F==0)j=l.x;if(F==1)j=l.x+(l.X-B.X)/2;if(F==2)j=l.x+(l.X-B.X);if(F==3)p=I[a][0];if(F==4)p=l.y;if(F==5)p=l.y+(l.z-B.z)/2;
if(F==6)p=l.y+(l.z-B.z);if(F==7)j=I[a][0];x.push(Math.round(j-B.x),Math.round(p-B.y))}var X=[];for(var a=0;
a<G.length;a++){var M=P[a];X[2*a]=x[2*M];X[2*a+1]=x[2*M+1]}this.wx(k,0,0,null,X);var H=F==3||F==7?[20,4,6]:[20,4,F<3?F:F-1];
this.wc(k,null,E,X,H);k.i=U}};A.nA.mlV=function(z){var r=z.length,L=0;z.sort(function(l,G){return l[0]+l[1]/2-(G[0]+G[1]/2)});
var k=z[r-1][0]+z[r-1][1]-z[0][0];for(var E=0;E<r;E++)L+=z[E][1];var F=Math.round((k-L)/(r-1)),U=z[0][0];
for(var E=0;E<r;E++){z[E][0]=U;U+=z[E][1]+F}};A.nA.prototype.hh=function(z,r,k,L,E){var F=z.J;if(F=="trsl"){var U=Math.round(z.FJ),l=Math.round(z.FP);
this.gL.Ep(U,l);this.wK(k,r,L,E,!1,z.C);this.wx(k,U,l);this.wc(k,null,E)}};A.nA.prototype.enable=function(z,r,k,L,E){this.g$=E?!0:!1;
this.wG(z);this.TL("default",r)};A.nA.prototype.disable=function(z,r,k,L){if(z==null)return;if(this.eK){this.eK.clear(z);
this.eK=null}if(z.w.gb){z.w.gb=null;z.eJ=!0}if(z.w.eS){z.w.eS=null;z.eJ=!0}if(z.w.eq){z.w.eq=null;z.eJ=!0}};
A.nA.prototype.hV=function(z,r,k,L){this.wG(z)};A.nA.prototype.wG=function(z,r){if(z==null)return;var k=this.jD;
this.disable(z,null,null,null);if(!this.g$){var L=e.b.MS(A.s.Te(z));if(k.gH&&!L.z$()){this.eK=new zo([L.x,L.y,L.x+L.X,L.y,L.x+L.X,L.y+L.z,L.x,L.y+L.z],!0);
this.eK.Ng(z)}if(k.gb){var E=z.qz(z.L[0]),P=null,J=!1;if(E==null)E=new Z(0,0,z.X,z.z);z.w.gb={Fz:[L],FG:[]};
var F=z.w.gb.FG,U=L.x+L.X,l=L.y+L.z,G=L.x+Math.floor(L.X/2),g=L.y+Math.floor(L.z/2);if(r){var x=z.root.Pl(new V(Math.floor(r.x),Math.floor(r.y)));
if(x){P=e.b.MS(x.C._j(z));if(P.ak(L)){J=(P.ai(L)||L.ai(P))&&!L.Jq(P);if(!J)P=null}}}this.wW(L,F);if(P!=null){z.w.gb.Fz.push(P);
var a=P.x+P.X,d=P.y+P.z,t=P.x+Math.floor(P.X/2),m=P.y+Math.floor(P.z/2);if(J){var b=G,I=g;if(L.ai(P)){b=t;
I=m}F.push(L.x,I,P.x,I);F.push(U,I,a,I);F.push(b,L.y,b,P.y);F.push(b,l,b,d)}else{this.wW(P,F);var v=l<P.y||d<L.y,W=U<P.x||a<L.x;
if(U<P.x)F.push(U,g,P.x,g);if(a<L.x)F.push(a,g,L.x,g);if(l<P.y)F.push(G,l,G,P.y);if(d<L.y)F.push(G,d,G,L.y);
if(v&&!W){if(L.x<P.x)F.push(L.x,m,P.x,m);if(P.x<L.x)F.push(P.x,g,L.x,g)}}}else{if(L.y>E.y)F.push(G,E.y,G,L.y);
if(l<E.y+E.z)F.push(G,l,G,E.y+E.z);if(L.x>E.x)F.push(E.x,g,L.x,g);if(U<E.x+E.X)F.push(U,g,E.x+E.X,g)}z.eJ=!0}}if(this.J==3&&this.en){var B=e.b.MJ(this.gs);
if(z.w.eq==null)z.w.eq=B;else e.b.concat(z.w.eq,B);z.eJ=!0}};A.nA.prototype.wW=function(z,r){var k=z.X,L=z.z,E=z.x+Math.floor(k*.2),F=z.y+Math.floor(L*.2);
r.push(E,z.y,E,z.y+L);r.push(z.x,F,z.x+k,F)};A.nA.prototype.TL=function(z,r){var k={J:Y.Q.UH,ji:z},L=new D(Y.E.D,!0);
L.data=k;r.K(L)};A.nA.prototype.wM=function(z){var r=this.gY.nX()[0],k=this.gU;if(r<2)this.wP(k,["png","svg"][r],1,this.gn,this.gv);
if(r==2){var L=k.a[k.L[0]],E=CSS.Ls(L);E=E.join(";\n")+";";var F=Y.d("textarea");F.value=E;document.body.appendChild(F);
F.select();document.execCommand("copy");document.body.removeChild(F)}};A.nA.prototype.mlr=function(z){var r=JSON.parse(JSON.stringify(this.gn.gF));
r.gg=this.gj.nX()[0];var k=new D(Y.E.D,!0);k.data={J:Y.Q.na,Hq:zB.Vm,FW:r};this.gv.K(k)};A.nA.prototype.hN=function(z,r,k,L,E){this.gU=z;
this.gn=k;this.gv=r;var F=z.t.q_(E.x,E.y);this.wE(z,F,L);var U=this.gY,l=this.gD;if(A.nA.wu(k,E)){U=this.gj;
l=this.gk}U.parent=r;U.update(z,l,k);var G=new D(Y.E.D,!0);G.data={J:Y.Q.Ut,dF:U,x:E.FM+1,y:E.FQ+1};
r.K(G)};A.nA.prototype.hT=function(z,r,k,L,E){this.go.Ep(E.x,E.y);this.gr=z.t.q_(E.x,E.y);this.je=new ml(this.gr);
this.wK(z,r,L,k,!0)};A.nA.wu=function(z,r){return z.Fu&&(r.x<e.MB.MA||0<r.y&&r.y<e.MB.MA)};A.nA.prototype.wK=function(z,r,k,L,E,F){var U,l=this.gr;
if(E){var G=L.FK&&L.gF.YI;if(A.nA.wu(L,this.go)){U=JSON.parse(JSON.stringify(z.YI));if(this.go.x<e.MB.MA)z.YI[0].push(l.x);
if(this.go.y<e.MB.MA)z.YI[1].push(l.y);if(!G){var g=new D(Y.E.D);g.data={J:Y.Q.na,Hq:zB.VJ};r.K(g);G=!0}}var P=this.wl(z,l);
if(G&&P){this.J=2;this.gt=U?U:JSON.parse(JSON.stringify(z.YI));this.gX=P;this.en=!0;return}if(this.eK&&this.eK.Nb(l,z.t.o,!0)!=null){var g=new D(Y.E.D);
g.data={J:Y.Q.nK,R:A.Tw};r.K(g);var J=new D(Y.E.q);J.R=A.Tw;J.data={J:"doMouseDown",FE:this.go};r.K(J);
return}if(z.i==null&&(!this.g$&&(k._(s.VO)||this.jD.gd)||this.g$&&this.jD.gd&&(k._(s.Vy)||z.L.length<2))){var x=this.wE(z,l,k);
if(!x){z.L=[];z.Fl=z.Fx=!0;this.J=3;this.gs=new Z;this.en=!0;return}}if(k._(s.V_)&&z.i==null){var J=new D(Y.E.q);
J.R=A.T_;J.data={J:T.Zh};r.K(J)}}this.gX=z.qT(F==null,F);for(var a=0;a<this.gX.length;a++){var d=z.a[this.gX[a]];
if(d._b(2)||d._b(31)){alert("\""+d.getName()+"\" is locked!");return}}this.m=A.nA.wR(z,this.gX);this.J=0;
if(z.i&&z.L.length==1){if(!z.qm()||!z.qG()){this.en=!1;return}var t=z.a[z.L[0]],m=k._(s.V_);this.J=1;
var b=z.history[z.Fa];if(b.R==this&&b.data.J==1&&b.data.C==z.L[0]&&t.B==t.fq.B&&!m){this.gp=b}else{var I=t.fq,v=!1,W;
if(!t._I(z,z.i)||m){v=!0;t._U(z,z.i,m)}if(t.fq.B<=0){W=e.$(t.fq.fC.length>>2);e.Jw(t.fq.fC,W,3)}else W=e.clone(z.i.channel);
var B={rect:t.fq.iO.clone(),channel:W};this.gp=new mS(m?[12,53]:[12,54],this);this.gp.data={J:1,C:z.L[0],fq:t.fq,Fc:I,FB:v,fJ:z.i,fF:B,br:new V(0,0)};
z.qA(this.gp);z.i=B;z.fX=!0}}this.en=!0;this.gI=A.s.Te(z)};A.nA.prototype.wE=function(z,r,k){var L=z.root.Pl(new V(Math.floor(r.x),Math.floor(r.y)));
if(L){if(L.C.add.vmsk)z.eJ=!0;var E=z.a.indexOf(L.C);if(k._(s.Vy)){var F=z.L.indexOf(E);if(F==-1)z.L.push(E);
else if(z.L.length>1)z.L.splice(F,1)}else if(z.L.indexOf(E)==-1){L.C.B=0;z.L=[E];z.qO();z.gB=!0}}return L!=null};
A.nA.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),x,a;if(this.je)F=this.je.oi(F,L);if(!this.en){if(k.FK&&k.gF.YI){var U=this.wl(z,F),l="default";
if(U)l=["col-resize","row-resize"][U[0]];else if(this.eK){var G=this.eK.Nb(F,z.t.o);if(G)l=G}this.TL(l,r)}this.wG(z,F);
return}var g=this.gr,P=Math.round(F.x-g.x)-this.gL.x,J=Math.round(F.y-g.y)-this.gL.y;if(this.gI){a=this.gI.clone();
a.offset(this.gL.x+P,this.gL.y+J);x=A.nA.wy(z,a,k);P+=Math.round(x[0]);J+=Math.round(x[1])}this.gL.x+=P;
this.gL.y+=J;this.wx(z,P,J,F,null,L._(s.Vy));this.wG(z,F);if(x)A.nA.ww(z,a,x)};A.nA.prototype.wl=function(z,r){r=[r.x,r.y];
for(var k=0;k<2;k++)for(var L=0;L<z.YI[k].length;L++)if(Math.abs(z.YI[k][L]-r[k])*z.t.o<4)return[k,L];
return null};A.nA.prototype.wx=function(z,r,k,L,E,F){if(this.J==0){if(E)A.nA.wT(z,this.gX,this.m,E);
else A.nA.wh(z,this.gX,this.m,r,k)}else if(this.J==1){var U=this.gp.data;U.br.offset(r,k);A.nA.wa(z,U.C,r,k)}else if(this.J==2){var l=L.x,G=L.y;
if(F){var g=z.t.o<=1?10:1;l=g*Math.round(L.x/g);G=g*Math.round(L.y/g)}var P=[l,G],J=this.gX;z.YI[J[0]][J[1]]=P[J[0]];
z.eJ=!0}else if(this.J==3){var x=this.gr,a=e.b.Mm([x.x,x.y,L.x,L.y]);this.gs=a;var d=[];z.root.CV(a,d);
if(JSON.stringify(z.L)!=JSON.stringify(d)){z.L=d;z.Fl=!0;z.Fx=!0}}};A.nA.wa=function(z,r,k,L){var E=z.a[r];
z.i.rect.offset(k,L);E._s(z,k,L,z.i);z.fX=!0;z.N()};A.nA.prototype.hw=function(z,r,k,L,E){this.wc(z,E,k);
this.wG(z)};A.nA.prototype.wc=function(z,r,k,L,E){if(!this.en)return;this.en=!1;if(this.J==0){if(L){this.wB(z,null,L,E)}else{if(this.gL.x==0&&this.gL.y==0)return;
this.wB(z,this.gL.clone())}z.ep=!0}else if(this.J==2){var F=0;r=[r.x,r.y];var U=this.gX,l=this.gt[0].length+this.gt[1].length,G=z.YI[0].length+z.YI[1].length;
if(k.Fu&&r[U[0]]<e.MB.MA){z.YI[U[0]].splice(U[1],1);F=1;if(l==G-1)return}if(l<G)F=2;var g=new mS([[23,2],[23,3],[23,4]][F],this);
g.data={J:2,gt:this.gt,FA:JSON.parse(JSON.stringify(z.YI))};z.qA(g)}this.gL.Ep(0,0)};A.nA.prototype.hy=function(z,r,k,L){var E=L.Va();
if(E.x!=0||E.y!=0){this.gL.Ep(E.x,E.y);this.wK(z,r,L,k,!1);if(!this.en)return;this.wx(z,E.x,E.y);this.wc(z,null,k);
this.wG(z)}};A.nA.prototype.h_=function(z,r){if(z.J==0)A.nA.wT(r,z.L,z.Fh,z.FT,!0);else if(z.J==2){r.YI=JSON.parse(JSON.stringify(z.gt));
r.eJ=!0}else{var k=r.a[z.C];if(z.FB){k._X(r,z.Fc);r.i=z.fJ;r.fX=!0;r.N();k.N()}else{A.nA.wa(r,z.C,-z.br.x,-z.br.y)}}};
A.nA.prototype.hO=function(z,r){if(z.J==0)A.nA.wT(r,z.L,z.Fh,z.FT);else if(z.J==2){r.YI=JSON.parse(JSON.stringify(z.FA));
r.eJ=!0}else{var k=r.a[z.C];if(z.FB){k.fq=z.fq;r.i=z.fF;A.nA.wa(r,z.C,0,0);k.N()}else{A.nA.wa(r,z.C,z.br.x,z.br.y)}}};
A.nA.prototype.wB=function(z,r,k,L){if(k){var E=!0;for(var F=0;F<k.length;F++)if(k[F]!=0)E=!1;if(E)return}var U=z.history[z.Fa];
if(U.data&&U.R==this&&U.data.J==0&&k==null&&JSON.stringify(U.data.L)==JSON.stringify(this.gX)&&JSON.stringify(U.data.Fh)==JSON.stringify(this.m)){var l=U.data.FT;
for(var F=0;F<l.length;F+=2){l[F]+=r.x;l[F+1]+=r.y}}else{var G=new mS(L?L:[12,54],this);if(k)G.data={J:0,L:this.gX,Fh:this.m,FT:k};
else G.data={J:0,L:this.gX,Fh:this.m,FT:A.nA.wA(this.gX,r.x,r.y)};z.qA(G)}};A.nA.wA=function(z,r,k){var L=[];
for(var E=0;E<z.length;E++)L.push(r,k);return L};A.nA.wh=function(z,r,k,L,E){A.nA.wT(z,r,k,A.nA.wA(r,L,E))};
A.nA.wT=function(z,r,k,L,E){if(z.L.length==0)return;if(k==null){k=[];for(var F=0;F<r.length;F++){k.push(z.a[r[F]]._g(z,!0))}}var U=new Z,l=new Z(0,0,z.X,z.z);
for(var F=0;F<r.length;F++){var G=L[2*F],g=L[2*F+1];if(E){G=-G;g=-g}var P=z.a[r[F]],J=k[F];if(P.add.fxrp&&(J.indexOf(0)!=-1||P._N()))P.add.fxrp.offset(G,g);
for(var x=0;x<J.length;x++){var a=J[x];if(a==0){P.rect.offset(G,g);if(P._Y()&&P.ZS(z))P.ZS(z).rect.offset(G,g);
if(P.add.artb){var d=P._f();d.offset(G,g);P._e(d)}if(P.add.TySh)P.add.TySh.Wg.translate(G,g);if(P.add.SoLd){var t=new zT(1,0,0,1,G,g),m=P.add.SoLd,b=A.s.No(m.Trnf),I=A.s.No(m.nonAffineTransform);
e.b.Wg(b,t,b);e.b.Wg(I,t,I);m.Trnf=A.s.Nr(b);m.nonAffineTransform=A.s.Nr(I)}}if(a==1)P._F().rect.offset(G,g);
if(a==2)P.add.vmsk.offset(G,g);if(a==3){P.ZS(z).k.rect.offset(G,g);if(J.length==1)P.N()}}if(J.length>0){var v=P.add.GdFl;
if(v==null)v=P.add.PtFl;if(P._N()&&!P.__()&&P.add.vmsk!=null&&e.f.uy(P.add.vmsk.A)&&P.add.vmsk.iN==255&&(v==null||v.Algn&&v.Algn.v)){P.rect.offset(G,g)}else P._q(z);
var W=z.root.CC(P._j(z),z,r[F]);U=U.MD(W);W.offset(-G,-g);U=U.MD(W);if(P.add.SoCo||P.add.GdFl||P.add.PtFl||mm.get(P.add)!=null)U=U.MD(l);
P._y()}}z.N(U)};A.nA.wR=function(z,r){var k=[];for(var L=0;L<r.length;L++){var E=z.a[r[L]];k.push(E._g(z))}return k};
A.nA.ww=function(z,r,k){var L=z.w.eS={O:[],be:[]},E=r.x+k[0],F=r.y+k[1];if(k[2]!=1e9){L.be.push("M","L");
L.O.push(k[2],F,k[2],F+r.z)}if(k[3]!=1e9){L.be.push("M","L");L.O.push(E,k[3],E+r.X,k[3])}z.eJ=!0};A.nA.wN=function(z,r,k){var L=A.nA.wV(z,[[r.x],[r.y]],k);
return new V(r.x+L[0],r.y+L[1])};A.nA.wy=function(z,r,k){var L=A.nA.wV(z,[[r.x,r.x+(r.X>>>1),r.x+r.X],[r.y,r.y+(r.z>>>1),r.y+r.z]],k);
return L};A.nA.wV=function(z,r,k){var L=[0,0,1e9,1e9];if(!k.FR||!k.FK)return L;for(var E=0;E<2;E++){var F=1e9,U=r[E],l=0;
for(var G=0;G<3;G++){var g=A.nA.wO(z,U[G],E,k);if(g!=1e9&&Math.abs(g-U[G])<Math.abs(F)){F=g-U[G];l=g}}if(F!=1e9){L[E]=F;
L[E+2]=l}}return L};A.nA.wO=function(z,r,k,L){var E=1e9,F=L.Fw,U=L.gF;if(F[0]&&U.YI){var l=z.YI[k];for(var G=0;
G<l.length;G++)if(Math.abs(l[G]-r)<Math.abs(E-r))E=l[G]}if(F[1]&&U.Fy){var g=Math.round(r/U.FN)*U.FN;
if(Math.abs(g-r)<Math.abs(E-r))E=g}if(F[4]){var P=z.X,J=z.z,x=[0,0,P>>>1,J>>>1,P,J];for(var G=0;G<6;
G+=2)if(Math.abs(x[G+k]-r)<Math.abs(E-r))E=x[G+k]}return Math.abs(E-r)<=4*Y.Z()/z.t.o?E:1e9};A.w_=function(){A.Tk.call(this,[10,12],A.mWa,"tools/mwand");
this.jD={fI:"front",YC:0,FV:{jk:!0,jY:10}}};A.w_.prototype=new A.Tk;A.w_.prototype.RP=function(z,r,k,L){this.finish(z,r,k,L)};
A.w_.prototype.getSelection=function(z,r,k,L){return A.w_.wZ(z,this.fp,this.jD.FV)};A.w_.wZ=function(z,r,k){if(z.L.length!=1){alert("More than one layer selected.");
return null}var L=z.a[z.L[0]];if(L.add.lsct!=null&&L.add.lsct!=mG.ZG){alert("No layer selected.");return null}if(r.x<0||r.x>z.X||r.y<0||r.y>z.z)return null;
var E=new Z(0,0,z.X,z.z),F=E.X,U=E.z,l=F*U,G=e.$(l*4),g=L.B<=0?null:L.B==1?L._F():L.ZS(z).k;if(g==null)e.Jb(L.buffer,L.rect,G,E);
else A.To.TD(g.channel,g.rect,g.color,G,E);G=new Uint32Array(G.buffer);var P=Math.round(r.x-.5-E.x),J=Math.round(r.y-.5-E.y);
if(!E.ab(r))P=J=0;var x=J*F+P,a=G[x],d=a&255,t=a>>8&255,m=a>>16&255,b=a>>24&255,I=e.$(F*U),v=k.jY,W=1/v;
if(k.jk){var B=e.$(I.length);B[x]=2;var n=[P,J];while(n.length>0){var j=n.pop(),p=n.pop(),X=j*F+p;B[X]=2;
var M=A.w_.wC(G[X],d,t,m,b);if(M>v){I[X]=Math.round(255*(1-Math.max(0,Math.min(1,(M-v)*W))));continue}I[X]=255;
if(p>0){if(j>0&&B[X-F-1]==0){n.push(p-1,j-1);B[X-F-1]=1}if(j<U-1&&B[X+F-1]==0){n.push(p-1,j+1);B[X+F-1]=1}if(B[X-1]==0){n.push(p-1,j);
B[X-1]=1}}if(p<F-1){if(j>0&&B[X-F+1]==0){n.push(p+1,j-1);B[X-F+1]=1}if(j<U-1&&B[X+F+1]==0){n.push(p+1,j+1);
B[X+F+1]=1}if(B[X+1]==0){n.push(p+1,j);B[X+1]=1}}if(j>0&&B[X-F]==0){n.push(p,j-1);B[X-F]=1}if(j<U-1&&B[X+F]==0){n.push(p,j+1);
B[X+F]=1}}}else{for(var X=0;X<l;X++){var M=A.w_.wC(G[X],d,t,m,b);if(M>v)continue;else I[X]=255}if(v>0)for(var X=0;
X<l;X++){if(I[X]==255)continue;var p=X%F,j=Math.floor(X/F),M=A.w_.wC(G[X],d,t,m,b),H=255*(1-Math.max(0,Math.min(1,(M-v)*W)));
if(p>0&&I[X-1]==255||p<F-1&&I[X+1]==255||j>0&&I[X-F]==255||j<U-1&&I[X+F]==255)I[X]=Math.round(H)}}var c=e.PM(I,E),S=e.$(c.X*c.z);
e.Jp(I,E,S,c);return{rect:c,channel:S}};A.w_.wC=function(z,r,k,L,E){var F=z&255,U=z>>8&255,l=z>>16&255,G=z>>24&255;
if(E==0)return G<5?0:255;var g=Math.max(Math.abs(F-r),Math.max(Math.abs(U-k),Math.abs(l-L)));return G==0?255:g};
A.wq=function(){A.To.call(this,[10,26],A.hf,"tools/patch");this.gC=null;this.gq=null;this.V=null;this.gZ=null;
this.FO=new V;this.F_=null};A.wq.prototype=new A.To;A.wq.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
if(z.i&&e.Pl(F,z.i.channel,z.i.rect)){if(!z.qm())return;this.TU(z);this.gZ=F;this.FO=new V(F.x-z.i.rect.x,F.y-z.i.rect.y);
this.F_=e.$(z.i.rect.Y()*4);e.set(this.F_,4294967295);if(this.jD.patch==1){var U=z.a[z.L[0]];U._U(z,z.i,!0)}}else{this.gq={O:[F.x,F.y],be:["M"]};
this.gC=F}};A.wq.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);if(this.gZ){if(this.jD.patch==1){var U=z.a[z.L[0]].fq,l=F.x-this.FO.x,G=F.y-this.FO.y;
A.nA.wa(z,z.L[0],Math.round(l-U.iO.x),Math.round(G-U.iO.y))}else this.wo(z,F,"clone")}if(this.gC){this.gq.be.push("L");
this.gq.O.push(F.x,F.y);this.gC=F;z.w.eq=this.gq;z.eJ=!0}};A.wq.prototype.hw=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
if(this.gZ){this.wo(z,F,"heal");this.finish(z,z.i.rect);this.gZ=null}if(this.gC){var U=this.jD.setop,l=L._(s.Vy),G=L._(s.V_);
if(l)U="union";if(G)U="difference";if(l&&G)U="intersection";var g=new D(Y.E.q,!0);g.R=A.hs;if(this.gq.O.length<=4)g.data={J:"deselect"};
else g.data={J:"polygon",FZ:U,FC:this.gq,HZ:[10,26]};r.K(g);this.gC=null;z.w.eq=null;z.eJ=!0}};A.wq.prototype.Tb=function(){return this.V};
A.wq.prototype.hZ=function(z,r,k,L,E){A.To.prototype.hZ.call(this,z,r,k,L,E);this.TL(r,E,L)};A.wq.prototype.TL=function(z,r,k){var L="auto;";
if(k!=null&&k._(s.Vy)&&!k._(s.V_)||this.jD.setop=="union")L="copy";var E=new D(Y.E.D,!0);E.data={J:Y.Q.UH,ji:L};
if(z)z.K(E)};A.wq.prototype.wo=function(z,r,k){var L=new V(Math.round(this.gZ.x-r.x),Math.round(this.gZ.y-r.y));
if(this.jD.patch==1)L.Ep(-L.x,-L.y);this.V=L;this.TH(z,k,this.F_,z.i.rect,z.i.rect);this.N(z,z.i.rect)};
A.wr=function(){A.To.call(this,[10,13],A.mMQ,"tools/pbucket")};A.wr.prototype=new A.To;A.wr.prototype.enable=function(z,r,k,L){var E=new D(Y.E.D,!0);
E.data={J:Y.Q.UH,ji:"default"};r.K(E)};A.wr.prototype.hC=function(z,r){};A.wr.prototype.hw=function(z,r,k,L,E){if(!z.qm())return;
var F=z.t.q_(E.x,E.y),U=A.w_.wZ(z,F,this.jD.wconf);if(U==null)return;var l=e.$(U.rect.Y()*4);e.JV(l,(k.fh&255)<<16|(k.fh>>8&255)<<8|(k.fh>>16&255)<<0);
e.JN(U.channel,l,3);this.TU(z);this.TH(z,"draw",l,U.rect,U.rect);this.N(z,U.rect);this.finish(z,U.rect)};
A.wL=function(){A.Tk.call(this,[10,14],A.mWl,"tools/plasso");this.f$="crosshair";this.e$=[];this.gq=null;
this.Fq=0};A.wL.prototype=new A.Tk;A.wL.prototype.disable=function(z,r,k,L){this.wU(z)};A.wL.prototype.Rm=function(z,r,k,L){this.e$=[s.Vd,s.V$]};
A.wL.prototype.hq=function(z){return this.e$.indexOf(z)!=-1};A.wL.prototype.RJ=function(z,r,k,L){if(this.gq==null)return;
var E=this.gq.O.length-2;this.gq.O[E]=this.fp.x;this.gq.O[E+1]=this.fp.y;z.w.eq=this.gq;z.eJ=!0};A.wL.prototype.RP=function(z,r,k,L){var E=Date.now();
if(this.gq==null)this.gq={O:[this.fp.x,this.fp.y,this.fp.x,this.fp.y],be:["M","L"]};else{this.RJ(z,r,k,L);
this.gq.be.push("L");this.gq.O.push(this.fp.x,this.fp.y);z.w.eq=this.gq;if(E-this.Fq<250||V.Ed(this.fp,new V(this.gq.O[0],this.gq.O[1]))<4/z.t.o){this.finish(z,r,k,L);
this.wU(z)}}this.Fq=E;z.w.eq=this.gq};A.wL.prototype.wU=function(z){this.gq=null;this.e$=[];if(z!=null){z.w.eq=null;
z.eJ=!0}};A.wL.prototype.hy=function(z,r,k,L){if(this.gq==null)return;if(L._(s.Vd)||L._(s.V$)){this.gq.O.pop();
this.gq.O.pop();this.gq.be.pop();this.RJ(z,k,L)}if(L._(s.VR)){if(this.gq.O.length>4)this.finish(z,k,L);
this.gq=null}if(L._(s.VZ)){this.gq=null}z.w.eq=this.gq;z.eJ=!0};A.wL.prototype.getSelection=function(z,r,k,L){return this.Rz(this.gq)};
A.wn=function(){A.Tk.call(this,[10,10],A.mWx,"tools/mlasso");this.f$="crosshair";this.e$=[];this.Fo={Fr:3};
this.A=[];this.FL=[];this.g_=[];this.FU=null;this.Fn=null;this.Fv=null;this.FX=0};A.wn.prototype=new A.Tk;
A.wn.prototype.disable=function(z,r,k,L){this.clear(z)};A.wn.prototype.hq=function(z){return this.e$.indexOf(z)!=-1};
A.wn.prototype.Rm=function(z,r,k,L){this.e$=[s.Vd];var E=this.wI(this.ft,z);if(this.A.length!=0&&(V.Ed(E,this.A[0])<4*Y.Z()/z.t.o||Date.now()-this.FX<300)){this.wv(z,this.A[0]);
this.finish(z,r,k);this.clear(z);return}this.FX=Date.now();if(this.A.length!=0)E=this.wd(E,z,this.Fo.Fr);
else{var F=z.X,U=z.z,l=e.$(F*U),G=z.Ce(),g=F*U*4;for(var P=0;P<g;P+=4)l[P>>>2]=e.JY(Math.round(.3*G[P]+.6*G[P+1]+.1*G[P+2])*G[P+3]);
this.FU=e.zI.mMX(l,F,U);this.Fv=new Uint16Array(l.length)}this.wv(z,E);this.ws(z)};A.wn.prototype.wv=function(z,r){var k=this.A;
this.FL[k.length]=this.g_.length;if(k.length!=0){e.zI.zp(this.Fn,r.y*z.X+r.x);var L=this.wp(z,r);L.reverse();
var E=this.w$(z,L);this.g_=this.g_.concat(E)}k.push(r);this.wX(z)};A.wn.prototype.wX=function(z){var r=this.A[this.A.length-1],k=r.y*z.X+r.x;
this.Fn=e.zI.mmh(this.FU.OJ,this.FU.bA,k);e.set(this.Fv,0)};A.wn.prototype.wI=function(z,r){return new V(Math.floor(Math.max(0,Math.min(r.X-1,z.x))),Math.floor(Math.max(0,Math.min(r.z-1,z.y))))};
A.wn.prototype.clear=function(z){this.g_=[];this.A=[];this.FL=[];this.FU=null;this.Fn=null;this.Fv=null;
if(z!=null){z.w.eq=null;z.w.eX=[];z.eJ=!0}this.e$=[]};A.wn.prototype.RJ=function(z,r,k,L){if(this.A.length==0)return;
var E=this.wd(this.wI(this.fp,z),z,this.Fo.Fr),F=this.wp(z,E);for(var U=0;U<F.length;U++){var l=F[U],G=new V(l%z.X,Math.floor(l/z.X));
if(this.Fv[l]>30&&V.Ed(G,this.A[this.A.length-1])>20){this.wv(z,G);return}this.Fv[l]++}this.ws(z)};A.wn.prototype.ws=function(z){var r=this.wd(this.wI(this.fp,z),z,this.Fo.Fr),k=this.wp(z,r);
k.reverse();var L=this.w$(z,k),E=this.g_.concat(L);z.w.eq=this.wt(E);z.w.eX=[];for(var F=0;F<this.A.length;
F++)z.w.eX.push(this.A[F].x+.5,this.A[F].y+.5);z.eJ=!0};A.wn.prototype.RP=function(z,r,k,L){};A.wn.prototype.hy=function(z,r,k,L){if(this.A.length==0)return;
if(L._(s.Vd)){this.A.pop();this.g_=this.g_.slice(0,this.FL[this.A.length]);this.FL.pop();if(this.A.length==0)this.clear(z);
else this.wX(z);this.ws(z)}if(L._(s.VR)){var E=this.wI(this.fp,z);this.wv(z,E);this.finish(z,k,L);this.clear(z)}if(L._(s.VZ)){this.clear(z)}};
A.wn.prototype.wt=function(z){var r={O:z.slice(0),be:["M"]};for(var k=2;k<z.length;k+=2)r.be.push("L");
return r};A.wn.prototype.getSelection=function(z,r,k,L){var E=this.wt(this.g_);return this.Rz(E)};A.wn.prototype.wp=function(z,r){var k=this.A[this.A.length-1],L=k.y*z.X+k.x,E=r.y*z.X+r.x,F=[E];
while(E!=L){E=this.Fn.bV[E];F.push(E);if(F.length>5e3){console.log(F);throw"e"}}return F};A.wn.prototype.w$=function(z,r){var k=[],L=z.X;
for(var E=0;E<r.length;E++){var F=r[E];k.push(F%L+.5,Math.floor(F/L)+.5)}return k};A.wn.prototype.wd=function(z,r,k){var L=r.X,E=r.z,F=z.clone();
e.zI.zp(this.Fn,z.y*L+z.x);var U=this.Fn.Kc[z.y*L+z.x];for(var l=-k+1;l<k;l++)for(var G=-k+1;G<k;G++){var g=z.x+G,P=z.y+l;
if(g<0||g>=L||P<0||P>=E)continue;e.zI.zp(this.Fn,P*L+g);if(this.Fn.Kc[P*L+g]<U)F.Ep(g,P)}return F};A.wH=function(){A.Tk.call(this,[10,15],A.hs,"tools/rselect");
this.f$="crosshair"};A.wH.prototype=new A.Tk;A.wH.prototype.RJ=function(z,r,k,L){if(!L.fe||!this.fd)return;
var E=this.Te(z,k,!0),F=E.x,U=E.y,l=E.x+E.X,G=E.y+E.z;z.w.eq={O:[F,U,l,U,l,G,F,G,F,U],be:["M","L","L","L","L"]};
z.eJ=!0};A.wH.prototype.RP=function(z,r,k,L){z.w.eq=null;z.eJ=!0;this.finish(z,r,k,L)};A.wH.prototype.getSelection=function(z,r,k,L){if(this.ft.Jq(this.fp)||!this.fd)return null;
var E=this.Te(z,k,!0);if(E.z$())return null;var F=e.$(E.Y());e.set(F,255);return{channel:F,rect:E}};
A.wH.prototype.hh=function(z,r,k,L,E){var F=z.J,U,l;if(F=="setsel"){l=z.i;U=new mS(z.HZ,this)}if(F=="all"){l={channel:e.$(k.X*k.z),rect:new Z(0,0,k.X,k.z)};
e.set(l.channel,255);U=new mS([7,0],this)}if(F=="polygon"){l=this.Rz(z.FC);if(k.i&&z.FZ!=null){l=e.MH.Mb(l,k.i,z.FZ)}U=new mS(z.HZ,this)}if(F=="deselect"){if(k.i==null)return;
l=null;U=new mS([7,1],this)}if(F=="fromlayer"){var G=k.a[z.C];if(z.FI==0){if(G.rect.z$())return;var g=e.$(G.buffer.length>>2);
e.Jw(G.buffer,g,3);l={channel:g,rect:G.rect.clone()}}else{var P=G._F(),g,J;if(P.GU()==0){J=P.Te();if(J.Y()==0)return;
g=P.ZK()}else{J=new Z(0,0,k.X,k.z);g=e.$(J.Y());P.Zl(J,g)}l={channel:g,rect:J}}if(z.Fs&&k.i)l=e.MH.Mb(k.i,l,"union");
U=new mS("Selection from layer",this)}if(F=="inverse"){if(k.i==null){alert("No selection!");return}l={channel:e.$(k.X*k.z),rect:new Z(0,0,k.X,k.z)};
e.Jp(k.i.channel,k.i.rect,l.channel,l.rect);e.Jo(l.channel);U=new mS([7,2],this)}if(F=="expand"){var x=k.i.rect.clone();
x.aD(z.u,z.u);l={channel:e.$(x.Y()),rect:x};var a=e.$(l.channel.length);e.Jp(k.i.channel,k.i.rect,a,l.rect);
e.style.stroke(a,l.channel,l.rect,z.u);U=new mS([7,4],this)}if(F=="contract"){var d=k.i.rect.clone();
d.aD(1,1);var a=e.$(d.Y()),t=e.$(a.length);e.Jp(k.i.channel,k.i.rect,a,d);e.Jo(a);e.style.stroke(a,t,d,z.u);
e.Jo(t);l={channel:null,rect:k.i.rect.clone()};l.rect.aD(-z.u,-z.u);l.channel=e.$(l.rect.Y());e.Jp(t,d,l.channel,l.rect);
var U=new mS([7,5],this)}if(F=="feather"){var m=Math.ceil(2.6*z.u);l={channel:null,rect:k.i.rect.clone()};
l.rect.aD(m,m);l.channel=e.$(l.rect.Y());var a=e.$(l.channel.length);e.Jp(k.i.channel,k.i.rect,a,l.rect);
e.blur.Pk(a,l.channel,l.rect,z.u);var U=new mS([7,6],this)}if(F=="border"){l=A.wH.wb(k.i,z.u/2,z.u/2);
U=new mS([7,9],this)}if(l!=null&&e.JD(l.channel,0)){l=null;U.name=[7,1]}if(l)e.Pu(l);U.data={J:"changesel",fJ:k.i,fF:l};
k.qA(U);this.hO(U.data,k)};A.wH.wb=function(z,r,k){var L=Math.max(1,Math.ceil(k)),E=z.rect.clone();E.aD(L,L);
var F=E.Y(),U={channel:e.$(F),rect:E},l=e.$(F);e.Jp(z.channel,z.rect,l,U.rect);if(k!=0)e.style.stroke(l,U.channel,U.rect,k);
else e.JZ(l,U.channel);var G=e.$(F);e.Jo(l);if(r!=0)e.style.stroke(l,G,U.rect,r);else e.JZ(l,G);e.MH.Mk(U.channel,G,U.channel);
return U};A.wi=function(){A.hA.call(this,[10,36],A.mWi,"tools/ruler");this.Ft=null;this.Fp=null;this.F$=null;
this.Fd=null};A.wi.prototype=new A.hA;A.wi.prototype.ho=function(z){return z.fe};A.wi.prototype.disable=function(z,r,k,L){this.Ft=this.Fp=null;
if(z)this.wG(z)};A.wi.prototype.hT=function(z,r,k,L,E){var F=z.t.o/Y.Z(),U=z.t.q_(E.x,E.y);U.x=Math.round(U.x);
U.y=Math.round(U.y);var l=this.Ft;if(l&&V.Ed(U,l[0])*F<6)this.Fp=[0];else if(l&&V.Ed(U,l[1])*F<6)this.Fp=[1];
else if(l&&A.wi.wD(l[0],l[1],U)*F<6&&Math.min(l[0].x,l[1].x)-5<=U.x&&U.x<=Math.max(l[0].x,l[1].x)+5&&Math.min(l[0].y,l[1].y)-5<=U.y&&U.y<=Math.max(l[0].y,l[1].y)+5){this.Fp=[0,1];
this.Fd=[l[0].clone(),l[1].clone()];this.F$=U}else{this.Ft=[U.clone(),U.clone()];this.Fp=[1]}};A.wi.prototype.hR=function(z,r,k,L,E){if(this.Fp==null)return;
var F=this.Ft,U=this.Fp,l=z.t.q_(E.x,E.y);l.x=Math.round(l.x);l.y=Math.round(l.y);if(U.length==2){var G=l.x-this.F$.x,g=l.y-this.F$.y;
F[0]=this.Fd[0].clone();F[0].offset(G,g);F[1]=this.Fd[1].clone();F[1].offset(G,g)}else{F[U[0]].Ep(l.x,l.y);
if(L._(s.Vy)){F[U[0]]=A.RO.R_(F[1-U[0]],F[U[0]])}}this.wG(z);this.Tj(r,Y.E.D,{J:Y.Q.nx,R:this.id,FH:F[0],Fb:F[1]})};
A.wi.prototype.hw=function(z,r,k,L,E){this.Fp=null};A.wi.prototype.Tj=function(z,r,k){var L=new D(r,!0);
L.data=k;z.K(L)};A.wi.prototype.wG=function(z){var r=this.Ft;if(r==null){z.w.eq=null;z.w.eX=[]}else{var k=[r[0].x,r[0].y,r[1].x,r[1].y];
z.w.eq={be:["M","L"],O:k};z.w.eX=k}z.eJ=!0};A.wi.wD=function(z,r,k){var L=r.x-z.x,E=r.y-z.y,F=Math.abs(E*k.x-L*k.y+r.x*z.y-r.y*z.x),U=Math.sqrt(L*L+E*E);
return F/U};A.wY=function(){A.To.call(this,[10,19],A.Tz,"tools/sharpen");this.fG="copy"};A.wY.prototype=new A.To;
A.wY.prototype.hT=function(z,r,k,L,E){var F=this.jD.pdetail?mx.rT:mx.Tz;if(L._(s.V_))F=mx.TP;this.TX(z,k,L,E,this.jD.strn,F);
if(this.jj==null)return;this.Td(z)};A.wY.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.wk=function(){A.To.call(this,[10,24],A.hk,"tools/shbrush");
this.fG="draw";this.jD.opacity=.5};A.wk.prototype=new A.To;A.wk.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,1);
if(this.jj==null)return;this.Td(z)};A.wk.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.wk.prototype.hw=function(z,r,k,L,E){if(this.jj==null)return;
this.TH(z,"sheal2",this.jj.rA(),this.jj.Te(),this.jj.Te(),null);this.N(z,this.jj.Te());A.To.prototype.hw.call(this,z,r,k,L,E)};
A.wk.prototype.hh=function(z,r,k,L,E){if(z.J&&z.J.slice(0,4)=="heal"){if(k.i==null){alert("Select an area to heal first.");
return}if(!k.qm())return;this.TU(k);var F=k.i,U=e.$(F.rect.Y()*4);e.JN(F.channel,U,3);this.TH(k,"s"+z.J,U,F.rect,F.rect);
this.N(k,F.rect);this.finish(k,F.rect)}else A.To.prototype.hh.call(this,z,r,k,L,E)};A.wj=function(){A.To.call(this,[10,20],A.TG,"tools/smudge");
this.fG="copy"};A.wj.prototype=new A.To;A.wj.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,this.jD.strn,mx.TG);
if(this.jj==null)return;this.Td(z)};A.wj.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.wf=function(){A.To.call(this,[10,23],A.mMi,"tools/sponge");
this.fG="sponge"};A.wf.prototype=new A.To;A.wf.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,this.jD.flow);
if(this.jj==null)return;this.Td(z)};A.wf.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;this.TI(z,r,k);
if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};A.we=function(){A.hA.call(this,[10,17],A.TR,"tools/zoom");
this.Jo=!1;this.HU=!0;this.ev=null;this.Fi=0;this.eN=null};A.we.prototype=new A.hA;A.we.prototype.enable=function(z,r,k,L){this.NP(r)};
A.we.prototype.hT=function(z,r,k,L,E){this.ev=new V(E.x,E.y);this.Fi=z.t.o;this.eN=z.t.V.clone()};A.we.prototype.hR=function(z,r,k,L,E){if(this.ev==null)return;
var F=Math.round((E.x-this.ev.x)/16);if(F==0)return;var U=A.we.Nm(this.Fi),l=A.we.wg[Math.max(0,Math.min(A.we.wg.length-1,U-F))];
z.t.o=this.Fi;z.t.V=this.eN.clone();this.hh({J:"zoom",o:l,FE:this.ev},r,z,L,k)};A.we.prototype.hw=function(z,r,k,L,E){if(V.Ed(this.ev,E)<4){var F=this.HU;
if(this.Jo)F=!F;this.hh({J:"zoom",HU:F,FE:E},r,z,L,k)}this.ev=null};A.we.wg=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
A.we.wF=function(z,r,k,L){var E=1;while(z*E*1/2>k||r*E*1/2>L)E*=1/2;if(z*E*2/3>k||r*E*2/3>L)E*=1/2;else if(z*E>k||r*E>L)E*=2/3;
return E};A.we.NS=function(z,r){var k=A.we.Nm(z);if(r&&k==0)return z;if(!r&&k==A.we.wg.length-1)return z;
return A.we.wg[r?k-1:k+1]};A.we.Nm=function(z){var r=0;while(A.we.wg[r]>z)r++;return r};A.we.NJ=function(z,r,k,L){var E=z.ed;
if(L==0||L==null){L=A.we.NS(z.o,k);if(L==z.o)return}var F=z.q_(r.x,r.y);if(E.X*L<=z.l.X&&E.z*L<=z.l.z)z.V.Ep(0,0);
else{z.V.x=Math.round(E.X*L/2-F.x*L+(r.x-z.l.X/2));z.V.y=Math.round(E.z*L/2-F.y*L+(r.y-z.l.z/2))}z.o=L};
A.we.prototype.hh=function(z,r,k,L,E){var F=0,U=!1,l=null;if(z.J=="adapt"){var G=0;if(z.u=="pixel")G=1;
if(z.u=="fitscr"){var G=0,g=k.t.l.X,P=k.t.l.z;if(k.X<=g&&k.z<=P){var J=1;while(k.X*(J+1)<=g&&k.z*(J+1)<=P)J++;
G=J}else{G=A.we.wF(k.X,k.z,g,P)}}l=new V(Math.round(k.t.l.X/2),Math.round(k.t.l.z/2));F=G}if(z.J=="scroll"){l=z.FE;
U=z.et.y<0}if(z.J=="zoom"){l=z.FE?z.FE:new V(Math.round(k.t.l.X/2),Math.round(k.t.l.z/2));if(z.o!=null)F=z.o;
else U=z.HU}if(l==null)return;A.we.NJ(k.t,l,U,F);k.ep=!0};A.we.prototype.hy=function(z,r,k,L){if(this.Jo!=L._(s.V_)){this.Jo=L._(s.V_);
var E={J:Y.Q.nx,R:this.id,Jo:this.Jo},F=new D(Y.E.D,!0);F.data=E;r.K(F);this.NP(r)}};A.we.prototype.NP=function(z){var r=new D(Y.E.D,!0),k=this.HU;
if(this.Jo)k=!k;r.data={J:Y.Q.UH,ji:k?"zoom-in":"zoom-out"};z.K(r)};A.we.prototype.hZ=function(z,r,k,L){if(z.action){var E={J:"adapt",u:z.action};
this.hh(E,r,k,L,null)}else{this.HU=z.HU;this.NP(r)}};A.Nz=function(z,r,k){A.hA.call(this,z,r,k);this.FD=null;
this.gv=null;this.FY=0};A.Nz.prototype=new A.hA;A.Nz.prototype.hV=function(z,r,k,L){var E=z.a[z.L[0]],F=E.add.vmsk,U=E.add.vstk,l=A.Nz.NM(z,z.L[0]);
this.FD=z;this.gv=r;if(E._N()&&F!=null&&(JSON.stringify(U)!=JSON.stringify(k.Fk)||JSON.stringify(l)!=JSON.stringify(k.Fj))){this.FY=Date.now();
var G=new D(Y.E.D,!0);G.data={J:Y.Q.na,Hq:zB.yk,u:l};r.K(G);G.data={J:Y.Q.na,Hq:zB.yj,u:U};r.K(G)}};
A.Nz.prototype.hC=function(z,r){if(this.FD==null)return;if(r==zB.yt||r==zB.yk||r==zB.yj){if(Date.now()-this.FY<50)return;
var k=r==zB.yk,L=this.FD,E=k?z.Fj:z.Fk,F=[];for(var U=0;U<L.L.length;U++){var l=L.L[U],G=L.a[l];if(!G._N()||G.add.vmsk==null)continue;
F.push(l)}var g=new D(Y.E.q,!0);g.R=A.T_;g.data={J:T.Ch,Ff:F,Fe:k,u:E};if(F.length!=0)this.gv.K(g)}};
A.Nz.prototype.hh=function(z,r,k,L,E){var F=k.a[k.L[0]],U=F.add.vmsk,l=U.clone(),G=U.clone();if(z.J=="remove"){if(G.L.length==0)return;
G.A=e.f.mPW(G.A,G.L);G.L=[];G.Fg=[]}if(z.J=="append"){var g=e.f.uc(G.A),P=e.f.uc(z.FF);G.A=G.A.concat(z.FF.slice(2));
G.L=[];for(var J=0;J<P;J++)G.L.push(g+J)}this.NW(k,F,G);this.NG(k,z.HZ,k.L[0],l,G.clone())};A.Nz.prototype.hq=function(z){return[s.Vd].indexOf(z)!=-1};
A.Nz.prototype.hy=function(z,r,k,L){if(z==null)return;var E=z.a[z.L[0]],F=E.add.vmsk;if(F==null)return;
if(L._(s.VZ)||L._(s.VR)){F.Fg=[];z.eJ=!0}if(F.L.length!=0){var U=L.Va();if(U.x!=0||U.y!=0){var l=F.clone(),G=F.clone(),g=new zT(1,0,0,1,U.x,U.y);
e.f.Qk(G.A,g,G.L);this.NW(z,E,G);this.NG(z,"Move Paths",z.L[0],l,G.clone(),!0)}if(L._(s.Vd))this.hh({J:"remove",HZ:"Delete Paths"},r,z,L,k)}};
A.Nz.prototype.NG=function(z,r,k,L,E,F){var U=new mS(r,this);U.data={eO:k,jO:L,Vw:E,AQ:F};z.qA(U)};A.Nz.prototype.hO=function(z,r){this.NW(r,r.a[z.eO],z.Vw.clone())};
A.Nz.prototype.h_=function(z,r){this.NW(r,r.a[z.eO],z.jO.clone())};A.Nz.prototype.NW=function(z,r,k){r.add.vmsk=k;
k.Yp=!0;r._q(z);z.N()};A.Nz.NM=function(z,r){var k=z.a[r],L=k.add.vstk,E=null;if(L&&!L.fillEnabled.v)E={YR:0};
else if(k.add.SoCo)E={YR:1,OF:k.add.SoCo};else if(k.add.GdFl)E={YR:2,OF:k.add.GdFl};else if(k.add.PtFl)E={YR:3,OF:k.add.PtFl};
return E};A.Nz.NQ=function(z,r){var k=z.add.vmsk,L=z.add.vstk,E=r.YR;if(L)L.fillEnabled.v=E!=0;if(E>0){var F=["SoCo","GdFl","PtFl"][E-1];
for(var U=0;U<3;U++)delete z.add[["SoCo","GdFl","PtFl"][U]];z.add[F]=r.OF}};A.Nu=function(z,r,k,L){A.Nz.call(this,z,r,k);
this.jD={tmode:1,shape:null,pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{KQ:0}};
this.mSJ=L;this.OT=null;this.Jg=null;this.Un=null};A.Nu.prototype=new A.Nz;A.Nu.prototype.ho=function(z){return z.fe&&this.id!=A.TK};
A.Nu.prototype.enable=function(z,r,k,L,E){var F=new D(Y.E.D,!0);F.data={J:Y.Q.UH,ji:"crosshair"};r.K(F)};
A.Nu.prototype.NK=function(z,r,k,L){};A.Nu.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);F=A.nA.wN(z,F,k);
var U=this.jD.tmode,l=z.a[z.L[0]],G=l.add.vmsk;if(U==0&&G==null){alert("Paths can be added to existing shapes only.");
return}if(U==2&&!z.qm())return;if(U==1){var g=new D(Y.E.q,!0);g.R=A.T_;g.data={J:T.CT,Hr:1};r.K(g);l=z.a[z.L[0]];
G=l.add.vmsk}this.Un=[F.x,F.y];this.OT=F;this.Jg=new V(0,0)};A.Nu.prototype.NE=function(z,r,k){var L=[this.OT.clone(),r.clone()];
L[0].x=Math.floor(L[0].x);L[0].y=Math.floor(L[0].y);L[1].x=Math.ceil(L[1].x);L[1].y=Math.ceil(L[1].y);
if(this.mSJ)L=A.Nu.Nx(L[0],L[1],k,!1,this.jD.cstr);z.t.fg=new Z(L[0].x,L[0].y,L[1].x-L[0].x,L[1].y-L[0].y);
return this.NK(L[0],L[1],k._(s.Vy),this.Un)};A.Nu.prototype.Nl=function(z,r,k){var L=z.t.q_(r.x,r.y),E=this.jD.cstr;
if(E.KQ==2){var F=new Z(L.x-E.x,L.y-E.y,E.x,E.y),U=A.nA.wy(z,F,k);L.x+=U[0];L.y+=U[1];A.nA.ww(z,F,U)}else L=A.nA.wN(z,L,k);
return L};A.Nu.prototype.hR=function(z,r,k,L,E){if(this.OT==null)return;var F=this.Nl(z,E,k);if(L._(s.VC))this.OT=F.E$(this.Jg);
else this.Jg=F.E$(this.OT);this.Un.push(F.x,F.y);if(this.jD.shape==null)this.jD.shape=k.Mj[0];var U=this.NE(z,F,L),l=e.b.Wk(U);
z.w.eq=l;z.eJ=!0};A.Nu.prototype.hw=function(z,r,k,L,E){if(this.OT==null)return;var F=this.Nl(z,E,k),U=this.jD.binop,l=this.jD.tmode;
if(this.Un.length!=2){var G=this.NE(z,F,L);if(l==0)G[2].bF=[1,2,3,0][U];if(l!=2){var g=z.a[z.L[0]],P=g.add.vmsk,J=P.clone(),x=P.clone();
x.A=x.A.concat(G.slice(2));x.L=[e.f.uc(x.A)-1];this.NW(z,g,x);if(l==0)this.NG(z,this.name,z.L[0],J,x)}else{var x=new T.Zx;
x.A=x.A.concat(G.slice(2));var a=x._F(),d=e.$(a.rect.Y()*4);e.JV(d,(k.fh&255)<<16|(k.fh>>8&255)<<8|(k.fh>>16&255)<<0);
e.JN(a.channel,d,3);var t=new D(Y.E.q,!0);t.R=A.he;t.data={J:"draw",mPr:d,mWJ:a.rect,HZ:this.name};r.K(t)}}this.OT=null;
z.w.eq=null;z.w.eS=null;z.t.fg=null;z.eJ=!0};A.Nu.prototype.hZ=function(z,r,k,L,E){for(var k in z)this.jD[k]=z[k]};
A.Nu.Nx=function(z,r,k,L,E){var F=z.x,U=z.y,l=r.x,G=r.y;if(E&&E.KQ==2){F=l-E.x;U=G-E.y}else{var g=0;
if(E&&E.KQ==1)g=E.y/E.x;else if(k&&k._(s.Vy))g=1;if(g!=0){var P=Math.abs(l-F),J=Math.abs(G-U),x=P;if(J/P<g)x*=J/P/g;
l=l>F?F+x:F-x;G=G>U?U+x*g:U-x*g}if(k&&k._(s.V_)){F-=l-F;U-=G-U}}if(L){if(F>l){var a=F;F=l;l=a}if(U>G){var a=U;
U=G;G=a}F=Math.floor(F);U=Math.floor(U);l=Math.ceil(l);G=Math.ceil(G)}return[new V(F,U),new V(l,G)]};
A.Na=function(){A.Nz.call(this,[10,29],A.mMj,"tools/pen");this.jX=null;this.xq=1};A.Na.prototype=new A.Nz;
A.Na.prototype.ho=function(z){return this.jX!=null};A.Na.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),P,J;
F.x=Math.round(F.x);F.y=Math.round(F.y);var U=A.nA.wN(z,F,k),l=z.a[z.L[0]],G=l.add.vmsk;if(this.xq==0&&G==null){alert("Paths can be added to existing shapes only.");
return}var g=4*Y.Z()/z.t.o;if(G)P=e.f.Pl(G.A,F,!0,g);if(this.xq==1&&(G==null||(G.Fg.length==0||G.Fg[0]!=G.A.length-1)&&P.HD==-1)){var x=new D(Y.E.q,!0);
x.R=A.T_;x.data={J:T.CT,Hr:1};r.K(x);l=z.a[z.L[0]];G=l.add.vmsk}this.jX=G.clone();var a=G.A,d=e.f.uc(a);
J=e.f.uK(G.A,new Z(F.x-g,F.y-g,g*2,g*2));P=e.f.Pl(G.A,F,!0,g);if(P.HD!=-1&&J[0].length==0){var t=e.f.uB(a,P.HD);
a[t].length++;a.splice(t+2+P.iZ,0,{type:4,im:U.clone(),W:U.clone(),iP:U.clone()});G.Fg=[t+2+P.iZ]}else{var m=0;
if(G.Fg.length!=1){G.L=[d];a.push({type:3,length:1,bF:1,iS:0,iC:0,iq:0});m=a.length}else{var b=G.Fg[0],I=e.f.mPx(a,b),t=e.f.uB(a,I);
if(b==t+a[t].length&&V.Ed(F,a[t+1].W)<g){a[t].type=0;G.Fg=[];this.NW(z,l,G);z.eJ=!0;this.NG(z,"Close the Path",z.L[0],this.jX,G.clone());
this.jX=null;return}a[t].length++;m=b+1}a.splice(m,0,{type:4,im:U.clone(),W:U.clone(),iP:U.clone()});
G.Fg=[m]}this.NW(z,l,G);z.eJ=!0};A.Na.prototype.hR=function(z,r,k,L,E){if(this.jX==null)return;var F=z.t.q_(E.x,E.y),U=A.nA.wN(z,F,k),l=z.a[z.L[0]],G=l.add.vmsk,g=G.A,P=g[G.Fg[0]];
P.iP=U;P.im=P.W.add(P.W.E$(P.iP));this.NW(z,l,G);z.eJ=!0};A.Na.prototype.hw=function(z,r,k,L,E){if(this.jX==null)return;
var F=z.a[z.L[0]],U=F.add.vmsk;this.NG(z,"Add Anchor Point",z.L[0],this.jX,U.clone());this.jX=null};
A.Na.prototype.hZ=function(z,r,k,L,E){this.xq=z.tmode};A.Nc=function(){A.Nu.call(this,[10,30],A.TK,"tools/fpen",!1)};
A.Nc.prototype=new A.Nu;A.Nc.prototype.NK=function(z,r,k,L){return e.f.maY(L,this.jD.tolr)};A.NB=function(){A.Nz.call(this,[10,27],A.Tl,"tools/pselect");
this.jL=null;this.Xt=!1;this.jX=null;this.gI=null};A.NB.prototype=new A.Nz;A.NB.prototype.ho=function(z){return z.fe};
A.NB.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),U=z.root.CO(F);if(U!=null){var l=U.mSE.C,G=z.a.indexOf(l),g=l.add.vmsk;
g.Fg=[];var P=g.L.indexOf(U.jZ);l.TV=!0;if(G!=z.L[0]){z.L=[G];z.qO();z.gB=!0}else if(L._(s.Vy)){if(P==-1){g.L.push(U.jZ);
this.Xt=!0}else g.L.splice(P,1)}else{if(P==-1)g.L=[U.jZ];this.Xt=!0}this.gI=e.f.um(g.A,g.L)}this.jL=F;
z.Fl=!0;z.eJ=!0};A.NB.prototype.hR=function(z,r,k,L,E){if(this.jL==null)return;var F=z.t.q_(E.x,E.y);
if(this.Xt){var U=z.a[z.L[0]];if(this.jX==null)this.jX=U.add.vmsk.clone();var l=this.gI.clone(),G=l.x,g=l.y;
l.offset(F.x-this.jL.x,F.y-this.jL.y);l.x=Math.round(l.x);l.y=Math.round(l.y);var P=A.nA.wy(z,l,k),J=this.jX.clone(),x=new zT(1,0,0,1,l.x-G+P[0],l.y-g+P[1]);
e.f.Qk(J.A,x,J.L);this.NW(z,U,J);A.nA.ww(z,l,P)}else{var a=this.jL;z.w.eq=e.b.MJ(new Z(a.x,a.y,F.x-a.x,F.y-a.y));
z.eJ=!0}};A.NB.prototype.hw=function(z,r,k,L,E){if(this.jL==null)return;var F=z.t.q_(E.x,E.y),U=z.a[z.L[0]],l=U.add.vmsk;
if(this.Xt){if(!this.jL.Jq(F))this.NG(z,"Drag Paths",z.L[0],this.jX,l);if(z!=null&&z.w.eS){z.w.eS=null;
z.eJ=!0}}else{if(l){var G=this.jL,g=new Z(G.x,G.y,F.x-G.x,F.y-G.y),P=e.f.maR(l.A,g);if(L._(s.Vy)){for(var J=0;
J<P.length;J++)if(l.L.indexOf(P[J])==-1)l.L.push(P[J])}else l.L=P}z.w.eq=null;z.eJ=!0}this.jL=null;this.jX=null;
this.Xt=!1};A.NB.prototype.hV=function(z,r,k,L){A.Nz.prototype.hV.call(this,z,r,k,L);var E=z.a[z.L[0]],F=E.add.vmsk,U=E.add.vstk,l=new D(Y.E.D,!0);
l.data={J:Y.Q.nx,R:this.id,ey:"main",Me:F?F:null};r.K(l)};A.NB.prototype.hZ=function(z,r,k,L,E){var F=z.ck,U=k.L[0],l=new D(Y.E.q,!0);
l.R=A.T_;if(F.Me){var G=k.a[U],g=G.add.vmsk.clone();this.NW(k,G,F.Me);this.NG(k,g.L[0]==F.Me.L[0]?"Fill Rule":"Path Order",U,g,F.Me)}};
A.NA=function(){A.Nz.call(this,[10,28],A.mQt,"tools/dselect");this.zo=-1;this.GS=-1;this.jL=null;this.jX=null;
this.FX=0};A.NA.prototype=new A.Nz;A.NA.prototype.ho=function(z){return z.fe};A.NA.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),U=z.a[z.L[0]],l=U.add.vmsk;
if(l==null)return;var G=4*Y.Z()/z.t.o,g=e.f.uK(l.A,new Z(F.x-G,F.y-G,G*2,G*2));if(g[0].length!=0){var P=this.zo=g[0][0];
this.GS=0;var J=l.Fg.indexOf(P);this.jL=l.A[P].W.clone();if(L._(s.Vy)){if(J==-1)l.Fg.push(P);else l.Fg.splice(J,1)}else if(J==-1)l.Fg=[P]}else if(g[1].length!=0){this.zo=g[1][0];
this.GS=1;this.jL=F}else if(g[2].length!=0){this.zo=g[2][0];this.GS=2;this.jL=F}else{var x=e.f.Pl(l.A,F,!0,G);
if(x.HD==-1)this.jL=F;else{l.L=[x.HD];l.Fg=[]}}if(this.jX==null)this.jX=U.add.vmsk.clone();z.eJ=!0};
A.NA.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);F.x=Math.round(F.x);F.y=Math.round(F.y);
F=A.nA.wN(z,F,k);var U=z.a[z.L[0]],l=U.add.vmsk;if(this.zo!=-1){var U=z.a[z.L[0]],l=this.jX.clone(),G=new zT(1,0,0,1,F.x-this.jL.x,F.y-this.jL.y);
if(this.GS==0)e.f.Qk(l.A,G,null,l.Fg);else{var g=l.A[this.zo],P=g.im,J=g.iP;if(this.GS==2){P=g.iP;J=g.im}P.Ep(F.x,F.y);
if(g.type==1||g.type==4){var x=V.Ed(P,g.W),a=V.Ed(J,g.W);if(a!=0){J.x=g.W.x-(P.x-g.W.x)*(a/x);J.y=g.W.y-(P.y-g.W.y)*(a/x)}}}this.NW(z,U,l)}else if(this.jL!=null){var d=this.jL;
z.w.eq=e.b.MJ(new Z(d.x,d.y,F.x-d.x,F.y-d.y));z.eJ=!0}};A.NA.prototype.hw=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),U=z.a[z.L[0]],l=U.add.vmsk;
if(this.zo!=-1){if(Date.now()-this.FX<300){var G=l.A[this.zo],g=this.GS,P=null;if(g==0){var J=G.im.Jq(G.W),x=G.iP.Jq(G.W);
if(!J&&!x){P="Anchor Type";if(G.type==1||G.type==4)G.type++;else{G.type--;G.iP=G.W.add(G.W.E$(G.im))}}else{P="Add Handles";
if(J&&x){G.im.x-=30;G.iP.x+=30}else if(J)G.im=G.W.add(G.W.E$(G.iP));else if(x)G.iP=G.W.add(G.W.E$(G.im))}}else{P="Remove Handle";
if(g==1)G.im.Et(G.W);else G.iP.Et(G.W)}this.NW(z,U,l);this.NG(z,P,z.L[0],this.jX,l)}else if(!this.jL.Jq(F)){this.NG(z,"Drag Anchors",z.L[0],this.jX,l)}this.FX=Date.now()}else if(this.jL!=null){var a=this.jL,d=new Z(a.x,a.y,F.x-a.x,F.y-a.y);
if(d.X<0)d.x+=d.X;if(d.z<0)d.y+=d.z;d.X=Math.abs(d.X);d.z=Math.abs(d.z);var t=e.f.uK(l.A,d);l.Fg=t[0];
z.w.eq=null}this.jX=null;this.jL=null;this.zo=this.GS=-1;z.eJ=!0};A.NA.prototype.hq=function(z){return[s.Vd].indexOf(z)!=-1};
A.NA.prototype.hy=function(z,r,k,L){if(z==null)return;var E=z.a[z.L[0]],F=E.add.vmsk;if(F==null||F.Fg.length==0)return;
var U=L.Va();if(U.x!=0||U.y!=0){var l=F.clone(),G=F.clone(),g=new zT(1,0,0,1,U.x,U.y);e.f.Qk(G.A,g,null,G.Fg);
this.NW(z,E,G);this.NG(z,"Move Anchors",z.L[0],l,G.clone(),!0)}if(L._(s.Vd)){var l=F.clone(),G=F.clone();
G.A=e.f.mEP(G.A,G.Fg);G.Fg=[];this.NW(z,E,G);this.NG(z,"Delete Anchors",z.L[0],l,G.clone(),!0)}};A.NA.prototype.NG=function(z,r,k,L,E,F){var U=z.history[z.Fa];
if(F&&U!=null&&U.R==this&&U.data.AQ&&U.data.eO==k&&JSON.stringify(U.data.jO.Fg)==JSON.stringify(L.Fg)){U.data.Vw=E}else{var U=new mS(r,this);
U.data={eO:k,jO:L,Vw:E,AQ:F};z.qA(U)}};A.Rect=function(){A.Nu.call(this,[10,32],A.mQi,"tools/rect",!0)};
A.Rect.prototype=new A.Nu;A.Rect.prototype.NK=function(z,r,k){var L=this.jD.crad,E=r.x-z.x,F=r.y-z.y;
return e.f.ur.Rect(z.x,z.y,E,F,L)};A.uI=function(){A.Nu.call(this,[10,33],A.mQD,"tools/ellipse",!0)};
A.uI.prototype=new A.Nu;A.uI.prototype.NK=function(z,r,k){var L=r.x-z.x,E=r.y-z.y;return e.f.ur.uI(z.x,z.y,L,E)};
A.Nh=function(){A.Nu.call(this,[10,34],A.muS,"tools/pshape",!1)};A.Nh.prototype=new A.Nu;A.Nh.prototype.NK=function(z,r,k){var L=this.jD.pshape,E=this.jD.crad,F=this.jD.irad/100,U=this.jD.sides,l=this.jD.length;
r=r.clone();if(k){if(Math.abs(r.x-z.x)<Math.abs(r.y-z.y))r.x=z.x;else r.y=z.y}var G=z.x,g=z.y,P=r.x,J=r.y,x=Math.sqrt((P-G)*(P-G)+(J-g)*(J-g)),a=Math.atan2(-J+g,P-G);
if(L==0)return e.f.ur.mEu(G,g,x,a,U,E);if(L==1)return e.f.ur.mPZ(G,g,x,a,U,E,F);return e.f.ur.maj(G,g,x,a,l)};
A.uX=function(){A.Nu.call(this,[10,35],A.mx_,"tools/line",!1)};A.uX.prototype=new A.Nu;A.uX.prototype.NK=function(z,r,k){var L=this.jD.width;
r=r.clone();if(k){if(Math.abs(r.x-z.x)<Math.abs(r.y-z.y))r.x=z.x;else r.y=z.y}return e.f.ur.uX(z.x,z.y,r.x,r.y,L)};
A.NT=function(){A.Nu.call(this,[10,31],A.muh,"tools/cshape",!0)};A.NT.prototype=new A.Nu;A.NT.prototype.NK=function(z,r,k){var L=this.jD.shape,E=L.km.X/L.km.z,F=T.Zx.Za(L.A),U=r.x-z.x,l=r.y-z.y;
e.f.Qk(F,new zT(U,0,0,l,z.x,z.y));return F};A.s=function(z,r,k){A.hA.call(this,z,r,k);this.OZ=0;this.a=null;
this.aY=null;this.eH=null;this.eB=1;this.PV=!1;this.cursor=null;this.Fc=null;this.fJ=null;this.FB=!1;
this.eR=null;this.Au=0;this.QP=0;this.eP=null;this.eK=null;this.cC=null;this.HE=null;this.BV=null};A.s.prototype=new A.hA;
A.s.prototype.ho=function(z){return this.eK&&this.eK.Ns()};A.s.prototype.hh=function(z,r,k,L,E){this.eH=E;
if(z.J=="doMouseDown"){if(this.eK==null)return;this.hT(k,r,E,L,z.FE);return}if(!this.hL(k,E))return;
this.a=k.qT(z.C==null,z.C);this.Ny(k);var F=this.eP,U=z.eA!=null?z.eA:4,l=this.eK.N$()[U],G=l.x,g=l.y;
if(z.J=="rot"&&z.u!=Math.PI&&(F.X+F.z&1)==1){G=Math.floor(G);g=Math.floor(g)}var P=new zT;P.translate(-G,-g);
if(z.J=="rot")P.rotate(z.u);if(z.J=="scl")P.scale(z.u.x,z.u.y);P.translate(G,g);var J=this.eK.Nt();e.b.Wg(J,P,J);
this.eK.Np(J);this.Rj(k,r,z.HZ,!1)};A.s.prototype.hr=function(){return!0};A.s.prototype.hL=function(z,r){if(z==null)return!1;
if(this.id==A.TN)return z.i!=null;var k=z.qT(!0);for(var L=0;L<k.length;L++){var E=z.a[k[L]];if(E._b(2)||E._b(31)){alert("\""+E.getName()+"\" is locked!");
return!1}if(E.add.artb){alert("You can not ransform the whole artboard");return!1}if(E.add.TySh)if(!ma.ry(E.add.TySh,r.bQ))return!1;
if(E.add.SoLd){if(k.length==1&&(E._F()&&E._F().YK||E.add.vmsk&&E.add.vmsk.YK)){alert("Unlink masks before transforming Smart Object");
return!1}if(!z.mxa(E.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+z.qK(E.add.SoLd.Idnt.v).YT+")");
return!1}}}if(z.i==null)return!0;if(!z.qm())return!1;return z.qG()};A.s.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
if(this.QP==1){var U=e.GE.Jo(e.GE.Gx(this.eK.Nt(),this.eP));F=e.GE.Gh(U,F)}var l=this.QP==0?this.eK:this.cC;
this.PV=l.hT(z,k,L,F);if(this.PV&&l.ND(F)){if(Date.now()-this.Au<250)this.Rj(z,r,null,!0);this.Au=Date.now()}};
A.s.prototype.TL=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.UH,ji:this.cursor};z.K(r)};A.s.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
if(this.QP==1){var U=e.GE.Jo(e.GE.Gx(this.eK.Nt(),this.eP));F=e.GE.Gh(U,F)}var l=this.QP==0?this.eK:this.cC;
if(!E.fe){var G="default";if(l&&l.Nb(F,z.t.o))G=l.Nb(F,z.t.o);if(G!=this.cursor){this.cursor=G;this.TL(r)}}if(!this.PV)return;
l.hR(z,k,L,F);this.NU(z,k,!0);this.Nw(z);this.NN(r)};A.s.prototype.hw=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);
this.eK.hw(z,k,L,F);this.PV=!1};A.s.prototype.hy=function(z,r,k,L){if(L._(s.VR))this.Rj(z,r,null,!0);
else if(L._(s.VZ))this.Rf(z,r);else{var E=this.eK.hy(z,k,L);if(E){this.NU(z,k,!0);this.NN(r)}}};A.s.prototype.hZ=function(z,r,k,L){if(z.ey=="commit")this.Rj(k,r,null,!0);
else if(z.ey=="cancel")this.Rf(k,r);else if(z.ey=="switchWarp"){this.QP=1-this.QP;this.NL();this.Nw(k);
this.NN(r)}else if(z.ey=="wrp"){this.cC.yS(z.Ex);this.Nw(k);this.NU(k,this.eH,!0)}else if(z.ey=="cen"){this.eK.NH(z.El);
this.Nw(k);this.NU(k,this.eH,!0)}else if(z.ey=="trn"){var E=e.GE.GB(z.jt),F=this.eP,U=e.GE.Gx(this.eK.Nt(),this.eP);
E[6]=U[6],E[7]=U[7];var l=[F.x,F.y,F.x+F.X,F.y,F.x+F.X,F.y+F.z,F.x,F.y+F.z];e.GE.apply(E,l);this.eB=z.eB;
this.eK.Np(l);this.Nw(k);this.NU(k,this.eH,!0)}};A.s.prototype.Nw=function(z){if(this.QP==0)this.eK.Ng(z);
else{this.cC.Ng(z);var r=e.GE.Gx(this.eK.Nt(),this.eP);e.GE.apply(r,z.w.eq.O);e.GE.apply(r,z.w.eX)}};
A.s.prototype.Rj=function(z,r,k,L){this.NU(z,this.eH,this.eB==0);var E=new mS(k?k:this.name,this);if(this.OZ==0)E.data={type:this.OZ,a:this.a,eR:this.aY,ew:A.s.NV(z,this.a)};
else if(this.OZ==1){var F=z.a[this.a[0]],U;if(F.fq.B<=0){U=e.$(F.fq.iO.Y());e.Jw(F.fq.fC,U,3)}else U=z.i.channel;
var l={rect:F.fq.iO.clone(),channel:U};E.data={type:this.OZ,C:this.a[0],fJ:this.fJ,fF:l,Fc:this.Fc,FB:this.FB,fq:F.fq,eR:this.eR,ew:{iy:F.fq.iO,gw:F.fq.fC}}}else if(this.OZ==2){E.data={type:this.OZ,fJ:this.fJ,fF:{rect:z.i.rect.clone(),channel:e.clone(z.i.channel)}}}z.qA(E);
this.escape(z,r,L)};A.s.prototype.Rf=function(z,r){if(this.OZ==0)A.s.NO(z,this.a,this.aY);else if(this.OZ==1){var k=z.a[this.a[0]];
z.i=this.fJ;if(!this.FB){k.fq.iO=this.eR.iy;k.fq.fC=this.eR.gw;k._s(z,0,0,z.i)}else{k._X(z,this.Fc)}z.N();
z.fX=!0}else if(this.OZ==2){z.i=this.fJ;z.fX=!0}this.escape(z,r,!0)};A.s.prototype.escape=function(z,r,k){this.eK.clear(z);
this.eK=null;this.cC=null;this.QP=0;if(k)this.Tj(r,Y.E.D,{J:Y.Q.nE})};A.s.prototype.hO=function(z,r){if(z.type==0)A.s.NO(r,z.a,z.ew);
else{if(z.type==1){var k=r.a[z.C];if(z.FB){k.fq=z.fq}else{k.fq.iO=z.ew.iy;k.fq.fC=z.ew.gw}k._s(r,0,0,r.i);
r.N()}r.i={rect:z.fF.rect.clone(),channel:e.clone(z.fF.channel)};r.fX=!0}};A.s.prototype.h_=function(z,r){if(z.type==0)A.s.NO(r,z.a,z.eR);
else{if(z.type==1){var k=r.a[z.C];if(z.FB){k._X(r,z.Fc)}else{k.fq.iO=z.eR.iy;k.fq.fC=z.eR.gw;k._s(r,0,0,r.i)}r.N()}r.i=z.fJ;
r.fX=!0}};A.s.prototype.enable=function(z,r,k,L,E,F){this.TL(r);if(this.eK)return;this.a=z.qT(!0);this.eH=k;
this.Ny(z,F?F.H_:null);this.NN(r);this.Nw(z)};A.s.prototype.NN=function(z){var r={J:Y.Q.nx,R:this.id};
if(this.QP==0){var k=e.GE.Gx(this.eK.Nt(),this.eP),L=e.GE.Gc(k);r.jt={WR:L,El:this.eK.Nd(),iy:this.eP.clone()}}else{r.Ex=this.cC.NF()}r.mSq=this.cC!=null;
this.Tj(z,Y.E.D,r)};A.s.prototype.Ny=function(z,r){var k=this.id==A.TN,L=!0,E=z.a[this.a[0]],U=!1,l=null;
if(k){this.OZ=2;this.fJ=z.i}else if(z.i&&this.a.length==1&&!E.rect.z$()){this.OZ=1;this.fJ=z.i;this.Fc=E.fq;
this.FB=!1;if(!E._I(z,z.i)){this.FB=!0;E._U(z,z.i,!1)}this.eR={gw:E.fq.fC,iy:E.fq.iO}}else{this.OZ=0;
this.aY=A.s.NV(z,this.a);for(var F=0;F<this.aY.length;F++)if(this.aY[F][3]!=null)L=!1}if(this.aY&&this.aY.length==1){var G=this.aY[0];
if(G[3]==null)U=!0;if(G[4]!=null)l=z.a[this.a[0]].add.SoLd}var g=k?z.i.rect.clone():A.s.Te(z,this.a);
this.eP=g;if(!k&&l){var P=A.s.No(l.nonAffineTransform);this.eP=e.b.GF(e.ut.uH(l.warp.v));this.cC=new zp(l.warp.v);
this.HE=e.GE.Gx(P,this.eP);this.eK=new zo(P,!0,!0,L,!1,!1,r)}else{if(U||k)this.cC=new zp(e.ut.$(this.eP));
this.HE=[1,0,0,0,1,0,0,0];this.eK=new zo([g.x,g.y,g.x+g.X,g.y,g.x+g.X,g.y+g.z,g.x,g.y+g.z],!0,!0,L,!1,!1,r)}this.BV=[1,0,0,0,1,0,0,0]};
A.s.Te=function(z,r){if(r==null)r=z.qT(!0);var k=new Z;if(z.i&&r.length==1)k=z.i.rect.clone();else for(var L=0;
L<r.length;L++)k=k.MD(z.a[r[L]]._j(z,r.length==1));return k};A.s.prototype.Tj=function(z,r,k,L){var E=new D(r,!0);
E.data=k;if(L)E.R=L;z.K(E)};A.s.NV=function(z,r,k){var L=[];for(var E=0;E<r.length;E++){var F=z.a[r[E]],U=F._g(z,k),l=[];
if(U.indexOf(0)!=-1){var G={bT:e.clone(F.buffer),iy:F.rect.clone()};l.push(G);if(F._Y()){var g=F.ZS(z);
G.mSo=e.clone(g.buffer);G.mSr=g.rect.clone()}}else l.push(null);if(U.indexOf(1)!=-1)l.push(F._F().clone());
else l.push(null);if(U.indexOf(2)!=-1)l.push({Me:F.add.vmsk.clone(),qk:F.add.vstk?JSON.parse(JSON.stringify(F.add.vstk)):null});
else l.push(null);if(F.add.TySh&&l[0])l.push(F.add.TySh.Wg.clone());else l.push(null);if(F.add.SoLd&&l[0])l.push(JSON.parse(JSON.stringify(F.add.SoLd)));
else l.push(null);if(U.indexOf(3)!=-1)l.push(F.ZS(z).k.clone());else l.push(null);L.push(l)}return L};
A.s.NO=function(z,r,k){for(var L=0;L<r.length;L++){var E=z.a[r[L]],F=k[L];if(F[0]){E.rect=F[0].iy.clone();
E.buffer=e.clone(F[0].bT);if(E._Y()){var U=E.ZS(z);U.buffer=e.clone(F[0].mSo);U.rect=F[0].mSr.clone()}}if(F[1]){E._F().channel=e.clone(F[1].channel);
E._F().rect=F[1].rect.clone();E._F().Yp=!0}if(F[2]){E.add.vmsk=F[2].Me.clone();if(F[2].qk)E.add.vstk=JSON.parse(JSON.stringify(F[2].qk))}if(F[3]){E.add.TySh.Wg=F[3].clone()}if(F[4]){E.add.SoLd=JSON.parse(JSON.stringify(F[4]))}if(F[5]){var l=E.ZS(z).k;
l.channel=e.clone(F[5].channel);l.rect=F[5].rect.clone()}E._q(z);E.N()}z.N()};A.s.Ej=function(z){var r=z.clone(),k=Math.atan2(-r.g,r.n),L=new zT;
L.rotate(-k);r.concat(L);return(Math.abs(r.n)+Math.abs(r.br))/2};A.s.N_=function(z,r,k,L,E,F,U,l){var G=e.GE.Gc(F),g=A.s.Ej(G);
for(var P=0;P<k.length;P++){var J=z.a[k[P]],x=L[P];if(J.add.lmfx&&l)mK.om(J.add.lmfx,g);if(x[0]&&!x[3]&&!x[4]&&!x[5]){var a=A.s.NC([x[0].bT,x[0].iy],E,F,U,E?J.buffer.buffer:null);
if(a){J.rect=a.rect;J.buffer=a.buffer}}if(x[1])A.s.Nq(z,x[1],J._F(),E,F,U);if(x[2]){var d=x[2].Me.clone(),t=k.length==1&&d.L.length!=0;
if(U&&!e.ut.up(U)){var m=e.ut.uH(U);e.GE.apply(F,m);e.f.mGH(d.A,m)}else e.f.mGg(d.A,F,t?d.L:null);if(J.add.vstk)J.add.vstk.strokeStyleLineWidth.v.val=x[2].qk.strokeStyleLineWidth.v.val*g;
d.YC*=g;J.add.vmsk=d}if(x[3]){var b=x[3].clone();b.concat(G);J.add.TySh.Wg=b;var I=new mc(J.add.TySh.Yc,r.bQ),v=ma.rR(I,J.add.TySh);
J.rect=v.rect;J.buffer=v.bT}if(x[4]){var W=J.add.SoLd,B=A.s.No(x[4].nonAffineTransform);e.GE.apply(F,B);
var n=e.b.Mm(B);if(zo.Nf(B)){if(U){var j=e.b.GF(e.ut.uH(x[4].warp.v)),p=e.GE.Gx(B,j),X=e.b.GF(e.ut.uH(U));
B=[X.x,X.y,X.x+X.X,X.y,X.x+X.X,X.y+X.z,X.x,X.y+X.z];e.GE.apply(p,B);W.warp.v=U}var M=e.GE.Gx(B),H=B;
if(!e.GE.Ga(M)){M[6]=M[7]=0;H=[0,0,1,0,1,1,0,1];e.GE.apply(M,H)}W.Trnf=A.s.Nr(H);W.nonAffineTransform=A.s.Nr(B);
J._r(z,E)}}if(x[5])A.s.Nq(z,x[5],J.ZS(z).k,E,F,U);if(E==!1)J.Pu();J._q(z);J.N()}z.N()};A.s.NZ=function(z,r,k,L,E,F){if(k==null)k=!1;
return A.s.NC(z,k,e.GE.GB(r),null,L,E,F)};A.s.NC=function(z,r,k,L,E,F,U){var l={},J=0;if(L&&!e.ut.up(L)){var G=e.ut.uH(L);
e.GE.apply(k,G);l.rect=e.b.Mm(G);l.buffer=e.$(l.rect.Y()*4);e.zB.drawImage(G,z[0],z[1].X,z[1].z,l.buffer,l.rect,r);
return l}e.Jn(z);var g=z[0],P=z[1];while(J+3<z.length&&e.GE.Ga(k)&&A.s.Ej(e.GE.Gc(k))<.4){J+=2;var x=z[J],a=z[J+1];
k=e.GE.Gw(k,[P.X/a.X,0,-a.x,0,P.z/a.z,-a.y,0,0]);P=a;g=x}var d=e.GE.Gw(k,e.GE.GB(new zT(P.X,0,0,P.z,P.x,P.y))),t=[0,0,1,0,1,1,0,1];
e.GE.apply(d,t);l.rect=e.b.Mm(t);if(U)l.rect=l.rect.Mk(U);if(!zo.Nf(t)||l.rect.X>3e4||l.rect.z>3e4)return null;
var m=l.rect.Y()*4;if(E&&E.byteLength>=m&&m>=E.byteLength>>2){l.buffer=new Uint8Array(E)}else{l.buffer=e.$(m)}e.GE.drawImage(d,g,P.X,P.z,l.buffer,l.rect,r,F);
if(l.buffer)return l};A.s.Nq=function(z,r,k,L,E,F){if(r.color==255)e.Jo(r.channel);var U=r.rect,l=e.$(U.Y()*4);
e.JN(r.channel,l,3);var G=A.s.NC([l,U],L,E,F);if(G){k.rect=G.rect;k.channel=e.$(G.rect.Y());e.Jw(G.buffer,k.channel,3);
k.Yp=!0}if(r.color==255){e.Jo(r.channel);if(G)e.Jo(k.channel)}};A.s.No=function(z){var r=[],k=z.v.length;
for(var L=0;L<k;L++)r.push(z.v[L].v);return r};A.s.Nr=function(z){var r={t:"VlLs",v:[]},k=z.length;for(var L=0;
L<k;L++)r.v.push({t:"doub",v:z[L]});return r};A.s.prototype.NL=function(){var z=e.b.GF(e.ut.uH(this.cC.NF())),r=e.GE.Gx(this.eK.Nt(),this.eP),k=[z.x,z.y,z.x+z.X,z.y,z.x+z.X,z.y+z.z,z.x,z.y+z.z];
e.GE.apply(r,k);this.eK.Np(k);this.eP=z};A.s.prototype.NU=function(z,r,k){var L=e.GE.Gx(this.eK.Nt(),this.eP),l=1e-10;
L=e.GE.Gw(L,e.GE.Jo(this.HE));var E=e.GE.Gc(L),F=this.BV,U=e.GE.Gc(F);this.BV=L;var G=Math.abs,g=Math.round,P=L[2]-F[2],J=L[5]-F[5],x=G(L[0]-F[0])<l&&G(L[1]-F[1])<l&&G(L[3]-F[3])<l&&G(L[4]-F[4])<l&&G(L[6]-F[6])<l&&G(L[7]-F[7])<l&&G(P-g(P))<l&&G(J-g(J))<l,a=this.OZ==0&&this.a.length==1&&this.aY[0][2]&&this.aY[0][2].Me.L.length!=0;
if(x&&this.OZ==0&&k==!0&&this.QP==0&&!a){A.nA.wh(z,this.a,A.nA.wR(z,this.a),Math.round(-U.bo+E.bo),Math.round(-U.bL+E.bL));
return}var d=this.cC?this.cC.NF():null;if(this.OZ==0){A.s.N_(z,r,this.a,this.aY,k,L,d)}else if(this.OZ==1){var t=z.a[this.a[0]],m=this.eR.iy;
if(t.B<=0){var b=A.s.NC([this.eR.gw,m],k,L,d);t.fq.fC=b.buffer;t.fq.iO=b.rect;var I=e.$(b.rect.Y());
e.Jw(t.fq.fC,I,3);z.i={channel:I,rect:t.fq.iO.clone()}}else{var v=e.$(m.Y()*4);e.JN(this.eR.gw,v,3);
var b=A.s.NC([v,m],k,L,d);t.fq.fC=e.$(b.rect.Y());e.Jw(b.buffer,t.fq.fC,3);t.fq.iO=b.rect;this.Nn(z,k,L,d)}t._s(z,0,0,z.i);
if(k==!1)t.Pu();z.fX=!0;z.N()}else if(this.OZ==2)this.Nn(z,k,L,d)};A.s.prototype.Nn=function(z,r,k,L){var E=this.fJ.rect,F=e.$(E.Y()*4);
e.JN(this.fJ.channel,F,3);var U=A.s.NC([F,E],r,k,L),l=e.$(U.rect.Y());e.Jw(U.buffer,l,3);z.i={channel:l,rect:U.rect};
z.fX=!0};A.s.prototype.disable=function(z,r,k,L){if(this.eK)this.Rj(z,r,null,!0)};A.Nv=function(){A.s.call(this,[10,16],A.Tw,"tools/transform")};
A.Nv.prototype=new A.s;A.NX=function(){A.s.call(this,[7,10],A.TN,"tools/transform")};A.NX.prototype=new A.s;
A.NI=function(){A.To.call(this,[10,37],A.hH,"tools/qselect");this.fG="qselect"};A.NI.prototype=new A.To;
A.NI.prototype.hT=function(z,r,k,L,E){this.TX(z,k,L,E,1);if(this.jj==null)return;this.Td(z)};A.NI.prototype.hR=function(z,r,k,L,E){if(this.jj==null)return;
this.TI(z,r,k);if(!E.fe)return;this.Ts(z,k,L,E);this.Td(z)};function zo(z,r,k,L,E,F,U){this.jd=null;
this.Ft=z?z.slice(0):null;this.c_=4;this.fp=null;this.mr=null;this.K_=null;this.cO=-1;this.AK=[];for(var l=0;
l<8;l++)this.AK.push(Y.Uq(zc.mSn(0,PIMG.rotate,-.5,-.5,-45-l*45)));this.Al=r;this.mSt=k;this.mSp=L;this.mS$=E;
this.Ax=F;this.H_=U}zo.prototype.Ns=function(){return this.cO!=-1};zo.prototype.Nt=function(){return this.Ft.slice(0)};
zo.prototype.Np=function(z){this.Ft=z};zo.prototype.N$=function(){return this.Ne(this.Ft)};zo.prototype.Nd=function(z){if(z==null)z=this.Ft;
if(this.c_==9)return this.fp;else return this.Ne(z)[this.c_]};zo.prototype.NH=function(z){if(this.c_==9)this.fp=z.clone();
else{var r=this.Nd(),k=new zT(1,0,0,1,z.x-r.x,z.y-r.y);e.b.Wg(this.Ft,k,this.Ft)}};zo.prototype.Nb=function(z,r,k){var L=this.NY(z,r),E;
if(L==9)return"default";if(L==10&&k)return null;if(L==10&&!this.Al)return"move";if(L==-1||L==4)return null;
if(L==11){var F=this.Nd().E$(z);E=90-Math.atan2(F.y,F.x)*180/Math.PI;var U=Math.round(8*(E/360));U=(U+8)%8;
return this.AK[U]}else{var l=this.Ni(z,this.Ft);E=[135,90,45,180,0,0,225,270,315][L];var G=e.GE.Gx(this.Ft);
E+=Math.atan2(-G[3],G[0])*180/Math.PI;var g="ew nesw ns nwse ew nesw ns nwse".split(" "),U=Math.round(8*(E/360));
U=(U+8)%8;return g[U]+"-resize"}};zo.prototype.Ni=function(z,r){var k=e.GE.Jo(e.GE.Gx(r)),L=new Float64Array(2);
e.GE.GA(z.x,z.y,k,L);return new V(L[0],L[1])};zo.prototype.ND=function(z){var r=this.Ni(z,this.Ft);return 0<=r.x&&r.x<=1&&0<=r.y&&r.y<=1};
zo.prototype.hT=function(z,r,k,L,E){var F=z.t.o;if(this.Ft==null)L=A.nA.wN(z,L,r);this.K_=L.clone();
if(this.Ft==null){this.K_.offset(1,1);var U=E==null?1:1/E;this.Ft=[L.x,L.y,L.x+1,L.y,L.x+1,L.y+U,L.x,L.y+U];
this.jd=this.Ft.slice(0);this.cO=8;this.Ng(z);return!0}this.jd=this.Ft.slice(0);var l=this.NY(L,F);if(0<=l&&l<=8)this.K_=this.Ne(this.Ft)[l];
this.cO=l;this.Ng(z);this.mr=this.Nd();return l!=-1};zo.prototype.NY=function(z,r){var k=-1,L=this.Ne(),E=6*Y.Z()/r;
if(k==-1)if(V.Ed(this.Nd(),z)<E)k=9;if(k==-1)for(var F=0;F<L.length;F++)if(F!=4&&V.Ed(L[F],z)<E)k=F;
if(k==-1){if(this.ND(z)){if(this.Al)k=10}else{var U=this.Ni(z,this.Ft),l=new Z(0,0,1,1);l.aD(.2,.2);
k=l.ab(U)?11:10}}return k};zo.prototype.hR=function(z,r,k,L){if(this.cO==-1)return;var E=k._(s.Vy),F=k._(s.V_),U=k._(s.VO),l=z.t.o,G=this.K_,g=this.cO,P=this.Ne(),J=A.nA.wN(z,G,r),x=A.nA.wN(z,L,r),a,d;
if(g==9){var P=this.Ne(),t=-1;for(var m=0;m<P.length;m++)if(V.Ed(P[m],x)*l<10)t=m;this.c_=t==-1?9:t;
this.fp=x.clone()}else if(g==10){d=e.b.GF(this.jd);var b=d.x,I=d.y;d.offset(L.x-G.x,L.y-G.y);if(this.Nj()){d.x=Math.round(d.x);
d.y=Math.round(d.y)}a=A.nA.wy(z,d,r);var v=new zT(1,0,0,1,d.x-b+a[0],d.y-I+a[1]);e.b.Wg(this.jd,v,this.Ft)}else if(g==11){var W=this.Nd(this.jd),B=W.E$(L),n=W.E$(G),j=Math.atan2(B.y,B.x),p=Math.atan2(n.y,n.x),v=new zT(1,0,0,1,-W.x,-W.y),X=Math.PI/12;
if(E)v.rotate(Math.round((p-j)/X)*X);else v.rotate(p-j);v.translate(W.x,W.y);e.b.Wg(this.jd,v,this.Ft)}else{var M,H=this.jd,c=g==0||g==2||g==6||g==8;
if(this.H_==1){if(c)E=F=U=!0}if(this.mSp&&c&&U){M=H.slice(0);var m=[0,0,2,0,0,0,6,0,4,0][g],S=-1,w=x.x,R=x.y;
if(E){var i=m+6&7,f=m+10&7,_=zo.Nk(H[m],H[m+1],H[i],H[i+1],x.x,x.y),u=zo.Nk(H[m],H[m+1],H[f],H[f+1],x.x,x.y),Q=_[2]<u[2]?_:u;
w=Q[0];R=Q[1];if(F)S=_[2]<u[2]?i:f}else if(F)S=m+4&7;if(S!=-1){var $=H[S],C=H[S+1],y=(H[m]+$)/2,N=(H[m+1]+C)/2;
M[S]=y-(w-y);M[S+1]=N-(R-N)}M[m]=w;M[m+1]=R}else{M=this.Ft.slice(0);if(this.Nj()){x.x=Math.round(x.x);
x.y=Math.round(x.y)}var O=[0,1,2,5,8,7,6,3],JQ=O[(O.indexOf(g)+4)%8],zf=[];for(var m=0;m<3;m++)for(var S=0;
S<3;S++)zf.push(new V(S/2,m/2));var W=this.mr,ze=this.Ni(x,H),zg=this.Ni(G,H),zF=F?this.Ni(W,H):zf[JQ],GS=new zT,Gm=new zT,GJ=(ze.x-zF.x)/(zg.x-zF.x);
if(GJ==0)GJ=1e-4;var GP=(ze.y-zF.y)/(zg.y-zF.y);if(GP==0)GP=1e-4;if(this.mS$){GJ=Math.max(GJ,0);GP=Math.max(GP,0)}if(g==0||g==2||g==6||g==8){if(E||this.Ax)GS.scale(GJ,GJ);
else GS.scale(GJ,GP)}if(g==1||g==3||g==5||g==7){var Gz=this.Ax;if(g==1||g==7)GS.scale(Gz?GP:1,GP);else GS.scale(GJ,Gz?GJ:1);
if(this.mSt&&U){if(g==1||g==7)Gm.bq=(ze.x-zF.x)/(ze.y-zF.y);else Gm.g=(ze.y-zF.y)/(ze.x-zF.x)}}M=[0,0,1,0,1,1,0,1];
var GG=new zT;GG.translate(-zF.x,-zF.y);GG.concat(GS);GG.concat(Gm);GG.translate(zF.x,zF.y);e.b.Wg(M,GG,M);
var Q=e.GE.Gx(H);e.GE.apply(Q,M)}if(zo.Nf(M))this.Ft=M}this.Ng(z);if(a)A.nA.ww(z,d,a)};zo.Nk=function(z,r,k,L,E,F){var U=k-z,l=L-r,G=E-z,g=F-r,P=U*U+l*l,J=G*U+g*l,x=J/P,a=z+x*U,d=r+x*l,t=E-a,m=F-d;
return[a,d,Math.sqrt(t*t+m*m)]};zo.prototype.Nj=function(){var z=this.Ft;return Math.abs(z[1]-z[3])<1e-6&&Math.abs(z[2]-z[4])<1e-6||Math.abs(z[0]-z[2])<1e-6&&Math.abs(z[3]-z[5])<1e-6};
zo.Nf=function(z){return e.b.Wb(z)||e.b.Wb([z[6],z[7],z[4],z[5],z[2],z[3],z[0],z[1]])};zo.prototype.hw=function(z,r,k,L){this.cO=-1;
z.w.eS=null;z.eJ=!0};zo.prototype.hy=function(z,r,k){var L=k.Va();if(L.x||L.y){var E=new zT(1,0,0,1,L.x,L.y);
e.b.Wg(this.Ft,E,this.Ft);this.Ng(z);return!0}return!1};zo.prototype.Ne=function(z){if(z==null)z=this.Ft;
var r=z[6]-z[0],k=z[7]-z[1],L=z[4]-z[2],E=z[5]-z[3],F=[z[0],z[1],z[2],z[3],z[0]+r/2,z[1]+k/2,z[2]+L/2,z[3]+E/2,z[6],z[7],z[4],z[5]],U=[];
for(var l=0;l<3;l++){var G=l*4,g=F[G+0],P=F[G+1],J=F[G+2],x=F[G+3];U.push(new V(g,P));U.push(new V(g+(J-g)/2,P+(x-P)/2));
U.push(new V(J,x))}return U};zo.prototype.Ng=function(z,r){if(r==null)r=!1;var k=this.Ne();z.w.eq={be:[],O:[]};
z.w.eq.be.push("M","L","L","L","L");z.w.eq.O.push(k[0].x,k[0].y,k[2].x,k[2].y,k[8].x,k[8].y,k[6].x,k[6].y,k[0].x,k[0].y);
if(!r){z.w.eX=[];for(var L=0;L<k.length;L++)if(L!=4)z.w.eX.push(k[L].x,k[L].y);var E=this.Nd();z.w.eX.push(E.x,E.y)}z.eJ=!0};
zo.prototype.clear=function(z){z.w.eS=null;z.w.eq=null;z.w.eX=[];z.eJ=!0};function zp(z,r){this.ut=null;
this.cO=-1;this.yS(z)}zp.prototype.NF=function(){return JSON.parse(JSON.stringify(this.ut))};zp.prototype.yS=function(z){this.ut=JSON.parse(JSON.stringify(z))};
zp.prototype.ND=function(z){return!0};zp.prototype.Nb=function(z,r){var k=this.NY(z,r);if(k==-1)return"default";
return"pointer"};zp.prototype.hT=function(z,r,k,L){this.cO=this.NY(L,z.t.o);return this.cO!=-1};zp.prototype.NY=function(z,r){var k=-1,L=20*Y.Z(),E=this.ym();
for(var F=0;F<E.length;F++)if(V.Ed(E[F],z)*r<L)k=F;return k};zp.prototype.hR=function(z,r,k,L){if(this.cO==-1)return;
var E=z.t.o,F=this.cO,U=e.ut.uH(this.ut);U[F*2]=L.x;U[F*2+1]=L.y;e.ut.ud(U,this.ut)};zp.prototype.hw=function(z,r,k,L){this.cO=-1;
z.eJ=!0};zp.prototype.hy=function(z,r,k){var L=k.Va();if(L.x||L.y){var E=new zT(1,0,0,1,L.x,L.y);e.b.Wg(this.Ft,E,this.Ft);
this.Ng(z)}};zp.prototype.ym=function(z){var r=e.ut.uH(this.ut),k=[];for(var L=0;L<r.length;L+=2)k.push(new V(r[L],r[L+1]));
return k};zp.prototype.Ng=function(z){var r=this.ym();z.w.eq={be:[],O:[]};z.w.eq.be.push("M","C","C","C","C");
var k=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var L=0;L<k.length;L++)z.w.eq.O.push(r[k[L]].x,r[k[L]].y);
z.w.eq.be.push("M","L","L","M","L","L","M","L","L","M","L","L");k=[4,0,1,2,3,7,11,15,14,13,12,8];for(var L=0;
L<k.length;L++)z.w.eq.O.push(r[k[L]].x,r[k[L]].y);z.w.eX=[];for(var L=0;L<r.length;L++)z.w.eX.push(r[L].x,r[L].y);
z.eJ=!0};zp.prototype.clear=function(z){z.w.eq=null;z.w.eX=[];z.eJ=!0};var zM={};zM.yJ=function(z){this.id=z};
zM.yJ.prototype.hh=function(z,r,k,L,E){};zM.yJ.prototype.hO=function(z,r){};zM.yJ.prototype.h_=function(z,r){};
zM.History=function(){zM.yJ.call(this,A.TO);this.sA=!0;this.Aa=0};zM.History.prototype=new zM.yJ;zM.History.prototype.hh=function(z,r,k,L){if(z.J=="h_itemchange"){if(z.index<k.Fa)for(var E=k.Fa;
E>z.index;E--)this.yP(k);if(z.index>k.Fa)for(var E=k.Fa;E<z.index;E++)this.yz(k)}if(z.J=="h_stepfwd")this.yz(k);
if(z.J=="h_stepbck")this.yP(k);if(z.J=="h_undoredo"){var F=this.sA||this.Aa!=k.Fa;if(F){this.yP(k);F=!1}else{this.yz(k);
F=!0}this.sA=F;this.Aa=k.Fa}else this.sA=!0};zM.History.prototype.yP=function(z){if(z.Fa==0)return;var r=z.history[z.Fa];
r.R.h_(r.data,z);z.Fa--};zM.History.prototype.yz=function(z){if(z.Fa==z.history.length-1)return;var r=z.history[z.Fa+1];
r.R.hO(r.data,z);z.Fa++};zM.yG=function(){zM.yJ.call(this,A.T_)};zM.yG.prototype=new zM.yJ;zM.yG.prototype.hh=function(z,r,k,L,E){var F=z.J,U=z.C!=null?z.C:k.L[0],l=k.a[U];
if(F==T.CR&&k.i==null)F=T.Zh;if(F==T.Zs){var G=new mS([6,33],this),g=l._w()?["pass"].concat(mP._l):mP._l;
G.data={J:F,C:U,Hn:l.DD,FW:g[z.FW]};k.qA(G);this.hO(G.data,k)}if(F==T.Zt){var G,P=k.qh();if(P&&P.data&&P.data.J==F&&P.data.C==U)G=P;
else{G=new mS([6,32],this);G.data={J:F,C:U,Hn:l.opacity,FW:z.FW};k.qA(G)}G.data.FW=z.FW;this.hO(G.data,k)}if(F==T.Z$){if(l.add.iOpa==null)l.add.iOpa=255;
var G,P=k.qh();if(P&&P.data&&P.data.J==F&&P.data.C==U)G=P;else{G=new mS("Fill Opacity Change",this);
G.data={J:F,C:U,Hn:l.add.iOpa,FW:z.FW};k.qA(G)}G.data.FW=z.FW;this.hO(G.data,k)}if(F==T.Zp){if(l.add.lspf==null)l.add.lspf=0;
var J=l.add.lspf,x=J,a=z.FW,G;for(var d=0;d<a[0].length;d++){var t=a[1][d],m=1<<t;if((x&m)==0&&a[0][d])x^=m;
else if((x&m)!=0&&!a[0][d])x^=m}var P=k.qh();if(P&&P.data&&P.data.J==F&&P.data.C==U)G=P;else{var G=new mS("Lock Change",this);
G.data={J:F,C:U,Hn:J,FW:x};k.qA(G)}G.data.FW=x;this.hO(G.data,k)}if(F==T.Zd){var b="----",I=z.bl,x=null;
for(var d=0;d<mT.LY.Um.length;d++)if(l.add[mT.LY.Um[d]])b=mT.LY.Um[d];var v=l.add[b];if(I=="TySh")x=q.rs(50,50,E.gT);
var G=new mS("Layer Type",this);G.data={J:F,C:U,Ac:[b,v],bl:[I,x]};k.qA(G);this.hO(G.data,k)}if(F==T.ZH){var W=[];
if(L._(s.V_)){var B=k.qh(),n=B?B.data:null;if(B!=null&&B.R==this&&n.J==T.ZH&&n.Ff.length!=1){var j=new D(Y.E.q);
j.R=A.TO;j.data={J:"h_stepbck"};r.K(j);if(n.C==U)return}var p=k.root.Cy(U),X=k.qT(null,U);while(p.parent!=k.root){X.push(p.parent.index);
p=p.parent}for(var d=0;d<k.a.length;d++){var M=k.a[d],H=M._$(),c=X.indexOf(d)!=-1;if(!c&&H)W.push(d);
if(d==U&&!H)W.push(d)}}else W.push(U);var G=new mS("Layer visibility",this,!0);G.data={J:F,Ff:W,C:U};
k.qA(G);this.hO(G.data,k)}if(F==T.Zi){var escape=!1;if(L._(s.VO)){var S=k.L.indexOf(U);if(S==-1)k.L.push(U);
else if(k.L.length>1)k.L.splice(S,1);k.L.sort(function(G,WT){return G-WT})}else if(L._(s.Vy)&&z.xO>0){F=z.xO==1?T.ZC:z.xO==2?T.Zq:T.Zo;
escape=!0}else if(L._(s.Vy)&&k.L.length>0){var w=Math.min(U,k.L[0]),R=Math.max(U,k.L[k.L.length-1]);
k.L=[];for(var d=w;d<=R;d++)k.L.push(d)}else{k.L=[U]}if(!escape){if(k.L.length==1){var i=k.L[0];for(var d=0;
d<k.a.length;d++){if(d==i)continue;var f=k.a[d];f.B=0;f.TV=!1}var l=k.a[i];if(z.xO==2)l.TV=!l.TV;else l.B=z.xO<=0?0:z.xO}else for(var d=0;
d<k.a.length;d++){var f=k.a[d];f.B=0;f.TV=!1}k.ep=!0}}if(F==T.ZC||F==T.Zo){var _=F==T.ZC,u=_?l._F():l.ZS(k).k;
if(u==null)return;var G=new mS(u.isEnabled?_?[6,15]:[6,42]:_?[6,14]:[6,41],this);G.data={J:F,C:U};k.qA(G);
this.hO(G.data,k)}if(F==T.Zq){var u=l.add.vmsk;if(u==null)return;var G=new mS(u.isEnabled?[6,17]:[6,16],this);
G.data={J:F,C:U};k.qA(G);this.hO(G.data,k)}if(F==T.ZD){if(l.add.lsct==mG.ZW)l.add.lsct=mG.ZM;else l.add.lsct=mG.ZW;
k.ep=!0}if(F==T.Ze){if(!k.Cb(U))return;var G=new mS(l.YO?[6,19]:[6,18],this);G.data={J:F,C:U};k.qA(G);
this.hO(G.data,k)}if(F==T.ZY){if(l._H())l.Y_-=32;else l.Y_+=32;k.ep=!0}if(F==T.Zk||F==T.CK){var G;if(F==T.Zk)G=new mS(l.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(F==T.CK)G=new mS(l.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);G.data={J:F,C:U};k.qA(G);this.hO(G.data,k)}if(F==T.Zj||F==T.CE){var i=z.index,G;
if(F==T.Zj)G=new mS(l.add.lmfx[K.qo[i[0]]].v[i[1]].v.enab.v?[6,30]:[6,29],this);if(F==T.CE)G=new mS(l.add.SoLd.filterFX.v.filterFXList.v[i].v.enab.v?[6,44]:[6,43],this);
G.data={J:F,C:U,index:z.index};k.qA(G);this.hO(G.data,k)}if(F==T.CP){if(z.src==z.gx)return;var Q=k.a[z.src],$=k.a[z.gx],C=Q.add.lmfx?JSON.stringify(Q.add.lmfx):"",y=$.add.lmfx?JSON.stringify($.add.lmfx):"";
if($.add.lmfx==null){$.add.lmfx=JSON.parse(K.default);for(var d=0;d<K.order.length;d++)$.add.lmfx[K.qo[d]]={t:"VlLs",v:[]}}if(z.Ek==null){$.add.lmfx=JSON.parse(C);
if(!z.ci)delete Q.add.lmfx}else{var N=z.Ek[0],O=K.qo[N];if(K.qr.indexOf(K.order[N])==-1)$.add.lmfx[O].v=[];
$.add.lmfx[O].v.push(Q.add.lmfx[O].v[z.Ek[1]]);if(!z.ci)Q.add.lmfx[O].v.splice(z.Ek[1],1)}var JQ=Q.add.lmfx?JSON.stringify(Q.add.lmfx):"",zf=$.add.lmfx?JSON.stringify($.add.lmfx):"";
if(!$._H())$.Y_+=32;var G=new mS("Move Layer Styles",this);G.data={J:F,AB:z.src,rV:z.gx,mSF:C,mmS:y,mmm:JQ,mmJ:zf};
k.qA(G);this.hO(G.data,k)}if(F==T.Cc||F==T.CB){var ze=F==T.Cc;if(ze&&z.src==z.gx)return;var zg=JSON.parse(JSON.stringify(l.add.SoLd.filterFX.v)),zF=JSON.parse(JSON.stringify(zg)),GS=zF.filterFXList.v;
if(ze){GS.splice(z.gx,0,GS[z.src]);GS.splice(z.src+(z.src<z.gx?0:1),1)}else GS.splice(z.W$,1);var G=new mS(ze?[6,52]:[6,53],this);
G.data={J:T.CA,C:U,mmP:zg,mmz:zF};k.qA(G);this.hO(G.data,k)}if(F==T.Zv){var u=l._F(),G=new mS(u.YK?[6,26]:[6,25],this);
G.data={J:F,C:U};k.qA(G);this.hO(G.data,k)}if(F==T.ZX){var u=l.add.vmsk,G=new mS(u.YK?[6,28]:[6,27],this);
G.data={J:F,C:U};k.qA(G);this.hO(G.data,k)}if(F==T.CM){var G=new mS(z.HZ,this);G.data={J:T.CM,gA:k.a.slice(0),gh:z.gh,cF:k.L.slice(0),cg:z.fF};
k.qA(G);this.hO(G.data,k)}if(F==T.ZT){var Gm=k.qT(null,z.C),GP=1e10;if(k.a.length==Gm.length){alert("Project must have at least 1 layer");
return}var GJ=[];for(var d=0;d<k.a.length;d++)if(Gm.indexOf(d)==-1)GJ.push(k.a[d]);for(var d=0;d<Gm.length;
d++)GP=Math.min(GP,Gm[d]);GP=Math.max(GP-1,0);while(GJ[GP].name=="</Layer group>")GP++;var G=new mS([6,31],this);
G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:[GP]};k.qA(G);this.hO(G.data,k)}if(F==T.ZR){var X=k.L,Gz=0,GM=!1;
if(X.length==1&&k.a[X[0]].YX==0){alert(zA.get([15,7,5]));return}var GG=[];for(var d=0;d<k.a.length;d++){var GW=k.a[d].YX;
GG.push(GW);Gz=Math.max(Gz,GW)}var GQ=-1,Gu=-1;for(var d=0;d<X.length;d++){var GW=k.a[X[d]].YX;if(GW==0)GM=!0;
else if(GQ==-1||GQ==GW)GQ=GW;else Gu=GW}if(!GM)for(var d=0;d<X.length;d++)k.a[X[d]].YX=0;else if(GQ!=-1&&Gu==-1)for(var d=0;
d<X.length;d++)k.a[X[d]].YX=GQ;else for(var d=0;d<X.length;d++)k.a[X[d]].YX=Gz+1;var GK=[];for(var d=0;
d<k.a.length;d++){var GW=k.a[d].YX;if(GK[GW]==null)GK[GW]=0;GK[GW]++}for(var d=0;d<k.a.length;d++){var GW=k.a[d].YX;
if(GK[GW]==1)k.a[d].YX=0}var GE=GG;GG=[];for(var d=0;d<k.a.length;d++){var GW=k.a[d].YX;GG.push(GW);
Gz=Math.max(Gz,GW)}var G=new mS(GM?[6,54,0]:[6,54,1],this);G.data={J:T.ZR,mmM:GE,mmQ:GG};k.qA(G);this.hO(G.data,k)}if(F==T.Zh){var Gl=k.qR(U);
F=T.Zf;z.a=Gl;z.WW=k;z.bc=k}if(F==T.Zf){var Gx,Ga,Gc=z.WW,GB=z.bc;if(Gc!=GB){var Gx=new Z(0,0,Gc.X,Gc.z),Ga=new Z(0,0,GB.X,GB.z),GA=[],Gh=[];
for(var d=0;d<z.a.length;d++){var f=z.a[d];if(f.add.SoLd==null)continue;var GT=f.add.SoLd.Idnt.v;if(GA.indexOf(GT)==-1){GA.push(GT);
Gh.push(mM.Ck()+GT.slice(8))}f.add.SoLd.Idnt.v=Gh[GA.indexOf(GT)]}if(GA.length>0){if(GB.add.lnk2==null)GB.add.lnk2=[];
for(var d=0;d<GA.length;d++){var Gw=Gc.qK(GA[d]),GN=Gw.clone();GN.ic=Gh[d];GB.add.lnk2.push(GN)}}}var Gy=GB.L.slice(0);
Gy.sort(function(G,WT){return G-WT});var GJ=GB.a.slice(0),GV=[],GO=-1;for(var d=0;d<Gy.length;d++)GO=Math.max(GO,Gy[d]);
GO++;for(var d=0;d<z.a.length;d++){var M=z.a[d];GJ.splice(GO,0,M);GV.push(GO);GO++}var G=new mS([6,0],this);
G.data={J:T.CM,gA:GB.a.slice(0),gh:GJ,cF:Gy,cg:GV};GB.qA(G);this.hO(G.data,GB)}if(F==T.ZV){var G_=k.qT(),GJ=k.a.slice(0);
for(var d=0;d<G_.length;d++){var M=k.a[G_[d]].clone();M.ZJ(k);GJ.splice(G_[d],1,M)}var G=new mS([6,8],this);
G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:k.L.slice(0)};k.qA(G);this.hO(G.data,k)}if(F==T.ZO){var G_=k.qT(),GJ=k.a.slice(0),GZ=new mM("hi");
for(var d=0;d<G_.length;d++){var GC=k.a[G_[d]],Gq=GC._$();GC._i(!0);var Go=k.root.Cy(G_[d]);if(GC._w())continue;
if(Go==null)continue;var M=GC.clone();M.ZJ(k);var Gr=Go.Te(k,!0);M.rect.offset(-Gr.x,-Gr.y);if(M.k)M.k.rect.offset(-Gr.x,-Gr.y);
GZ.X=Gr.X;GZ.z=Gr.z;GZ.qy([M]);GZ.N();GZ.qx();M.buffer=e.$(Gr.Y()*4);e.JZ(GZ.Ce(),M.buffer);M.rect=Gr;
M.N();M.c.OX=!0;if(M.add.lmfx)delete M.add.lmfx;M.k=M.Yq=null;GJ.splice(G_[d],1,M);M._i(Gq);GC._i(Gq)}var G=new mS([6,34],this);
G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:k.L.slice(0)};k.qA(G);this.hO(G.data,k)}if(F==T.Cu){var G_=k.qT(),GJ=k.a.slice(0);
for(var d=0;d<G_.length;d++){var M=k.a[G_[d]],GU=M.add.TySh;if(GU==null)continue;var f=new mc(GU.Yc,E.bQ),Gn=e.b.mWB(ma.rw(f,GU));
for(var Gv in Gn){var GX=Gn[Gv];GX=e.b.MP(GX);var GI=M.clone();delete GI.add.TySh;GI.Y_=GI.Y_|1<<4;GI.add.SoCo=JSON.parse(JSON.stringify(K.qg[0]));
var Gs=GI.add.SoCo.Clr.v;Gs.Rd.v=parseInt(Gv.slice(1,3),16);Gs.Grn.v=parseInt(Gv.slice(3,5),16);Gs.Bl.v=parseInt(Gv.slice(5,7),16);
var Gt=new T.Zx;Gt.A=e.b.mma(GX);if(GI.add.vmsk!=null){GI.add.vmsk.muz();Gt.concat(GI.add.vmsk)}GI.add.vmsk=Gt;
GI.add.vstk=JSON.parse(JSON.stringify(K.qk.default));GI.add.vstk.strokeEnabled.v=!1;GI._q(k);GJ.splice(GJ.indexOf(M),0,GI)}GJ.splice(GJ.indexOf(M),1)}var G=new mS([6,40],this);
G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:k.L.slice(0)};k.qA(G);this.hO(G.data,k)}if(F==T.Zw){var Gy=k.L.slice(0),Gp=k.a.slice(0),G_=k.qT();
k.CY(G_);var G=new mS([6,36,0],this);G.data={J:T.CM,gA:Gp,gh:k.a.slice(),cF:Gy,cg:k.L.slice(0)};k.qA(G);
this.hO(G.data,k)}if(F==T.ZN){var Gw=z.ed.qK(z.id),GN=Gw.clone();GN.raw=z.data;GN.Yw="8BIM";GN.YR="8BPB";
GN.YT=GN.YT+".psd";var G=new mS([6,36,1],this);G.data={J:T.ZN,id:z.id,AT:Gw,Aw:GN};z.ed.qA(G);this.hO(G.data,z.ed)}if(F==T.Zy){var G$,Gd;
if(z.WY){G$=z.ed;Gd=z.WY}else{z.ed.qV();z.ed.qN();z.ed.N();z.ed.qx();z.ed.Ce();G$=zc.PSD.mn(z.ed,0,0,[!0,!0]);
Gd=z.ed.name}G$=new Uint8Array(G$);var S=z.gK!=null?z.gK:k.L[k.L.length-1]+1,GH=k.Cf(G$,Gd,0,0),GJ=k.a.slice(0);
GJ.splice(S,0,GH);var G=new mS([6,36,2],this);G.data={J:T.CM,gA:k.a.slice(),gh:GJ,cF:k.L.slice(0),cg:[GJ.indexOf(GH)]};
k.qA(G);this.hO(G.data,k)}if(F==T.Z_||F==T.ZZ){var Gy=k.L.slice(0);if(F==T.Z_)k.L=[k.L[0],k.L[0]-1];
var G_=k.qT(),Gp=k.a.slice(0);k.CY(G_,L._(s.V_));var GH=k.a[k.L[0]],Gb=k.qK(GH.add.SoLd.Idnt.v);k.add.lnk2.splice(k.add.lnk2.indexOf(Gb),1);
delete GH.add.SoLd;var G=new mS([6,12],this);G.data={J:T.CM,gA:Gp,gh:k.a.slice(),cF:Gy,cg:k.L.slice(0)};
k.qA(G);this.hO(G.data,k)}if(F==T.Zg||F==T.CS||F==T.CT||F==T.Cm||F==T.CR){var M=k.qa(),Gi=zA.get([0,3]);
if(F==T.CS)Gi=zA.get(mm.names[z.DK]);if(F==T.CT)Gi=zA.get(z.Lf==null?[12,76,1]:[6,48,0,z.Lf]);M._p(Gi+" "+k.a.length);
if(F==T.CR){var GC=k.a[k.L[0]],GD=GC._n(k,k.i);if(GD==null){alert("Copied area is empty");return}M.rect=GD.rect,M.buffer=GD.gw}if(F==T.Cm){M.rect=zM.yG.yQ(z.eC,k);
M.buffer=e.clone(z.eC.buffer)}if(F==T.CS){M.Y_|=16;mm.OH(z.DK,M.add);var GY=M.k=new T.Zu;if(k.i!=null){GY.color=0;
GY.channel=e.clone(k.i.channel);GY.rect=k.i.rect.clone()}}if(F==T.CT){M.Y_|=16;if(z.Hr==0)M.k=new T.Zu;
else{M.add.vmsk=new T.Zx;M.add.vstk=JSON.parse(JSON.stringify(K.qk.default));M.add.vstk.strokeEnabled.v=!1}var Gk;
if(z.Lf!=null){Gk=["SoCo","GdFl","PtFl"][z.Lf];M.add[Gk]=JSON.parse(JSON.stringify(K.qg[z.Lf]))}else{var Gj=E.Fj;
M.add.vstk=JSON.parse(JSON.stringify(E.Fk));Gk=["none","SoCo","GdFl","PtFl"][Gj.YR];A.Nz.NQ(M,Gj);if(Gj.YR==0)M.add.SoCo=JSON.parse(JSON.stringify(K.qg[0]))}if(Gk=="PtFl")k.Cj(mK.oE(M.add[Gk].Ptrn.v,E.QB));
M._q(k)}var Gf=k.L[k.L.length-1],Ge=Gf+1;if(k.a[Gf].add.lsct==mG.ZW)Ge--;var GJ=k.a.slice(0);GJ.splice(Ge,0,M);
var Gg=[5,2];if(F==T.Zg)Gg=[6,13];if(F==T.CS)Gg=[6,1];if(F==T.CT)Gg=[6,48,1];if(F==T.CR)Gg=[6,49];var G=new mS(Gg,this);
G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:[Ge]};k.qA(G);this.hO(G.data,k);if(F==T.CT&&z.Hr==0||F==T.CS){var GF=new D(Y.E.D);
GF.data={J:Y.Q.nJ,Hw:"properties"};r.K(GF)}}if(F==T.ZF){var M=k.qa();M._p(zA.get([0,4])+" "+k.a.length);
M.DD="pass";M.add.lsct=mG.ZW;M.Y_=24;var WS=k.qc(),Gf=k.L[k.L.length-1],Ge=Gf+1,GJ=k.a.slice(0);GJ.splice(Ge,0,WS,M);
var G=new mS([6,20],this);G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:[Ge+1]};k.qA(G);this.hO(G.data,k)}if(F==T.CJ){var Wm=L._(s.V_),WJ;
if(k.L.indexOf(z.source)!=-1)WJ=k.qT();else WJ=k.qw(z.source);if(WJ.indexOf(z.target)!=-1)return;WJ.sort(function(G,WT){return G-WT});
var WP=k.a[z.target],GJ=[];if(Wm)GJ=k.a.slice(0);else for(var d=0;d<k.a.length;d++)if(WJ.indexOf(d)==-1)GJ.push(k.a[d]);
var Wz=GJ.indexOf(WP),WG=[];for(var d=0;d<WJ.length;d++){var WW=Wz+(z.rO?0:1)+d,f=k.a[WJ[d]];if(Wm)f=f.clone();
GJ.splice(WW,0,f);WG.push(WW)}var G=new mS(Wm?[6,0]:[6,35],this);G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:WG};
k.qA(G);this.hO(G.data,k)}if(F==T.Cz){var M=k.qa();M._p(zA.get([0,4])+" "+k.a.length);M.DD="pass";M.add.lsct=mG.ZW;
M.Y_=24;var WS=k.qc(),WJ=k.qT();WJ.sort(function(G,WT){return G-WT});var GJ=[];for(var d=0;d<k.a.length;
d++)if(WJ.indexOf(d)==-1)GJ.push(k.a[d]);var Gf=k.L[k.L.length-1]-WJ.length;GJ.splice(Gf+1,0,WS);for(var d=0;
d<WJ.length;d++)GJ.splice(Gf+2+d,0,k.a[WJ[d]]);GJ.splice(Gf+2+WJ.length,0,M);var G=new mS([6,9],this);
G.data={J:T.CM,gA:k.a.slice(0),gh:GJ,cF:k.L.slice(0),cg:[GJ.indexOf(M)]};k.qA(G);this.hO(G.data,k)}if(F==T.ZI){if(k.L.length!=1)return;
var S=k.L[0];if(k.a[S]._F()==null)F=T.ZU;else F=T.Zn}if(F==T.ZU){if(k.L.length!=1)return;var S=k.L[0];
if(k.a[S]._F()==null){var G=new mS([6,21],this),GY=new T.Zu;if(z.HL||L._(s.V_))GY.color=0;if(k.i!=null){GY.color=0;
GY.channel=e.clone(k.i.channel);GY.rect=k.i.rect.clone()}G.data={J:F,C:S,k:GY};k.qA(G);this.hO(G.data,k)}}if(F==T.Zr){if(k.L.length!=1)return;
var S=k.L[0];if(k.a[S]._F()!=null){var G=new mS([6,22],this);G.data={J:F,C:S,k:k.a[S]._F()};k.qA(G);
this.hO(G.data,k)}}if(F==T.Cl){if(k.L.length!=1)return;var S=k.L[0];if(k.a[S].ZS(k).k==null){var G=new mS([6,45],this);
G.data={J:F,C:S,k:new T.Zu};k.qA(G);this.hO(G.data,k)}}if(F==T.Cx){if(k.L.length!=1)return;var S=k.L[0];
if(k.a[S].ZS(k).k!=null){var G=new mS([6,46],this);G.data={J:F,C:S,k:k.a[S].ZS(k).k};k.qA(G);this.hO(G.data,k)}}if(F==T.Ca){if(z.C==null&&k.L.length!=1)return;
if(k.a[U]._Y()){var G=new mS([6,47],this);G.data={J:F,C:U,mmA:k.a[U].add.SoLd.filterFX,zt:k.a[U].ZS(k)};
k.qA(G);this.hO(G.data,k)}}if(F==T.Zn){if(k.L.length!=1)return;if(l.add.vmsk==null){var G=new mS([6,23],this),GY=new T.Zx;
GY.A[1].all=z.HL?1:0;G.data={J:F,C:U,k:GY};k.qA(G);if(l._N()){l.add.vstk=JSON.parse(JSON.stringify(K.qk.default));
l.add.vstk.strokeEnabled.v=!1}this.hO(G.data,k)}}if(F==T.ZL){if(k.L.length!=1)return;var WM=k.a[U].add.vmsk;
if(WM!=null){var G=new mS([6,24],this);G.data={J:F,C:U,k:WM};k.qA(G);this.hO(G.data,k)}}if(F==T.CG){var WQ=l.getName(),Wu=z.name.substring(0,255);
if(WQ==Wu)return;var G=new mS([6,37],this);G.data={J:F,C:U,mmT:WQ,$K:Wu};k.qA(G);this.hO(G.data,k)}if(F==T.CQ){var WK=k.qT(),WE=[],Wl=[];
for(var d=0;d<WK.length;d++){WE.push(k.a[WK[d]].add.lclr);Wl.push(z.mmw)}var G=new mS([6,38],this);G.data={J:F,a:WK,mmN:WE,mmy:Wl};
k.qA(G);this.hO(G.data,k)}if(F==T.Cw){var G=k.history[k.Fa];if(G!=null&&G.R==this&&G.data.J==F&&G.data.C==z.sG&&G.data.FW._W==z.ce._W)G.data.FW=z.ce;
else{G=new mS("Mask Density / Feather",this);G.data={J:F,C:z.sG,Wj:k.a[z.sG].ZP(z.ce._W),FW:z.ce};k.qA(G)}this.hO(G.data,k)}if(F==T.Ch){var Wx=JSON.stringify(z.u),Wa=JSON.parse(Wx),G=k.history[k.Fa];
if(G!=null&&G.R==this&&G.data.J==F&&G.data.Lf==z.Lf&&G.data.Fe==z.Fe&&G.data.Ff.join(",")==z.Ff.join(","))for(var d=0;
d<z.Ff.length;d++)G.data.ID[d]=Wa;else{G=new mS("Edit Style",this);G.data={J:F,Ff:z.Ff,Fe:z.Fe,AN:[],ID:[]};
var Wc=!1;for(var d=0;d<z.Ff.length;d++){var WB=z.Ff[d],M=k.a[WB],WA=z.Fe?A.Nz.NM(k,WB):JSON.parse(JSON.stringify(M.add.vstk));
G.data.AN.push(WA);G.data.ID.push(Wa);if(JSON.stringify(WA)!=Wx)Wc=!0}if(!Wc)return;k.qA(G)}if(z.Fe&&Wa.YR==3)k.Cj(mK.oE(Wa.OF.Ptrn.v,E.QB));
if(!z.Fe){var Wh=Wa.strokeStyleContent.v;if(Wh.classID==K.qk.qe[2])k.Cj(mK.oE(Wh.Ptrn.v,E.QB))}this.hO(G.data,k)}};
zM.yG.yW=function(z,r){for(var k=0;k<z.a.length;k++){var L=z.a[k];if(L.add.SoLd==null||L.add.SoLd.Idnt.v!=r)continue;
L._r(z)}z.N()};zM.yG.mER=function(z,r,k){r.color=255-r.color;e.Jo(r.channel);r.Yp=!0;z._q(k);k.N()};
zM.yG.prototype.h_=function(z,r){var k=z.J,L=r.a[z.C];if(k==T.ZN){r.add.lnk2.splice(r.add.lnk2.indexOf(z.Aw),1,z.AT);
zM.yG.yW(r,z.id)}if(k==T.Zs){L.DD=z.Hn;r.N()}if(k==T.Zt){L.opacity=z.Hn;r.N()}if(k==T.Zp){L.add.lspf=z.Hn}if(k==T.Zd){var E=z.bl,F=z.Ac;
delete L.add[E[0]];if(F[0]!="----")L.add[F[0]]=F[1]}if(k==T.Z$){L.add.iOpa=z.Hn;r.N()}if(k==T.ZH){for(var U=0;
U<z.Ff.length;U++){var l=r.a[z.Ff[U]];l._i(!l._$())}r.N()}if(k==T.ZC){var G=L._F();G.isEnabled=!G.isEnabled;
L._q(r);r.N()}if(k==T.Zo){var G=L.ZS(r).k;G.isEnabled=!G.isEnabled;L.N();r.N()}if(k==T.Zq){var G=L.add.vmsk;
G.isEnabled=!G.isEnabled;if(!G.isEnabled){if(L.Yq){L.k=L.Yq;L.Yq=null}else L.k=null}else if(L.k){L.Yq=L.k;
L.k=null}L._q(r);r.N()}if(k==T.Ze){L.YO=!L.YO;r.N()}if(k==T.Zk){L.add.lmfx.masterFXSwitch.v=!L.add.lmfx.masterFXSwitch.v;
L.c.OX=!0;r.N()}if(k==T.CK){L.add.SoLd.filterFX.v.enab.v=!L.add.SoLd.filterFX.v.enab.v;L._L(r);r.N()}if(k==T.Zj){var g=z.index,P=L.add.lmfx[K.qo[g[0]]].v[g[1]].v;
P.enab.v=!P.enab.v;L.c.OX=!0;r.N()}if(k==T.CP){var J=r.a[z.AB],x=r.a[z.rV],a=z.mSF,d=z.mmS;if(a=="")delete J.add.lmfx;
else J.add.lmfx=JSON.parse(a);if(d=="")delete x.add.lmfx;else x.add.lmfx=JSON.parse(d);J.c.OX=!0;x.c.OX=!0;
r.N()}if(k==T.CE){var t=L.add.SoLd.filterFX.v.filterFXList.v[z.index].v;t.enab.v=!t.enab.v;L._L(r);r.N()}if(k==T.CA){L.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(z.mmP));
L._L(r);r.N()}if(k==T.Zv){var G=L._F();G.YK=!G.YK}if(k==T.ZX){var G=L.add.vmsk;G.YK=!G.YK}if(k==T.ZR){var m=z.mmM;
for(var U=0;U<m.length;U++)r.a[U].YX=m[U]}if(k==T.CM){if(z.cF)r.L=z.cF;r.N();r.qy(z.gA)}if(k==T.ZU){if(L.Yq)L.Yq=null;
else L.k=null;L._q(r);r.N();L.B=0}if(k==T.Zr){if(L.k)L.Yq=z.k;else L.k=z.k;L._q(r);r.N()}if(k==T.Cl){L.ZS(r).k=null;
L.N();r.N()}if(k==T.Cx){L.ZS(r).k=z.k;L.N();r.N()}if(k==T.Ca){L.add.SoLd.filterFX=z.mmA;r.C$(z.zt);L._r(r)}if(k==T.Zn){delete L.add.vmsk;
if(L.Yq)L.k=L.Yq;else L.k=null;L.Yq=null;L._q(r);r.N();L.B=0}if(k==T.ZL){L.add.vmsk=z.k;if(L.k&&L.add.vmsk.isEnabled)L.Yq=L.k;
L._q(r);r.N()}if(k==T.CG){L._p(z.mmT)}if(k==T.CQ){for(var U=0;U<z.a.length;U++)r.a[z.a[U]].add.lclr=z.mmN[U]}if(k==T.Ch){var b=z.AN;
for(var U=0;U<z.Ff.length;U++){var l=r.a[z.Ff[U]],I=b[U];if(!z.Fe)l.add.vstk=JSON.parse(JSON.stringify(I));
else A.Nz.NQ(l,JSON.parse(JSON.stringify(I)));l._o(r)}r.N()}if(k==T.Cw){L.Zz(z.Wj);L._q(r);r.N()}r.ep=!0};
zM.yG.prototype.hO=function(z,r){var k=z.J,L=r.a[z.C];if(k==T.ZN){r.add.lnk2.splice(r.add.lnk2.indexOf(z.AT),1,z.Aw);
zM.yG.yW(r,z.id)}if(k==T.Zs){L.DD=z.FW;r.N()}if(k==T.Zt){L.opacity=z.FW;r.N()}if(k==T.Zp){L.add.lspf=z.FW}if(k==T.Zd){var E=z.Ac,F=z.bl;
delete L.add[E[0]];if(F[0]!="----")L.add[F[0]]=F[1]}if(k==T.Z$){L.add.iOpa=z.FW;r.N()}if(k==T.ZH){for(var U=0;
U<z.Ff.length;U++){var l=r.a[z.Ff[U]];l._i(!l._$())}r.N()}if(k==T.ZC){var G=L._F();G.isEnabled=!G.isEnabled;
L._q(r);r.N()}if(k==T.Zo){var G=L.ZS(r).k;G.isEnabled=!G.isEnabled;L.N();r.N()}if(k==T.Zq){var G=L.add.vmsk;
G.isEnabled=!G.isEnabled;if(!G.isEnabled){if(L.Yq){L.k=L.Yq;L.Yq=null}else L.k=null}else if(L.k){L.Yq=L.k;
L.k=null}L._q(r);r.N()}if(k==T.Ze){L.YO=!L.YO;r.N()}if(k==T.Zk){L.add.lmfx.masterFXSwitch.v=!L.add.lmfx.masterFXSwitch.v;
L.c.OX=!0;r.N()}if(k==T.CK){L.add.SoLd.filterFX.v.enab.v=!L.add.SoLd.filterFX.v.enab.v;L._L(r);r.N()}if(k==T.Zj){var g=z.index,P=L.add.lmfx[K.qo[g[0]]].v[g[1]].v;
P.enab.v=!P.enab.v;L.c.OX=!0;r.N()}if(k==T.CP){var J=r.a[z.AB],x=r.a[z.rV],a=z.mmm,d=z.mmJ;if(a=="")delete J.add.lmfx;
else J.add.lmfx=JSON.parse(a);if(d=="")delete x.add.lmfx;else x.add.lmfx=JSON.parse(d);J.c.OX=!0;x.c.OX=!0;
r.N()}if(k==T.CE){var t=L.add.SoLd.filterFX.v.filterFXList.v[z.index].v;t.enab.v=!t.enab.v;L._L(r);r.N()}if(k==T.CA){L.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(z.mmz));
L._L(r);r.N()}if(k==T.Zv){var G=L._F();G.YK=!G.YK}if(k==T.ZX){var G=L.add.vmsk;G.YK=!G.YK}if(k==T.ZR){var m=z.mmQ;
for(var U=0;U<m.length;U++)r.a[U].YX=m[U]}if(k==T.CM){if(z.cg)r.L=z.cg;r.N();r.qy(z.gh)}if(k==T.ZU){if(L.k)L.Yq=z.k;
else L.k=z.k;L._q(r);r.N()}if(k==T.Zr){if(L.Yq)L.Yq=null;else L.k=null;L._q(r);L.B=0;r.N()}if(k==T.Cl){L.ZS(r).k=z.k;
L.B=0;L.N();r.N()}if(k==T.Cx){L.ZS(r).k=null;L.B=0;L.N();r.N()}if(k==T.Ca){delete L.add.SoLd.filterFX;
L.B=0;r.Cd(z.zt);L._r(r)}if(k==T.Zn){if(L._N()&&L.add.vstk==null){L.add.vstk=JSON.parse(JSON.stringify(K.qk.default));
L.add.vstk.strokeEnabled.v=!1}L.add.vmsk=z.k;if(L.k)L.Yq=L.k;L._q(r);r.N()}if(k==T.ZL){if(L.Yq&&z.k.isEnabled){L.k=L.Yq;
L.Yq=null}else if(L.k&&z.k.isEnabled){L.k=null}delete L.add.vmsk;L._q(r);L.TV=!1;r.N()}if(k==T.CG){L._p(z.$K)}if(k==T.CQ){for(var U=0;
U<z.a.length;U++)r.a[z.a[U]].add.lclr=z.mmy[U]}if(k==T.Ch){var b=z.ID;for(var U=0;U<z.Ff.length;U++){var l=r.a[z.Ff[U]],I=b[U];
if(!z.Fe)l.add.vstk=JSON.parse(JSON.stringify(I));else A.Nz.NQ(l,JSON.parse(JSON.stringify(I)));l._o(r)}r.N()}if(k==T.Cw){L.Zz(z.FW);
L._q(r);r.N()}r.ep=!0};zM.yG.yQ=function(z,r){var k=z.jg,L=z.rect.clone();if(k!=null&&(k.x!=r.X||k.y!=r.z)){L.x=Math.floor((r.X-L.X)/2);
L.y=Math.floor((r.z-L.z)/2)}return L};zM.yu=function(){zM.yJ.call(this,A.TZ);this.QZ=null;this.EY=null;
this.OW=null;this.KO=null};zM.yu.prototype=new zM.yJ;zM.yu.prototype.hh=function(z,r,k,L,E){var F=k.a[z.C],U=z.HD,G=null;
if(this.QZ==null){this.OW=zM.yu.yK(k,F);this.QZ=JSON.stringify(this.OW);if(F.add.lmfx)this.EY=JSON.stringify(F.add.lmfx)}if(F.add.lmfx==null){F.add.lmfx=JSON.parse(K.default);
for(var l=0;l<K.order.length;l++)F.add.lmfx[K.qo[l]]={t:"VlLs",v:[]}}if(z.J=="changeprop"){if(U!=0){var g=JSON.parse(K.qt[U[0]]),P=F.add.lmfx[K.qo[U[0]]].v;
if(P[U[1]]==null)P[U[1]]={t:"Objc",v:g};G=P[U[1]].v;for(var J in g)if(G[J]==null)G[J]=g[J]}if(z.J=="changeprop"){if(U==0){this.OW[z.Lf].v=z.u;
zM.yu.yE(k,F,this.OW)}else if(z.Lf=="lagl"){if(G.uglg&&G.uglg.v){k.qM(z.u.val);this.OW.Ay=k.qW()}else G[z.Lf].v=z.u}else if(z.Lf=="Lald"){if(G.uglg.v){k.qu(z.u.val);
this.OW.AV=k.qQ()}else G[z.Lf].v=z.u}else if((U[0]==3||U[0]==8)&&(z.Lf=="Clr"||z.Lf=="Grad")){if(z.Lf=="Clr"){G.Clr={t:"Objc",v:z.u};
delete G.Grad}if(z.Lf=="Grad"){G.Grad={t:"Objc",v:z.u};delete G.Clr}}else{G[z.Lf].v=z.u}}if(U!=0)if(G.Ptrn)k.Cj(mK.oE(G.Ptrn.v,E.QB))}else if(z.J=="setstl"){var x=z.u.Lefx;
if(x)mK.ol(x,k,E.QB);mK.on(z.u,F)}else if(z.J=="st_dupsingle"){var a=F.add.lmfx[K.qo[z.W$[0]]].v;if(a[z.W$[1]]==null)return;
var d=JSON.parse(JSON.stringify(a[z.W$[1]]));a.splice(z.W$[1],0,d)}else if(z.J=="st_movsingle"){var t=z.W$[1],a=F.add.lmfx[K.qo[z.W$[0]]].v;
if(a[z.W$[1]]==null)return;var m=Math.max(0,Math.min(a.length-1,t+z.r_)),b=a[m];a[m]=a[t];a[t]=b}else if(z.J=="cancel"){if(this.EY==null)delete F.add.lmfx;
else F.add.lmfx=JSON.parse(this.EY);zM.yu.yE(k,F,JSON.parse(this.QZ));this.QZ=null;this.EY=null}else if(z.J=="confirm"){var I=new mS([11,6],this);
I.data={C:z.C,$S:this.EY,JI:JSON.stringify(F.add.lmfx),pi:this.QZ,rZ:JSON.stringify(this.OW)};k.qA(I);
this.QZ=null;this.EY=null}else if(z.J=="st_copy"){this.KO=[this.QZ,this.EY];this.QZ=null;this.EY=null}else{var I=new mS([11,6],this),v=this.OW,W=null;
if(z.J=="st_clear"){W=null;v=zM.yu.yK(k,F);v.lrMd.v=0;v.Opct.v.val=100;v.iOpa.v.val=100}if(z.J=="st_delsingle"){W=JSON.parse(this.EY);
W[K.qo[z.W$[0]]].v.splice(z.W$[1],1);W=JSON.stringify(W)}if(z.J=="st_paste"){if(this.KO==null)return;
v=JSON.parse(this.KO[0]);W=this.KO[1]}if(W==null)delete F.add.lmfx;else F.add.lmfx=JSON.parse(W);if(v!=null)zM.yu.yE(k,F,v);
I.data={C:z.C,$S:this.EY,JI:W,pi:this.QZ,rZ:JSON.stringify(v)};k.qA(I);this.QZ=null;this.EY=null}F.c.OX=!0;
k.N()};zM.yu.yK=function(z,r){if(r.add.iOpa==null)r.add.iOpa=255;var k=r._w()?["pass"].concat(mP._l):mP._l;
return{lrMd:{v:k.indexOf(r.DD)},Opct:{v:{type:"#Prc",val:Math.round(r.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(r.add.iOpa*100/255)},t:"UntF"},Ay:z.qW(),AV:z.qQ(),_w:r._w()}};
zM.yu.yE=function(z,r,k){var L=r._w()?["pass"].concat(mP._l):mP._l;r.DD=L[k.lrMd.v];r.opacity=Math.round(k.Opct.v.val*255/100);
r.add.iOpa=Math.round(k.iOpa.v.val*255/100);z.qM(k.Ay);z.qu(k.AV)};zM.yu.prototype.h_=function(z,r){var k=r.a[z.C];
if(z.$S==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(z.$S);zM.yu.yE(r,k,JSON.parse(z.pi));k.c.OX=!0;
r.N()};zM.yu.prototype.hO=function(z,r){var k=r.a[z.C];if(z.JI==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(z.JI);
zM.yu.yE(r,k,JSON.parse(z.rZ));k.c.OX=!0;r.N()};zM.yl=function(){zM.yJ.call(this,A.Tq)};zM.yl.prototype=new zM.yJ;
zM.yl.prototype.hh=function(z,r,k,L){var E=JSON.parse(JSON.stringify(k.Ys)),F=JSON.parse(JSON.stringify(k.Ys)),U=null,l=null,G=null,g=-1,P=!1;
if(z.J=="delLC"){var J=zM.yl.yc(k.Ys,z.HD),x=k.Ys.lastAppliedComp?k.Ys.lastAppliedComp.v:0;F.list.v.splice(J,1);
if(x==z.HD)delete F.lastAppliedComp;U="Delete Layer Comp"}if(z.J=="editLC"){var J=zM.yl.yc(k.Ys,z.HD),a=F.list.v[J].v;
if(z.$K!=null)a.Nm.v=z.$K;if(z.HJ!=null){var d=z.HJ,t=a.capturedInfo.v,m=t&(1<<d)-1;t=t>>d;if((t&1)==1)t--;
else t++;a.capturedInfo.v=(t<<d)+m}U="Layer Comp properties"}if(z.J=="setLC"){zM.yl.yx(k);if(z.HD==0)delete F.lastAppliedComp;
else F.lastAppliedComp={t:"long",v:z.HD};U="Switch Layer Comp";P=!0}if(z.J=="updLC"){zM.yl.yx(k);l=zM.yl.yR(k,z.HD);
G=zM.yl.yw(k,z.HD);F.lastAppliedComp={t:"long",v:z.HD};U="Update Layer Comp";g=z.HD;P=!0}if(z.J=="addLC"){zM.yl.yx(k);
var b=1;for(var I=0;I<F.list.v.length;I++)b=Math.max(b,F.list.v[I].v.compID.v)+1;b+=Math.floor(Math.random()*1e4);
var v={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(F.list.v.length+1)},compID:{t:"long",v:b},capturedInfo:{t:"long",v:7}}};
F.list.v.push(v);F.lastAppliedComp={t:"long",v:b};U="New Layer Comp";var W=zM.yl.yw(k,b);zM.yl.yV(k,W,b)}var B=new mS(U,this);
B.data={mmd:E,mmH:F,tN:l,s_:G,HD:g,ws:P};this.hO(B.data,k);k.qA(B)};zM.yl.prototype.hO=function(z,r){r.Ys=z.mmH;
r.Fl=!0;if(z.s_)zM.yl.yV(r,z.s_,z.HD);if(z.ws){var k=r.Ys.lastAppliedComp?r.Ys.lastAppliedComp.v:0,L=zM.yl.yc(r.Ys,k),E=L==-1?null:r.Ys.list.v[L].v,F=E?E.capturedInfo.v:7;
zM.yl.yT(r,k,F);r.N()}};zM.yl.prototype.h_=function(z,r){r.Ys=z.mmd;r.Fl=!0;if(z.tN)zM.yl.yV(r,z.tN,z.HD);
if(z.ws){var k=r.Ys.lastAppliedComp?r.Ys.lastAppliedComp.v:0,L=zM.yl.yc(r.Ys,k),E=L==-1?null:r.Ys.list.v[L].v,F=E?E.capturedInfo.v:7;
zM.yl.yT(r,k,F);r.N()}};zM.yl.yx=function(z){if(z.Ys.lastAppliedComp!=null||!z.jM)return;var r=zM.yl.yw(z,0);
zM.yl.yV(z,r,0);z.jM=!1};zM.yl.ya=function(z,r,k){z.v.Hrzn.v+=r;z.v.Vrtc.v+=k};zM.yl.yc=function(z,r){var k=z.list.v;
for(var L=0;L<k.length;L++)if(k[L].v.compID.v==r)return L;return-1};zM.yl.yB=function(z){var r=z.layerSettings.v,E=null;
if(r.length==0)return;var k="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),L=r[0].v;
if(L.enab==null)L.enab={t:"bool",v:!0};if(L.Ofst==null)L.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var F=0;F<r.length;F++){var U=r[F].v;if(E==null)E=JSON.parse(JSON.stringify(U));else for(var l=0;
l<k.length;l++){var G=k[l];if(U[G])E[G]=JSON.parse(JSON.stringify(U[G]))}r[F].v=JSON.parse(JSON.stringify(E))}};
zM.yl.yA=function(z,r){var k=z.add.shmd.cmls,L=k.layerSettings.v;for(var E=0;E<L.length;E++){var F=L[E].v,U=F.compList.v[0].v;
if(U==r)return E}return-1};zM.yl.yh=function(z,r){var k=zM.yl.yA(z,r);return k==-1?null:z.add.shmd.cmls.layerSettings.v[k].v};
zM.yl.yT=function(z,r,k){for(var L=0;L<z.a.length;L++){var E=z.a[L],F=E.add.shmd.cmls,U=F.layerSettings.v,l=zM.yl.yh(E,r);
if(l==null){E._i(!1);continue}if((k&1)!=0){if(l.enab)E._i(l.enab.v);else E._i(!0)}if((k&2)!=0){if(l.Ofst){var G=l.Ofst.v,g=E._j(z),P=Math.round(G.Hrzn.v-g.x),J=Math.round(G.Vrtc.v-g.y);
if(P!=0||J!=0)A.nA.wh(z,[L],null,P,J)}}if((k&4)!=0){if(l.Lefx){var x=JSON.parse(JSON.stringify(l.Lefx.v));
zv.lM(x);if(JSON.stringify(x)!=JSON.stringify(E.add.lmfx)){E.add.lmfx=x;E.c.OX=!0}}else delete E.add.lmfx;
if(l.blendOptions){var a=l.blendOptions.v;if(a.Opct)E.opacity=Math.round(255*a.Opct.v.val/100);if(a.Md)E.DD=E.add.lsct==mG.ZQ?"norm":mP._B(a.Md.v.BlnM)}else{E.opacity=255;
E.DD=E._w()?"pass":"norm"}}}};zM.yl.yR=function(z,r){var k={};for(var L=0;L<z.a.length;L++){var E=z.a[L];
if(E.add.shmd==null||E.add.shmd.cmls==null)continue;k["l"+E.add.lyid]=JSON.parse(JSON.stringify(zM.yl.yh(E,r)))}return k};
zM.yl.yw=function(z,r){var k={};for(var L=0;L<z.a.length;L++){var E=z.a[L],F=E.add.lyid;k["l"+F]=zM.yl.yN(z,E,r)}return k};
zM.yl.yN=function(z,r,k){var L=r.add.shmd?r.add.shmd.cmls:null,E={classID:"null"},F=r._j(z),U={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:F.x},Vrtc:{t:"long",v:F.y}}};
E.compList={t:"VlLs",v:[{t:"long",v:k}]};E.enab={t:"bool",v:r._$()};E.Ofst=JSON.parse(JSON.stringify(U));
E.FXRefPoint=JSON.parse(JSON.stringify(L&&L.origFXRefPoint?L.origFXRefPoint:U));E.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:mP.maT(r.DD)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*r.opacity/255}}}};
if(r.add.vmsk){E.vectorMask={t:"Objc",v:{classID:"null"}};E.vectorMask.v.Ofst=JSON.parse(JSON.stringify(U))}if(r.add.lmfx){E.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(r.add.lmfx))};
zv.lQ(E.Lefx.v)}return E};zM.yl.yy=function(z,r){var k=r.add.lyid;if(r.add.shmd==null)r.add.shmd={};
if(r.add.shmd.cmls==null){r.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:k},layerSettings:{t:"VlLs",v:[{t:"Objc",v:zM.yl.yN(z,r,0)}]}}}};
zM.yl.yV=function(z,r,k){for(var L=0;L<z.a.length;L++){var E=z.a[L],F=E.add.lyid;zM.yl.yy(z,E);var U=E.add.shmd.cmls,l=U.layerSettings.v,G=r["l"+F];
if(G!=null)G={t:"Objc",v:JSON.parse(JSON.stringify(G))};var g=zM.yl.yA(E,k);if(g==-1){if(G==null)continue;
else l.push(G)}else{if(G==null)l.splice(g,1);else l[g]=G}}};zM.yl.yO=function(z,r){for(var k=0;k<z.a.length;
k++){var L=z.a[k],E=L.add.lyid;if(L.add.shmd==null||L.add.shmd.cmls==null)continue;var F=L._j(z),U=Math.round(F.x),l=Math.round(F.y);
if(!r){U=-U;l=-l}var G=L.add.shmd.cmls,g=G.layerSettings.v;if(G.origFXRefPoint)zM.yl.ya(G.origFXRefPoint,-U,-l);
for(var P=0;P<g.length;P++){var J=g[P].v;zM.yl.ya(J.Ofst,U,l);if(J.imageMask)zM.yl.ya(J.imageMask.v.Ofst,U,l);
if(J.vectorMask)zM.yl.ya(J.vectorMask.v.Ofst,U,l)}}};zM.y_=function(){zM.yJ.call(this,A.Ty);this.ew=null};
zM.y_.prototype=new zM.yJ;zM.y_.yZ=function(z,r,k,L){if(L)r/=4;var E=0,F=0,U=255,l=0,G=0,g=255;while(F+z[E]<r){F+=z[E];
E++}while(l+z[U]<r){l+=z[U];U--}if(L){E-=Math.round(z[E]/(k/32));U+=Math.round(z[U]/(k/32));if(E<0)G=Math.round(-E*255/(U-E));
if(U>255)g=255-Math.round((U-255)*255/(U-E))}return[Math.max(E,0),Math.min(U,255),G,g,100]};zM.y_.prototype.hh=function(z,r,k,L,E){var F=z.J;
if(F=="auto"){var U=z.Ho,l=zM.y_.getData(k);for(var G=0;G<l.length;G++){var g=l[G],P=g.kr.Y(),J,x=e.PP(g.jF),a=.001*P;
if(U==0||U==2)J=[[0,255,0,255,100],zM.y_.yZ(x[1],a,P,U==2),zM.y_.yZ(x[2],a,P,U==2),zM.y_.yZ(x[3],a,P,U==2)];
if(U==1)J=[zM.y_.yZ(x[0],a*.33,P,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var d=mm.OI("levl",J);
mm.Os(d,g.jF,g.cj)}zM.y_.yL(k,l);zM.y_.yr(k,l,[4,16,U],this);k.N()}if(F=="edit_layer")this.yC(z,r,k,L);
if(F=="edit"||F=="confirm"||F=="cancel")this.yq(z,k,E);if(F=="start"){var t=k.a[k.L[0]];if(t.add.SoLd&&t.B<=0){var m=new D(Y.E.q,!0);
m.R=A.TC;m.data={J:"start",filter:z.MK};r.K(m);return}if(!k.qJ())return;if(JK[z.MK]){if(k.L.length!=1)alert("Will be applied to "+k.L.length+" layers.");
var m=new D(Y.E.D,!0);m.data={J:Y.Q.nP,Hw:"adjust_"+z.MK};r.K(m)}else{this.yq({J:"edit",KM:1,DK:z.MK},k,E);
this.yq({J:"confirm",DK:z.MK},k,E)}}};zM.y_.prototype.yC=function(z,r,k,L){var E=z.J,F=k.L[0],U=k.a[F],l=k.history[k.Fa],G;
if(l&&l.R==this&&l.data.Wj!=null&&l.data.C==F)G=l;else{var G=new mS([6,39],this);G.data={C:F,Wj:mm.Ok(U.add),FW:z.u};
k.qA(G)}G.data.FW=z.u;this.hO(G.data,k)};zM.y_.getData=function(z,r){var k=[],L=new Z(0,0,z.X,z.z);for(var E=0;
E<z.L.length;E++){var F=z.a[z.L[E]],U={C:z.L[E],fN:F.B};k.push(U);var l=F.B<=0?null:F.B==1?F._F():F.ZS(z).k,G=l?l.rect:F.rect;
if(z.i)U.kr=l!=null?z.i.rect.Mk(L):z.i.rect.Mk(G);else U.kr=r||l!=null?G.MD(L):G.clone();var g=U.kr.Y();
U.jF=e.$(g*4);U.cj=e.$(g*4);if(l){A.To.TD(l.channel,l.rect,l.color,U.jF,U.kr);A.To.TD(l.channel,l.rect,l.color,U.cj,U.kr)}else{e.Jb(F.buffer,G,U.jF,U.kr);
e.Jb(F.buffer,G,U.cj,U.kr)}if(z.i){U.Qe=e.$(g);e.Jp(z.i.channel,z.i.rect,U.Qe,U.kr)}}return k};zM.y_.prototype.yq=function(z,r,k){if(this.ew==null)this.ew=zM.y_.getData(r);
if(z.J=="edit"){var L=mm.OI(z.DK,z.KM);if(L!=null){for(var E=0;E<this.ew.length;E++){var F=this.ew[E];
mm.Os(L,F.jF,F.cj)}zM.y_.yL(r,this.ew)}}if(z.J=="cancel"){zM.y_.yo(r,this.ew);this.ew=null}if(z.J=="confirm"){zM.y_.yr(r,this.ew,mm.names[z.DK],this);
this.ew=null}r.N()};zM.y_.yo=function(z,r){zM.y_.yU(z,r,!1)};zM.y_.yr=function(z,r,k,L){for(var E=0;
E<r.length;E++){var F=r[E],U=z.a[F.C],l=U.B<=0?null:U.B==1?U._F():U.ZS(z).k;if(l){l.Pu();l.Yp=!0;U._q();
A.To.TD(l.channel,l.rect,l.color,F.cj,F.kr)}else{U.Pu();U.N();e.Jb(U.buffer,U.rect,F.cj,F.kr)}}var G=new mS(k,L);
G.data=r;z.qA(G)};zM.y_.yL=function(z,r){for(var k=0;k<r.length;k++){var L=r[k],E=z.a[L.C];if(L.fN==0){E.extend(L.kr);
if(L.Qe){e.Jb(L.jF,L.kr,E.buffer,E.rect);e.M.Pv(L.cj,L.kr,E.buffer,E.rect,L.Qe,L.kr,0,L.kr,1)}else e.Jb(L.cj,L.kr,E.buffer,E.rect)}else{var F=L.fN==1?E._F():E.ZS(z).k;
F.extend(L.kr);if(L.Qe){var U=e.$(L.kr.Y()*4);e.JZ(L.jF,U);e.M.Pv(L.cj,L.kr,U,L.kr,L.Qe,L.kr,0,L.kr,1);
A.To.TY(U,L.kr,F)}else A.To.TY(L.cj,L.kr,F);F.Yp=!0;E._q()}E.N()}};zM.y_.yU=function(z,r,k){for(var L=0;
L<r.length;L++){var E=r[L],F=z.a[E.C];if(E.fN==0){F.extend(E.kr);e.Jb(k?E.cj:E.jF,E.kr,F.buffer,F.rect);
F.Pu()}else{var U=E.fN==1?F._F():F.ZS(z).k;U.extend(E.kr);A.To.TY(k?E.cj:E.jF,E.kr,U);U.Pu();U.Yp=!0;
F._q()}F.N()}};zM.y_.prototype.h_=function(z,r){var k=r.a[z.C];if(z.Wj!=null)mm.le(z.Wj,k.add);else zM.y_.yU(r,z,!1);
r.N()};zM.y_.prototype.hO=function(z,r){var k=r.a[z.C];if(z.Wj!=null)mm.le(z.FW,k.add);else zM.y_.yU(r,z,!0);
r.N()};zM.yn=function(){zM.yJ.call(this,A.TC);this.ew=null;this.J=null;this.EP=null};zM.yn.prototype=new zM.yJ;
zM.yn.prototype.hh=function(z,r,k,L,E){if(z.J=="start"){var F=k.a[k.L[0]];if(F.add.SoLd&&F.B<=0){}else if(!k.qJ())return;
var U=z.filter;if(JE[U]||JK[U]){if(k.L.length!=1)alert("Will be applied to "+k.L.length+" layers.");
var l=new D(Y.E.D,!0);l.data={J:Y.Q.nP,Hw:"filter_"+U,jn:this.yv(k)};r.K(l)}else{var G={J:"edit",filter:z.filter,jn:this.yv(k)};
this.hh(G,r,k,L,E);G.J="confirm";this.hh(G,r,k,L,E)}}if(z.J=="edit"||z.J=="cancel"||z.J=="confirm"){if(z.J=="edit")this.EP=[z.filter,z.KM];
if(z.jn)this.yX(z,k,E);else this.ys(z,k,E)}if(z.J=="applylast"&&this.EP!=null){var G={J:"edit",filter:this.EP[0],KM:this.EP[1],jn:this.yv(k)};
this.hh(G,r,k,L,E);G.J="confirm";delete G.KM;this.hh(G,r,k,L,E)}};zM.yn.prototype.yv=function(z){var r=z.a[z.L[0]],k;
if(r.add.SoLd&&r.B<=0){k={C:z.L[0],index:0};if(r.add.SoLd.filterFX!=null)k.index=r.add.SoLd.filterFX.v.filterFXList.v.length}return k};
zM.yn.prototype.yX=function(z,r,k){var L=r.a[z.jn.C],E=z.filter;if(z.J=="edit"){if(this.J==null){var F=mJ.names[E];
if(F==null)F=mm.names[E];this.J=new mS(F,this);this.J.data={jn:z.jn,mmg:JSON.parse(JSON.stringify(L.add.SoLd))}}if(!L._Y()){L.add.SoLd.filterFX=mJ._u();
this.J.data.zt={id:L.add.SoLd.placed.v,rect:new Z,buffer:e.$(1),k:new T.Zu};r.C$(this.J.data.zt);L._r(r)}var U=L.add.SoLd.filterFX.v.filterFXList.v;
if(U[z.jn.index]==null){U.push(mJ._K(E,k))}if(z.KM)U[z.jn.index].v.Fltr.v=z.KM;this.J.data.mmF=JSON.parse(JSON.stringify(L.add.SoLd));
this.hO(this.J.data,r)}if(z.J=="cancel"){if(this.J)this.h_(this.J.data,r);this.J=null}if(z.J=="confirm"){r.qA(this.J);
this.J=null}};zM.yn.prototype.yI=function(z){return{F:z>>16,P:z>>8&255,g:z&255}};zM.yn.prototype.ys=function(z,r,k){if(this.ew==null)this.ew=zM.y_.getData(r,!0);
if(z.J=="edit"){for(var L=0;L<this.ew.length;L++){var E=this.ew[L],F={rect:E.kr,buffer:E.jF},U={rect:E.kr,buffer:E.cj};
mJ.Os(z.filter,F,z.KM,this.yI(k.fh),this.yI(k.fT),U)}zM.y_.yL(r,this.ew)}if(z.J=="cancel"){zM.y_.yo(r,this.ew);
this.ew=null}if(z.J=="confirm"){zM.y_.yr(r,this.ew,mJ.names[z.filter],this);this.ew=null}r.N()};zM.yn.prototype.h_=function(z,r){if(z.jn){var k=r.a[z.jn.C];
if(z.zt)r.Cd(z.zt);k.add.SoLd=JSON.parse(JSON.stringify(z.mmg));if(k._Y())k._L(r);else{k._r(r);k.B=0}}else zM.y_.yU(r,z,!1);
r.N()};zM.yn.prototype.hO=function(z,r){if(z.jn){var k=r.a[z.jn.C];if(z.zt)r.C$(z.zt);k.add.SoLd=JSON.parse(JSON.stringify(z.mmF));
if(k._Y())k._L(r);else k._r(r);if(!k._H())k.Y_+=32}else zM.y_.yU(r,z,!0);r.N()};var zB={yt:"0",he:"1",yp:"2",y$:"3",yd:"4",yH:"5",yb:"6",yi:"7",yD:"10",yY:"11",yk:"12",yj:"13",yf:"14",ye:"15",yg:"21",yF:"22",mGP:"23",Vm:"23.0",VJ:"23.1",VP:"23.2",Vz:"23.3",VG:"23.4",VW:"30",VM:"31",VQ:"40",Vu:"41"};
zB.VK={};zB.VK[zB.he]=["abr","brushes",zs,[9,3]];zB.VK[zB.yp]=["grd","gradients",zj,[12,37]];zB.VK[zB.y$]=["shc","contours",mB,[12,21]];
zB.VK[zB.yd]=["asl","styles",za,[12,22]];zB.VK[zB.yH]=["pat","patterns",zE,[12,62]];zB.VK[zB.yb]=["csh","shapes",z$,[12,77]];
zB.VK[zB.yi]=["aco","swatches",zx,[9,8]];function s(){this.kt={};this.qY=0}s.prototype.reset=function(){this.kt={};
this.qY=0};s.prototype.VE=function(z){this.qY++;this.kt[z]=!0};s.prototype.Vl=function(z){this.qY--;
delete this.kt[z];if(this.qY<=0||s.VB(z,s.VV))this.reset()};s.prototype._=function(z){for(var r=0;r<z.VN.length;
r++)if(this.kt[z.VN[r]])return!0;return!1};s.prototype.Va=function(){var z=this,r=z._(s.Vy)?10:1,k=0,L=0;
if(z._(s.VL))k=-r;if(z._(s.Vn))k=r;if(z._(s.VU))L=-r;if(z._(s.Vv))L=r;return new V(k,L)};s.prototype.Vc=function(){var z=this,r=s.OV;
for(var k=0;k<10;k++)if(z._(r[k]))return k;return-1};s.VB=function(z,r){return r.VN.indexOf(z)!=-1};
s.VA=function(z){var r=z.code;return s.VT.indexOf(r)==-1||z.shiftKey&&r=="F5"};s.Vh=function(z){if(z==null)return"";
var r=[];for(var k=0;k<z.length;k++)r.push(z[k].Vw);return r.join(" + ")};s.VT="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
s.VR={Vw:"Enter",VN:["Enter","NumpadEnter"]};s.Vy={Vw:"Shift",VN:["ShiftLeft","ShiftRight"]};s.VV={Vw:"Meta",VN:["MetaLeft","MetaRight","OSLeft","OSRight"]};
s.VO={Vw:"Ctrl",VN:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};s.V_={Vw:"Alt",VN:["AltLeft","AltRight"]};
s.VZ={Vw:"Escape",VN:["Escape"]};s.VC={Vw:"Space",VN:["Space"]};s.Vq={Vw:"Tab",VN:["Tab"]};s.Vo={Vw:"Home",VN:["Home"]};
s.Vr={Vw:"End",VN:["End"]};s.VL={Vw:"Left",VN:["ArrowLeft"]};s.VU={Vw:"Up",VN:["ArrowUp"]};s.Vn={Vw:"Right",VN:["ArrowRight"]};
s.Vv={Vw:"Down",VN:["ArrowDown"]};s.VX={Vw:"+",VN:["NumpadAdd","BracketRight","Equal"]};s.VI={Vw:"-",VN:["NumpadSubtract","Minus","Slash"]};
s.Vs={Vw:";",VN:["Semicolon"]};s.Vt={Vw:"Dead",VN:["Dead"]};s.Vp={Vw:"=",VN:["Equal"]};s.V$={Vw:"Backspace",VN:["Backspace"]};
s.Vd={Vw:"Delete",VN:["Delete"]};s.VH={Vw:"[",VN:["BracketLeft"]};s.Vb={Vw:"]",VN:["BracketRight"]};
s.mQa={Vw:".",VN:["Period"]};s.mKQ={Vw:",",VN:["Comma"]};s.Q={Vw:"A",VN:["KeyA","KeyQ"]};s.Vk={Vw:"B",VN:["KeyB"]};
s.yI={Vw:"C",VN:["KeyC"]};s.P_={Vw:"D",VN:["KeyD"]};s.E={Vw:"E",VN:["KeyE"]};s.EX={Vw:"F",VN:["KeyF"]};
s.Vj={Vw:"G",VN:["KeyG"]};s.mKf={Vw:"H",VN:["KeyH"]};s.Ve={Vw:"I",VN:["KeyI"]};s.Vg={Vw:"J",VN:["KeyJ"]};
s.VF={Vw:"K",VN:["KeyK"]};s.OS={Vw:"L",VN:["KeyL"]};s.Om={Vw:"M",VN:["KeyM"]};s.OJ={Vw:"N",VN:["KeyN"]};
s.OP={Vw:"O",VN:["KeyO"]};s.Oz={Vw:"P",VN:["KeyP"]};s.mKd={Vw:"Q",VN:["KeyQ"]};s.mmL={Vw:"R",VN:["KeyR"]};
s.OM={Vw:"S",VN:["KeyS"]};s.c={Vw:"T",VN:["KeyT"]};s.OQ={Vw:"U",VN:["KeyU"]};s.Ou={Vw:"V",VN:["KeyV"]};
s.mxb={Vw:"W",VN:["KeyW"]};s.OE={Vw:"X",VN:["KeyX"]};s.mGh={Vw:"Y",VN:["KeyY","KeyZ"]};s.Ox={Vw:"Z",VN:["KeyZ","KeyY"]};
s.Oa={Vw:"0",VN:["Numpad0","Digit0"]};s.Oc={Vw:"1",VN:["Numpad1","Digit1"]};s.mGK={Vw:"2",VN:["Numpad2","Digit2"]};
s.mKb={Vw:"3",VN:["Numpad3","Digit3"]};s.mzD={Vw:"4",VN:["Numpad4","Digit4"]};s.mSP={Vw:"5",VN:["Numpad5","Digit5"]};
s.mMK={Vw:"6",VN:["Numpad6","Digit6"]};s.mGa={Vw:"7",VN:["Numpad7","Digit7"]};s.maS={Vw:"8",VN:["Numpad8","Digit8"]};
s.mue={Vw:"9",VN:["Numpad9","Digit9"]};s.OV=[s.Oa,s.Oc,s.mGK,s.mKb,s.mzD,s.mSP,s.mMK,s.mGa,s.maS,s.mue];
s.mQ_={Vw:"F1",VN:["F1"]};s.mzB={Vw:"F2",VN:["F2"]};s.mSh={Vw:"F3",VN:["F3"]};s.mcc={Vw:"FF",VN:["F4"]};
s.mQj={Vw:"F5",VN:["F5"]};s.mKP={Vw:"F6",VN:["F6"]};s.mQv={Vw:"F7",VN:["F7"]};s.mcn={Vw:"F8",VN:["F8"]};
s.mQg={Vw:"F9",VN:["F9"]};s.mzq={Vw:"F10",VN:["F10"]};s.mc_={Vw:"F11",VN:["F11"]};s.mmE={Vw:"F12",VN:["F12"]};
function mS(z,r,k){if(k==null)k=!1;this.name=z;this.R=r;this.cG=k;this.data=null}var mm={};mm.get=function(z){for(var r in mm.names)if(z[r]!=null)return r;
return null};mm.OI=function(z,r){var k;if(z=="brit"){var L=r[0],E=r[1],F=r[2];if(F){var U=L/255,l=1+E/100;
if(l>1)l=1+Math.tan(Math.PI/2*E/100);var G=(1-l)/2,g=e.WR.Wy(U,U,U),P=[l,0,0,G,0,l,0,G,0,0,l,G,0,0,0,1],J=e.WR.multiply(g,P),x=new e.Ph(256);
for(var a=0;a<256;a++)x.F[a]=a;e.WR.transform(x,x,J);k={type:"remap",iL:x.F,iU:x.F,in:x.F,Jj:!1,aR:!1}}else{var d=1024,t=-30+60*(E+100)/200,m=[],I;
for(var a=0;a<4;a++)m.push(e.MF.QS(a/3*255,a/3*255,!0));m[1].v.Hrzn.v=64;m[1].v.Vrtc.v=64-t;m[2].v.Hrzn.v=128+64;
m[2].v.Vrtc.v=128+64+t;m.sort(function(Wz,WG){return Wz.v.Hrzn.v-WG.v.Hrzn.v});var b=e.MF.QK(m,d);m=[];
for(var a=0;a<3;a++)m.push(e.MF.QS(a/2*255,a/2*255,!0));if(L<0){var v=128+10*L/150,W=128-120*L/150;m[1].v.Hrzn.v=W;
m[1].v.Vrtc.v=v;I=e.MF.QK(m,d);for(var a=0;a<d;a++)if(a*(255/d)<W)I[a]=a*(255/d)/W*v/255}else{m[1].v.Hrzn.v=128-64*L/150;
m[1].v.Vrtc.v=128+24*L/150;I=e.MF.QK(m,d)}var B=new Uint8Array(d);for(var a=0;a<d;a++){var n=Math.round((d-1)*I[a]);
B[a]=Math.round(255*b[n])}k={type:"remap",iL:B,iU:B,in:B,Jj:!1,aR:!1}}}if(z=="levl"){var j=r,p,X,g,M,H,c;
p=-j[0][0]/255;X=1/(j[0][1]/255-j[0][0]/255);g=e.WR.multiply(e.WR.WV(X,X,X),e.WR.Wy(p,p,p));M=e.WR.WV(1/(j[1][1]/255-j[1][0]/255),1/(j[2][1]/255-j[2][0]/255),1/(j[3][1]/255-j[3][0]/255));
H=e.WR.Wy(-j[1][0]/255,-j[2][0]/255,-j[3][0]/255);c=e.WR.multiply(M,H);var B=new e.Ph(256);for(var a=0;
a<256;a++)B.F[a]=B.P[a]=B.g[a]=a;var S=1/(j[0][4]/100),w=1/(j[1][4]/100),R=1/(j[2][4]/100),i=1/(j[3][4]/100);
e.WR.transform(B,B,c);for(var a=0;a<256;a++){B.F[a]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.F[a]/255,w))));
B.P[a]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.P[a]/255,R))));B.g[a]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.g[a]/255,i))))}e.WR.transform(B,B,g);
for(var a=0;a<256;a++){B.F[a]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.F[a]/255,S))));B.P[a]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.P[a]/255,S))));
B.g[a]=Math.round(Math.max(0,Math.min(255,255*Math.pow(B.g[a]/255,S))))}p=j[0][2]/255;X=j[0][3]/255-j[0][2]/255;
g=e.WR.multiply(e.WR.Wy(p,p,p),e.WR.WV(X,X,X));M=e.WR.WV(j[1][3]/255-j[1][2]/255,j[2][3]/255-j[2][2]/255,j[3][3]/255-j[3][2]/255);
H=e.WR.Wy(j[1][2]/255,j[2][2]/255,j[3][2]/255);c=e.WR.multiply(H,M);e.WR.transform(B,B,e.WR.multiply(g,c));
k={type:"remap",iL:B.F,iU:B.P,in:B.g,Jj:!1,aR:!1}}if(z=="curv"){var f=r[0].length==256?1:0,_=[];if(f==0){var u=e.MF.Ql(r[0],256);
for(var a=1;a<4;a++){var Q=e.MF.Ql(r[a],256);_.push(e.MF.Qx(Q,u))}}else{var $=[];for(var a=0;a<4;a++){var C=new Uint8Array(256);
$.push(C);for(var y=0;y<256;y++)C[y]=r[a][y]}for(var a=1;a<4;a++)_.push(e.MF.Qx($[a],$[0]))}k={type:"remap",iL:_[0],iU:_[1],in:_[2],Jj:!1,aR:!1}}if(z=="expA"){var N=r[0],O=r[1],JQ=r[2],B=new Uint8Array(256);
for(var a=0;a<256;a++){var r=a/255,zf=Math.pow(Math.abs(O),1/(Math.PI/2));if(O>0){r=Math.max(O/Math.E,r);
r=r*Math.exp(O/1.75+N/Math.PI);r=(1-zf)*r+zf*1}else{r=r*Math.exp(-O*1.75+N/Math.PI);r=r+-zf*1.14}r=Math.pow(r,1/JQ);
r=Math.max(0,Math.min(1,r));B[a]=Math.round(r*255)}k={type:"remap",iL:B,iU:B,in:B,Jj:!1,aR:!1}}if(z=="vibA"){k={type:"vibrance",Hq:r}}if(z=="hue2"){r=JSON.parse(JSON.stringify(r));
var ze=[],zg=[],zF=[];for(var a=0;a<256;a++){ze[a]=a/255;zg[a]=0;zF[a]=0}var GS=r.Yb?r.HS:r.Yi,Gm=1+GS[2]/100,GJ=Gm<1?1:0,GP=GJ*Gm+1-GJ,Gz=(1-GJ)*(Gm-1);
if(r.Yb){var GG=GS[0]/360,GW=Math.tan(Math.PI/2*GS[1]/100);for(var a=0;a<256;a++){ze[a]=GG;zg[a]=GW}}else{for(var a=0;
a<256;a++){var GM=ze[a],GQ=zg[a];ze[a]+=GS[0]/360;var Gu=GS[1]/100;if(Gu>0)Gu=Math.tan(Math.PI/2*GS[1]/100);
for(var y=0;y<6;y++){var GK=r.YD[y].sn,GE=r.YD[y].YY,zf=0;for(var Gl=1;Gl<4;Gl++)if(GE[Gl]<GE[0])GE[Gl]+=360;
var Gx=GE[0],Ga=GE[1],Gc=GE[2],GB=GE[3],GA=GM*360;if(GA<GE[0])GA+=360;var Gh=(GA-Gx)/(Ga-Gx),GT=(GA-Gc)/(GB-Gc);
if(Gh<0)zf=0;else if(Gh<1)zf=Gh;else if(GT<0)zf=1;else if(GT<1)zf=1-GT;else zf=0;var l=GK[1]/100;if(l>0)l=Math.tan(Math.PI/2*GK[1]/100);
ze[a]+=zf*GK[0]/360;zg[a]+=zf*l;zF[a]+=zf*GK[2]/100}}for(var a=0;a<256;a++){zg[a]=(1+zg[a])*(1+Gu)-1;
zF[a]=Math.max(-1,Math.min(1,zF[a]))}}var Gw=new Uint8Array(256),GN=new Uint8Array(256),Gy=new Uint8Array(256);
for(var a=0;a<256;a++){ze[a]-=Math.floor(ze[a]);var GV=zg[a];if(GV<0)zg[a]=(1+zg[a])*.5;else zg[a]=.5+.49*Math.atan2(zg[a],1)/(Math.PI/2);
zF[a]=(1+zF[a])/2;Gw[a]=Math.round(255*ze[a]);GN[a]=Math.round(255*zg[a]);Gy[a]=Math.round(255*zF[a])}k={type:"remapHSL",fo:Gw,iw:GN,fL:Gy,fU:GP,fn:Gz,fv:r.Yb?1:0}}if(z=="nvrt"){var B=new Uint8Array(256);
for(var a=0;a<256;a++)B[a]=255-a;k={type:"remap",iL:B,iU:B,in:B,Jj:!1,aR:!1}}if(z=="grdm"){var GO=r[0],G_=e.v.GL(GO.Clrs.v,0,0),d=1024,GZ=e.v.Gv(GO,G_,d),GC=e.$(d),Gq=e.$(d),Go=e.$(d);
e.Jw(GZ,GC,0);e.Jw(GZ,Gq,1);e.Jw(GZ,Go,2);if(r[1]){GC.reverse();Gq.reverse();Go.reverse()}k={type:"remap",iL:GC,iU:Gq,in:Go,Jj:!0,aR:!1}}if(z=="selc"){var Gr=new Float32Array(9*3*2),GU=r.YF,Gn=r.Yg;
for(var y=1;y<10;y++){var Gv=(y-1)*6,GX=GU[y][0]/100,GI=GU[y][1]/100,Gs=GU[y][2]/100,Gt=GU[y][3]/100;
if(Gn){Gr[Gv]=Gr[Gv+1]=Gr[Gv+2]=1;Gr[Gv+3]=GX*(1+Gt)+Gt;Gr[Gv+4]=GI*(1+Gt)+Gt;Gr[Gv+5]=Gs*(1+Gt)+Gt}else{Gr[Gv+0]=(1+GX)*(1+Gt);
Gr[Gv+1]=(1+GI)*(1+Gt);Gr[Gv+2]=(1+Gs)*(1+Gt)}}k={type:"selc",zw:Gr}}if(z=="blwh"){var Gp=[],Gi=0,GD=0;
for(var a=0;a<6;a++)Gp.push((r[a]-50)/50);var G$=e.v.GU(r[7]);G$.F/=255;G$.P/=255;G$.g/=255;var Gd=e.Ju(G$.F,G$.P,G$.g),GH=e.mf(e.JQ(Gd.HF,1,.5)),Gb=Gd.bB*Gd.KM;
if(GH==.5)Gi=GD=.5;else{Gi=Gb*(.5-GH)/(.5/GH-1);GD=1-Gb*(.5-GH)-1/(2*(1-GH));GD/=1-1/(2*(1-GH))}k={type:"blwh",rX:Gp,iX:r[6]?1:0,sZ:Gd.HF,mf:GH,r$:Gb,Dw:Gi,sC:GD}}if(z=="blnc"){var j=[];
for(var a=0;a<3;a++){var GY=r.sn[a][0]/100,Gk=r.sn[a][1]/100,Gj=r.sn[a][2]/100,Gf=r.mf?Gf=(Math.min(GY,Gk,Gj)+Math.max(GY,Gk,Gj))/2:0;
j[a]=[GY-Gf,Gk-Gf,Gj-Gf]}var _=[e.$(256),e.$(256),e.$(256)];for(var y=0;y<3;y++)for(var a=0;a<256;a++){var Ge=a*(1/255),Gg=0,t=0,GF=0;
t=j[2][y];GF=Math.abs(t);if(t<0)Gg=Math.pow(Ge,Math.SQRT2);else Gg=1.63*(Math.pow(Ge+.04,.5)-.2);Ge=GF*Gg+(1-GF)*Ge;
t=j[1][y];GF=Math.abs(t);if(t<0)Gg=Math.pow(Ge,2);else Gg=Math.min(2.35*(Math.pow(Ge+.09,.5)-.3),Math.pow(Ge,1/2));
Ge=GF*Gg+(1-GF)*Ge;t=j[0][y];GF=Math.abs(t);if(t<0)Gg=Ge<.4?0:Math.pow((Ge-.4)/.6,Math.SQRT2);else Gg=Math.pow(Ge,Math.SQRT2/2);
Ge=GF*Gg+(1-GF)*Ge;Ge=Math.max(0,Math.min(1,Ge));_[y][a]=Math.round(Ge*255)}k={type:"remap",iL:_[0],iU:_[1],in:_[2],Jj:!1,aR:!1}}if(z=="phfl"){var WS=[r.HS.Rd.v/255,r.HS.Grn.v/255,r.HS.Bl.v/255],Wm=r.DF/100,_=[e.$(256),e.$(256),e.$(256)];
for(var y=0;y<3;y++)for(var a=0;a<256;a++){var Ge=a*(1/255),WJ=Ge*WS[y];WJ=Math.max(0,Math.min(1,WJ));
Ge=Wm*WJ+(1-Wm)*Ge;_[y][a]=Math.round(Ge*255)}k={type:"remap",iL:_[0],iU:_[1],in:_[2],Jj:!1,aR:r.YS}}if(z=="thrs"){var B=e.$(256);
for(var a=r;a<256;a++)B[a]=255;k={type:"remap",iL:B,iU:B,in:B,Jj:!0,aR:!1}}if(z=="mixr"){var J=[];for(var a=0;
a<r.u.length;a++)if(a%5!=3)J.push(r.u[a]/100);if(r.Ym){for(var WP=1;WP<3;WP++)for(var Ge=0;Ge<4;Ge++)J[WP*4+Ge]=J[Ge]}k={type:"matrix",WR:J}}return k};
mm.Os=function(z,r,k){var L=Date.now();if(z.type=="matrix")e.WR.mWd(r,k,z.WR);if(z.type=="blwh"){var E=z.r$,F=z.mf,U=z.Dw,l=z.sC,G=r.length;
for(var g=0;g<G;g+=4){var P=r[g]*(1/255),J=r[g+1]*(1/255),x=r[g+2]*(1/255),a=e.JW(P,J,x),d=0;for(var t=0;
t<6;t++)d+=Math.min(1,1.7*(1-a.bA))*a.bB*z.rX[t]*mm.Op(a.HF,t*(1/6));var m=Math.max(0,Math.min(1,a.bA*(1+d)));
if(z.iX==1){var b=0;if(m<U)b=m*(.5/F);else if(m<l)b=m+E*(.5-F);else b=1-(1-m)*.5/(1-F);a.HF=z.sZ;a.bB=Math.min(1,E+3*E*Math.abs(m-.5*(U+l)));
a.bA=b}else{a.HF=0;a.bB=0;a.bA=m}var I=e.JQ(a.HF,a.bB,a.bA);k[g]=Math.round(I.F*255);k[g+1]=Math.round(I.P*255);
k[g+2]=Math.round(I.g*255)}}if(z.type=="selc"){var v=z.zw,G=r.length,W=1/255;for(var g=0;g<G;g+=4){var P=r[g]*W,J=r[g+1]*W,x=r[g+2]*W,a=e.JW(P,J,x),B=Math.max(P,Math.max(J,x)),n=Math.min(P,Math.min(J,x)),j=1-P,p=1-J,X=1-x,M=0,H=0,c=0;
for(var t=0;t<9;t++){var S=t*6,f=0;if(v[S]==1&&v[S+1]==1&&v[S+2]==1&&v[S+3]==0&&v[S+4]==0&&v[S+5]==0)continue;
var w=j*v[S]+v[S+3],R=p*v[S+1]+v[S+4],i=X*v[S+2]+v[S+5];if(t<6)f=mm.Op(a.HF,t*(1/6))*a.bB*2*Math.min(a.bA,1-a.bA);
else if(t==6)f=Math.max(0,n-.5)*2;else if(t==7)f=1-(Math.abs(B-.5)+Math.abs(n-.5));else f=Math.max(0,.5-B)*2;
M+=(Math.max(0,Math.min(1,w))-j)*f;H+=(Math.max(0,Math.min(1,R))-p)*f;c+=(Math.max(0,Math.min(1,i))-X)*f}j=Math.max(0,Math.min(1,j+M));
p=Math.max(0,Math.min(1,p+H));X=Math.max(0,Math.min(1,X+c));P=1-j;J=1-p;x=1-X;k[g]=Math.round(P*255);
k[g+1]=Math.round(J*255);k[g+2]=Math.round(x*255)}}if(z.type=="remap"){e.mWK(r,k,z.iL,z.iU,z.in,z.Jj,z.aR)}if(z.type=="remapHSL"){var _=new Uint32Array(r.buffer),u=new Uint32Array(k.buffer),G=_.length;
for(var g=0;g<G;g++){var Q=_[g],P=(Q&255)*(1/255),J=(Q>>>8&255)*(1/255),x=(Q>>>16&255)*(1/255),$=Q>>>24,ze;
P=z.fU*P+z.fn*(1-P);J=z.fU*J+z.fn*(1-J);x=z.fU*x+z.fn*(1-x);var a=e.JW(P,J,x),C=a.HF,y=a.bB,N=a.bA,O=z.fo[Math.round(C*255)]*(1/255),JQ=z.iw[Math.round(C*255)]*(1/255)*2-1,zf=z.fL[Math.round(C*255)]*(1/255)*2-1;
if(z.fv==1)ze=JQ;else{if(JQ>0)JQ=Math.tan(Math.PI/2*JQ);var ze=Math.min(y*(1+JQ),1)}var zg=Math.abs(zf),zF=e.JQ(O,ze*(1-zg),N+(zf>0?1:-1)*Math.min(N,1-N)*y),I=e.JQ(O,ze,N);
P=I.F*(1-zg)+zF.F*zg;J=I.P*(1-zg)+zF.P*zg;x=I.g*(1-zg)+zF.g*zg;u[g]=$<<24|x*255<<16|J*255<<8|P*255}}if(z.type=="vibrance"){var _=new Uint32Array(r.buffer),u=new Uint32Array(k.buffer),G=_.length,GS=z.Hq[0]/100,Gm=z.Hq[1]/100;
for(var g=0;g<G;g++){var Q=_[g],P=(Q&255)*(1/255),J=(Q>>>8&255)*(1/255),x=(Q>>>16&255)*(1/255),$=Q>>>24,a=e.Ju(P,J,x),C=a.HF,y=a.bB,N=a.KM,GJ=0,GP=45/360,Gz=C<GP?Math.cos(Math.PI/2*(C-GP/2)/(GP/2)):0;
y=y+.2*(1-.4*Gz)*GS*Math.max(0,Math.sin(y*Math.PI));y=y*(1+Gm);y=Math.max(0,Math.min(1,y));var I=e.JK(C,y,N);
P=I.F;J=I.P;x=I.g;u[g]=$<<24|x*255<<16|J*255<<8|P*255}}};mm.mEF=function(z,r,k){if(z.type=="remap")o.Pz(r,{F:z.iL,P:z.iU,g:z.in},z.Jj,z.aR,k);
if(z.type=="remapHSL")o.EN(r,{F:z.fo,P:z.iw,g:z.fL},k,z.fU,z.fn,z.fv);if(z.type=="vibrance")o.EO(r,z.Hq[0]/100,z.Hq[1]/100,k);
if(z.type=="selc")o.EZ(r,z.zw,k);if(z.type=="blwh")o.EC(r,z.rX,[z.iX,z.sZ,z.mf,z.r$,z.Dw,z.sC],k);if(z.type=="matrix")o.E_(r,z.WR,k)};
mm.Op=function(z,r){var k=e.JS(r,z)*6;return Math.max(0,Math.min(1,k<0?1+k:1-k))};mm.ready={brit:1,levl:1,curv:1,expA:1,vibA:1,hue2:1,blnc:1,blwh:1,phfl:1,mixr:1,nvrt:1,thrs:1,grdm:1,selc:1};
mm.O$=["expA","mixr"];mm.Od={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr"};
mm.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15]};
mm.keys={levl:[s.VO,s.OS],curv:[s.VO,s.Om],hue2:[s.VO,s.OQ],nvrt:[s.VO,s.Ve],blnc:[s.VO,s.Vk]};mm.OH=function(z,r){if(z=="brit"){r.brit={DY:0,Dk:0,Dj:0,Df:0};
r.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}}}if(z=="levl"){r[z]=[];
for(var k=0;k<62;k++)r[z].push([0,255,0,255,100])}if(z=="curv")r[z]=[[0,0,255,255],[0,0,255,255],[0,0,255,255],[0,0,255,255]];
if(z=="expA")r[z]=[0,0,1];if(z=="vibA")r[z]={classID:"null",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(z=="hue2")r[z]={Yb:!1,HS:[0,25,0],Yi:[0,0,0],YD:[{YY:[315,345,15,45],sn:[0,0,0]},{YY:[15,45,75,105],sn:[0,0,0]},{YY:[75,105,135,165],sn:[0,0,0]},{YY:[135,165,195,225],sn:[0,0,0]},{YY:[195,225,255,285],sn:[0,0,0]},{YY:[255,285,315,345],sn:[0,0,0]}]};
if(z=="nvrt")r[z]=1;if(z=="grdm")r[z]={rev:!1,YJ:!1,v:JSON.parse(K.qt[K.order.indexOf("GrFl")]).Grad.v,mode:0,YP:867527939,Yz:!1,YG:!0,YW:2048,YM:3,YQ:[0,0,0,0],Yu:[32768,32768,32768,32768]};
if(z=="selc"){r[z]={Yg:!0,YF:[]};for(var k=0;k<10;k++)r[z].YF.push([0,0,0,0])}if(z=="blwh")r[z]={classID:"null",Rd:{t:"long",v:50},Yllw:{t:"long",v:50},Grn:{t:"long",v:50},Cyn:{t:"long",v:50},Bl:{t:"long",v:50},Mgnt:{t:"long",v:50},useTint:{t:"bool",v:!1},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},bwPresetKind:{t:"long",v:3},blackAndWhitePresetFileName:{t:"TEXT",v:""}};
if(z=="blnc")r[z]={sn:[[0,0,0],[0,0,0],[0,0,0]],mf:!1};if(z=="thrs")r[z]=128;if(z=="phfl")r[z]={color:{Dg:7,KM:[1254,3530,63045,0]},DF:10,YS:!1};
if(z=="mixr")r[z]={Ym:!1,u:[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}};mm.Ob=function(z,r,k){if(z=="brit"){k.Brgh.v=r[0];
k.Cntr.v=r[1];k.useLegacy.v=r[2]}if(z=="levl"){var L=k.Adjs.v=[];for(var E=0;E<4;E++){var F=r[E],U={classID:"LvlA",Chnl:mm.OD(E)};
U.Inpt={t:"VlLs",v:[{KQ:"long",KM:F[0]},{KQ:"long",KM:F[1]}]};U.Otpt={t:"VlLs",v:[{KQ:"long",KM:F[2]},{KQ:"long",KM:F[3]}]};
U.Gmm={KQ:"doub",KM:F[4]/100};L.push({t:"Objc",v:U})}}if(z=="curv"){var L=k.Adjs.v=[];for(var E=0;E<4;
E++){var F=r[E],U={classID:"CrvA",Chnl:mm.OD(E),Crv:{t:"VlLs",v:[]}};for(var l=0;l<F.length;l++)U.Crv.v.push(F[l]);
L.push({t:"Objc",v:U})}}if(z=="expA"){k.Exps.v=r[0];k.Ofst.v=r[1];k.gammaCorrection.v=r[2]}if(z=="vibA"){k.vibrance.v=r[0];
k.Strt.v=r[1]}if(z=="hue2"){k.Clrz.v=r.Yb;var L=k.Adjs.v=[];for(var E=0;E<7;E++){var G=E==0?r.Yb?r.HS:r.Yi:r.YD[E-1].sn,g=mm.Oi(G);
L.push({t:"Objc",v:g});if(E!=0){var P=r.YD[E-1].YY;g.LclR={t:"long",v:E},g.BgnR={t:"long",v:P[0]};g.BgnS={t:"long",v:P[1]};
g.EndS={t:"long",v:P[2]};g.EndR={t:"long",v:P[3]}}}}if(z=="blnc"){k.PrsL.v=r.mf;var J=["ShdL","MdtL","HghL"];
for(var E=0;E<3;E++){var L=k[J[E]].v;for(var l=0;l<3;l++)L[l].v=r.sn[E][l]}}if(z=="blwh")mm.write(z,r,k);
if(z=="phfl"){k.Dnst.v=r.DF;k.PrsL.v=r.YS;var x=e.v.GU(r.HS),a=mm.Of([x.F,x.P,x.g,0]);a={classID:"LbCl",Lmnc:{t:"doub",v:a[0]/100},A:{t:"doub",v:a[1]/100},B:{t:"doub",v:a[2]/100}};
k.Clr={t:"Objc",v:a}}if(z=="grdm"){k.Grad.v=r[0];k.Rvrs={t:"bool",v:r[1]}}if(z=="selc"){k.Mthd.v=r.Yg?"Absl":"Rltv";
var d=["Cyn","Mgnt","Ylw","Blck"],t="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),L=k.ClrC.v=[];
for(var E=1;E<10;E++){var m=r.YF[E],g={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:t[E-1]}}};for(var l=0;l<4;
l++)g[d[l]]={t:"UntF",v:{type:"#Prc",val:m[l]}};L.push({t:"Objc",v:g})}}if(z=="thrs")k.Lvl.v=r;if(z=="mixr"){k.Mnch={t:"bool",v:r.Ym};
function b(I,E){var v={classID:"ChMx"},W={Rd:0,Grn:1,Bl:2,Cnst:4};for(var B in W)v[B]={t:"UntF",v:{type:"#Prc",val:I[E+W[B]]}};
return{t:"Objc",v:v}}if(r.Ym)k.Gry=b(r.u,0);else{k.Rd=b(r.u,0);k.Grn=b(r.u,5);k.Bl=b(r.u,10)}}return k};
mm.Oi=function(z){return{classID:"Hst2",H:{t:"long",v:z[0]},Strt:{t:"long",v:z[1]},Lght:{t:"long",v:z[2]}}};
mm.OD=function(z){var r=["Cmps","Rd","Grn","Bl"];return{t:"obj ",v:[{t:"Enmr",v:{class:"Chnl",type:"Chnl",enum:r[z]}}]}};
mm.OY=function(z,r){var k,L={Cmps:0,Rd:1,Grn:2,Bl:3};if(z=="brit")k=mm.Oe("brit",r);if(z=="levl"){var E=r.Adjs.v;
k=[];for(var F=0;F<4;F++)k.push([0,255,0,255,100]);for(var F=0;F<E.length;F++){var U=E[F].v,l=L[U.Chnl.v[0].v.enum],G=k[l];
if(U.Inpt){G[0]=U.Inpt.v[0].v;G[1]=U.Inpt.v[1].v}if(U.Otpt){G[2]=U.Otpt.v[0].v;G[3]=U.Otpt.v[1].v}if(U.Gmm)G[4]=Math.round(U.Gmm.v*100)}}if(z=="curv"){var E=r.Adjs.v;
k=[];for(var F=0;F<4;F++)k.push([e.MF.QS(0,0,!0),e.MF.QS(255,255,!0)]);for(var F=0;F<E.length;F++){var U=E[F].v,l=L[U.Chnl.v[0].v.enum],g=U.Crv.v,P=[];
for(var J=0;J<g.length;J++)P.push(e.MF.QS(g[J].v.Hrzn.v,g[J].v.Vrtc.v));k[l]=P}}if(z=="expA")k=[r.Exps.v,r.Ofst.v,r.gammaCorrection.v];
if(z=="vibA")k=mm.Oe(z,r);if(z=="hue2"){var E=r.Adjs.v;k={Yb:r.Clrz.v,HS:[100,25,0],Yi:[0,0,0],YD:[{YY:[315,345,15,45],sn:[0,0,0]},{YY:[15,45,75,105],sn:[0,0,0]},{YY:[75,105,135,165],sn:[0,0,0]},{YY:[135,165,195,225],sn:[0,0,0]},{YY:[195,225,255,285],sn:[0,0,0]},{YY:[255,285,315,345],sn:[0,0,0]}]};
for(var F=0;F<E.length;F++){var U=E[F].v,x=[U.H.v,U.Strt.v,U.Lght.v];if(U.LclR==null)k.Yi=k.HS=x;else k.YD[U.LclR.v-1].sn=x}}if(z=="blnc"){k={sn:[[0,0,0],[0,0,0],[0,0,0]],mf:r.PrsL.v};
var a=["ShdL","MdtL","HghL"];for(var F=0;F<3;F++){var E=r[a[F]].v;k.sn[F]=[E[0].v,E[1].v,E[2].v]}}if(z=="blwh")k=mm.Oe(z,r);
if(z=="phfl"){var d=[255,0,0];if(r.Clr){var t=r.Clr.v;if(t.classID=="LbCl")d=mm.Oj([t.Lmnc.v*100,t.A.v*100,t.B.v*100])}k={DF:r.Dnst.v,YS:r.PrsL.v,HS:e.v.Gn({F:d[0],P:d[1],g:d[2]})}}if(z=="grdm")k=[r.Grad.v,r.Rvrs?r.Rvrs.v:!1];
if(z=="selc"){var m=["Cyn","Mgnt","Ylw","Blck"],L="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
k={Yg:r.Mthd.v!="Rltv",YF:[]};for(var F=0;F<10;F++)k.YF.push([0,0,0,0]);var E=r.ClrC.v;for(var F=0;F<E.length;
F++){var U=E[F].v,l=L.indexOf(U.Clrs.v.Clrs),b=k.YF[l+1];for(var J=0;J<4;J++)if(U[m[J]])b[J]=U[m[J]].v.val}}if(z=="thrs")k=r.Lvl.v;
if(z=="mixr"){function I(v,W,F){var B={Rd:0,Grn:1,Bl:2,Cnst:4};for(var n in B)if(v[n])W[F+B[n]]=v[n].v.val}k={Ym:!1,u:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(r.Mnch&&r.Mnch.v)k.Ym=!0;if(k.Ym)I(r.Gry.v,k.u,0);else{I(r.Rd.v,k.u,0);I(r.Grn.v,k.u,5);I(r.Bl.v,k.u,10)}}return k};
mm.Ok=function(z){var r=mm.get(z);if(r=="brit"){if(z.CgEd)return mm.Oe(r,z.CgEd);else return[z.brit.DY,z.brit.Dk,!0]}else if(r=="levl"){var k=[];
for(var L=0;L<4;L++)k.push(JSON.parse(JSON.stringify(z[r][L])));return k}else if(r=="curv"){var k=z[r];
if(k[0].length==256)return k;var E=[];for(var L=0;L<4;L++){var F=k[L],U=[];E.push(U);for(var l=0;l<F.length;
l+=2)U.push(e.MF.QS(F[l],F[l+1],!0))}return E}else if(r=="vibA")return mm.Oe(r,z[r]);else if(r=="grdm"){var G=z[r];
return[G.v,G.rev]}else if(r=="blwh")return mm.Oe(r,z[r]);else if(r=="phfl"){var G=z[r],g=[255,0,0];if(G.color){var F=G.color;
if(F.Dg==7)g=mm.Oj(F.KM)}return{DF:G.DF,YS:G.YS,HS:e.v.Gn({F:g[0],P:g[1],g:g[2]})}}else return z[r]};
mm.Oj=function(z){var r=z[0]/100,k=z[1]/100,L=z[2]/100,E=903.3,F=.008856,U=(r+16)/116,l=U*U*U,G=U-L/200,g=G*G*G,P=k/500+U,J=P*P*P,x=g>F?g:(116*G-16)/E,a=l>F?l:(116*U-16)/E,d=J>F?J:(116*P-16)/E,t=d*96.72,m=a*100,b=x*81.427,I=e.WR.WZ(e.WR.Wq,[t/100,m/100,b/100,0]);
for(var v=0;v<4;v++)I[v]=Math.max(0,Math.min(255,e.JJ(I[v])*255));return I};mm.Of=function(z){for(var r=0;
r<4;r++)z[r]=e.mzZ(z[r]/255);var k=e.WR.WZ(e.WR.Jo(e.WR.Wq),z),L=100*k[0]/96.72,E=100*k[1]/100,F=100*k[2]/81.427;
if(L>.008856)L=Math.pow(L,1/3);else L=7.787*L+16/116;if(E>.008856)E=Math.pow(E,1/3);else E=7.787*E+16/116;
if(F>.008856)F=Math.pow(F,1/3);else F=7.787*F+16/116;var U=116*E-16,l=500*(L-E),G=200*(E-F);return[U*100,l*100,G*100,0]};
mm.Oe=function(z,r){if(z=="blwh"){var k="Rd Yllw Grn Cyn Bl Mgnt".split(" "),L=[];for(var E=0;E<6;E++)L.push(r[k[E]].v);
L.push(r.useTint.v,r.tintColor.v);return L}if(z=="brit")return[r.Brgh.v,r.Cntr.v,r.useLegacy?r.useLegacy.v:!0];
if(z=="vibA")return[r.vibrance?r.vibrance.v:0,r.Strt?r.Strt.v:0]};mm.write=function(z,r,k){console.log(k);
if(z=="blwh"){var L="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var E=0;E<6;E++)k[L[E]].v=r[E];k.useTint.v=r[6];
k.tintColor.v=r[7]}};mm.le=function(z,r){var k=mm.get(r);if(k=="brit"){if(!z[2]){r.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:z[0]},Cntr:{t:"long",v:z[1]},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}};
r.brit={DY:0,Dk:0,Dj:0,Df:0}}else{delete r.CgEd;r.brit.DY=z[0];r.brit.Dk=z[1]}}else if(k=="levl"){for(var L=0;
L<4;L++)r[k][L]=JSON.parse(JSON.stringify(z[L]))}else if(k=="curv"){if(z[0].length==256)r[k]=z;else{var E=[];
for(var L=0;L<4;L++){var F=z[L],U=[];E.push(U);for(var l=0;l<F.length;l++)U.push(F[l].v.Hrzn.v,F[l].v.Vrtc.v)}r[k]=E}}else if(k=="vibA"){r[k]={classID:"null",vibrance:{t:"long",v:z[0]},Strt:{t:"long",v:z[1]}}}else if(k=="grdm"){r[k].v=z[0];
r[k].rev=z[1]}else if(k=="blwh")mm.write(k,z,r[k]);else if(k=="phfl"){var G={color:{Dg:7,KM:[8445,-4871,1032,0]},DF:z.DF,YS:z.YS},g=e.v.GU(z.HS);
G.color.KM=mm.Of([g.F,g.P,g.g,0]);r[k]=G}else r[k]=z};var mJ={};mJ.Og=[{OF:"LqFy"},{_S:[24,2],_m:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{_S:[24,6],_m:["AdNs","DstS","Mdn "]},{_S:[24,8],_m:["ClrH","Msc "]},{_S:[24,10],_m:["Clds"]},{_S:[24,12],_m:["Shrp","ShrM","UnsM"]},{_S:[24,14],_m:["FndE"]},{_S:[24,16],_m:["HghP","Mxm ","Mnm ","Ofst","Rept"]}];
mJ.names={LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],"Msc ":[24,9,5],Clds:[24,11,0],Shrp:[24,13,0],ShrM:[24,13,2],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5]};
mJ._J=function(z){var r=null;if(z=="LqFy"){var k={Hg:50,HF:50,map:new Float32Array(50*50*2)},L=new Uint8Array(zi.lE(k)),E=[];
for(var F=0;F<L.length;F++)E.push(L[F]);r={__name:"Liquify\0",classID:"LqFy",LqMe:{t:"tdta",v:E}}}if(z=="\0\0\x02\xB1")r={__name:"Box Blur\0",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};
if(z=="GsnB")r={__name:"Gaussian Blur\0",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};if(z=="MtnB")r={__name:"Motion Blur\0",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(z=="RdlB")r={__name:"Radial Blur\0",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(z=="\0\0\x02\xB5")r={__name:"Surface Blur\0",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(z=="AdNs")r={__name:"Add Noise\0",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(z=="DstS")r={__name:"Dust & Scratches\0",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};
if(z=="Mdn ")r={__name:"Median\0",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};if(z=="ClrH")r={__name:"Color Halftone\0",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(z=="Msc ")r={__name:"Mosaic\0",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(z=="UnsM")r={__name:"Unsharp Mask\0",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(z=="HghP")r={__name:"High Pass\0",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(z=="Mxm ")r={__name:"Maximum\0",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(z=="Mnm ")r={__name:"Minimum\0",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(z=="Ofst")r={__name:"Offset\0",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(z=="Rept")r={__name:"Repeat\0",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(z=="brit")r={__name:"Brightness/Contrast\0",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(z=="levl")r={__name:"Levels\0",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(z=="curv")r={__name:"Curves\0",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(z=="expA")r={__name:"Exposure\0",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:0}};
if(z=="vibA")r={__name:"Vibrance\0",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(z=="hue2")r={__name:"Hue/Saturation\0",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(z=="blnc")r={__name:"Color Balance\0",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(z=="blwh")r={__name:"Black & White\0",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(z=="phfl")r={__name:"Photo Filter\0",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(z=="grdm")r={__name:"Gradient Map\0",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(K.qt[6]).Grad};
if(z=="selc")r={__name:"Selective Color\0",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}};
if(z=="thrs")r={__name:"Threshold\0",classID:"Thrs",Lvl:{t:"long",v:128}};if(z=="mixr")r={__name:"Channel Mixer\0",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
return r};mJ.mxE=function(z){var r=new V(0,0);if(z.enab.v==!1)return r;var k=z.filterFXList.v;for(var L=0;
L<k.length;L++){var E=k[L].v,U=0,l=0;if(E.enab.v==!1)continue;var F=h.xA(E.filterID.v);if("Blr ,BlrM,GsnB,\0\0\x02\xB1,UnsM,HghP".split(",").indexOf(F)!=-1){var G;
if(F=="Blr ")G=.5;if(F=="BlrM")G=.8;if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(F)!=-1)G=E.Fltr.v.Rds.v.val;
U=l=G*2.57}if(F=="MtnB")U=l=E.Fltr.v.Dstn.v.val;if(F=="Ofst"||F=="Rept"||F=="LqFy"||F=="RdlB"){U=l=1e4}U=Math.ceil(U);
l=Math.ceil(l);if(U>r.x)r.x=U;if(l>r.y)r.y=l}return r};mJ.Os=function(z,r,k,L,E,F){if(F==null)F={buffer:e.$(r.buffer.length),rect:r.rect.clone()};
e.JZ(r.buffer,F.buffer);if(z=="Avrg"){var U=0,l=0,G=0,g=0,P=1;for(var J=0;J<r.buffer.length;J+=4){var x=r.buffer[J+3];
G+=r.buffer[J]*x;l+=r.buffer[J+1]*x;U+=r.buffer[J+2]*x;g+=x}var a=1/g;U=Math.round(P*(U*a)+(1-P)*255);
l=Math.round(P*(l*a)+(1-P)*255);G=Math.round(P*(G*a)+(1-P)*255);e.JV(F.buffer,U<<16|l<<8|G,4278190080)}if("Blr ,BlrM,GsnB,\0\0\x02\xB1,UnsM,HghP".split(",").indexOf(z)!=-1){var d;
if(z=="Blr ")d=.5;if(z=="BlrM")d=.8;if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(z)!=-1)d=k.Rds.v.val;
var t=z=="\0\0\x02\xB1"?e.blur.Pg:e.blur.mGV;mJ._G(d,t,F.buffer,F.rect);if(z=="UnsM"){var m=k.Amnt.v.val/100,b=k.Thsh.v;
for(var J=0;J<r.buffer.length;J++){if((J&3)==3){F.buffer[J]=r.buffer[J];continue}var I=r.buffer[J],v=F.buffer[J],W=m*(I-v);
if(W>0)W=Math.max(0,W-b);else W=Math.min(0,W+b);F.buffer[J]=Math.max(0,Math.min(255,I+W))}}if(z=="HghP")for(var J=0;
J<r.buffer.length;J++){if((J&3)==3){F.buffer[J]=r.buffer[J];continue}var I=r.buffer[J],v=F.buffer[J];
F.buffer[J]=Math.max(0,Math.min(255,128+I-v))}}if(z=="\0\0\x02\xB5"){var B=k.Rds.v.val,n=k.Thsh.v,j=r.rect.X,p=r.rect.z,X=new e.Ph(j*p);
e.JR(r.buffer,X);var M=new e.Ph(j*p);e.zk.zg(X.F,X.n,M.F,j,p,B,e.zk.GG,[n]);e.zk.zg(X.P,X.n,M.P,j,p,B,e.zk.GG,[n]);
e.zk.zg(X.g,X.n,M.g,j,p,B,e.zk.GG,[n]);e.JZ(X.n,M.n);e.Jh(M,F.buffer)}if(z=="AdNs"){var H=new Uint8ClampedArray(F.buffer.buffer),c=255*k.Nose.v.val/100,S;
if(k.Dstr.v.Dstr=="Gsn")S=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else S=function(){return Math.random()*2-1};for(var J=0;J<H.length;J+=4){var B=H[J],w=H[J+1],R=H[J+2],i,f,_;
if(k.Mnch.v){i=f=_=S()}else{i=S();f=S();_=S()}B+=c*i;w+=c*f;R+=c*_;H[J]=B;H[J+1]=w;H[J+2]=R}}if(z=="Mdn "||z=="DstS"||z=="Mxm "||z=="Mnm "){var B=0;
if(z=="Mdn "||z=="Mxm "||z=="Mnm ")B=k.Rds.v.val;if(z=="DstS")B=k.Rds.v;var t=e.zk.mPz;if(z=="Mxm ")t=e.zk.mPp;
if(z=="Mnm ")t=e.zk.mai;var j=r.rect.X,p=r.rect.z,X=new e.Ph(j*p);e.JR(r.buffer,X);var M=new e.Ph(j*p);
e.zk.zg(X.F,X.n,M.F,j,p,B,t);e.zk.zg(X.P,X.n,M.P,j,p,B,t);e.zk.zg(X.g,X.n,M.g,j,p,B,t);if(z=="Mdn "){e.set(X.F,255);
e.zk.zg(X.n,X.F,M.n,j,p,B,t)}else if(z=="Mxm "||z=="Mnm "){var u=e.$(X.n.length);e.set(u,255);e.Jo(X.n);
e.zk.zg(X.n,u,M.n,j,p,B,t);e.Jo(X.n);e.Jo(M.n)}else e.JZ(X.n,M.n);e.Jh(M,F.buffer);if(z=="DstS"){var n=k.Thsh.v;
for(var J=0;J<j*p*4;J++){var Q=Math.abs(r.buffer[J]-F.buffer[J]);if(Q<=n)F.buffer[J]=r.buffer[J]}}}if(z=="ClrH"){var $=r.rect.clone();
$.x=$.y=0;var B=k.Rds.v;B=Math.round(B*Math.sqrt(2));var j=$.X,p=$.z,X=new e.Ph(j*p);e.JR(r.buffer,X);
e.Jo(X.F);e.Jo(X.P);e.Jo(X.g);var C=Y.d("canvas","");C.width=j;C.height=p;var y=C.getContext("2d"),N=e.$(j*p*4);
for(var O=0;O<3;O++){var JQ=O==0?X.F:O==1?X.P:X.g,zf=Math.PI*k["Ang"+(O+1)].v/180,ze=new zT(1/B,0,0,1/B,0,0);
ze.rotate(zf);e.JN(JQ,N,3);var zg=A.s.NZ([N,$],ze,!0),zF=zg.rect;y.clearRect(0,0,j,p);var GS=Math.sin(zf),Gm=Math.cos(zf);
for(var J=0;J<zF.z;J++)for(var GJ=0;GJ<zF.X;GJ++){var GP=(GJ+zF.x+.5)*B,Gz=(J+zF.y+.5)*B,GG=GP,GW=Gz;
GP=Gm*GG-GS*GW;Gz=GS*GG+Gm*GW;var GM=zg.buffer[(J*zF.X+GJ<<2)+3]*(1/255),d=B*Math.sqrt(GM*(1/Math.PI));
y.beginPath();y.arc(GP,Gz,d,0,2*Math.PI);y.fill()}var GQ=y.getImageData(0,0,j,p);e.Jw(GQ.data,JQ,3)}e.Jo(X.F);
e.Jo(X.P);e.Jo(X.g);e.Jh(X,F.buffer)}if(z=="Msc "){var Gu=k.ClSz.v.val,j=r.rect.X,p=r.rect.z,GK=Math.ceil(j/Gu),GE=Math.ceil(p/Gu),Gl=e.$(GK*GE*4);
e.scale.Mv(r.buffer,j,p,Gl,GK,GE,1/Gu);e.scale.Mv(Gl,GK,GE,F.buffer,j,p,Gu)}if(z=="Clds"){e.JV(F.buffer,4278190080);
var Gx=new Float32Array(F.rect.Y()),Ga=0;for(var J=0;J<8;J++){noise.seed(Math.random());var Gc=Math.pow(2,J),GB=Gc/170,GA=1/Gc;
Ga+=GA;for(var Gz=0;Gz<F.rect.z;Gz++)for(var GP=0;GP<F.rect.X;GP++)Gx[Gz*F.rect.X+GP]+=noise.perlin2(GP*GB,Gz*GB)*GA}Ga=1/Ga;
for(var J=0;J<Gx.length;J++){var Gh=Math.max(0,Math.min(1,.5+.7*Gx[J]*Ga)),GT=1-Gh;F.buffer[4*J]=Math.round(Gh*L.F+GT*E.F);
F.buffer[4*J+1]=Math.round(Gh*L.P+GT*E.P);F.buffer[4*J+2]=Math.round(Gh*L.g+GT*E.g)}}if(z=="Shrp"||z=="ShrM"){var j=r.rect.X,p=r.rect.z,Gw=z=="Shrp"?14:11,GN=e.zk.zf([-1,-1,-1,-1,Gw,-1,-1,-1,-1]);
e.zk.ze(r.buffer,F.buffer,j,p,GN,3)}if(z=="MtnB"){var Gy=Date.now(),ze=new zT;ze.rotate(-k.Angl.v*Math.PI/180);
var zg=A.s.NZ([r.buffer,r.rect],ze,!1,null,!0);mJ._G(k.Dstn.v.val/2,e.blur.zS,zg.buffer,zg.rect);ze.Jo();
zg=A.s.NZ([zg.buffer,zg.rect],ze,!1,F.buffer.buffer,!0,F.rect);console.log(Date.now()-Gy)}if(z=="RdlB"){var j=r.rect.X,p=r.rect.z,m=k.Amnt.v,GV=k.BlrM.v.BlrM=="Zm",O=k.Cntr.v,GO=O.Hrzn.v,G_=O.Vrtc.v,GZ=Math.max(GO,1-GO)*j,GC=Math.max(G_,1-G_)*p,d=Math.sqrt(GZ*GZ+GC*GC),Gq=2*Math.PI*d*1.2,Go=Math.round(Gq),Gr=Math.round(d),$=new Z(0,0,Go,Gr),GU=e.$(Go*Gr*4),Gn=GV?4:1,Gv=GV?.6:8;
e.GE.mKw(r.buffer,j,p,GU,Go,Gr,GO,G_,Gn);var GX=GV?e.$(Go*Gr*4):null;if(GV){e.GE.GT(GU,GX,Go,Gr);var GI=GX;
GX=GU;GU=GI;$.X=Gr;$.z=Go}mJ._G(Gv*m,e.blur.zS,GU,$);if(GV){e.GE.GT(GU,GX,Gr,Go);var GI=GX;GX=GU;GU=GI;
$.X=Go;$.z=Gr}e.GE.mKT(GU,Go,Gr,F.buffer,j,p,GO,G_,1/Gn)}if(z=="FndE"){var j=r.rect.X,p=r.rect.z;mJ.mxC(r.buffer,F.buffer,j,p)}if(z=="Ofst"){var j=r.rect.X,p=r.rect.z,Gs=new Uint32Array(r.buffer.buffer),Gt=new Uint32Array(F.buffer.buffer),GG=k.Hrzn.v,GW=k.Vrtc.v,Gp=k.Fl.v.FlMd;
e.JV(Gt,0);if(Gp=="Bckg"||Gp=="Rpt"){var $=r.rect.clone();$.offset(GG,GW);e.Jb(Gs,$,Gt,F.rect)}if(Gp=="Rpt"){var G$,Gd,GH,Gb,Gi;
GG=Math.max(-j,Math.min(j,GG));GW=Math.max(-p,Math.min(p,GW));G$=GG>0?GG:0;GH=GG>0?j:j+GG;Gd=GW>0?0:GW+p;
Gb=GW>0?GW:p;Gi=GW>0?0:j*(p-1);for(var Gz=Gd;Gz<Gb;Gz++)for(var GP=G$;GP<GH;GP++)Gt[Gz*j+GP]=Gs[Gi+GP-GG];
G$=GG>0?0:j+GG;GH=GG>0?GG:j;Gd=GW>0?GW:0;Gb=GW>0?p:p+GW;Gi=GG>0?0:j-1;for(var Gz=Gd;Gz<Gb;Gz++)for(var GP=G$;
GP<GH;GP++)Gt[Gz*j+GP]=Gs[Gi+j*(Gz-GW)];if(GG>=0&&GW>=0){G$=0;GH=GG;Gd=0;Gb=GW;Gi=0}if(GG>=0&&GW<0){G$=0;
GH=GG;Gd=p+GW;Gb=p;Gi=j*(p-1)}if(GG<0&&GW>=0){G$=j+GG;GH=j;Gd=0;Gb=GW;Gi=j-1}if(GG<0&&GW<0){G$=j+GG;
GH=j;Gd=p+GW;Gb=p;Gi=j*p-1}for(var Gz=Gd;Gz<Gb;Gz++)for(var GP=G$;GP<GH;GP++)Gt[Gz*j+GP]=Gs[Gi]}if(Gp=="Wrp"){GG=(GG+100*j)%j;
GW=(GW+100*p)%p;var $=new Z(GG-j,GW-p,j,p);e.Jb(Gs,$,Gt,F.rect);$.offset(j,0);e.Jb(Gs,$,Gt,F.rect);$.offset(0,p);
e.Jb(Gs,$,Gt,F.rect);$.offset(-j,0);e.Jb(Gs,$,Gt,F.rect)}}if(z=="Rept"){var GD=k.Rsft.v.val/100,GY=k.SpcX.v.val/100;
GY=Math.max(GY,-.99);var Gk=k.SpcY.v.val/100;Gk=Math.max(Gk,-.99);var GB=k.Scl.v.val/100,ze=new zT;ze.rotate(k.Angl.v*Math.PI/180);
ze.scale(GB,GB);var Gj={buffer:r.buffer,rect:r.rect};e.PK(Gj);if(Gj.rect.z$()){Gj.buffer=r.buffer;Gj.rect=r.rect}var Gf=Gj.buffer,$=Gj.rect,Ge=e.PQ(Gf,$),Gg=new Uint32Array(Gf.buffer)[0];
if(!Ge.z$()&&!Ge.Jq($)){var GF=e.$(Ge.Y()*4);e.Jb(Gf,$,GF,Ge);Gf=GF;$=Ge}$.x=$.y=0;Gg=GY==0&&Gk==0||k.SpcC.v?Gg:0;
function WS(GP){return GP<0?Math.ceil(GP):Math.floor(GP)}var Wm=ze.Ef(new V($.X,0));Wm.x=WS(Wm.x);Wm.y=WS(Wm.y);
var WJ=ze.Ef(new V(0,$.z));WJ.x=WS(WJ.x);WJ.y=WS(WJ.y);var zg=A.s.NZ([Gf,$],ze,!1),zF=zg.rect,WP=zg.buffer,Wz=Math.round(zF.x),WG=Math.round(zF.y),WW=Math.max(F.rect.X,F.rect.z)/Math.min($.X*GB*(1+GY),$.z*GB*(1+Gk));
WW=Math.ceil(WW*1.7);e.JV(F.buffer,Gg);for(var Gz=-WW;Gz<WW;Gz++){for(var GP=-WW;GP<WW;GP++){var WM=(GP+Gz*GD)*(1+GY),WQ=Gz*(1+Gk);
zF.x=Wz+Math.round(WM*Wm.x+WQ*WJ.x);zF.y=WG+Math.round(WM*Wm.y+WQ*WJ.y);if(zF.ak(F.rect))e.M.Py("norm",WP,zF,F.buffer,F.rect,zF,1)}}}if(z=="LqFy"){var Wu=k.LqMe.v,WK=zi.lK(new Uint8Array(Wu).buffer),j=r.rect.X,p=r.rect.z;
e.WM.WQ(r.buffer,F.buffer,j,p,null,WK.map,WK.Hg,WK.HF)}return F};mJ.mxC=function(z,r,k,L){var E=e.$(z.length);
e.zk.ze(z,r,k,L,[-1,0,1,-2,0,2,-1,0,1],3);e.zk.ze(z,E,k,L,[1,2,1,0,0,0,-1,-2,-1],3);for(var F=0;F<E.length;
F+=4){var U=r[F],l=r[F+1],G=r[F+2],g=r[F+3],P=E[F],J=E[F+1],x=E[F+2],a=E[F+3];r[F]=255-Math.max(0,Math.min(255,Math.sqrt(U*U+P*P)));
r[F+1]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+J*J)));r[F+2]=255-Math.max(0,Math.min(255,Math.sqrt(G*G+x*x)))}};
mJ._G=function(z,r,k,L){mJ.mmZ(k);r(k,L,z);mJ.mWS(k)};mJ.mmZ=function(z){var r=z.length;for(var k=0;
k<r;k+=4){var L=z[k+3];if(L==255)continue;z[k]=e.JY(z[k]*L);z[k+1]=e.JY(z[k+1]*L);z[k+2]=e.JY(z[k+2]*L)}};
mJ.mWS=function(z){var r=z.length,k=mJ.mJa;for(var L=0;L<r;L+=4){var E=z[L+3];if(E==0||E==255)continue;
var F=255/E;z[L]=~~(z[L]*F+.5);z[L+1]=~~(z[L+1]*F+.5);z[L+2]=~~(z[L+2]*F+.5)}};mJ.mJa=function(){var z=new Uint8Array(256*256);
for(var r=0;r<256;r++)for(var k=0;k<256;k++)z[k*256+r]=Math.round(255*r/k);return z}();mJ._u=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
mJ._K=function(z,r){var k={F:r.fh>>16,P:r.fh>>8&255,g:r.fh&255},L={F:r.fT>>16,P:r.fT>>8&255,g:r.fT&255},E=mJ.names[z];
if(E==null)E=mm.names[z];var F=z;for(var U in mm.Od)if(mm.Od[U]==z)F=U;var l={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:zA.get(E)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:e.v.Gn(k)},BckC:{t:"Objc",v:e.v.Gn(L)},filterID:{t:"long",v:h.mWE(F)}}};
if(JE[z]||JK[z])l.v.Fltr={t:"Objc",v:mJ._J(z)};return l};function mP(){}mP._E=[2,5,5,7,4,4];mP._l="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
mP._x="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
mP._a="Normal,Dissolve,Darken,Multiply,Color Burn,Linear Burn,Darker Color,Lighten,Screen,Color Dodge,Linear Dodge,Lighter Color,Overlay,Soft Light,Hard Light,Vivid Light,Linear Light,Pin Light,Hard Mix,Difference,Exclusion,Subtract,Divide,Hue,Saturation,Color,Luminosity".split(",");
mP._c=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
mP._B=function(z){if(z=="passThrough")return"pass";return mP._l[mP._x.indexOf(z)]};mP.maT=function(z){if(z=="pass")return"passThrough";
return mP._x[mP._l.indexOf(z)]};mP.getName=function(z){return mP._a[mP._l.indexOf(z)]};function T(){this.rect=null;
this.DD="norm";this.opacity=255;this.YO=!1;this.Y_=0;this.YX=0;this.Yr=[0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535];
this.name=null;this.add={};this.buffer=null;this.Yy=null;this.YZ=null;this.k=null;this.Yq=null;this.rj=0;
this.J_=Y.d("canvas","").getContext("2d");this.An=Y.d("canvas","").getContext("2d");this.sr=Y.d("canvas","").getContext("2d");
this.df=Y.d("canvas","").getContext("2d");this.B=0;this.TV=!1;this.fq=null;this.c=new T._h}T._h=function(){this._Q=!0;
this.OX=!0;this.pM=e.$(0);this.dj=e.$(0);this.jC=null;this.ja={};this.LG=null;this.Hs=null;this.Kr=null;
this.JT=null;this.za=null;this.xd=null;this.uN=null;this.zP=null;this.xL=null;this.li=null;this.$Z=null;
this.jA=null;this.zx=!1};T._h.prototype._T=function(){this._Q=!1;this.OX=!1;this.jC=null;this.zx=o.KH};
T._h.prototype.mzM=function(){mK.oz(this.ja);this.pM=e.$(0);this.dj=e.$(0);if(this.JT)this.JT.delete();
if(this.za)this.za.delete();this.JT=null;this.za=null;var z=[this.xd,this.uN,this.zP,this.xL,this.li,this.$Z];
for(var r=0;r<6;r++)if(z[r]!=null&&z[r]instanceof o.Ph)z[r].delete();this.xd=null;this.uN=null;this.zP=null;
this.xL=null;this.li=null;this.$Z=null};T.prototype.N=function(z){if(z==null)z=this.rect.clone();if(this.c.jC==null)this.c.jC=z;
else this.c.jC=this.c.jC.MD(z)};T.prototype._w=function(){return this.add.lsct==mG.ZW||this.add.lsct==mG.ZM};
T.prototype._N=function(){var z=this.add;return z.SoCo!=null||z.GdFl!=null||z.PtFl!=null};T.prototype._y=function(){var z=this.add.lmfx;
if(z==null)return;var r=["GrFl","patternFill"];for(var k=0;k<r.length;k++){var L=K.qo[K.order.indexOf(r[k])],E=z[L].v;
if(E.length==0)continue;for(var F=0;F<E.length;F++){var U=E[F].v;if(U.enab.v&&(U.Algn==null||!U.Algn.v))this.c.OX=!0}}};
T.prototype._V=function(){var z=this.k;if(this._N())z=this._F();if(!o.KH)return z.ZK();if(this.c.za==null||this.c._Q||o.KH!=this.c.zx){if(this.c.za)this.c.za.delete();
this.c.za=new o.EM(z.Te().X,z.Te().z);this.c.za.set(z.ZK())}return this.c.za};T.prototype._O=function(z){var r=this.rect,k=this.buffer;
if(!o.KH){var L=this._Z(z,k,r);if(L){k=L.bT;r=L.rect}return k}if(this.c.jC!=null||o.KH!=this.c.zx){var L=this._Z(z,k,r);
if(L){k=L.bT;r=L.rect}var E=r;if(o.KH!=this.c.zx||this.c.JT==null||this.c.JT.X!=E.X||this.c.JT.z!=E.z){if(this.c.JT)this.c.JT.delete();
this.c.JT=new o.Ph(E.X,E.z);this.c.JT.set(k)}else{var F=this.c.jC.clone();F.offset(-r.x,-r.y);this.c.JT.set(k,F)}}return this.c.JT};
T.prototype.__=function(){var z=this.k;if(this._N())z=this._F();return z!=null&&z.isEnabled&&(z.GU()==0||z.GU()!=0&&!z.rect.z$())};
T.prototype._Z=function(z,r,k){if(this._Y()){var L=this.ZS(z);if(L.k&&L.k.isEnabled&&(!L.k.rect.z$()||L.k.color==0)){var E=this.add.SoLd.filterFX.v;
L.k.iN=E.filterMaskDensity?E.filterMaskDensity.v:255;L.k.YC=E.filterMaskFeather?E.filterMaskFeather.v:0;
var F=L.buffer,U=L.k.Zl(k);e.Jo(U);r=e.clone(r);e.M.Pv(F,L.rect,r,k,U,k,0,k,1);return{bT:r,rect:k}}}};
T.prototype.muk=function(){var z={XI:!1,Ml:!1,mJU:0,mJn:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)z.Ml=!0;
if(this._F()&&this._F().isEnabled)z.XI=!0;if(z.XI&&z.Ml){z.mJU=this._F().rect.x-this.add.vmsk._F().rect.x;
z.mJn=this._F().rect.y-this.add.vmsk._F().rect.y}return z};T.prototype._q=function(z){if(this.add.lsct==mG.ZQ)return;
var r=this,k=this._F()!=null&&this._F().Yp,L=this.add.vmsk!=null&&this.add.vmsk.Yp,E=this.muk(),F=JSON.stringify(E)!=this.c.LG||E.XI&&k||E.Ml&&L;
if(F){if(E.Ml){var U=this.add.vmsk._F();if(E.XI){this.k=this._F().Gw(U);this.c.Hs=new V(this.k.rect.x-this._F().rect.x,this.k.rect.y-this._F().rect.y)}else this.k=U}if(this.k)this.c._Q=!0;
if(this.k)this.c.Kr=new V(this.rect.x-this.k.rect.x,this.rect.y-this.k.rect.y);if(E.XI)this._F().Yp=!1;
if(E.Ml)this.add.vmsk.Yp=!1;this.N()}else{if(E.XI&&E.Ml){this.k.rect.x=this._F().rect.x+this.c.Hs.x;
this.k.rect.y=this._F().rect.y+this.c.Hs.y}}if(r._N()){this._o(z)}if(r._d()){var l;if(this.k)l=new V(this.rect.x-this.k.rect.x,this.rect.y-this.k.rect.y);
if(this.k&&this.k.isEnabled&&(this.c.Kr==null||!l.Jq(this.c.Kr))){this.c.Kr=l;this.N();this.c._Q=!0}}if(mm.get(r.add)!=null)this.c._Q=!0;
this.c.LG=JSON.stringify(E)};T.prototype._o=function(z){var r=this,k=r.add.vstk,L,E=r.add.vmsk?this.add.vmsk._F():null,U=!0;
if(E&&E.isEnabled&&E.GU()==0)L=E.Te().clone();else L=new Z(0,0,z.X,z.z);var F=r._F();if(F&&F.isEnabled&&F.GU()==0)L=L.Mk(r.k.Te());
if(k&&!k.fillEnabled.v)U=!1;var l=E&&k;if(k&&(!k.strokeEnabled.v||k.strokeStyleLineWidth.v.val==0))l=!1;
var G=e.$(L.Y()*4);if(U){if(r.add.SoCo)mK.ow(G,r.add.SoCo.Clr.v);if(r.add.GdFl)mK.ox(r.add.GdFl,G,L,z,null,E&&E.color==0?E.rect:null);
if(r.add.PtFl)mK.Mo(r.add.PtFl,G,L,z,r.add.fxrp)}if(E){var g=E.iN;if(l)E.iN=255;var P=e.$(L.Y());if(E.GU()!=0)e.set(P,Math.round(E.GU()));
if(E&&E.isEnabled){var J=E.Te(),x=E.ZK();if(J.Jq(L))e.JZ(x,P);else e.Jp(x,J,P,L)}if(r.add.SoCo&&U){e.JN(P,G,3)}else e.JF(P,L,G,L);
if(l)E.iN=g}r.buffer=G;r.rect=L;if(l){var a=K.qk.qf.indexOf(k.strokeStyleLineAlignment.v.strokeStyleLineAlignment),d=k.strokeStyleContent.v,t=K.qk.qe.indexOf(d.classID),m=this.add.vmsk._F(k);
if(r.rect.Jq(new Z(0,0,z.X,z.z)))r.rect=r.rect;else if(a!=0){var b=r.rect.MD(m.Te()),I=e.$(b.Y()*4);
e.Jb(r.buffer,r.rect,I,b);r.buffer=I;r.rect=b}var g=m.iN;m.iN=255;var v=m.Zl(r.rect);m.iN=g;if(m.color==255)e.Jo(v);
var W=e.$(r.rect.Y()*4);if(t==0)mK.ow(W,d.Clr.v);if(t==1)mK.ox(d,W,r.rect,z,null,E.color==0?E.rect:null);
if(t==2)mK.Mo(d,W,r.rect,z,r.add.fxrp);var B=k.strokeStyleOpacity.v.val/100;if(B!=1)e.Jk(v,B);e.JN(v,W,3);
if(m.color==255)a=2-a;if(a==0){e.M.Py("norm",W,r.rect,r.buffer,r.rect,r.rect,1);e.JF(P,r.rect,r.buffer,r.rect)}if(a==1){e.M.Py("norm",W,r.rect,r.buffer,r.rect,r.rect,1)}if(a==2){e.Jo(P);
e.M.Pv(W,r.rect,r.buffer,r.rect,P,L,255,r.rect,1,!1);e.Jo(P)}if(m.iN!=255){var n=e.clone(W);e.JV(n,4278190080,16777215);
e.M.Py("norm",n,r.rect,r.buffer,r.rect,r.rect,1-m.iN/255)}g=E.iN;E.iN=255;this.dj=E.Zl(r.rect);E.iN=g}this.N()};
T.prototype._r=function(z,r){var k=this,L=k.add.SoLd.Idnt.v,E=k.add.SoLd,F=z.ql(L,E.Crop?E.Crop.v:null);
if(F==null)return;var U=F.kN;E.Sz.v.Wdth.v=U[1].X;E.Sz.v.Hght.v=U[1].z;var l=E.warp.v,G=A.s.No(E.nonAffineTransform),g=e.GE.Gx(G,U[1]);
if(l&&!e.ut.up(l)){var P=e.b.GF(e.ut.uH(l)),J=P.x,x=P.y,a=1/P.X,d=1/P.z;g=e.GE.Gx(G);g=e.GE.Gw(g,[a,0,-J*a,0,d,-x*d,0,0])}var t=A.s.NC(U,r,g,l);
if(t==null){k.buffer=e.$();k.rect=new Z}else if(k._Y()){var m=k.ZS(z);m.buffer=t.buffer;m.rect=t.rect.clone();
this._L(z,r)}else{k.buffer=t.buffer;k.rect=t.rect}k._q(z);k.N();z.N()};T.prototype._L=function(z,r){if(r==null)r=!1;
var k=this.ZS(z),L=this.add.SoLd.filterFX.v,E=mJ.mxE(L),F=new Z(0,0,z.X,z.z),U=k.rect.MD(F),l=k.rect.clone();
l.aD(E.x,E.y);var G={buffer:null,rect:U.Mk(l)};G.buffer=e.$(G.rect.Y()*4);e.Jb(k.buffer,k.rect,G.buffer,G.rect);
if(L.enab.v&&r==!1){var g=L.filterFXList.v;for(var P=0;P<g.length;P++){var J=g[P].v;if(J.enab.v==!1)continue;
var x=e.v.GU(J.FrgC.v),a=e.v.GU(J.BckC.v),d=h.xA(J.filterID.v),t=J.Fltr?J.Fltr.v:null;if(mm.Od[d]!=null){var m=mm.Od[d],b=mm.OY(m,t),I=mm.OI(m,b);
mm.Os(I,G.buffer,G.buffer)}else G=mJ.Os(d,G,t,x,a)}}this.rect=G.rect;this.buffer=G.buffer;this.Pu();
this.N();z.N()};T.prototype._U=function(z,r,k){this.fq=this._v(z,r,k)};T.prototype._n=function(z,r){var k=this._v(z,r,!0);
if(k==null)return null;var L={xO:k.B,gw:k.fC,rect:k.iO};if(L.xO==1||L.xO==3){var E=L.rect,F=e.$(E.X*E.z*4);
e.JN(L.gw,F,0);e.JN(L.gw,F,1);e.JN(L.gw,F,2);e.J$(z.i.channel,z.i.rect,F,E);L.gw=F}return L};T.prototype._v=function(z,r,k){var L,E,F,U,l,G,g;
if(this.B<=0){var P=e.$(this.rect.X*this.rect.z);e.Jw(this.buffer,P,3);L=e.MH.Mb(r,{channel:P,rect:this.rect},"intersection");
if(L==null)return null;var J=e.PM(L.channel,L.rect);U=L.rect.clone();l=this.rect.clone();E=e.$(U.X*U.z*4);
e.Jb(this.buffer,l,E,U);e.JN(L.channel,E,3);F=e.clone(this.buffer);if(!k){var x=e.clone(r.channel);e.Jo(x);
e.JF(x,r.rect,F,l)}G=e.clone(this.buffer);g=this.rect.clone()}if(this.B==1||this.B==3){var a=this.B==1?this._F():this.ZS(z).k;
U=r.rect.clone();l=a.rect.clone();E=a.ZE(U);var F=e.clone(a.channel);if(!k)e.M.PH(a.color==255?e.Pa(U.X*U.z):e.PB(U.X*U.z),U,F,l,r.channel,U,1);
G=e.clone(a.channel);g=a.rect.clone()}return{B:this.B,fC:E,iO:U,km:F,e_:l,A$:G,dk:g}};T.prototype._X=function(z,r){var k=this.fq;
if(k.B==0){this.rect=k.dk;this.buffer=k.A$;this.N()}if(k.B==1||k.B==3){var L=k.B==1?this._F():this.ZS(z).k;
L.channel=k.A$;L.rect=k.dk;if(this.B==1){L.Yp=!0;this._q(z)}if(this.B==3)this.N()}this.fq=r};T.prototype._I=function(z,r){var k=this.fq;
if(k==null)return!1;if(k.B!=this.B)return!1;if(!r.rect.Jq(k.iO))return!1;var L=k.e_.MD(k.iO);if(k.B<=0){if(!L.Jq(this.rect))return!1;
var E=e.$(k.fC.length>>2);e.Jw(k.fC,E,3);if(!e.Jq(r.channel,E))return!1;var F=e.$(L.X*L.z*4);e.Jb(k.km,k.e_,F,L);
e.M.Py("norm",k.fC,k.iO,F,L,L,1);return e.Jq(F,this.buffer)}if(k.B==1||k.B==3){var U=k.B==1?this._F():this.ZS(z).k;
if(!L.Jq(U.rect))return!1;var l=e.$(L.Y());e.set(l,U.color);e.Jp(k.km,k.e_,l,L);e.M.PH(k.fC,k.iO,l,L,r.channel,L,1);
return e.Jq(l,U.channel)}};T.prototype._s=function(z,r,k,L){var E=this.fq;E.iO.offset(r,k);var F=E.e_.MD(E.iO);
if(E.B<=0){var U=e.$(F.Y()*4);e.Jb(E.km,E.e_,U,F);e.M.Py("norm",E.fC,E.iO,U,F,F,1);this.buffer=U;this.rect=F;
this.N()}else{var l=this.B==1?this._F():this.ZS(z).k,G=e.$(F.Y());e.set(G,l.color);e.Jp(E.km,E.e_,G,F);
e.M.PH(E.fC,E.iO,G,F,L.channel,F,1);l.channel=G;l.rect=F.clone();if(this.B==1){l.Yp=!0;this._q(z)}if(this.B==3)this.N()}};
T.prototype._t=function(){var z=[-1,0,1,2];if(this.k)z.push(-2);if(this.Yq)z.push(-3);return z};T.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
T.prototype._p=function(z){this.add.luni=this.name=z};T.prototype._$=function(){return(this.Y_&1<<1)==0};
T.prototype._d=function(){return(this.Y_&1<<4)==0};T.prototype._H=function(){return(this.Y_&1<<5)!=0};
T.prototype._b=function(z){var r=this.add.lspf;return r==null?!1:(r>>z&1)!=0};T.prototype._i=function(z){if(z&&!this._$())this.Y_-=2;
if(!z&&this._$())this.Y_+=2};T.prototype._D=function(){var z=this.add.lmfx;if(z==null)return!1;for(var r in z){if(r=="masterFXSwitch")continue;
if(r=="Scl")continue;if(r=="classID")continue;if(z[r].v.length>0)return!0}return!1};T.prototype._Y=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
T.prototype._k=function(){var z=this.add.lmfx;if(z==null)return!1;if(!z.masterFXSwitch.v)return!1;for(var r in z){if(r=="masterFXSwitch")continue;
if(r=="Scl")continue;if(r=="classID")continue;var k=z[r].v;for(var L=0;L<k.length;L++)if(k[L].v.enab.v)return!0}return!1};
T.prototype._j=function(z,r,k){var L=new Z,E=this._g(z,k);if(E.indexOf(0)!=-1)L=L.MD(this.rect);if(E.indexOf(1)!=-1)L=L.MD(this._F().Te());
if(E.indexOf(2)!=-1){var F=this.add.vmsk;L=L.MD(e.f.um(F.A,F.L.length!=0&&r?F.L:null))}if(E.indexOf(3)!=-1)L=L.MD(this.ZS(z).k.Te());
if(E.length==0&&this._N())L=new Z(0,0,z.X,z.z);return L};T.prototype._f=function(){var z=this.add.artb.artboardRect.v,r=z.Btom.v,k=z.Left.v,L=z.Rght.v,top=z.Top.v;
return new Z(k,top,L-k,r-top)};T.prototype._e=function(z){var r={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
r.Btom.v=z.y+z.z;r.Left.v=z.x;r.Rght.v=z.x+z.X;r.Top.v=z.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=r};T.prototype._g=function(z,r){var k=[],L=this;if(L.B<=0||r){if(L._d())if(!this.rect.z$())k.push(0);
if(L._F()&&!L._F().rect.z$())if(L._F().YK||r)k.push(1);if(L.add.vmsk)if(L.add.vmsk.YK||r)k.push(2);if(L._Y()&&L.ZS(z).k&&!L.ZS(z).k.rect.z$())k.push(3)}else if(L.B==1){k.push(1);
if(L._F().YK&&!L._F().rect.z$()){if(L._d())if(!this.rect.z$())k.push(0);if(L.add.vmsk)if(L.add.vmsk.YK)k.push(2)}}else if(L.B==3&&!L.ZS(z).k.rect.z$())k.push(3);
if(L.add.artb&&k.indexOf(0)==-1)k.push(0);k.sort();return k};T.prototype._F=function(){var z=this;return z.Yq?z.Yq:z.add.vmsk&&z.add.vmsk.isEnabled?null:z.k};
T.prototype.ZS=function(z){var r=this.add.SoLd.placed.v,k=z.add.FEid;if(k==null)return null;for(var L=0;
L<k.length;L++)if(k[L].id==r)return k[L];return null};T.prototype.extend=function(z){e.mad(this,z)};
T.prototype.Zm=function(z,r){var k=z.clone();if(this._k()){var L=this.add.lmfx,E=r.root.Cy(r.a.indexOf(this)),F=L.gradientFillMulti.v,U=!1;
for(var l=0;l<F.length;l++)if(F[l].v.enab.v&&F[l].v.Algn.v)U=!0;if(U)k=k.MD(E.Te(r,!1));var G=mK.mxj(this,r);
k.offset(G.x,G.y);k.X+=G.X;k.z+=G.z}return k};T.prototype.Pu=function(){if(this._d())e.PK(this);var z=this._F();
if(z)z.Pu()};T.prototype.clone=function(){var z=new T;z.rect=this.rect.clone();z.buffer=e.clone(this.buffer);
z.DD=this.DD;z.opacity=this.opacity;z.YO=this.YO;z.Y_=this.Y_;z.name=this.name;if(this.k)z.k=this.k.clone();
if(this.Yq)z.Yq=this.Yq.clone();for(var r in this.add)z.add[r]=zv.clone(r,this.add[r]);return z};T.prototype.ZJ=function(z){var r=this;
if(r.add.TySh)delete r.add.TySh;if(r.add.SoLd){var k=this._Z(z,this.buffer,this.rect);if(k){this.buffer=k.bT;
this.rect=k.rect;this.N()}delete r.add.SoLd}if(r.add.SoCo||r.add.GdFl||r.add.PtFl){if(r.add.SoCo)delete r.add.SoCo;
if(r.add.GdFl)delete r.add.GdFl;if(r.add.PtFl)delete r.add.PtFl;if(r.add.vmsk){console.log(r.Yq,r.k);
delete r.add.vmsk;if(r.Yq==null&&r.k)delete r.k;else if(r.Yq!=null&&r.k!=null){r.k=r.Yq;delete r.Yq}}}if(!r._w()&&mm.get(r.add)==null&&!this._d())this.Y_-=16};
T.prototype.ZP=function(z){var r=255,k=0;if(z==2){var L=this.add.SoLd.filterFX.v;if(L.filterMaskDensity)r=L.filterMaskDensity.v;
if(L.filterMaskFeather)k=L.filterMaskFeather.v}else{var E=z==0?this._F():this.add.vmsk;r=E.iN;k=E.YC}return{_W:z,ct:r,c$:k}};
T.prototype.Zz=function(z){if(z._W==2){var r=this.add.SoLd.filterFX.v;if(z.ct==255)delete r.filterMaskDensity;
else r.filterMaskDensity={t:"long",v:z.ct};if(z.c$==0)delete r.filterMaskFeather;else r.filterMaskFeather={t:"doub",v:z.c$};
this.N()}else{var k=z._W==0?this._F():this.add.vmsk;k.iN=z.ct;k.YC=z.c$;k.Yp=!0}};var mG={ZG:0,ZW:1,ZM:2,ZQ:3};
T.Zu=function(){this.color=255;this.YK=!0;this.isEnabled=!0;this.Yo=!1;this.iN=255;this.YC=0;this.rect=new Z;
this.channel=e.$(0);this.mJt=null;this.mJp=null;this.Yp=!0};T.Zu.prototype.Gw=function(z){if(!this.isEnabled)return z;
var r=new T.Zu;r.color=Math.round(this.GU()*z.GU()/255);if(this.GU()==0&&z.GU()==0)r.rect=this.Te().Mk(z.Te());
else if(z.GU()==0)r.rect=z.Te().clone();else if(this.GU()==0)r.rect=this.Te().clone();else r.rect=this.Te().MD(z.Te());
r.channel=this.Zl(r.rect);r.iN=255;r.YC=0;var k=z.Zl(r.rect);e.mSz(k,r.rect,r.channel,r.rect);return r};
T.Zu.prototype.Te=function(){if(this.YC==0)return this.rect;var z=Math.ceil(this.YC*2.2),r=this.rect.clone();
r.aD(z,z);return r};T.Zu.prototype.ZK=function(){if(this.YC==0&&this.iN==255)return this.channel;if(this.YC==0){var z=e.clone(this.channel);
e.Jo(z);e.Jk(z,this.iN/255);e.Jo(z);return z}var r=this.Te(),k=this.ZE(r),z=e.$(r.Y());e.blur.Pk(k,z,r,this.YC);
if(this.iN!=255){e.Jo(z);e.Jk(z,this.iN/255);e.Jo(z)}return z};T.Zu.prototype.GU=function(){return Math.round(255-(255-this.color)*(this.iN/255))};
T.Zu.prototype.extend=function(z){e.extend(this,z,this.color)};T.Zu.prototype.Pu=function(){if(this.color==255)e.Jo(this.channel);
e.Pu(this);if(this.color==255)e.Jo(this.channel)};T.Zu.prototype.clone=function(){var z=new T.Zu;z.color=this.color;
z.YK=this.YK;z.isEnabled=this.isEnabled;z.Yo=this.Yo;z.iN=this.iN;z.YC=this.YC;z.rect=this.rect.clone();
z.channel=e.clone(this.channel);return z};T.Zu.prototype.ZE=function(z,r){if(r==null)r=e.$(z.Y());e.set(r,this.color);
e.Jp(this.channel,this.rect,r,z);return r};T.Zu.prototype.Zl=function(z,r){var k=this.Te(),L=this.ZK();
if(r==null)r=e.$(z.Y());e.set(r,this.GU());e.Jp(L,k,r,z);return r};T.Zx=function(){this.YK=!0;this.isEnabled=!0;
this.iN=255;this.YC=0;this.A=[{type:6},{type:8,all:0}];this.Yq=null;this.Yp=!0;this.L=[];this.Fg=[]};
T.Zx.prototype.offset=function(z,r){this.Yq=this._F();e.f.Qk(this.A,new zT(1,0,0,1,z,r));this.Yq.rect.offset(z,r)};
T.Zx.prototype._F=function(z){if(!this.Yp&&this.Yq&&z==null){this.Yq.isEnabled=this.isEnabled;return this.Yq}var r=e.f.um(this.A);
if(z){var k=Math.ceil(z.strokeStyleLineWidth.v.val);r.aD(k,k)}r=e.b.MS(r);var L=new T.Zu;L.color=e.f.uy(this.A)?0:255;
L.YK=this.YK;L.isEnabled=this.isEnabled;L.Yo=!0;L.rect=r;L.iN=this.iN;L.YC=this.YC;L.channel=e.$(L.rect.Y());
if(!r.z$())e.f.maL(this.A,L.channel,L.rect,z);if(z==null){this.Yq=L;this.Yp=!1}return L};T.Zx.prototype.clone=function(){var z=new T.Zx;
z.YK=this.YK;z.isEnabled=this.isEnabled;z.iN=this.iN;z.YC=this.YC;z.A=T.Zx.Za(this.A);z.L=this.L.slice(0);
z.Fg=this.Fg.slice(0);return z};T.Zx.prototype.concat=function(z){var r=z.A.slice(2);if(r.length==0)return;
r[0].bF=3;this.A=this.A.concat(r)};T.Zx.Za=function(z){var r=[];for(var k=0;k<z.length;k++){var L=z[k];
if(L.type>5||L.type==0||L.type==3)r.push(JSON.parse(JSON.stringify(L)));else r.push({type:L.type,im:L.im.clone(),W:L.W.clone(),iP:L.iP.clone()})}return r};
T.Zx.mKy=function(z,r,k){if(z.length!=r.length)return!1;for(var L=2;L<z.length;L++){var E=z[L],F=r[L];
if(E.type!=F.type)return!1;if(E.type==0||E.type==3){if(E.length!=F.length||!k&&E.bF!=F.bF)return!1}else if(!E.im.Jq(F.im)||!E.W.Jq(F.W)||!E.iP.Jq(F.iP))return!1}return!0};
T.Zx.prototype.muz=function(){var z=this.A;for(var r=3;r<z.length;r++)if(z[r].type==0||z[r].type==3)z[r].bF=-1};
T.ZA=function(){this.type=null;this.Yh=2;this.ic=null;this.YT="";this.YR="";this.Yw="";this.open=0;this.raw=null;
this.kN=null};T.ZA.prototype.clone=function(){var z=new T.ZA;z.type=this.type;z.Yh=this.Yh;z.ic=this.ic;
z.YT=this.YT;z.YR=this.YR;z.Yw=this.Yw;z.open=this.open;z.raw=new Uint8Array(this.raw.buffer.slice(0));
return z};T.Zh="0";T.ZT="2";T.ZR="2.5";T.Zw="3";T.ZN="4";T.Zy="5";T.ZV="6";T.ZO="7";T.Z_="8";T.ZZ="9";
T.ZC="10";T.Zq="11";T.Zo="12";T.Zr="13";T.ZL="14";T.ZU="15";T.Zn="16";T.Zv="17";T.ZX="18";T.ZI="19";
T.Zs="20";T.Zt="21";T.Zp="21.5";T.Z$="22";T.Zd="22.5";T.ZH="23";T.mug="24";T.Zi="25";T.ZD="26";T.ZY="27";
T.Zk="28";T.Zj="29";T.Zf="30";T.Ze="31";T.Zg="32";T.ZF="33";T.CS="34";T.Cm="35";T.CJ="36";T.CP="36.5";
T.Cz="37";T.CG="38";T.CM="39";T.CQ="40";T.Cu="41";T.CK="50";T.CE="51";T.Cl="52";T.Cx="53";T.Ca="54";
T.Cc="54.5";T.CB="54.6";T.CA="54.7";T.Ch="55";T.CT="56";T.CR="57";T.Cw="58";function mW(){this.depth=0;
this.index=-1;this.C=null;this.mJ$=null;this.dY=-1;this.children=null;this.parent=null;this.aq=null}mW.prototype.mJF=function(){var z=0;
if(this.C._w()){for(var r=0;r<this.children.length;r++)z+=this.children[r].mJF()}else if(this.C.buffer)z+=this.C.buffer.length;
return z};mW.prototype.Cy=function(z){var r=this.aq[z];return this.aq[z]};mW.prototype.CV=function(z,r){var k=this.C;
if(!k._$()||k._b(2)||k._b(31))return null;if(k.__()){var L=k.k.rect.ak(z);if(!L&&k.k.color==0)return}if(k._w()){for(var E=0;
E<this.children.length;E++){var F=this.children[E];F.CV(z,r)}}else if(k.rect.ak(z))r.push(this.index)};
mW.prototype.Pl=function(z){var r=this.C;if(!r._$()||r._b(2)||r._b(31))return null;if(r.__()){if(r.k.rect.ab(z)){if(!e.Pl(z,r.k.channel,r.k.rect))return null}else if(r.k.color==0)return null}if(r._w()){for(var k=this.children.length-1;
k>=0;k--){var L=this.children[k],E=L.Pl(z);if(E)return E}return null}else if(r.add.TySh&&r.rect.ab(z))return this;
else if(e.mxd(z,r.buffer,r.rect))return this;return null};mW.prototype.CO=function(z){var r=this.C;if(!r._$())return null;
var k=r.add.vmsk;if(k&&k.isEnabled){var L=e.f.Pl(k.A,z).HD;if(L!=-1)return{mSE:this,jZ:L}}if(r._w()){for(var E=this.children.length-1;
E>=0;E--){var F=this.children[E],U=F.CO(z);if(U)return U}return null}return null};mW.prototype.C_=function(z,r){z.push(this.index);
if(this.C._w()){z.push(this.dY);if(r)if(this.C.B==1&&this.C._F().YK==!1)return;for(var k=0;k<this.children.length;
k++)this.children[k].C_(z)}};mW.prototype.Qa=function(z,r,k){var L=this.C,E,F;if(L._w()&&L.add.artb!=null)r=L._f();
if(r.X>r.z){E=k;F=Math.floor(k*(r.z/r.X))}else{E=Math.floor(k*(r.X/r.z));F=k}var U=F;if(L._N()&&L.add.vmsk){var l=L.rect.clone(),G,g;
if(l.z$())l=new Z(0,0,20,20);if(l.X>l.z){G=k;g=Math.floor(k*(l.z/l.X))}else{G=Math.floor(k*(l.X/l.z));
g=k}if(G*g==0)G=g=16;e.Qr.QX(L.J_,G,g,l,L.buffer,L.rect,!1);e.Qr.mxR(L.J_,G,g);U=g}else if(L.add.SoCo){U=Math.max(16,Math.min(E,F));
e.Qr.mxw(L.J_,U,U,L.add.SoCo)}else if(L.add.GdFl){e.Qr.mGF(L.J_,U,U,L.add.GdFl)}else if(L.add.PtFl){e.Qr.mKv(L.J_,U,U,L.add.PtFl,z)}else if(L.add.TySh){e.Qr.mxy(L.J_,U,U,L.add.TySh)}else if(mm.get(L.add)!=null){e.Qr.mKn(L.J_,U,U,L.add)}else if(L.add.SoLd){e.Qr.QX(L.J_,E,F,r,L.buffer,L.rect,!1);
e.Qr.mKN(L.J_,E,F,L.add.SoLd)}else if(L._w()){U=16}else{if(L._d())e.Qr.QX(L.J_,E,F,r,L.buffer,L.rect,!1);
else{e.Qr.mMs(L.J_,U,U)}}var P=L._F();if(P)e.Qr.QU(L.An,E,F,r,P);if(L._Y()&&L.ZS(z)&&L.ZS(z).k){var J=L.ZS(z).k;
e.Qr.QU(L.df,E,F,r,J)}if(L.add.vmsk){e.Qr.QU(L.sr,E,F,r,L.add.vmsk._F(),!0)}if(L.add.vmsk||P)U=Math.max(U,F);
L.rj=Math.max(U,16);if(L._w()&&L.add.lsct==mG.ZW)for(var x=0;x<this.children.length;x++)this.children[x].Qa(z,r,k)};
mW.prototype.CZ=function(z,r,k,L){this.depth=k;var E=z[r];if(L==null)L=[];this.aq=L;if(E.add.lsct==mG.ZQ){this.mJ$=E;
this.dY=r-1;this.children=[];var F=r+1;while(!0){var U=z[F];if(U==null)console.log(F,z.length);if(U.add.lsct==mG.ZW||U.add.lsct==mG.ZM){if(E.add.lyid==U.add.lyid)E.add.lyid+=16777215;
this.C=U;this.index=F-1;L[this.index]=this;break}var l=new mW;l.parent=this;F=l.CZ(z,F,k+1,L);this.children.push(l)}return F+1}else{this.C=E;
this.index=r-1;L[this.index]=this;return r+1}};mW.prototype.CC=function(z,r,k){var L=this.Cy(k),E=z;
while(L.parent!=null){E=L.C.Zm(E,r);L=L.parent}return E};mW.prototype.Te=function(z,r){var k=this.C,L=new Z;
if(!k._$())return L;var E=k._F();if(k._w())for(var F=0;F<this.children.length;F++){var U=this.children[F].Te(z,!0);
L=L.MD(U)}else if(mm.get(k.add)!=null)L=k.__()&&k.k.color==0?k.k.Te().clone():new Z(0,0,z.X,z.z);else if(k._N()&&k.add.vmsk&&k.add.vmsk.isEnabled&&k.add.vstk){var l=k.add.vmsk,G=k.add.vstk,g=Math.ceil(l.YC*2.2),P=G.strokeEnabled.v?Math.ceil(G.strokeStyleLineWidth.v.val):0,J=K.qk.qf.indexOf(G.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(J==0)P=0;else if(J==1)P/=2;L=e.b.MS(e.f.um(l.A));L.aD(Math.ceil(g+P),Math.ceil(g+P))}else if(k._N()&&E&&E.isEnabled&&E.GU()!=0)L=new Z(0,0,z.X,z.z);
else L=k._j(z,!1,!0);return r?k.Zm(L,z):L};mW.prototype.Cq=function(z,r,k,L,E){var F=this.C,U=mK.yK(F);
if(!F._$())return;if(F.opacity==255){this.Co(z,r,k,L,E);return}var l=e.clone(z);this.Co(l,r,k,L,E);e.M.Pv(l,r,z,r,null,null,0,k,F.opacity/255,F.DD=="diss")};
mW.prototype.Co=function(z,r,k,L,E){var F=this.C,U=mK.yK(F),l=mm.get(F.add)!=null,J,d;if(F._w()&&F.DD=="pass"&&!F.__()&&!(E.length>0||U.fill!=1||F._k())){this.Cr(z,r,k,L);
return}var G=F._w()&&F.DD=="pass"&&(E.length>0||U.fill!=1||F._k()),g=F.rect,P=F.buffer;if(F._w()){g=this.Te(L,!1);
var x=e.$(g.Y()*4);J=e.$(g.Y());this.Cr(x,g,k,L);e.Jw(x,J,3)}else if(l){g=r.clone();J=e.$(g.Y());e.set(J,255)}else{g=F.rect;
J=e.$(g.Y());e.Jw(P,J,3)}if(F.__()){var a=F.k.Zl(g);e.Jf(a,J)}if(F._k())d=mK.oW(F.add.lmfx,F.add.fxrp,J,g,L);
if(F._k())mK.oc(F.add.lmfx,d,g,z,r,k);if(F._w()){P=e.$(g.Y()*4);if(F.DD=="pass")e.Jb(z,r,P,g);if(G){var x=e.$(g.Y()*4);
this.Cr(x,g,k,L);var t=e.$(g.Y());e.Jw(x,t,3);e.JF(t,g,P,g)}this.Cr(P,g,k,L)}if(l){P=e.clone(z);e.JV(P,4278190080,16777215);
var m=mm.get(F.add),b=mm.OI(m,mm.Ok(F.add));mm.Os(b,P,P)}var I=e.clone(P);e.JV(I,4278190080,16777215);
for(var v=0;v<E.length;v++)E[v].Cq(I,g,k,L,[]);var W=e.$(g.Y()*4);e.Jb(z,r,W,g);if(l)U.bR=!0;e.M.Py(F.DD=="pass"?"norm":F.DD,I,g,W,g,k,1,U);
if(F._k()){var B=F.c.ja.type.FrFX,n=null;if(B.length!=0){n=B[0];for(var v=0;v<B.length;v++)if(B[v].jH.X>n.jH.X)n=B[v];
var j=e.$(n.jH.X*n.jH.z*4);e.Jb(z,r,j,n.jH)}mK.oB(F.add.lmfx,d,g,z,r,k,W,j,n?n.jH:null)}e.M.Pv(W,g,z,r,J,g,0,k,1,F.DD=="diss")};
mW.prototype.Cr=function(z,r,k,L){var E=this.children;for(var F=0;F<E.length;F++){var U=[];for(var l=F+1;
l<E.length;l++)if(E[l].C.YO)U.push(E[l]);else break;E[F].Cq(z,r,k,L,U);F+=U.length}};mW.OQ={delete:function(z){if(z&&z.X)z.delete()},$:function(z,r){return o.KH?new o.Ph(z,r):e.$(z*r*4)},CL:function(z,r,k){if(o.KH){if(z==null||z.X!=r||z.z!=k){mW.OQ.delete(z);
return new o.Ph(r,k)}}else{if(z==null||!(z instanceof Uint8Array)||z.length!=r*k*4){mW.OQ.delete(z);
return e.$(r*k*4)}}return z},Jp:function(z,r,k,L,E){(o.KH?o.Ji:e.Jb)(z,r,k,L,E)},Pv:function(z,r,k,L,E,F,U,l,G,g){(o.KH?o.M.En:e.M.Pv)(z,r,k,L,E,F,U,l,G,g)},Py:function(z,r,k,L,E,F,U,l){if(o.KH)o.M.EU(z,r,k,L,E,F,U,l);
else e.M.Py(z,r,k,L,E,F,U,l)},JV:function(z,r,k){if(o.KH){o.Kg(z);o.Jy(r,k)}else e.JV(z,r,k)},mP_:function(z,r,k,L,E){if(o.KH){o.M.En(null,null,L,E,z,r,k,E,1,!1)}else{if(k==255)e.JF(z,r,L,E);
else{var F=e.$(r.Y());e.Jd(L,E,F,r);e.Jf(z,F);e.JV(L,0,16777215);e.J$(F,r,L,E)}}},PS:function(z,r,k,L){if(o.KH)o.M.En(null,null,k,L,z,r,0,L,1,!1);
else e.PS(z,r,k,L)}};mW.prototype.Cn=function(z,r,k,L,E,F){if(!this.C._w()&&this.index>F){return}var U=this.C,l=mK.yK(U),G=mW.OQ,g=U._N()?U._F():U.k;
if(!U._$())return;if(U.__()&&g.rect.z$()){return}if(U.add.vstk==null&&this.Te(L,!1).z$()){return}var P=this.Te(L,!0).Mk(k);
if(!r.Jq(k)&&!k.ak(P))return;if(U._w()&&U.add.artb)k=k.Mk(U._f());var J=mW.Cv(U,E);if(!J){this.CX(z,r,k,L,E,F);
return}U.c.xd=G.CL(U.c.xd,P.X,P.z);G.Jp(z,r,U.c.xd,P,k);this.CX(U.c.xd,P,k,L,E,F);G.Pv(U.c.xd,P,z,r,null,null,0,k,U.opacity/255,U.DD=="diss")};
mW.Cv=function(z,r){return z.opacity!=255&&(r.length!=0||z._w()||z._k())};mW.prototype.CX=function(z,r,k,L,E,F){var U=this.C,l=mK.yK(U),G=mm.get(U.add)!=null,g=mW.OQ,P=mW.Cv(U,E),J=P?1:U.opacity/255,x=U._N()?U._F():U.k,a=U._w()&&U.DD=="pass"&&!(E.length>0||l.fill!=1||U._k()),d=!U._w()&&!G&&!U._k()&&E.length==0,t=G&&!U._k()&&E.length==0,W=null,B=null,n=null,M;
if(a||d||t){var m=z,b=r;if(U.__()){b=this.Te(L,!1);m=U.c.xL=g.CL(U.c.xL,b.X,b.z);g.Jp(z,r,U.c.xL,b)}if(a)this.Cs(m,b,k,L,F);
if(d)g.Py(U.DD,U._O(L),U.rect,m,b,k,J,l);if(t){var I=U.__()&&x.GU()==0?x.Te().clone():b.clone();U.c.zP=this.CI(m,b,U.c.zP,I,U.add);
l.bR=!0;g.Py(U.DD,U.c.zP,I,m,b,k,J,l)}if(U.__())g.Pv(m,b,z,r,U._V(),x.Te(),x.GU(),k,1,U.DD=="diss");
U.c._T();return}var v=U._w()&&U.DD=="pass"&&(E.length>0||l.fill!=1||U._k()),I=U.rect;if(U._w()){I=this.Te(L,!1);
n=U.c.zP=g.CL(U.c.zP,I.X,I.z);g.JV(n,0);this.Cs(n,I,I,L,F);B=g.CL(U.c.uN,I.X,I.z);g.Jp(n,I,B,I)}else if(G){I=U.__()&&x.GU()==0?x.Te().clone():r.clone();
B=g.CL(U.c.uN,I.X,I.z);g.JV(B,4294967295)}else{I=U.rect;W=U._O(L);B=g.CL(U.c.uN,I.X,I.z);g.Jp(W,I,B,I)}U.c.uN=B;
if(U.__())g.mP_(U._V(),x.Te(),x.GU(),B,I);if(U._k())if(U.c.jC||U.c.OX||U.c.zx!=o.KH||U.c._Q||U._w()){var j=B;
if(o.KH){j=e.$(I.X*I.z*4);B.get(j)}var p=e.$(I.X*I.z);e.Jw(j,p,3);if(U.c.OX||U.c.zx!=o.KH||!e.Jq(p,U.c.pM)){var X=null;
if(U._N()&&U.add.vmsk&&U.add.vmsk.isEnabled&&U.add.vmsk._F().color==0)X=U.add.vmsk._F().rect;mK.mam(U.c.ja,p,I,U.add.lmfx,U.add.fxrp,L,X);
U.c.pM=e.clone(p)}}if(U._k())mK.oc(U.add.lmfx,U.c.ja,I,z,r,k);if(U._w()){W=g.CL(U.c.xL,I.X,I.z);g.JV(W,0);
if(U.DD=="pass")g.Jp(z,r,W,I);if(v)g.PS(n,I,W,I);this.Cs(W,I,k,L,F);U.c.xL=W}if(G){W=U.c.xL=this.CI(z,r,U.c.xL,I,U.add)}if(U._w()||G)M=W;
else{M=g.CL(U.c.xL,I.X,I.z);g.Jp(W,I,M,I,k);U.c.xL=M}g.JV(M,4278190080,16777215);for(var H=0;H<E.length;
H++)E[H].Cn(M,I,k,L,[],F);var c=U.c.li=g.CL(U.c.li,I.X,I.z);g.Jp(z,r,c,I,k);if(G)l.bR=!0;g.Py(U.DD=="pass"?"norm":U.DD,M,I,c,I,k,1,l);
if(U._k()){var S=U.c.ja.type.FrFX,w=null;if(S.length!=0){w=S[0];for(var H=0;H<S.length;H++)if(S[H].jH.X>w.jH.X)w=S[H];
U.c.$Z=g.CL(U.c.$Z,w.jH.X,w.jH.z);g.Jp(z,r,U.c.$Z,w.jH,k);U.c.jA=g.CL(U.c.jA,w.jH.X,w.jH.z)}mK.oB(U.add.lmfx,U.c.ja,I,z,r,k,c,U.c.$Z,U.c.jA,w?w.jH:null)}if(!o.KH){var R=e.$(I.Y());
e.Jw(B,R,3);B=R}g.Pv(c,I,z,r,B,I,0,k,1,U.DD=="diss");U.c._T()};mW.prototype.CI=function(z,r,k,L,E){var F=mW.OQ;
k=F.CL(k,L.X,L.z);F.Jp(z,r,k,L);var U=mm.get(E),l=mm.OI(U,mm.Ok(E));if(l!=null){if(o.KH){var G=L.clone();
G.x=G.y=0;mm.mEF(l,k,G)}else mm.Os(l,k,k)}return k};mW.prototype.Cs=function(z,r,k,L,E){var F=this.children;
for(var U=0;U<F.length;U++){var l=[];for(var G=U+1;G<F.length;G++)if(F[G].C.YO)l.push(F[G]);else break;
F[U].Cn(z,r,k,L,l,E);U+=l.length}};function mM(z){this.name=z;this.YL=-1;this.j_=null;this.aC=null;this.cX=null;
this.JO=null;this.X=0;this.z=0;this.a=[];this.Yv={};this.add={};this.buffer=null;this.Y$=4;this.bx=72;
this.L=[];this.YI=[[],[]];this.Ys={classID:"CompList",list:{t:"VlLs",v:[]}};this.root=null;this.Bz=null;
this.ku=!1;this.dD=!1;this.jM=!1;this.fX=!1;this.eJ=!1;this.ep=!1;this.Fl=!1;this.Fx=!1;this.gB=!1;this.jC=null;
this.aZ=null;this.fq={};this.i=null;this.w={eX:[],mJg:[],eq:null,eS:null,gV:null,gb:null};this.history=[new mS([1,0],null)];
this.Fa=0;this.CN=0;this.t=new mQ(this)}mM.prototype.Ct=function(){var z=this.name;return z.slice(0,z.length-4).endsWith("-sketch")};
mM.prototype.Cp=function(z){this.add.artd={classID:"null",Cnt:{t:"long",v:z},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
mM.prototype.C$=function(z){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(z)==-1)this.add.FEid.push(z)};
mM.prototype.Cd=function(z){var r=this.add.FEid.indexOf(z);this.add.FEid.splice(r,1);if(this.add.FEid.length==0)delete this.add.FEid};
mM.prototype.N=function(z){if(z==null)z=new Z(0,0,this.X,this.z);if(this.jC==null)this.jC=z;else this.jC=this.jC.MD(z)};
mM.prototype.mzc=function(z){return this.jC!=null};mM.prototype.Cb=function(z){var r=this.a[z],k=this.root.Cy(z);
if(k==null)return!1;if(r._w()||k.parent.children.indexOf(k)==0)return!1;return!0};mM.mMg=function(z){if(z.add.lnk2)for(var r=0;
r<z.add.lnk2.length;r++){var k=z.add.lnk2[r].ic;z.add.lnk2[r].ic=mM.Ck()+k.slice(8);for(var L=0;L<z.a.length;
L++){var E=z.a[L].add.SoLd;if(E&&E.Idnt.v==k)E.Idnt.v=z.add.lnk2[r].ic}}};mM.prototype.CD=function(z){z.sort(function(P,J){return P-J});
var top=z[z.length-1],r=this.a.slice(0),k=this.L.slice(0),L=[],E=[];for(var F=0;F<this.a.length;F++){if(z.indexOf(F)!=-1)E.push(this.a[F]);
else L.push(this.a[F])}this.qy(E);this.L=[];var U=this.root.Te(this,!0);if(U.z$())U=new Z(0,0,100,100);
var l=new Z(-U.x,-U.y,this.X,this.z),G=new Uint8Array(zc.PSD.mn(this,0,0,[!0,!1]));this.qy(r);this.L=k;
var g=new mM(this.a[top].getName());zc.PSD.mv(G.buffer,g);delete g.add.artd;g.qy(g.a);mM.mMg(g);A.RK.Rx(g,U);
g.N();g.qx();g.Ce();return[g,U,L,top]};mM.prototype.CY=function(z,r){var k=this.CD(z),L=k[0],E=k[1],F=k[2],top=k[3],U=new Uint8Array(zc.PSD.mn(L));
if(r)F=this.a.slice(0);var l=this.Cf(U,L.name,E.x,E.y);if(top==this.a.length-1)F.push(l);else F.splice(r?top+1:top-z.length+1,0,l);
this.qy(F);this.L=[F.indexOf(l)]};mM.Ck=function(){var z="";for(var r=0;r<8;r++)z+=Math.floor(Math.random()*16).toString(16);
return z};mM.prototype.Cj=function(z){if(z==null)return;if(this.add.Patt==null)this.add.Patt=[];var r=this.add.Patt;
for(var k=0;k<r.length;k++)if(r[k].id==z.id)return;r.push(z)};mM.prototype.Cf=function(z,r,k,L){if(this.add.lnk2==null)this.add.lnk2=[];
var E=null;for(var F=0;F<this.add.lnk2.length;F++)if(e.Jq(z,this.add.lnk2[F].raw)){E=this.add.lnk2[F].ic;
break}var U=zc.mV(z.buffer);if(E==null){E=mM.Ck()+"-d71c-11e5-b1ae-a548a96e5f9f";var l=new T.ZA;l.ic=E;
l.Yw=U=="psd"?"8BIM":"    ";l.YT=r+"."+(U=="psd"?U:U+"\0");l.YR=U=="psd"?"8BPB":"    ";l.open=0;l.raw=z;
l.type="liFD";l.Yh=2;this.add.lnk2.push(l)}var G=this.ql(E),g=mM.Ck()+"-d71c-11e5-b1ae-a548a96e5f9f",P=this.qa();
P._p(r);if(G!=null){P.rect=G.kN[1].clone();P.rect.offset(k,L);P.buffer=e.$(P.rect.Y()*4);e.JZ(G.kN[0],P.buffer)}P.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:E},placed:{t:"TEXT",v:g},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:e.ut.$(P.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:P.rect.X},Hght:{t:"doub",v:P.rect.z}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var J=e.b.MJ(P.rect).O;P.add.SoLd.Trnf=A.s.Nr(J);P.add.SoLd.nonAffineTransform=A.s.Nr(J);return P};mM.prototype.Ce=function(z){if(z!=null){this.N();
this.qx(z);var r=this.buffer;if(o.KH)this.Bz.get(r);else r=r.slice(0);this.N();this.qx();return r}if(o.KH&&this.aZ){this.Bz.get(this.buffer);
this.aZ=null}return this.buffer};mM.prototype.Cg=function(){for(var z=0;z<this.a.length;z++)this.a[z]._y();
this.N()};mM.prototype.CF=function(){for(var z=0;z<this.a.length;z++)if(this.a[z].add.lmfx)this.a[z].c.OX=!0};
mM.prototype.qS=function(){var z=this.Yv.r1044;if(z==null){z=this.Yv.r1044=new Uint8Array(4);var r=0;
for(var k=0;k<this.a.length;k++)r=Math.max(r,this.a[k].add.lyid);h.aS(z,0,r)}var L=h.S(z,0);h.aS(z,0,L+1);
return L+1};mM.prototype.qm=function(z){if(z==null)z=!0;var r=this;if(r.L.length!=1){if(z)alert("More than one layer selected.");
return!1}return this.qJ(z)};mM.prototype.qJ=function(z){if(z==null)z=!0;var r=this;for(var k=0;k<r.L.length;
k++){var L=r.a[r.L[k]];if(L.add.lsct!=null&&L.add.lsct!=mG.ZG&&L.B!=1){if(z)alert(zA.get([15,7,2]));
return!1}if(L.B<=0&&!L._d()){if(z)alert(zA.get([15,7,2]));return!1}if(L.B<=0&&L.add.TySh){if(z)alert(zA.get([15,7,3]));
return!1}if(L.B<=0&&L.add.SoLd){if(z)alert(zA.get([15,7,4]));return!1}if(L._b(1)||L._b(31)){if(z)alert("Layer is locked.");
return!1}}return!0};mM.prototype.qP=function(z){var r=this.root.Cy(z);if(r.parent)return r.C._$()&&this.qP(r.parent.index);
else return r.C._$()};mM.prototype.qz=function(z){var r=this.root.Cy(z);if(r==null)return null;var k=r.C;
if(k.add.artb)return k._f();if(r.parent)return this.qz(r.parent.index);return null};mM.prototype.qG=function(){var z=this.a[this.L[0]];
if(z.B<=0&&!z.rect.ak(this.i.rect)){alert("Selected area is empty.");return!1}if(this.L.length==1&&this.i){var r=e.$(this.i.channel.length);
e.Jd(z.buffer,z.rect,r,this.i.rect);e.Jf(this.i.channel,r);if(e.JD(r,0)){alert("Selected area is empty.");
return!1}}return!0};mM.prototype.qW=function(){if(this.Yv["r"+1037]==null)this.qM(30);return h.xY(this.Yv["r"+1037],0)};
mM.prototype.qM=function(z){if(this.Yv["r"+1037]==null)this.Yv["r"+1037]=new Uint8Array(4);if(h.xY(this.Yv["r"+1037],0)==z)return;
h.xk(this.Yv["r"+1037],0,z);this.CF()};mM.prototype.qQ=function(){if(this.Yv["r"+1049]==null)this.qu(30);
return h.xY(this.Yv["r"+1049],0)};mM.prototype.qu=function(z){if(this.Yv["r"+1049]==null)this.Yv["r"+1049]=new Uint8Array(4);
if(h.xY(this.Yv["r"+1049],0)==z)return;h.xk(this.Yv["r"+1049],0,z);this.CF()};mM.prototype.qK=function(z){if(this.add.lnk2==null)return null;
for(var r=0;r<this.add.lnk2.length;r++)if(this.add.lnk2[r].ic==z)return this.add.lnk2[r];return null};
mM.prototype.mxa=function(z){var r=this.qK(z);if(r==null)return!1;var k=zc.mV(r.raw.buffer);if(k==null)return!1;
if(zc.m_(k)!=null||k=="psd")return!0;return!1};mM.prototype.ql=function(z,r){var k=this.qK(z);if(k==null)return null;
if(k.kN)return k;var L=zc.mV(k.raw.buffer);if(L==null){alert("Unsupported format: "+h.xU(k.raw,0,4));
return null}var E=zc.m_(L);if(E.mH){var F=new mM(name+(L=="psd"?"":"-"+L)+".psd");E.mv(k.raw.buffer,F);
for(var U=0;U<F.a.length;U++)if(F.a[U]._N())F.a[U]._q(F);F.qV();F.N();F.qx();k.kN=[F.Ce(),new Z(0,0,F.X,F.z)]}else if(E){var l=E.mv(k.raw.buffer)[0];
k.kN=[new Uint8Array(l.data),l.Hf]}if(k.kN){if(r==1){var G=k.kN[0],g=k.kN[1],P=e.$(g.Y());e.Jw(G,P,3);
var J=e.PM(P,g),x=e.$(J.Y()*4);e.Jb(G,g,x,J);k.kN=[x,J]}e.Jn(k.kN);return k}};mM.prototype.qx=function(z){if(z==null)z=1e9;
var r=this.X,k=this.z,L=new Z(0,0,r,k),E=L.Mk(this.jC);if(E.z$())return;if(o.KH&&this.Bz==null)this.Bz=new o.Ph(r,k,!0);
if(this.buffer==null||this.buffer.length!=r*k*4||o.KH&&(this.Bz.X!=r||this.Bz.z!=k)){this.buffer=e.$(r*k*4);
if(this.Bz)this.Bz.delete();if(o.KH)this.Bz=new o.Ph(r,k,!0)}if(!E.Jq(L)){if(!o.KH){var F=e.PB(E.Y()*4);
e.Jb(F,E,this.buffer,L)}if(o.KH){o.Kg(this.Bz,E);o.Jy(0)}}else{if(o.KH){this.Bz.set(null)}else{e.set(this.buffer,0)}}var U=Date.now(),l=o.KH?this.Bz:this.buffer;
this.root.Cn(l,L,E,this,[],z);this.aZ=this.jC.clone()};mM.prototype.qa=function(){var z=new T;z.rect=new Z(0,0,0,0);
z.buffer=e.$(1);z.add.luni=new V(0,0);z.add.lyid=this.qS();z.add.lsct=mG.ZG;z.add.lclr=0;z.add.fxrp=new V(0,0);
return z};mM.prototype.qc=function(){var z=this.qa();z._p("</Layer group>");z.add.lsct=mG.ZQ;z.Y_=24;
return z};mM.prototype.qB=function(){return this.Fa!=this.CN};mM.prototype.qA=function(z){while(this.history.length>this.Fa+1)this.history.pop();
if(this.CN>this.Fa)this.CN=-1;if(z.R.id!=A.Tq){this.jM=!0;if(this.Ys.lastAppliedComp){delete this.Ys.lastAppliedComp;
this.Fl=!0}}this.history.push(z);this.Fa++;this.ep=!0;var r=0;for(var k=this.history.length-1;k>=0;k--){var L=this.history[k];
if(L.cG)continue;r++;if(r==30){this.Fa-=k;this.history=this.history.slice(k);break}}};mM.prototype.qh=function(){if(this.Fa!=this.history.length-1)return null;
return this.history[this.history.length-1]};mM.prototype.qT=function(z,r){if(z==null)z=!1;var k=r!=null?[r]:this.L.slice(0),L=[];
for(var E=0;E<k.length;E++){var F=this.a[k[E]].YX;if(F!=0&&L.indexOf(F)==-1)L.push(F)}for(var E=0;E<this.a.length;
E++){var F=this.a[E].YX;if(F!=0&&L.indexOf(F)!=-1&&k.indexOf(E)==-1)k.push(E)}var U=[];for(var E=0;E<k.length;
E++){var l=this.qw(k[E],z);for(var G=0;G<l.length;G++)if(U.indexOf(l[G])==-1)U.push(l[G])}return U};
mM.prototype.qR=function(z){var r=this,k=r.qT(!1,z);k.sort(function(G,g){return G-g});var L=[];for(var E=0;
E<k.length;E++){var F=r.a[k[E]].clone();F.add.lyid=r.qS();if(F._Y()){var U=F.ZS(r),l={id:mM.Ck()+U.id.slice(8),buffer:e.clone(U.buffer),rect:U.rect.clone(),k:U.k?U.k.clone():null};
r.C$(l);F.add.SoLd.placed.v=l.id}F._q(r);L.push(F)}return L};mM.prototype.qw=function(z,r){var k=[],L=this.root.Cy(z);
if(L)L.C_(k,r);return k};mM.prototype.qN=function(){this.root.Qa(this,new Z(0,0,this.X,this.z),32)};
mM.prototype.qy=function(z){for(var r=0;r<this.a.length;r++){var k=this.a[r];if(z.indexOf(k)==-1){k.c.mzM();
k.N()}}this.a=z.slice(0);this.qV()};mM.prototype.qV=function(){this.root=new mW;var z=this.qa();z.DD="pass";
z.add.lsct=mG.ZW;var r=this.qc(),k=[r];for(var L=0;L<this.a.length;L++)k.push(this.a[L]);k.push(z);this.root.CZ(k,0,0);
if(this.L.length==0)this.L=[this.a.length-1]};mM.prototype.qO=function(){if(this.L.length!=1)return;
var z=this.root.Cy(this.L[0]);while(z.parent!=null){var r=z.parent.C;r.add.lsct=mG.ZW;z=z.parent}this.eJ=this.mPS=!0};
function mQ(z){this.ed=z;this.o=0;this.V=new V(0,0);this.l=new Z(0,0,1,1);this.jw=new Z(0,0,z.X,z.z);
this.fg=null;this.Jc=null;this.Pn=new Uint32Array(0);this.iE=null;this.il=null;this.Gz=e.$(0);this.cd=null;
this.ul=null}mQ.prototype.q_=function(z,r){var k=Math.round((this.l.X-this.ed.X*this.o)/2+this.V.x),L=Math.round((this.l.z-this.ed.z*this.o)/2+this.V.y),E=(z-k)/this.o,F=(r-L)/this.o;
return new V(E,F)};mQ.prototype.qZ=function(z,r){var k=Math.round((this.l.X-this.ed.X*this.o)/2+this.V.x),L=Math.round((this.l.z-this.ed.z*this.o)/2+this.V.y),E=z*this.o+k,F=r*this.o+L;
return new V(E,F)};mQ.prototype.qC=function(){var z=this.ed,r=this,k=this.l.X,L=this.l.z,E=Math.floor(z.X*r.o),F=Math.floor(z.z*r.o);
if(r.o<.99){var U=e.Jt(null,new Z(0,0,z.X,z.z),r.o).rect;E=U.X;F=U.z}return new Z(Math.round((k-E)/2+r.V.x),Math.round((L-F)/2+r.V.y),E,F)};
mQ.prototype.qq=function(){var z=this.ed,r=this,k=this.qC();return new Z(Math.floor((r.l.x-k.x)/r.o),Math.floor((r.l.y-k.y)/r.o),Math.ceil(r.l.X/r.o)+1,Math.ceil(r.l.z/r.o)+1)};
function K(){}K.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");K.qo="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
K.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];K.qr=["DrSh","IrSh","SoFi","GrFl","FrFX"];
K.qL=["Clr"];K.qU="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");K.qn=["Ptrn","Scl","Algn","phase"];
K.qv={};K.qv.qX="{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}";
K.qv.v="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}";
K.qv.qI="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}";
K.qv.qs="{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}";
K.qv.qX="\"Clr\": "+K.qv.qX;K.qv.v="\"Grad\":"+K.qv.v+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
K.qv.qs="\"Ptrn\":"+K.qv.qs+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
K.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
K.qt=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+K.qv.qX+","+K.qv.v+","+K.qv.qs+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+K.qv.qX+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+K.qv.v+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+K.qv.qs+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":57},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
K.v={};K.v.types="Lnr Rdl Angl Rflc Dmnd shapeburst".split(" ");K.v.names=[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]];
K.stroke={};K.stroke.types=["InsF","CtrF","OutF"];K.stroke.names=[[19,5,2],[19,5,1],[19,5,0]];K.stroke.qp=["SClr","GrFl","Ptrn"];
K.stroke.mQF=[[13,0],[12,37],[12,62]];K.qd={};K.qd.types=["SfBL","PrBL"];K.qd.names=[[19,1,0],[19,1,1]];
K.qd.qH=["SrcC","SrcE"];K.qd.mxH=[[19,5,1],[12,69]];K.qi={};K.qi.types=["OtrB","InrB","Embs","PlEb","strokeEmboss"];
K.qi.style=[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]];K.qi.qD=["SfBL","PrBL","Slmt"];K.qi.mJm=[[19,3,0],[19,3,1],[19,3,2]];
K.qi.dir=[[19,4,0],[19,4,1]];K.qk={};K.qk.qj=["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"];
K.qk.qf=["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"];K.qk.join=["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"];
K.qk.qe=["solidColorLayer","gradientLayer","patternLayer"];K.qk.default={classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!0},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignOutside"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+K.qv.qX+"}")},strokeStyleResolution:{t:"doub",v:72}};
K.qg=[{classID:"null",Clr:{t:"Objc",v:{}}},{classID:"null",Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}},Grad:{t:"Objc",v:{}}},{classID:"null",Ptrn:{t:"Objc",v:{}},Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
K.qg[0].Clr.v=JSON.parse(K.qt[5]).Clr.v;K.qg[1].Grad.v=JSON.parse(K.qt[6]).Grad.v;K.qg[2].Ptrn.v=JSON.parse(K.qt[7]).Ptrn.v;
var mK={};mK.mKJ=function(z,r,k){if(z.z$())return;var L=e.f.mPM(z.A);L.x=Math.floor(L.x*r);L.X=Math.ceil(L.X*r);
L.y=Math.floor(L.y*k);L.z=Math.ceil(L.z*k);z.rect=L;z.channel=e.$(L.Y());e.mi.width=L.X;e.mi.height=L.z;
var E=e.l;E.fillStyle="#ffffff";e.f.mPQ(E,z.A,r,k,-L.x,-L.y);E.fill();var F=E.getImageData(0,0,L.X,L.z).data;
e.Jw(F,z.channel,3)};mK.oS=function(z){var r,k;if(z){if(z.solidFillMulti.v.length>0)r=z.solidFillMulti.v[0].v;
if(z.gradientFillMulti.v.length>0)k=z.gradientFillMulti.v[0].v;if(r&&(r.enab.v==!1||r.Opct.v.val!=100||r.Md.v.BlnM!="Nrml"))r=null;
if(k&&(k.enab.v==!1||k.Opct.v.val!=100||k.Md.v.BlnM!="Nrml"))k=null}return[r,k]};mK.om=function(z,r){var k=["Sz","blur","Sftn","Dstn"];
for(var L=0;L<K.order.length;L++){var E=K.order[L],F=z[K.qo[L]].v;for(var U=0;U<F.length;U++){var l=F[U].v;
for(var G=0;G<k.length;G++){var g=l[k[G]];if(g){var P=g.v.val,J=P;J=Math.max(P==0?0:1,J*r);if(E=="ChFX")J=Math.min(J,250);
if(E=="ebbl"){if(k[G]=="blur")J=Math.min(J,250);if(k[G]=="Sftn")J=Math.min(J,16)}g.v.val=Math.round(J)}}if(E=="ebbl"||E=="patternFill"||E=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*r))}}};
mK.mxj=function(z,r){var k=new Z(-.5,-.5,1,1),L=z.add.lmfx;for(var E=0;E<K.order.length;E++){var F=K.order[E],U=L[K.qo[E]].v;
for(var l=0;l<U.length;l++){var G=U[l].v,x;if(!G.enab.v)continue;var g=G.blur?G.blur.v.val:0,P=G.Ckmt?G.Ckmt.v.val/100:0,J=Math.round(g*P);
if(F=="DrSh"){x=new Z(-.5,-.5,1,1);x.aD(g,g);mK.oN(x,G,r,0)}if(F=="OrGl"){x=new Z(-.5,-.5,1,1);x.aD(g,g)}if(F=="FrFX"){var a=mK.oP(G)[1];
x=new Z(-.5,-.5,1,1);x.aD(Math.ceil(a),Math.ceil(a))}if(F=="ebbl"){var g=G.blur.v.val;if(G.bvlS.v.BESl=="Embs"||G.bvlS.v.BESl=="PlEb")g/=2;
var d=["OtrB","InrB","Embs","PlEb","strokeEmboss"],t=["SfBL","PrBL","Slmt"],m=["In","Out"],b=G.bvlT.v.bvlT!="SfBL"?g:g*.43,I=Math.round(g);
x=new Z(-I,-I,2*I,2*I)}if(x)k=k.MD(x)}}if(k.x!=Math.ceil(k.x)){k.x=Math.ceil(k.x);k.X-=1}if(k.y!=Math.ceil(k.y)){k.y=Math.ceil(k.y);
k.z-=1}return k};mK.oP=function(z){var r=0,k=0,L=z.Styl.v.FStl,E=z.Sz.v.val;if(L=="OutF")k=E;if(L=="InsF")r=E;
if(L=="CtrF")r=k=E/2;return[r,k]};mK.oz=function(z){if(z.all==null)return;for(var r=0;r<z.all.length;
r++){var k=z.all[r];if(k.lF)k.lF.delete();if(k.ux)k.ux.delete();if(k.Pt)k.Pt.delete()}};mK.mam=function(z,r,k,L,E,F,U){mK.oz(z);
var l=mK.oW(L,E,r,k,F,U);z.type=l.type,z.all=l.all;if(o.KH)for(var G=0;G<z.all.length;G++){var g=z.all[G];
g.lF=new o.Ph(g.jp.X,g.jp.z);g.lF.set(g.bT);delete g.bT;if(g.uA){g.ux=new o.EM(g.jp.X,g.jp.z);g.ux.set(g.uA);
delete g.uA}if(g.uh){g.Pt=new o.EM(g.jp.X,g.jp.z);g.Pt.set(g.uh);delete g.uh}}};mK.oW=function(z,r,k,L,E,F){if(F==null)F=L;
var U=0,l=0;for(var G=0;G<K.order.length;G++){var g=K.order[G],P=K.qo[G],J=z[P].v;for(var x=0;x<J.length;
x++){var a=J[x].v;if(g=="DrSh"&&a.enab.v&&a.Ckmt.v.val>0&&a.blur.v.val>0)U=Math.max(U,Math.ceil(a.Ckmt.v.val*a.blur.v.val/100));
if(g=="OrGl"&&a.enab.v&&a.Ckmt.v.val>0&&a.blur.v.val>0&&a.GlwT.v.BETE=="SfBL")U=Math.max(U,Math.ceil(a.Ckmt.v.val*a.blur.v.val/100));
if(g=="OrGl"&&a.enab.v&&a.blur.v.val>0&&a.GlwT.v.BETE=="PrBL")U=Math.max(U,a.blur.v.val);if(g=="FrFX"&&a.enab.v&&a.Sz.v.val>0){if(a.Styl.v.FStl=="OutF")U=Math.max(U,a.Sz.v.val);
if(a.Styl.v.FStl=="CtrF")U=Math.max(U,Math.ceil(a.Sz.v.val/2));l=Math.max(l,mK.oP(a)[1])}}}var d=new mK.o_(k,L,U),t={type:{},all:[]};
for(var m=0;m<K.order.length;m++){var g=K.order[m],P=K.qo[m];t.type[g]=[];for(var b=z[P].v.length-1;
b>=0;b--){var I=z[P].v[b].v;if(!I.enab.v)continue;var v=I.blur?I.blur.v.val:0,W=I.Ckmt?I.Ckmt.v.val/100:0,B=v*W;
if(g=="DrSh"){var n=d.oL(B,v-B,!0),j=n.oZ,p=n.iy;p.offset(-d.rect().x-1,-d.rect().y-1);mK.oR(j,I);mK.oN(p,I,E,0);
var X=e.$(p.Y()*4);mK.ow(X,I.Clr.v);e.JN(j,X,3);var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100,Ll:I.layerConceals.v};
t.type[g].push(M);t.all.push(M)}if(g=="IrSh"){var n=d.oL(B,v-B,!1);mK.oN(n.iy,I,E,0);var p=d.rect().clone(),j=e.$(p.Y());
e.set(j,255);e.Jp(n.oZ,n.iy,j,p);mK.oR(j,I);var X=e.$(p.Y()*4);mK.ow(X,I.Clr.v);e.JN(j,X,3);p.offset(-d.rect().x-1,-d.rect().y-1);
var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};t.type[g].push(M);t.all.push(M)}if(g=="GrFl"){var X=e.$(d.rect().Y()*4);
mK.ox(I,X,d.rect(),E,null,F);var p=d.rect().clone();p.offset(-d.rect().x-1,-d.rect().y-1);var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};
t.type[g].push(M);t.all.push(M)}if(g=="SoFi"){var X=e.$(d.oZ().length*4);mK.ow(X,I.Clr.v);var p=d.rect().clone();
p.offset(-d.rect().x-1,-d.rect().y-1);var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};t.type[g].push(M);
t.all.push(M)}if(g=="ebbl"){var H=!1,$=1;if(H)console.log(I);var c=Date.now(),S=I.bvlS.v.BESl;if(S=="strokeEmboss"){var w=z.frameFXMulti.v;
if(w.length==0)continue;w=w[0].v;if(!w.enab.v)continue;var R=w.Styl.v.FStl;if(R=="OutF")S="OtrB";if(R=="CtrF")S="Embs";
if(R=="InsF")S="InrB"}var v=I.blur.v.val;if(v==0)v=.7;if(S=="Embs"||S=="PlEb")v/=2;var i=["OtrB","InrB","Embs","PlEb","strokeEmboss"],f=["SfBL","PrBL","Slmt"],_=["In","Out"],u=I.bvlT.v.bvlT!="SfBL"?v:v*.45,Q=Math.round(v);
v*=$;u*=$;Q*=$;var C=d.rect().clone();C.x*=$;C.y*=$;C.X*=$;C.z*=$;var y=C.clone();y.aD(Q,Q);var N=y.X,O=y.z,JQ=N*O,zf=d.rect().X,ze=d.rect().z,zg=e.$(zf*ze*$*$);
e.scale.Mn(d.oZ(),zf,ze,zg,zf*$,ze*$,$);var zF=e.$(JQ);e.Jp(zg,C,zF,y);var GS=new Float64Array(JQ),Gm=new Float64Array(JQ);
e.style.QA(zF,GS,N,O);e.Jo(zF);e.style.QA(zF,Gm,N,O);if(H)console.log("distTransform computed",Date.now()-c);
var GJ=Gm;Gm=new Float64Array(JQ);for(var G=0;G<JQ;G++)GJ[G]=GJ[G]-GS[G];for(var G=0;G<JQ;G++){var GP=GJ[G];
if(GP<-u)GJ[G]=-u;else if(GP>u)GJ[G]=u}if(H)console.log("summing + cropping",Date.now()-c);if(I.bvlT.v.bvlT=="SfBL"){e.blur.Pf(GJ,GS,y,Math.max(2,Math.pow(v*.21,1.22)));
var Gz=GJ;GJ=GS;GS=Gz}if(H)console.log("blurring",Date.now()-c);var GG=new Float64Array(JQ);e.JZ(GJ,GG);
if(I.useShape.v){var GW=Math.min(100,I.Inpr.v.val+1)/100;if(S!="OtrB"&&S!="InrB")GW=1;var GM=e.MF.QK(I.MpgS.v.Crv.v,2e3),GQ=Math.round(2e3/GW);
GM=e.MF.mKu(GM,GQ,S=="InrB");var Gu=.5/u;for(var G=0;G<JQ;G++){var GK=GJ[G],GE=.99999*(GK+u)*Gu;GJ[G]=-u+2*u*GM[~~(GE*(GQ-1))]}if(H)console.log("applying shape",Date.now()-c)}if(I.useTexture.v){var Gl=e.$(N*O*4);
mK.Mo(I,Gl,y,E,r);var Gx=e.$(N*O);e.JB(Gl,Gx);var Ga=e.$(N*O);e.blur.mlp(Gx,Ga,y,1);Gx=Ga;var Gc=v*I.textureDepth.v.val*(1/100)*(1/255);
if(I.InvT.v)Gc=-Gc;for(var G=0;G<JQ;G++)GJ[G]+=-Gc*Gx[G];if(H)console.log("applying texture",Date.now()-c)}var GB=(I.bvlT.v.bvlT=="SfBL"?1:.5)*(I.bvlD.v.BESs=="In"?1:-1)*I.srgR.v.val/100;
for(var G=0;G<JQ;G++)GJ[G]*=GB;if(H)console.log("scaling",Date.now()-c);var GA=I.uglg&&I.uglg.v?E.qW():I.lagl.v.val;
GA=GA*(Math.PI/180);var Gh=I.uglg&&I.uglg.v?E.qQ():I.Lald.v.val;Gh=Gh*(Math.PI/180);var GT=Math.cos(GA)*Math.cos(Gh),Gw=-Math.sin(GA)*Math.cos(Gh),GN=Math.sin(Gh),Gy=new Float64Array(JQ),GV=new Float64Array(JQ),GO=S=="PlEb";
for(var G=0;G<O;G++)for(var x=0;x<N;x++){var G_=G*N+x,GZ=-(G==0?GJ[G_+N]-GJ[G_]:G==O-1?GJ[G_]-GJ[G_-N]:.5*(GJ[G_+N]-GJ[G_-N])),GC=-(x==0?GJ[G_+1]-GJ[G_]:x==N-1?GJ[G_]-GJ[G_-1]:.5*(GJ[G_+1]-GJ[G_-1])),Gq=1,Go=1/Math.sqrt(GC*GC+GZ*GZ+1);
GC*=Go;GZ*=Go;Gq*=Go;var Gr=GC*GT+GZ*Gw+Gq*GN,GU=Gr;if(GO)GU=-GC*GT-GZ*Gw+Gq*GN;if(Gr>0)Gy[G_]=Gr;if(GU>0)GV[G_]=GU}if(H)console.log("raycasting",Date.now()-c);
if(I.Sftn.v.val!=0){e.blur.Pf(Gy,GS,y,I.Sftn.v.val*.43);var Gz=GS,GS=Gy,Gy=Gz;if(GO){e.blur.Pf(GV,GS,y,I.Sftn.v.val*.43);
var Gz=GS,GS=GV,GV=Gz}else e.JZ(Gy,GV)}if(H)console.log("softening",Date.now()-c);var GM=e.MF.QK(I.TrnS.v.Crv.v,1024);
for(var G=0;G<JQ;G++){Gy[G]=GM[~~(Gy[G]*1024)];GV[G]=GM[~~(GV[G]*1024)]}if(H)console.log("contour remap",Date.now()-c);
N=Math.round(N/$);O=Math.round(O/$);var Gn=e.$(N*O*4);mK.ow(Gn,I.hglC.v);var Gv=e.$(N*O*4);mK.ow(Gv,I.sdwC.v);
var GX=e.$(N*O*4);mK.ow(GX,I.hglC.v);var GI=e.$(N*O*4);mK.ow(GI,I.sdwC.v);var Gs=1/GN,Gt=1/(1-GN),Gu=1/u,Gp=new Float64Array(1e3);
for(var G=0;G<1e3;G++)Gp[G]=Math.pow(G*.001,.2);for(var G=0;G<O;G++)for(var x=0;x<N;x++){var G_=G*N+x,G$=4*G_+3,Gd=0,GH=0;
if($==1){Gd=Gy[G_];GH=GV[G_]}else{var Gb=$*$*G*N+$*x;Gd=.25*(Gy[Gb]+Gy[Gb+1]+Gy[Gb+$*N]+Gy[Gb+$*N+1]);
GH=.25*(GV[Gb]+GV[Gb+1]+GV[Gb+$*N]+GV[Gb+$*N+1])}var Gi=Math.max(0,Math.min(.9999,(GG[G_]+u*.993)*Gu));
Gi=Gp[Math.floor(Gi*1e3)];var GD=Gi*(1-Math.min(1,Gd*Gs)),GY=Gi*(1-Math.min(1,(1-Gd)*Gt)),Gk=Gi*(1-Math.min(1,GH*Gs)),Gj=Gi*(1-Math.min(1,(1-GH)*Gt));
Gv[G$]=Math.round(255*GD);Gn[G$]=Math.round(255*GY);GI[G$]=Math.round(255*Gk);GX[G$]=Math.round(255*Gj)}if(H)console.log("baking textures",Date.now()-c);
y=d.rect().clone();y.aD(Q/$,Q/$);y.offset(-d.rect().x-1,-d.rect().y-1);var Gf={mPB:I.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(S)!=-1){Gf.Ps={bT:Gn,jp:y,in:mP._B(I.hglM.v.BlnM),fI:I.hglO.v.val/100};
Gf.PX={bT:Gv,jp:y,in:mP._B(I.sdwM.v.BlnM),fI:I.sdwO.v.val/100};t.all.push(Gf.Ps,Gf.PX)}if(["OtrB","Embs","PlEb"].indexOf(S)!=-1){Gf.uV={bT:GX,jp:y,in:mP._B(I.hglM.v.BlnM),fI:I.hglO.v.val/100};
Gf.ta={bT:GI,jp:y,in:mP._B(I.sdwM.v.BlnM),fI:I.sdwO.v.val/100};t.all.push(Gf.uV,Gf.ta)}if(H)console.log(Date.now()-c);
t.type[g].push(Gf)}if(g=="patternFill"){var Ge=d.rect(),X=e.$(Ge.Y()*4);mK.Mo(I,X,Ge,E,r);var p=Ge.clone();
p.offset(-Ge.x-1,-Ge.y-1);var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};t.type[g].push(M);
t.all.push(M)}if(g=="ChFX"){var X=e.$(d.oZ().length*4);mK.ow(X,I.Clr.v);var v=I.blur.v.val,Gg=d.rect().clone();
Gg.aD(v,v);var GF=e.$(Gg.Y()),WS=e.$(Gg.Y());e.Jp(d.oZ(),d.rect(),WS,Gg);e.blur.Pk(WS,GF,Gg,v*.43);var Wm=e.MF.Ql(I.MpgS.v.Crv.v,256,!0);
e.Pz(GF,Wm);var WJ=e.$(d.oZ().length),WP=e.$(d.oZ().length),Wz=d.rect().clone();mK.oN(Wz,I,E,0);e.Jp(GF,Gg,WJ,Wz);
Wz=d.rect().clone();mK.oN(Wz,I,E,Math.PI);e.Jp(GF,Gg,WP,Wz);var WG=WJ.length;for(var G=0;G<WG;G++)X[4*G+3]=Math.abs(WJ[G]-WP[G]);
if(I.Invr.v)for(var G=0;G<WG;G++)X[4*G+3]=255-X[4*G+3];var p=d.rect().clone();p.offset(-d.rect().x-1,-d.rect().y-1);
var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};t.type[g].push(M);t.all.push(M)}if(g=="OrGl"){var n;
if(I.GlwT.v.BETE=="SfBL")n=d.oL(B,v-B,!0);else n=d.oU(v,W,!0);var j=n.oZ,p=n.iy;mK.oT(j,I);mK.oR(j,I);
var X=e.$(p.Y()*4);if(I.Grad==null){mK.ow(X,I.Clr.v);e.JN(j,X,3)}else{var WW={bX:j,bn:255,bU:0,bv:p};
mK.ox(I,X,p,E,WW);for(var G=0;G<X.length;G+=4){var WM=j[G>>2];if(WM<32)X[G+3]=Math.max(0,WM-1)<<3}}p.offset(-d.rect().x-1,-d.rect().y-1);
var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};t.type[g].push(M);t.all.push(M)}if(g=="IrGl"){var n;
if(I.GlwT.v.BETE=="SfBL")n=d.oL(B,v-B,!1);else n=d.oU(v,W,!1);var j=n.oZ,p=n.iy;mK.oT(j,I);mK.oR(j,I);
if(I.glwS.v.IGSr=="SrcC")e.Jo(j);var X=e.$(p.Y()*4);if(I.Grad==null){mK.ow(X,I.Clr.v);e.JN(j,X,3)}else{var WW={bX:j,bn:255,bU:0,bv:p};
mK.ox(I,X,p,E,WW)}p.offset(-d.rect().x-1,-d.rect().y-1);var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100};
t.type[g].push(M);t.all.push(M)}if(g=="FrFX"){var WQ=mK.oP(I),Wu=WQ[0],WK=WQ[1],p=d.rect().clone(),WE=null,Wl=null;
p.aD(Math.ceil(l),Math.ceil(l));if(WK>0){var n=d.oL(WK,0,!0);Wl=n.oZ;if(Wl.length<p.Y()){Wl=e.$(p.Y());
e.Jp(n.oZ,n.iy,Wl,p)}}if(Wu>0){var n=d.oL(Wu,0,!1);WE=e.$(p.Y());e.set(WE,255);e.Jp(n.oZ,n.iy,WE,p)}p.offset(-d.rect().x-1,-d.rect().y-1);
var X=e.$(p.Y()*4),Wx=I.PntT.v.FrFl;if(Wx=="SClr")mK.ow(X,I.Clr.v);if(Wx=="GrFl")mK.ox(I,X,p,E,d.mKV(Wu,WK));
if(Wx=="Ptrn")mK.Mo(I,X,p,E,r);var M={bT:X,jp:p,in:mP._B(I.Md.v.BlnM),fI:I.Opct.v.val/100,uh:Wl,uA:WE};
t.type[g].push(M);t.all.push(M)}}}return t};mK.oM=function(z){var r=1/Math.sqrt(z.x*z.x+z.y*z.y+z.iI*z.iI);
z.x*=r;z.y*=r;z.iI*=r};mK.mGy=function(z,r){return{x:z.y*r.iI-z.iI*r.y,y:z.iI*r.x-z.x*r.iI,iI:z.x*r.y-z.y*r.x}};
mK.mQL=function(z,r){return z.x*r.x+z.y*r.y+z.iI*r.iI};mK.yK=function(z){var r=mK.oK();return{fill:z.add.iOpa!=null?z.add.iOpa/255:r.fill,Ae:z.add.brst!=null?z.add.brst:r.Ae,Lx:z.add.knko!=null?z.add.knko:r.Lx,style:!1,bR:!1}};
mK.oK=function(){return{fill:1,Ae:[1,1,1],Lx:0,style:!1,bR:!1}};mK.oE=function(z,r){if(r==null)return null;
var k=z.Idnt.v,L=null;for(var E=0;E<r.length;E++)if(r[E].id==k)return r[E];return null};mK.ol=function(z,r,k){var L=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var E=0;E<L.length;E++){var F=z.v[L[E]].v;for(var U=0;U<F.length;U++)if(F[U].v.Ptrn)r.Cj(mK.oE(F[U].v.Ptrn.v,k))}};
mK.Mo=function(z,r,k,L,E){var F=mK.oE(z.Ptrn.v,L.add.Patt);if(F!=null&&!k.z$()){var U=e.scale.Mo(F.bT,F.iy.X,F.iy.z),l=z.Scl.v.val/100,G=-k.x+z.phase.v.Hrzn.v-1,g=-k.y+z.phase.v.Vrtc.v-1;
if(z.Algn!=null&&!z.Algn.v){}else{G+=E.x;g+=E.y}e.scale.mBZ(U,r,k.X,k.z,l,l,G+1,g+1)}};mK.ox=function(z,r,k,L,E,F){if(F==null)F=k;
var U=z.Type?z.Type.v.GrdT:"shapeburst",l=z.Algn&&z.Algn.v?F:new Z(0,0,L.X,L.z),G=z.Angl?e.v.Gs(z,l):[new V(0,0),new V(100,0)],g=G[0].x,P=G[0].y,J=G[1].x-g,x=G[1].y-P,a=Math.sqrt(J*J+x*x);
a=1/(2*a*a);var d=[J*a,x*a,-x*a,J*a];e.v.Gr(z.Grad.v,r,k,d,g,P,z.Rvrs?z.Rvrs.v:!1,K.v.types.indexOf(U),0,0,E)};
mK.muw=function(z,r){for(var k=0;k<z.all.length;k++){var L=z.all[k];L.jH=L.jp.clone();L.jH.offset(r.x,r.y)}};
mK.oc=function(z,r,k,L,E,F){var U=o.KH?mK.oh:mK.oA;mK.muw(r,k);var l=r.type.DrSh;for(var G=0;G<l.length;
G++)if(!l[G].Ll)U(l[G],L,E,F)};mK.oB=function(z,r,k,L,E,F,U,l,G,g){var P=k,J=o.KH?mK.oh:mK.oA,x=o.KH?o.M.En:e.M.Pv,a;
a=r.type.DrSh;for(var d=0;d<a.length;d++)if(a[d].Ll)J(a[d],L,E,F);a=r.type.OrGl;for(var d=0;d<a.length;
d++)J(a[d],L,E,F);var t="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var m=0;m<t.length;m++){var a=r.type[t[m]];
for(var d=0;d<a.length;d++)J(a[d],U,P,F)}var b=r.type.ebbl[0],I=b!=null&&b.mPB;a=r.type.FrFX;for(var d=0;
d<a.length;d++){var v=a[d];mW.OQ.Jp(l,g,G,g,F);J(v,G,g,F);if(I&&d==a.length-1){if(b.ta)J(b.ta,G,g,F);
if(b.uV)J(b.uV,G,g,F);if(b.PX)J(b.PX,G,g,F);if(b.Ps)J(b.Ps,G,g,F)}if(v.uA||v.ux)x(G,g,U,P,o.KH?v.ux:v.uA,v.jH,0,F,1);
if(v.uh||v.Pt)x(G,g,L,E,o.KH?v.Pt:v.uh,v.jH,0,F,1)}if(!I&&b!=null){if(b.ta)J(b.ta,L,E,F);if(b.uV)J(b.uV,L,E,F);
if(b.PX)J(b.PX,U,P,F);if(b.Ps)J(b.Ps,U,P,F)}};mK.oA=function(z,r,k,L){var E=mK.oK();E.fill=z.fI;E.style=!0;
e.M.Py(z.in,z.bT,z.jH,r,k,L,1,E)};mK.oh=function(z,r,k,L){var E=mK.oK();E.fill=z.fI;E.style=!0;o.M.EU(z.in,z.lF,z.jH,r,k,L,1,E)};
mK.oT=function(z,r){var k=1-r.Inpr.v.val/100,L=1+Math.tan(k*(Math.PI/2)),E=z.length;for(var F=0;F<E;
F++)z[F]=Math.min(255,Math.round(z[F]*L))};mK.oR=function(z,r){var k=r.blur.v.val,L=Math.round(k*(r.Ckmt.v.val/100));
if(k>L){var E=e.MF.Ql(r.TrnS.v.Crv.v,256,!0);e.Pz(z,E)}if(r.Nose.v.val>0)e.style.mQK(z,r.Nose.v.val/100)};
mK.ow=function(z,r,k){if(k==null)k=255;var L=e.v.GU(r),E=k<<24|L.g<<16|L.P<<8|L.F;e.JV(z,E)};mK.oN=function(z,r,k,L){var E=r.uglg&&r.uglg.v?k.qW():r.lagl.v.val;
E=E*Math.PI/180+L;var F=Math.cos(E)*r.Dstn.v.val,U=Math.sin(E)*r.Dstn.v.val;z.x-=Math.round(F);z.y+=Math.round(U)};
mK.oy=function(z){if(z==null)return null;var r=z.frameFXMulti.v;if(r.length==0)return null;r=r[0].v;
var k=JSON.parse(JSON.stringify(K.qk.default));mK.oV(r,k);return k};mK.oV=function(z,r){var k=K.stroke.qp.indexOf(z.PntT.v.FrFl),L=[K.qL,K.qU,K.qn][k],E=r.strokeStyleContent.v={classID:K.qk.qe[k]};
for(var F=0;F<L.length;F++)E[L[F]]=z[L[F]];r.strokeEnabled=z.enab;r.strokeStyleLineWidth=z.Sz;r.strokeStyleLineAlignment.v.strokeStyleLineAlignment=K.qk.qf[K.stroke.types.indexOf(z.Styl.v.FStl)];
r.strokeStyleOpacity=z.Opct;r.strokeStyleBlendMode=z.Md};mK.oO=function(z,r){var k=[];for(var L=0;L<z.length;
L++)k.push({t:"UntF",v:{type:"#Nne",val:Math.round(z[L]*r)}});return k};mK.o_=function(z,r,k){this.IR=r.clone();
this.IR.aD(1,1);this.Ag=r.clone();this.Ag.aD(k,k);this.La=e.$(this.IR.Y());e.Jp(z,r,this.La,this.IR);
this.CU=null;this.uv=null;this.Ix=null};mK.o_.prototype.oZ=function(){return this.La};mK.o_.prototype.rect=function(){return this.IR};
mK.o_.prototype.oC=function(){return this.Ag};mK.o_.prototype.PR=function(){if(this.CU)return this.CU;
this.CU=e.clone(this.oZ());e.Jo(this.CU);return this.CU};mK.o_.prototype.oq=function(){if(this.uv)return this.uv;
this.uv=new Float64Array(this.rect().Y());e.style.QA(this.PR(),this.uv,this.rect().X,this.rect().z);
return this.uv};mK.o_.prototype.oo=function(){if(this.Ix)return this.Ix;var z=this.oC(),r=e.$(z.Y());
e.Jp(this.oZ(),this.rect(),r,z);this.Ix=new Float64Array(z.Y());e.style.QA(r,this.Ix,z.X,z.z);return this.Ix};
mK.o_.prototype.mKV=function(z,r){var k={bn:-r,bU:z,bv:null,bX:null};if(r==0){k.bv=this.rect();k.bX=this.oq();
return k}var L=this.oo().slice(0),E=this.oC();k.bv=E;k.bX=L;for(var F=0;F<L.length;F++)L[F]=-L[F];if(z==0)return k;
var U=this.oq(),l=this.rect();for(var G=0;G<l.z;G++)for(var g=0;g<l.X;g++){var P=G*l.X+g,J=(G+l.y-E.y)*E.X+g+l.x-E.x;
L[J]+=U[P]}return k};mK.o_.prototype.oL=function(z,r,k){var L=Math.ceil(z+r),E={iy:this.rect().clone(),oZ:null};
E.iy.aD(L,L);E.oZ=e.$(E.iy.Y());if(z==0&&r==0)e.JZ(k?this.oZ():this.PR(),E.oZ);else{var F=e.$(E.iy.Y());
e.Jp(this.oZ(),this.rect(),F,E.iy);if(!k)e.Jo(F);if(z!=0){if(k)e.style.Qc(F,E.iy,this.oo(),this.oC(),z);
else e.style.Qc(F,E.iy,this.oq(),this.rect(),z)}if(r!=0)e.blur.Pk(F,E.oZ,E.iy,Math.max(1,r*.43));else E.oZ=F}return E};
mK.o_.prototype.oU=function(z,r,k){var L=z*(r-.5),E={iy:this.rect().clone(),oZ:null};if(k)E.iy.aD(z,z);
E.oZ=e.$(E.iy.Y());var F=E.iy.X,U=E.iy.z,l=k?this.oo():this.oq(),G=k?this.oC():this.rect(),g=E.iy,P=g.Mk(G),F=P.X,U=P.z,J=P.x-g.x,x=P.y-g.y,a=P.x-G.x,d=P.y-G.y,t=1-r*2;
for(var m=0;m<U;m++)for(var b=0;b<F;b++){var I=l[(m+d)*G.X+b+a],v=I/z;E.oZ[(m+x)*g.X+b+J]=Math.max(0,Math.min(255,255-255*((v+t)/(1+t))))}return E};
mK.on=function(z,r,k){var L=z.Lefx,E=z.blendOptions;if(L){var F=r.add.lmfx;if(k==null)k=F?F.Scl.v.val:100;
r.add.lmfx=JSON.parse(JSON.stringify(L.v));mK.om(r.add.lmfx,k/r.add.lmfx.Scl.v.val);if(F)r.add.lmfx.Scl.v.val=F.Scl.v.val}else delete r.add.lmfx;
if(E){E=E.v;if(E.Md)r.DD=mP._B(E.Md.v.BlnM);else r.DD=r._w()?"pass":"norm";if(E.fillOpacity)r.add.iOpa=Math.round(E.fillOpacity.v.val*255/100);
else r.add.iOpa=255}};mK.ov=function(z){var r={Yf:{classID:"null",Idnt:{t:"TEXT",v:mM.Ck()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Ye:{classID:"Styl",blendOptions:{t:"Objc",v:{classID:"blendOptions",fillOpacity:{t:"UntF",v:{type:"#Prc",val:z.add.iOpa!=null?z.add.iOpa*100/255:100}}}}}},k=z.add.lmfx;
if(k)r.Ye.Lefx={t:"Objc",v:k};return r};function mE(){}mE.oX=function(z){return JSON.parse(JSON.stringify(z))};
mE.oI=function(z){var r=mE.oX(mE.mlv),k=r.Brsh.v;if(z!=null){delete k.Hrdn;k.classID="sampledBrush";
k.Nm={t:"TEXT",v:"layer.png"},k.sampledData={t:"TEXT",v:z}}return r};mE.mlv={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
mE.oM={};mE.oM.check=function(z){var r=mE.oM.o$;for(var k=0;k<r.length;k++)if(z[r[k]]==null)z[r[k]]=JSON.parse(mE.oM.od[r[k]]);
var L=[];for(var k=0;k<r.length;k++)L.push(r[k]);var E=mE.oM.ob;for(var k=0;k<E.length;k++){var F=E[k][0],U=E[k][1],l=!0;
for(var G=0;G<F.length;G++)l=l&&z[F[G]].v==!0;if(l)for(var G=0;G<U.length;G++){if(z[U[G]]==null)console.log("Missing conditional parameter "+U[G]);
else L.push(U[G])}}for(var g in z)if(L.indexOf(g)==-1)console.log("Extra parameter "+g);z=z.Brsh.v;r=mE.oM.op.o$;
for(var k=0;k<r.length;k++)if(z[r[k]]==null)z[r[k]]=JSON.parse(mE.oM.op.od[r[k]]);L=[];for(var k=0;k<r.length;
k++)if(z[r[k]])L.push(r[k]);else console.log("Missing default parameter "+r[k]);E=mE.oM.op.mMG[z.classID];
for(var k=0;k<E.length;k++)if(z[E[k]]==null&&E[k]!="dtipsGridSize"&&E[k]!="dtipsErodibleTipHeightMap"&&z.mPq!=1)console.log("Missing conditional parameter "+E[k]);
else L.push(E[k]);for(var g in z)if(L.indexOf(g)==-1)console.log("Extra parameter "+g)};mE.oM.ot=function(z){var r=mE.oM.ob;
for(var k=0;k<r.length;k++){var L=r[k][0],E=r[k][1],F=!0;for(var U=0;U<L.length;U++)F=F&&z[L[U]]&&z[L[U]].v==!0;
if(F){for(var U=0;U<E.length;U++)if(z[E[U]]==null){z[E[U]]=JSON.parse(mE.oM.od[E[U]])}}else for(var U=0;
U<E.length;U++)if(z[E[U]]!=null){delete z[E[U]]}}};mE.oM.op={};mE.oM.op.o$="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
mE.oM.op.od={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};mE.oM.op.mMG={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
mE.oM.ob=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
mE.oM.o$="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
mE.oM.od={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ml(z){this.ub=z;this.dir=0}ml.prototype.oi=function(z,r){if(this.dir==0&&!this.ub.Jq(z))this.dir=Math.abs(this.ub.x-z.x)<Math.abs(this.ub.y-z.y)?1:2;
var k=z;if(r._(s.Vy)){if(this.dir==1)k=new V(this.ub.x,z.y);if(this.dir==2)k=new V(z.x,this.ub.y)}return k};
function mx(z,r,k,L,E,F,U,l){this.Yd=r;this.YH=k;this.fT=F;this.ck=L;this.eG=null;this.jf=null;this.fM=0;
this.Yn=0;this.hz=0;this.l$=0;this.YP=0;this.mPv=U;this.Hf=new Z;this.rS=new Z;this.rect=new Z;this.bT=e.$(0);
if(U.Y()<200*200){this.rect=U.clone();this.bT=e.$(U.Y()*4)}if(l!=null){this.bT=l;this.rect=U.clone()}this.uF=[];
this.aH=[];this.fp=null;mx.oD++;this.oD=mx.oD;this.fh=0;this.g=null;this.tc="";this.GJ=null;this.oY(z,E)}mx.oD=0;
mx.prototype.oY=function(z,r){this.fh=r;this.g=z;this.tc=JSON.stringify(z)+JSON.stringify(this.ck.fB);
this.GJ=mx.mBu(z,this.Yd,this.YH)};mx.prototype.moveTo=function(z,r,k){if(k==null)k=1;this.fM=k;var L=new V(z,r),E=this.g.Brsh.v.Dmtr.v.val;
this.eG=L.clone();this.jf=L.clone();this.fp=L.clone();this.uF=[z,r];this.aH=[k];if(this.ck.fa!=mx.TG)this.ok(this.rJ(L,this.rm()*k,new V(0,0)));
this.l$=L.clone()};mx.prototype.lineTo=function(z,r,k){if(k==null)k=1;var L=this.uF,E=L.length,F=L[E-2],U=L[E-1];
if(z==F&&r==U)return;var l=this.g.Brsh.v.Dmtr.v.val,G=Math.ceil(l)+1,g=new Z(Math.round(F),Math.round(U),0,0);
g.aD(G,G);var P=new Z(Math.round(z),Math.round(r),0,0);P.aD(G,G);this.ru(g.MD(P));this.uF.push(z,r);
this.aH.push(k);E+=2;if(E>=6)this.ok(this.oj(E))};mx.prototype.ok=function(z){this.Hf=z;this.rS=this.rS.MD(z)};
mx.prototype.finish=function(){var z=this.uF,r=z.length,k;if(r==4)k=this.og(z[r-2],z[r-1],this.aH[(r>>1)-1],!0);
if(r>4)k=this.oj(r+2);if(k)this.ok(k)};mx.prototype.oj=function(z){var r=this.uF,k=this.aH,L=r[z-6],E=r[z-5],F=r[z-4],U=r[z-3],l=k[(z>>1)-3],G=k[(z>>1)-2],g=new V(0,0),P=new V(0,0);
if(8<=z)g=mx.oe(r[z-8],r[z-7],L,E,F,U);if(z<=r.length)P=mx.oe(r[z-2],r[z-1],F,U,L,E);var J=L+g.x,x=E+g.y,a=F+P.x,d=U+P.y,t=new Z;
for(var m=0;m<10;m++){var b=(m+1)*.1,I=1-b,v=I*I*I*L+3*b*I*I*J+3*b*b*I*a+b*b*b*F,W=I*I*I*E+3*b*I*I*x+3*b*b*I*d+b*b*b*U,B=this.og(v,W,l+b*(G-l));
t=t.MD(B)}return t};mx.oe=function(z,r,k,L,E,F){var U=z-k,l=r-L,G=E-k,g=F-L,P=Math.sqrt(U*U+l*l),J=Math.sqrt(G*G+g*g),x=Math.acos((U*G+l*g)/(P*J))/Math.PI,a=.35,d=.1;
x=d+x*(a-d);var t=E-z,m=F-r,b=Math.sqrt(t*t+m*m),I=x*J/b;return new V(t*I,m*I)};mx.prototype.og=function(z,r,k,L){var E=new Z,F=this.ck.mMN;
if(F==null)F=0;if(F==0||L){E=this.oF(z,r,k);return E}var U=this.fp,l=z-U.x,G=r-U.y,g=Math.sqrt(l*l+G*G);
l/=g;G/=g;if(g>F){var P=U.x+l*(g-F),J=U.y+G*(g-F);E=this.oF(P,J,k);this.fp.Ep(P,J)}return E};mx.prototype.oF=function(z,r,k){var L=new Z,E=new V(z,r),F=this.g.Brsh.v.Dmtr.v.val,U=this.ck.fa,l=E.E$(this.jf);
l.normalize(1);var G=V.Ed(this.jf,E),g=-this.Yn,P=this.jf.clone();while(!0){var J=this.rm()*(this.fM+(k-this.fM)*(g/G)),x=this.mPX()*(J+this.hz)/2;
if(U==mx.TG)x=1;if(g+x<G){g+=x;var a=new V(this.jf.x+l.x*g,this.jf.y+l.y*g),m=1;if(U==mx.TG){var d=P.clone();
d.x+=l.x>0?1:-1;var t=P.clone();t.y+=l.y>0?1:-1;if(V.Ed(d,a)<V.Ed(t,a))a=d;else a=t;g=V.Ed(a,this.jf)}if(this.g.useScatter.v==!0){m=this.g.Cnt.v;
var b=this.g.countDynamics.v.jitter.v.val/100,I=b*(-1+2*this.rP());m+=Math.round(m*I)}for(var v=0;v<m;
v++){var W=this.rJ(a,J,l);L=L.MD(W)}P=a}else break}this.Yn=G-g;this.jf=E;this.fM=k;return L};mx.prototype.mPX=function(){var z=this.g.Brsh.v,r=z.Spcn.v.val,k=Math.max(5,z.Rndn.v.val);
return k/100*(r/100)};mx.prototype.rm=function(){var z=this.g,r=z.Brsh.v.Dmtr.v.val;if(z.useTipDynamics.v){var k=r*(z.minimumDiameter.v.val/100);
r=k+(r-k)*(1-this.rP()*(z.szVr.v.jitter.v.val/100))}return r};mx.prototype.rJ=function(z,r,k){var L=this.g,E=this.g.Brsh.v,F=E.Dmtr.v.val,U=this.ck,l=U.fx,G=U.fa,g=U.mP$,P=new zT;
P.translate(-this.GJ.Lo.X/2,-this.GJ.Lo.z/2);P.scale(1/this.GJ.pH,1/this.GJ.pH);P.scale(r/F,r/F);P.scale(1,Math.max(5,E.Rndn.v.val)/100);
if(L.useTipDynamics.v){var J=L.minimumRoundness.v.val/100;P.scale(1,J+(1-J)*Math.round(100-this.rP()*L.roundnessDynamics.v.jitter.v.val)/100);
P.rotate((-.5+this.rP())*4*Math.PI*(L.angleDynamics.v.jitter.v.val/100))}P.rotate(E.Angl.v.val*(Math.PI/180));
if(L.useScatter.v){var x=(-1+2*this.rP())*L.scatterDynamics.v.jitter.v.val/100;P.translate(-x*r*k.y,x*r*k.x)}P.translate(z.x,z.y);
var a=this.mBy(P,z);this.ru(a.rect);var d=a.rect.clone();if(G==null){var t=this.GU(L);e.JV(a.zi,Math.round(t.g*255)<<16|Math.round(t.P*255)<<8|Math.round(t.F*255)<<0,4278190080);
e.M.mKh(a.zi,a.rect,this.bT,this.rect,a.rect,l)}if(G==mx.TG){var m=new V(a.rect.x+a.rect.X/2,a.rect.y+a.rect.z/2),b=Math.round(m.x-this.l$.x),I=Math.round(m.y-this.l$.y),v=a.rect.clone();
v.offset(-b,-I);var W=v.Mk(this.rect);W.offset(b,I);e.Jb(this.bT,this.rect,a.zi,v);e.M.mEs(a.zi,a.rect,this.bT,this.rect,a.mX,a.rect,l)}if(G==mx.TP||G==mx.Tz||G==mx.rT){var B=a.rect.Mk(this.rect),n=e.$(B.Y());
e.Jp(a.mX,a.rect,n,B);var j=a.zi;e.Jb(this.bT,this.rect,j,B);if(G==mx.Tz){var p=e.clone(j),X=e.zk.zf([-1,-1,-1,-1,25,-1,-1,-1,-1]);
e.zk.ze(j,p,B.X,B.z,X,3);e.JZ(p,j)}else if(G==mx.rT){var M=mJ._J("UnsM");M.Amnt.v.val=15;M.Thsh.v=0;
M.Rds.v.val=5;var p=e.$(j.length);mJ.Os("UnsM",{buffer:j,rect:B},M,0,0,{buffer:p,rect:B});e.JZ(p,j)}else{mJ._G(1,e.blur.Pg,j,B)}e.M.Pv(j,B,this.bT,this.rect,n,B,0,B,l,!1)}this.hz=r;
this.l$=m;return d};mx.prototype.GU=function(z){var r=mx.rz(this.fh);if(z.useColorDynamics.v){var k=1-this.rP()*z.clVr.v.jitter.v.val/100,L=mx.rz(this.fT);
r.F=k*r.F+(1-k)*L.F;r.P=k*r.P+(1-k)*L.P;r.g=k*r.g+(1-k)*L.g;var E=(-.5+this.rP())*z.H.v.val/100,F=(-1+2*this.rP())*z.Strt.v.val/100,U=(-1+2*this.rP())*z.Brgh.v.val/100,l=e.Ju(r.F,r.P,r.g);
l.HF=(l.HF+E+1)%1;l.bB=l.bB+F;if(l.bB<0)l.bB=-l.bB;if(l.bB>1)l.bB=1-(l.bB-1);l.KM=l.KM+U;if(l.KM<0)l.KM=-l.KM;
if(l.KM>1)l.KM=1-(l.KM-1);r=e.JK(l.HF,l.bB,l.KM)}return r};mx.prototype.oM=function(z){return Math.max(0,Math.min(1,z))};
mx.prototype.rP=function(){this.YP++;return mx.hash(this.YP)};mx.rz=function(z){return{F:(z>>16&255)/255,P:(z>>8&255)/255,g:(z>>0&255)/255}};
mx.hash=function(z){z=z^61^z>>16;z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;return(z&16777215)/16777215};
mx.rG=[];mx.prototype.mBy=function(z,r){var k=null,U;for(var L=0;L<mx.rG.length;L++)if(mx.rG[L].tc==this.tc){k=mx.rG[L];
mx.rG.splice(L,1)}if(k==null)k={vg:[],tc:this.tc,BT:0};var E=k.vg,F=this.ck.fB;if(F){z=z.clone();z.bo=Math.floor(z.bo);
z.bL=Math.floor(z.bL)}var l=mx.rM(z.bo,z.bL);for(var L=0;L<E.length;L++){var G=E[L];if(!(G.iG.n==z.n&&G.iG.g==z.g&&G.iG.bq==z.bq&&G.iG.br==z.br))continue;
if(mx.mzA(G.gZ,l)<.2){U=G;break}}if(U){U.rect.x=Math.round(U.eP.x-U.iG.bo+z.bo);U.rect.y=Math.round(U.eP.y-U.iG.bL+z.bL)}else{var g=Math.round(this.g.Brsh.v.Dmtr.v.val),P;
if(F&&g<=3){P={buffer:e.$(g*g*4),rect:new Z(Math.round(r.x-g/2),Math.round(r.y-g/2),g,g)};e.JV(P.buffer,4278190080)}else P=A.s.NZ([this.GJ.zi,this.GJ.Lo],z);
if(F){for(var L=0;L<P.buffer.length;L++)P.buffer[L]=P.buffer[L]>127?255:0}if(P==null)P={buffer:e.$(0),rect:new Z};
var J=z.bo-Math.floor(z.bo),x=z.bL-Math.floor(z.bL);U={zi:P.buffer,mX:e.$(P.rect.Y()),rect:P.rect,eP:P.rect.clone(),iG:z,gZ:mx.rM(z.bo,z.bL)};
e.Jw(U.zi,U.mX,3);E.push(U);if(E.length>200)E=E.slice(100)}k.vg=E;k.BT=Date.now();mx.rG.push(k);mx.rG.sort(function(a,d){return d.BT-a.BT});
while(mx.rG.length>3)mx.rG.pop();return U};mx.rM=function(z,r){return new V(z-Math.floor(z),r-Math.floor(r))};
mx.mzA=function(z,r){var k=r.x,L=r.y,E=Math.abs(k-z.x),F=Math.abs(L-z.y);if(Math.abs(k-1-z.x)<E)k--;
else if(Math.abs(k+1-z.x)<E)k++;if(Math.abs(L-1-z.y)<F)L--;else if(Math.abs(L+1-z.y)<F)L++;E=z.x-k;F=z.y-L;
return Math.sqrt(E*E+F*F)};mx.prototype.ru=function(z){var r=this.mPv;z=z.Mk(r);if(z.z$())return;if(!this.rect.ai(z)){var k=this.rect.MD(z);
while(k.Y()/this.rect.Y()<2){k.aD(16,16);k=k.Mk(r)}if(r.Y()/k.Y()<2)k=r.clone();var L=e.$(k.Y()*4);if(this.bT)e.Jb(this.bT,this.rect,L,k);
this.rect=k;this.bT=L}};mx.mBu=function(z,r,k){var L,E,F,U=z.Brsh.v.Dmtr.v.val;if(z.Brsh.v.classID=="computedBrush"){var l=z.Brsh.v.Hrdn.v.val/100,G=1.55;
F=1.2;var g=Math.round(F*U*G),P=Math.pow(l,.55);E=new Z(0,0,g,g);L=e.$(g*g);var J=g/2,x=1/J,r=mx.mBQ(l);
for(var a=0;a<g;a++){var d=G*(a-J+.25)*x,t=G*(a-J+.75)*x;for(var m=0;m<g;m++){var b=G*(m-J+.25)*x,I=G*(m-J+.75)*x,v=Math.floor(Math.sqrt(b*b+d*d)*(1e3/1.55)),W=Math.floor(Math.sqrt(I*I+d*d)*(1e3/1.55)),B=Math.floor(Math.sqrt(b*b+t*t)*(1e3/1.55)),n=Math.floor(Math.sqrt(I*I+t*t)*(1e3/1.55));
L[a*g+m]=Math.round(255*.25*(r[v]+r[W]+r[B]+r[n]))}}}if(z.Brsh.v.classID=="sampledBrush"){var j;for(var a=0;
a<r.length;a++)if(r[a].id==z.Brsh.v.sampledData.v)j=r[a];L=j.channel;E=new Z(0,0,j.iy.X,j.iy.z);F=Math.min(E.X,E.z)/U}var p=e.$(E.Y()*4);
e.JN(L,p,3);while(Math.min(E.X,E.z)>U*2){var X=new Z(E.x,E.y,Math.floor(E.X/2),Math.floor(E.z/2)),M=A.s.NZ([p,E],new zT(X.X/E.X,0,0,X.z/E.z,0,0));
F*=X.X/E.X;E=M.rect;p=M.buffer}return{pH:F,Lo:E,zi:p}};mx.rE=[];mx.mBQ=function(z){if(mx.rE[z])return mx.rE[z];
var r=Math.pow(z,.55),k=new Float64Array(2e3);for(var L=0;L<2e3;L++)k[L]=mx.mBP(L*(1/1e3)*1.55,r);mx.rE[z]=k;
return k};mx.mBP=function(z,r){var k=z<r?1:mx.mcj((z-r)/Math.pow(1.001-r,.86));return k};mx.mcj=function(z){var r=z*.85;
return Math.exp(-(r*r)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};mx.prototype.Te=function(){return this.rect.clone()};
mx.prototype.rc=function(){return this.Hf.Mk(this.rect)};mx.prototype.mcD=function(){return this.rS.Mk(this.rect)};
mx.prototype.rA=function(){return this.bT};mx.Qa=function(z,r,k,L,E,F){var U=Y.d("canvas",""),l=U.getContext("2d");
U.width=F!=null?F:L;U.height=E;l.fillStyle="#ffffff";l.fillStyle="#000000";l.font=Math.floor(10*Y.Z())+"px Arial";
var G=""+z.Brsh.v.Dmtr.v.val,g=l.measureText(G);l.fillText(G,(L-g.width)/2,E-2);var P=L,J=E-10*Y.Z(),x=Math.min(P,J),a=z.Brsh.v.Dmtr.v.val,d=z.Brsh.v.classID;
if(d=="computedBrush"){l.translate(P/2,J/2);l.rotate(-z.Brsh.v.Angl.v.val*Math.PI/180);l.scale(1,.1+.9*z.Brsh.v.Rndn.v.val/100);
var t=Math.min(.95*x/2,G/2)+.5,m=.9*z.Brsh.v.Hrdn.v.val/100,b=l.createRadialGradient(0,0,0,0,0,t);b.addColorStop(m,"rgba(0,0,0,1)");
b.addColorStop((.5+m)/1.5,"rgba(0,0,0,.5)");b.addColorStop(1,"rgba(0,0,0,0)");l.fillStyle=b;l.fillRect(-t,-t,2*t,2*t)}else if(d=="sampledBrush"){var I;
for(var v=0;v<r.length;v++)if(r[v].id==z.Brsh.v.sampledData.v)I=r[v];var W=Y.d("canvas",""),B=W.getContext("2d");
W.width=I.iy.X;W.height=I.iy.z;var n=B.getImageData(0,0,W.width,W.height),j=new e.Ph(W.width*W.height);
j.n=I.channel;e.Jh(j,n.data);B.putImageData(n,0,0);x=Math.min(x,z.Brsh.v.Dmtr.v.val);var p=Math.max(W.width,W.height),X=.85*W.width*x/p,M=.85*W.height*x/p;
l.drawImage(W,(P-X)/2,(J-M)/2,X,M)}else{}return U.toDataURL()};mx.rh=function(z,r,k){if(k==0)k=1;var L=new Z(0,0,128,128),E=z.Brsh.v.Dmtr.v.val;
z.Brsh.v.Dmtr.v.val=Math.min(180,E*k);var F=z.Brsh.v.Dmtr.v.val,U=new mx(z,r,null,{fx:1},0,0,L);z.Brsh.v.Dmtr.v.val=E;
U.moveTo(L.X/2,L.z/2);var l=new e.Ph(L.Y()),G=e.$(L.Y()*4);e.Jb(U.rA(),U.Te(),G,L);e.JR(G,l);if(F>=3){var g=e.$(L.Y());
e.i.mEn(l.n,g,L);var P=e.$(L.Y());e.blur.Pk(e.clone(g),P,L,1);e.Jy(l,255);e.JZ(P,l.n);for(var J=0;J<g.length;
J++)if(g[J]==255){l.n[J]=255;l.F[J]=l.P[J]=l.g[J]=0}}else{var x=64*128+64,a=l.n,d=10;for(var J=0;J<4;
J++){a[x-d*128+J*128-1]=a[x-d*128+J*128]=255;a[x+d*128-J*128-1-128]=a[x+d*128-J*128-128]=255;a[x-128-d+J]=a[x-128-d+J+128]=255;
a[x-128+d-J-1]=a[x-128+d-J-1+128]=255}}var t=e.$(L.Y()*4);e.Jh(l,t);t[3]=Math.max(t[3],1);var m=zc.mo(t,L.X,L.z);
return m};mx.TG="0";mx.TP="1";mx.Tz="2";mx.rT="3";var ma={};ma.rR=function(z,r){var k=z.rr(),G;if(k.x==Infinity||k.z$())return{bT:e.$(0),rect:new Z,Ya:new Z};
var L=z.rr(),E=ma.rw(z,r),F=e.b.Mm(E.O);if(F.z$())return{bT:e.$(0),rect:new Z,Ya:new Z};var U=Y.d("canvas","");
U.width=F.X;U.height=F.z;var l=U.getContext("2d");l.translate(-F.x,-F.y);ma.mcU(E,l);if(z.kW.length!=0){var g=l.getImageData(0,0,F.X,F.z);
G=new Uint8Array(g.data.buffer)}else G=e.$(F.Y()*4);return{bT:G,rect:F,Ya:L}};ma.rw=function(z,r){var k={be:[],O:[]};
ma.mSg(z,k);if(!e.ut.up(r.Yx)){var L=e.b.GF(k.O);k=e.b.MP(k);k=e.b.Mz(k,Math.min(L.X,L.z)/8);var E=q.Te(r,z),F=e.ut.uH(r.Yx,E);
e.zB.apply(F,k.O,E)}var U=r.Wg;e.b.Wg(k.O,U,k.O);return k};ma.mcU=function(z,r){Typr.U.pathToContext({crds:z.O,cmds:z.be},r)};
ma.ry=function(z,r){var k=z.Yc.ResourceDict.FontSet,L=[],E=z.Yc.EngineDict.StyleRun.RunArray,U=!0;for(var F=0;
F<E.length;F++)L.push(q.rf(z.Yc,F).Font);for(var F=0;F<L.length;F++){var l=L[F];if(r.Hk(k[l].Name)==null)U=!1}return U};
ma.mSg=function(z,r){var k=new zT;for(var L=0;L<z.kM.length;L++)ma.mmB(z.kW,z.kM[L],r,k)};ma.mmB=function(z,r,k,L){L.translate(r.gZ.x,r.gZ.y);
for(var E=0;E<r.g_.length;E++){var F={},U=r.g_[E];if(!U.Hx)break;L.translate(U.gZ.x,U.gZ.y);for(var l=U.start;
l<U.end;l++)ma.mmp(z,r.j$[l],F,k,L);L.translate(-U.gZ.x,-U.gZ.y)}L.translate(-r.gZ.x,-r.gZ.y)};ma.mmX="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
ma.mmp=function(z,r,k,L,E){E.translate(r.gZ.x,r.gZ.y);for(var F=r.start;F<r.end;F++){var U=z[F],l=E.clone();
l.translate(U.gZ.x,U.gZ.y);var G=U.kU.FontSize/U.cb.head.unitsPerEm,g=q.GU(U.kU),P=(Math.round(g.F)<<16)+(Math.round(g.P)<<8)+Math.round(g.g);
L.be.push("#"+e.mk(P));if(U.path.be.length!=0){var J=new zT(G,0,0,-G,0,0);if(U.gO==1&&ma.mmX.indexOf(U.gR)!=-1)J.concat(new zT(-1,0,0,1,U.rect.X,0));
if(U.kU.FauxItalic)J.concat(new zT(1,0,-Math.tan(.18),1,0,0));J.scale(U.scale.x,U.scale.y);J.concat(l);
e.b.concat(L,U.path,J)}if(U.kU.Underline){if(k.pP==null)k.pP=U.cb.post.underlineThickness*G;if(k.Lc==null)k.Lc=U.cb.post.underlinePosition*G;
var x=0,a=-k.Lc+k.pP/2,d=1.05*U.rect.X/U.scale.x,t=k.pP;e.b.concat(L,{be:["M","L","L","L","Z"],O:[x,a,x+d,a,x+d,a+t,x,a+t]},l)}if(U.kU.Strikethrough){var m=U.cb["OS/2"].yStrikeoutSize*G,b=U.cb["OS/2"].yStrikeoutPosition*G,x=0,a=-b-m/2,d=1.05*U.rect.X/U.scale.x,t=m;
e.b.concat(L,{be:["M","L","L","L","Z"],O:[x,a,x+d,a,x+d,a+t,x,a+t]},l)}L.be.push("X")}E.translate(-r.gZ.x,-r.gZ.y)};
function mc(z,r){var k,L=q.rY(z);if(L)k=new Z(L[0],L[1],L[2],L[3]);this.gy=0;this.kM=[];this.rect=new Z;
this.kW=[];var E=q.rH(z),F={};for(var U=0;U<E.length;U++){var l={gR:E.charAt(U),kU:q.mJu(z,U),Jz:0,path:null,cb:null,rect:new Z,Lo:new Z,gZ:new V(0,0),scale:new V(0,0),BW:0,lineHeight:0,Kh:0,KR:0,gO:0,HD:U},G=z.ResourceDict.FontSet[l.kU.Font].Name,g=l.cb=r.Hk(G);
if(F[G]==null){F[G]=Typr.U.stringToGlyphs(g,E)}var P=F[G],J=Typr.U.codeToGlyph(g,l.gR.charCodeAt(0));
if(l.gR=="\n")l.Jz=-1;else if(P[U]==J&&l.kU.FontCaps!=0)l.Jz=Typr.U.codeToGlyph(g,l.gR.toUpperCase().charCodeAt(0));
else l.Jz=P[U];if(l.Jz==-1)l.path={be:[],O:[]};else{var x=Typr.U.glyphToPath(g,l.Jz);l.path={be:x.cmds,O:x.crds}}l.scale.x=l.kU.HorizontalScale==null?1:l.kU.HorizontalScale;
l.scale.y=l.kU.VerticalScale==null?1:l.kU.VerticalScale;var a=g["OS/2"],d=g.hhea;if(l.kU.FontCaps==1&&P[U]==J&&l.gR!=l.gR.toUpperCase()){var t=a.sxHeight?a.sxHeight/a.sTypoAscender:.76;
l.scale.x*=t;l.scale.y*=t}var m=1/g.head.unitsPerEm*l.kU.FontSize;if(l.kU.FontBaseline==1){var t=z.ResourceDict.SuperscriptSize;
l.scale.x*=t;l.scale.y*=t;l.gZ.y-=z.ResourceDict.SuperscriptPosition*l.kU.FontSize}if(l.kU.FontBaseline==2){var t=z.ResourceDict.SubscriptSize;
l.scale.x*=t;l.scale.y*=t;l.gZ.y+=z.ResourceDict.SubscriptPosition*l.kU.FontSize}if(l.kU.BaselineShift)l.gZ.y-=l.kU.BaselineShift;
l.rect.x=0;l.rect.X=l.scale.x*(l.Jz==-1?0:g.hmtx.aWidth[l.Jz])*m;l.rect.y=-d.ascender*m;l.rect.z=-l.rect.y;
if(g.glyf==null){l.Lo=l.rect.clone();l.Lo.z*=l.scale.y;l.Lo.y-=l.Lo.z-l.rect.z;l.Lo.z*=1.3}else if(g.glyf[l.Jz]!=null){var b=g.glyf[l.Jz];
l.Lo.x=b.xMin*m;l.Lo.X=(b.xMax-b.xMin)*m*l.scale.x;l.Lo.y=-b.yMax*m*l.scale.y;l.Lo.z=(b.yMax-b.yMin)*m*l.scale.y}l.Lo.y=-m*(a?a.usWinAscent:g.head.yMax)*.9357;
l.Lo.z=-l.Lo.y-m*g.head.yMin;l.BW=(a?a.sTypoAscender:g.head.unitsPerEm)*m;if(l.BW==0)l.BW=d.ascender*m;
l.lineHeight=(d.ascender-d.descender)*m;l.Kh=d.ascender*m;l.KR=(-d.descender+d.lineGap)*m;if(l.kU.AutoLeading==!1)l.lineHeight=l.kU.Leading;
this.kW.push(l)}for(var U=0;U<z.EngineDict.ParagraphRun.RunLengthArray.length;U++){var I=new mc.rn(z,r,this.kW,U,k);
this.kM.push(I)}var v=k==null?0:this.kM[0].g_[0].BW;for(var U=0;U<this.kM.length;U++){var W=this.kM[U].g_;
if(U>0)v+=W[0].lineHeight;this.kM[U].gZ.y=v;this.gy+=W.length;if(k)for(var B=0;B<W.length;B++)W[B].Hx=W[B].gZ.y+v<k.y+k.z;
var n=this.kM[U].rect.clone();n.aj(this.kM[U].gZ);this.rect=this.rect.MD(n);for(var B=1;B<W.length;B++)v+=W[B].lineHeight;
v+=q.re(z,U).SpaceAfter;if(U<this.kM.length-1)v+=q.re(z,U+1).SpaceBefore}}mc.prototype.rC=function(z){for(var r=0;
r<this.kW.length;r++)if(this.kW[r].HD==z)return this.kW[r];return null};mc.prototype.rq=function(z,r){var k=-1;
for(var L=0;L<this.kM.length;L++){var E=this.kM[L];for(var F=0;F<E.g_.length;F++){k++;var U=E.g_[F],l=E.g_[F+1];
if(l==null&&L<this.kM.length-1)l=this.kM[L+1].g_[0];if(r!=null){if(k!=r)continue}else{if(l!=null&&E.gZ.y+U.gZ.y<z.y)continue}for(var G=U.start;
G<U.end;G++){var g=E.j$[G];if(G<U.end-1&&E.gZ.x+U.gZ.x+E.j$[G+1].gZ.x<z.x)continue;for(var P=g.start;
P<g.end;P++){var J=this.kW[P],x=E.gZ.x+U.gZ.x+g.gZ.x+J.gZ.x,a=E.gZ.y+U.gZ.y+g.gZ.y+J.gZ.y;if(P<g.end-1&&x-J.gZ.x+this.kW[P+1].gZ.x<z.x)continue;
else break}return this.kW[P].HD}}}};mc.prototype.ro=function(z){var r=0,E=0;for(var k=0;k<this.kW.length;
k++)if(this.kW[k].HD==z)r=k;var L={rect:null,gN:0};for(var F=0;F<this.kM.length;F++){var U=this.kM[F];
for(var l=0;l<U.g_.length;l++){var G=U.g_[l];L.gN=E;E++;for(var g=G.start;g<G.end;g++){var P=U.j$[g],J,x,a,d;
for(x=P.start;x<P.end;x++){J=this.kW[x];a=U.gZ.x+G.gZ.x+P.gZ.x+J.gZ.x;d=U.gZ.y+G.gZ.y+P.gZ.y+J.gZ.y;
if(x==r){L.rect=new Z(a,d-J.lineHeight,J.rect.X,J.lineHeight);return L}}}}}};mc.prototype.rr=function(){var z=Infinity,r=Infinity,k=-Infinity,L=-Infinity;
for(var E=0;E<this.kM.length;E++){var F=this.kM[E];for(var U=0;U<F.g_.length;U++){var l=F.g_[U];if(!l.Hx)break;
for(var G=l.start;G<l.end;G++){var g=F.j$[G];for(var P=g.start;P<g.end;P++){var J=this.kW[P],x=F.gZ.x+l.gZ.x+g.gZ.x+J.gZ.x,a=F.gZ.y+l.gZ.y+g.gZ.y+J.gZ.y;
z=Math.min(z,x+J.Lo.x);r=Math.min(r,a+J.Lo.y);k=Math.max(k,x+J.Lo.x+J.Lo.X);L=Math.max(L,a+J.Lo.y+J.Lo.z)}}}}return new Z(z,r,k-z,L-r)};
mc.rL=function(z,r,k,L,E,F){var U=[L],l=0;for(var G=L;G<E;G++){if(k[G]==null)console.log(G,L,E,k);var g=k[G].gR,P=g.charCodeAt(0);
if(P==32){U.push(l,G,1,G+1);l=0}else if(19968<=P&&P<=40959||12288<=P&&P<=12543){U.push(l,G);l=1}else if(F!=null&&(F.indexOf(G-L)!=-1||G!=L&&k[G].gO!=k[G-1].gO)){U.push(l,G);
l=1}else l++}U.push(l);var J=[];for(var G=0;G<U.length;G+=2){var x=U[G],a=U[G+1];if(a==0)continue;J.push(new mc.mJG(z,r,k,x,a))}return J};
mc.rU=function(z,r,k,L){var E=[[],[]],F=0,U=0;while(F<z.length){var l=0,G=F,g=r?r.X-k.StartIndent-k.EndIndent-(F==0?k.FirstLineIndent:0):Infinity;
while(!0){if(F==z.length)break;var P=z[F],J=l==0;if(L)J=J||L.indexOf(U)==-1;else J=J||(P.Gq||P.KS)||l+P.rect.X<g;
if(J){P.gZ.x=l;l+=P.rect.X;F++;U+=P.end-P.start}else break}E[0].push(F-G);E[1].push(g)}return E};mc.rn=function(z,r,k,L,E){this.j$=[];
this.g_=[];this.rect=new Z;this.Lo=new Z;this.gZ=new V(0,0);var F=q.re(z,L),U=z.EngineDict.ParagraphRun.RunLengthArray,l=U[L],G=0,t=0,B=0,n=0,R=0;
for(var g=0;g<L;g++)G+=U[g];var P=F._Direction?F._Direction:0,J=UnicodeBidirectional.resolve,x=UnicodeBidirectional.reorderPermutation,a=q.rH(z).slice(G,G+l),d=[];
for(var g=0;g<a.length;g++){var m=a.charCodeAt(g);d.push(m);if(m>t)t=m}var b=[];for(var g=0;g<a.length;
g++)b.push(0);if(t>1424)b=J(d,P);for(var g=0;g<d.length;g++)k[G+g].gO=b[g]&1;var I=mc.rL(z,r,k,G,G+l),v=mc.rU(I,E,F)[0],W=[];
for(var j=0;j<v.length;j++){var p=n;for(var g=0;g<v[j];g++){var X=I[B+g];n+=X.end-X.start}W.push(n);
var M=b.slice(p,n),H=x(M),c=k.slice(G+p,G+n);if(H.length==c.length)for(var g=0;g<c.length;g++)k[G+p+g]=c[H[g]];
B+=v[j]}this.j$=mc.rL(z,r,k,G,G+l,W);var S=mc.rU(this.j$,E,F,W),v=S[0],w=S[1];for(var j=0;j<v.length;
j++){var i={start:R,end:0,rect:new Z,Lo:new Z,gZ:new V(0,0),BW:0,lineHeight:0,Kh:0,KR:0,Hx:!0};this.g_.push(i);
R+=v[j];i.end=R;var f=i.end==this.j$.length,_=w[j],u=q.rp(F);if(E&&u>2&&(u==6||!f))this.mcK(i,this.j$,k,_,P);
for(var g=i.start;g<i.end;g++){var Q=this.j$[g].rect.clone();Q.aj(this.j$[g].gZ);i.rect=i.rect.MD(Q);
var $=this.j$[g].Lo.clone();$.aj(this.j$[g].gZ);i.Lo=i.Lo.MD($);i.BW=Math.max(i.BW,this.j$[g].BW);i.lineHeight=Math.max(i.lineHeight,this.j$[g].lineHeight);
i.Kh=Math.max(i.Kh,this.j$[g].Kh);i.KR=Math.max(i.KR,this.j$[g].KR)}if(E){var C=this.lineWidth(i,this.j$,P);
i.gZ.x=0;if(u==1||f&&u==4)i.gZ.x=C[1]+(_-C[0]);if(u==2||f&&u==5)i.gZ.x=C[1]+(_-C[0])/2;if(this.g_.length==1)i.gZ.x+=F.FirstLineIndent;
i.gZ.x+=F.StartIndent}else{if(u==0)i.gZ.x=F.StartIndent+F.FirstLineIndent;if(u==1)i.gZ.x=-i.rect.X-F.EndIndent;
if(u==2)i.gZ.x=-i.rect.X/2}if(this.g_.length==1)i.gZ.y=0;else i.gZ.y=this.g_[this.g_.length-2].gZ.y+Math.max(this.g_[this.g_.length-2].KR+i.Kh,i.lineHeight)}for(var g=0;
g<this.g_.length;g++){var y=this.g_[g].rect.clone();y.aj(this.g_[g].gZ);this.rect=this.rect.MD(y);var N=this.g_[g].Lo.clone();
N.aj(this.g_[g].gZ);this.Lo=this.Lo.MD(N)}};mc.rn.prototype.lineWidth=function(z,r,k){var L=0,E=0;for(var F=z.start;
F<z.end;F++)L+=r[F].rect.X;if(k==0)for(var F=z.end-1;F>=z.start;F--)if(r[F].Gq||r[F].KS)L-=r[F].rect.X;
else break;if(k==1)for(var F=z.start;F<z.end;F++)if(r[F].Gq||r[F].KS){var U=r[F].rect.X;L-=U;E-=U}else break;
return[L,E]};mc.rn.prototype.mcK=function(z,r,k,L,E){var F=0,U=0,l=0,G=0;for(var g=z.start;g<z.end;g++)if(r[g].Gq)l++;
else{F+=r[g].rect.X;U++}if(E==0)for(var g=z.end-1;g>=z.start;g--)if(r[g].Gq||r[g].KS){if(r[g].Gq){l--}}else break;
if(E==1)for(var g=z.start;g<z.end;g++)if(r[g].Gq||r[g].KS){if(r[g].Gq){l--;G++}}else break;if(U<=1||l==0)return;
var P=(L-F)/l,J=-G*P;for(var g=z.start;g<z.end;g++){if(r[g].Gq)k[r[g].start].rect.X=r[g].rect.X=P;r[g].gZ.x=J;
J+=r[g].rect.X}};mc.mJG=function(z,r,k,L,E){this.Gq=E==1&&k[L].gR==" ";this.KS=E==1&&k[L].gR=="\n";this.start=L;
this.end=L+E;this.rect=new Z;this.Lo=new Z;this.gZ=new V(0,0);this.BW=0;this.lineHeight=0;this.Kh=0;
this.KR=0;var F=0,U=0;if(E==0){this.lineHeight=k[L].lineHeight;this.BW=k[L].BW;this.rect=new Z(0,-k[L].lineHeight,0,k[L].lineHeight)}for(var l=0;
l<E;l++){var G=k[L+l],g=[1611,1612,1614,1615,1618,1623,1624,1761,1613,1616,1622,1617,1552-1556,1625,1750-1756,1759,1760,1762,1764,1767,1768,1771,1772,1763,1770,1773,1648,1619,1620,1621].indexOf(G.gR.charCodeAt(0))!=-1&&G.cb.kern==null&&G.cb.GPOS==null,P=1/G.cb.head.unitsPerEm*G.kU.FontSize,d=0;
if(!G.kU.AutoKerning)F+=G.kU.Kerning*2*P;G.gZ.x=F;if(G.cb.hmtx.aWidth[G.Jz])F+=(g?0:G.cb.hmtx.aWidth[G.Jz])*G.scale.x*P;
if(G.kU.AutoKerning&&l<E-1){var J=k[L+l+1].Jz,x=0;if(J!=-1){x=Typr.U.getPairAdjustment(G.cb,G.Jz,J);
if(g)G.gZ.x+=G.scale.x*P*G.cb.hmtx.aWidth[J]/2}if(x==null)x=0;F+=x*P}var a=G.rect.clone();a.aj(G.gZ);
if(G.kU.Tracking)d=G.kU.Tracking*.001*G.kU.FontSize;F+=d;if(E==1&&G.gR==" ")a.X+=2*d;this.rect=this.rect.MD(a);
var t=G.Lo.clone();t.aj(G.gZ);this.Lo=this.Lo.MD(t);this.BW=Math.max(this.BW,G.BW);this.lineHeight=Math.max(this.lineHeight,G.lineHeight);
this.Kh=Math.max(this.Kh,G.Kh);this.KR=Math.max(this.KR,G.KR)}};function q(){}q.oX=function(z){return JSON.parse(JSON.stringify(z))};
q.rI=function(z,r){for(var k in r)z[k]=r[k]};q.rs=function(z,r,k){var L=q.mcu();if(k)q.Lm(L,0,0,k);var E={Wg:new zT(1,0,0,1,Math.round(z),Math.round(r)),Yc:L};
E.Yl=q.LW();E.Yx=e.ut.$();E.Ya=new Z;return E};q.rt=function(z){var r=["CharacterDirection",0];for(var k=0;
k<r.length;k+=2){if(z[r[k]]!=null&&z[r[k]]!=r[k+1]){throw"e";console.log(r[k],z[r[k]])}}if(z instanceof Array)for(var k=0;
k<z.length;k++)q.rt(z[k]);else if(z instanceof Object)for(var L in z)q.rt(z[L])};q.rp=function(z,r){if(r==null)r=z.Justification;
var k=z._Direction?z._Direction:0;if(k==1){if(r==0||r==3)r++;else if(r==1||r==4)r--}return r};q.GU=function(z){var r={F:0,P:0,g:0};
if(z.FillColor){var k=z.FillColor,L=k.Values;if(k.Type==1)r={F:L[1]*255,P:L[2]*255,g:L[3]*255};else if(k.Type==2){var E={classID:"CMYC",Cyn:{t:"doub",v:L[1]*100},Mgnt:{t:"doub",v:L[2]*100},Ylw:{t:"doub",v:L[3]*100},Blck:{t:"doub",v:L[4]*100}};
r=e.v.GU(E)}else console.log("Unknown color type")}return r};q.Te=function(z,r){var k;if(q.ri(z.Yc)==1){var L=q.rY(z.Yc);
k=new Z(0,0,L[2]-L[0],L[3]-L[1])}else k=r.rr();return k};q.Gw=function(z){var r=z[0];for(var k=0;k<z.length;
k++)r=q.mJM(r,z[k]);return r};q.mJM=function(z,r){var k={};for(var L in z)if(JSON.stringify(z[L])==JSON.stringify(r[L]))k[L]=z[L];
return k};q.rd=function(z,r){var k=z.kw,L=-1;for(var E=0;E<k.length;E++)if(k[E].Name==r)L=E;if(L==-1){L=k.length;
k.push({FontType:1,Name:r,Script:0,Synthetic:0})}z.kW.Font=L};q.rH=function(z){return z.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
q.rb=function(z,r){z.EngineDict.Editor.Text=r.replace(/\n/g,"\r")};q.ri=function(z){return z.EngineDict.Rendered.Shapes.Children[0].ShapeType};
q.rD=function(z,r){var k=z.EngineDict.Rendered.Shapes.Children[0];k.ShapeType=r;var L=k.Cookie.Photoshop;
L.ShapeType=r;L.Base.ShapeType=r;if(r==0){delete L.BoxBounds;L.PointBase=[0,0]}if(r==1){delete L.PointBase;
L.BoxBounds=[0,0,1,1]}};q.rY=function(z){return z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
q.rk=function(z,r){z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=r};q.mJu=function(z,r){return q.rf(z,q.LM(z.EngineDict.StyleRun.RunLengthArray,r).Dv)};
q.rf=function(z,r){var k=z.ResourceDict.StyleSheetSet[0].StyleSheetData,L={};for(var E in k)L[E]=k[E];
var F=z.EngineDict.StyleRun.RunArray[r].StyleSheet.StyleSheetData;q.rI(L,F);return L};q.re=function(z,r){var k=z.ResourceDict.ParagraphSheetSet[0].Properties,L=q.oX(k),E=z.EngineDict.ParagraphRun.RunArray[r].ParagraphSheet.Properties;
q.rI(L,E);return L};q.rg=function(z,r,k){if(k=="")return;var L=q.rH(z);q.rb(z,L.substring(0,r)+k+L.substring(r,L.length));
var E=q.LM(z.EngineDict.StyleRun.RunLengthArray,r-1);z.EngineDict.StyleRun.RunLengthArray[E.Dv]+=k.length;
var F=z.EngineDict.ParagraphRun,U=F.RunLengthArray,l=q.LM(U,r),G=k.split("\n");if(G.length==1){U[l.Dv]+=k.length;
return}U.splice(l.Dv+1,0,U[l.Dv]-(r-l._R));F.RunArray.splice(l.Dv+1,0,q.oX(F.RunArray[l.Dv]));U[l.Dv]-=U[l.Dv+1];
U[l.Dv]+=G[0].length+1;for(var g=1;g<G.length-1;g++){F.RunArray.splice(l.Dv+g,0,q.oX(F.RunArray[l.Dv+g-1]));
F.RunLengthArray.splice(l.Dv+g,0,G[g].length+1)}U[l.Dv+G.length-1]+=G[G.length-1].length};q.rF=function(z,r,k){var L=q.rH(z);
q.rb(z,L.substring(0,r)+L.substring(k,L.length));q.LS(z.EngineDict.ParagraphRun,r,k,!0);q.LS(z.EngineDict.StyleRun,r,k,!1)};
q.LS=function(z,r,k,L){var E=z.RunLengthArray,F=q.LM(E,r),U=q.LM(E,k),l=[];for(var G=0;G<E.length;G++)for(var g=0;
g<E[G];g++)l.push(G);l.splice(r,k-r);var P=[];for(var G=0;G<E.length;G++)P.push(0);for(var G=0;G<l.length;
G++)P[l[G]]++;for(var G=0;G<E.length;G++){if(P[G]==0){P.splice(G,1);E.splice(G,1);z.RunArray.splice(G,1);
G--}else if(P[G]<E[G])E[G]=P[G]}if(L&&F.Dv!=U.Dv&&F._R!=r){E[F.Dv]+=E[F.Dv+1];E.splice(F.Dv+1,1);z.RunArray.splice(F.Dv+1,1)}};
q.Lm=function(z,r,k,L){var E=z.EngineDict.Editor.Text.length;if(k==E-2)k++;if(L.kW.Font!=null)z.ResourceDict.FontSet=L.kw.slice(0);
if(r<=k)q.LJ(z.EngineDict.StyleRun,L.kW,r,k,!0);q.LJ(z.EngineDict.ParagraphRun,L.kM,r,k,!1)};q.LJ=function(z,r,k,L,E){var F=z.RunLengthArray;
if(E){var U=q.LM(F,k);if(U._R!=k){var l=F[U.Dv];F.splice(U.Dv,0,k-U._R);F[U.Dv+1]=l-F[U.Dv];z.RunArray.splice(U.Dv+1,0,q.oX(z.RunArray[U.Dv]))}var G=q.LM(F,L);
if(G._R+F[G.Dv]-1!=L){var l=F[G.Dv];F.splice(G.Dv,0,L-G._R+1);F[G.Dv+1]=l-F[G.Dv];z.RunArray.splice(G.Dv+1,0,q.oX(z.RunArray[G.Dv]))}}var U=q.LM(F,k),G=q.LM(F,L);
if(E)for(var g=U.Dv;g<=G.Dv;g++)q.rI(z.RunArray[g].StyleSheet.StyleSheetData,r);else for(var g=U.Dv;
g<=G.Dv;g++)q.rI(z.RunArray[g].ParagraphSheet.Properties,r)};q.LP=function(z,r,k){var L={kw:z.ResourceDict.FontSet.slice(0),kW:[],kM:[]},E=z.EngineDict.StyleRun.RunLengthArray,F=q.LM(E,r).Dv,U=q.LM(E,k).Dv;
for(var l=F;l<=U;l++){var G=q.oX(z.ResourceDict.StyleSheetSet[0].StyleSheetData),g=z.EngineDict.StyleRun.RunArray[l].StyleSheet.StyleSheetData;
q.rI(G,g);L.kW.push(G)}var P=z.EngineDict.ParagraphRun.RunLengthArray,J=q.LM(P,r).Dv,x=q.LM(P,k).Dv;
for(var l=J;l<=x;l++){L.kM.push(q.oX(z.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties))}L.kW=q.Gw(L.kW);
L.kM=q.Gw(L.kM);return L};q.Lz=function(z,r){var k,L;k=["FontSize","Leading","BaselineShift"];L=z.kW;
for(var E=0;E<k.length;E++)if(L[k[E]]!=null)L[k[E]]*=r;k=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
L=z.kM;for(var E=0;E<k.length;E++)if(L[k[E]]!=null)L[k[E]]*=r};q.mJh=function(){return q.LP(q.LE,0,0)};
q.LW=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
q.LM=function(z,r){var k=0,L=0;while(k+z[L]<=r){k+=z[L];L++}return{Dv:L,_R:k}};q.mcu=function(){var z=q.oX(this.LE);
return z};q.Lu={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
q.mcM={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
q.LE={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(q.Lu))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(q.Lu))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(q.mcM))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var mA={};mA.mPc=function(z,r,k){var L={};L._98={_0:"i7"};L._0=mA.mPN(z,r,k?k._0:null);L._1=mA.mzE(z,r,L._0,k?k._1:null);
return L};mA.mPN=function(z,r,k){var L={};L._1=mA.mPO(z,k?k._1:null);L._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
return L};mA.mPN=function(z,r,k){var L={};L._1=mA.mPO(z,k?k._1:null);L._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
L._3=JSON.parse(JSON.stringify(mA.mzd));L._4=JSON.parse(JSON.stringify(mA.maa));L._5=mA.mPF(z,L._1._0,k?k._5:null);
L._6=mA.mae(z,k?k._6:null);L._8=mA.mas(z,r,k?k._8:null);L._9=mA.maM;return L};mA.mPO=function(z,r){var k=[],L=[];
for(var E=0;E<z.length;E++){var F=z[E].ResourceDict.FontSet;for(var U=0;U<F.length;U++){var l=F[U];if(L.indexOf(l.Name)!=-1)continue;
k.push(l);L.push(l.Name)}}var G={_0:[]};for(var E=0;E<k.length;E++){var g=k[E],P={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+g.Name,_1:"i"+g.Script,_2:"i"+g.FontType}}};
if(g.Script==0)delete P._0._0._1;G._0.push(P)}return G};mA.mPF=function(z,r,k){var L={_0:[],_1:[]},E={_0:JSON.parse(JSON.stringify(mA.LO))};
mA.LR(E._0,z[0].ResourceDict.StyleSheetSet[0],r,z[0].ResourceDict.FontSet);L._0.push(E);L._1.push({_0:"i0"});
L._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});L._1.push({_0:"i1"});return L};mA.mae=function(z,r){var k={_0:[],_1:[]},L={_0:JSON.parse(JSON.stringify(mA.L_))};
mA.Lw(L._0,z[0].ResourceDict.ParagraphSheetSet[0]);k._0.push(L);k._1.push({_0:"i0"});L={_0:JSON.parse(JSON.stringify(mA.L_))};
mA.Lw(L._0,z[0].ResourceDict.ParagraphSheetSet[0]);L._0._0="sBasic Paragraph";L._0._6="i0";k._0.push(L);
k._1.push({_0:"i1"});return k};mA.mas=function(z,r,k){var L={_0:[]};for(var E=0;E<z.length;E++){var F={};
L._0.push({_0:F});var U=q.ri(z[E]);if(U==1){var l=q.rY(z[E]),G=l[2],g=l[3];F._1={_0:mA.LN("f",[0,0,0,0,G,0,G,0,G,0,G,0,G,g,G,g,G,g,G,g,0,g,0,g,0,g,0,g,0,0,0,0])}}F._2={};
F._2._0="i"+U;F._2._6=U==0?["f-1","f-1"]:["f-2","f-2"];F._2._11={_4:"i-"+(U==0?1:2),_7:!1}}return L};
mA.mzE=function(z,r,k,L){var E={};E._0=JSON.parse(JSON.stringify(mA.maG));E._1=mA.mav(z,r,k,L?L._1:null);
E._2=JSON.parse(JSON.stringify(mA.LO._6));E._3=JSON.parse(JSON.stringify(mA.L_._5));return E};mA.mav=function(z,r,k,L){var E=[],F=k._1._0;
for(var U=0;U<z.length;U++){var l=z[U],G={_0:{}};E.push(G);var g=L?L[U]:null;G._0._0="s"+l.EngineDict.Editor.Text;
G._0._0=G._0._0;var P={_0:[]};G._0._5=P;var J=l.EngineDict.ParagraphRun;for(var x=0;x<J.RunArray.length;
x++){var a={_0:{}};P._0.push(a);a._0._0={_0:"s",_5:{},_6:"i1"};mA.Lw(a._0._0,l.EngineDict.ParagraphRun.RunArray[x].ParagraphSheet);
a._1="i"+J.RunLengthArray[x]}var d={_0:[]};G._0._6=d;var t=g?g._0._6:null;J=l.EngineDict.StyleRun;for(var x=0;
x<J.RunArray.length;x++){var m={_0:{}};d._0.push(m);var b=t?t._0:null;m._0._0={_0:"s",_5:"i1",_6:{}};
mA.LR(m._0._0,l.EngineDict.StyleRun.RunArray[x].StyleSheet,F,l.ResourceDict.FontSet,b?m._0._0:null);
m._1="i"+J.RunLengthArray[x]}G._0._10={_0:"i4",_2:!0};G._1=mA.view.mxF(l,null,U,null)}return E};mA.LR=function(z,r,k,L,E){z._0="s"+(r.Name?r.Name:"");
var F=z._6,U=E?E._6:null,l=r.StyleSheetData;if(l.Font==null)return;var G=L[l.Font].Name,g=-1;for(var P=0;
P<k.length;P++)if("s"+G==k[P]._0._0._0){g=P;break}F._0="i"+g;if(l.FontSize!=null)F._1="f"+l.FontSize;
if(l.FauxBold!=null)F._2=l.FauxBold;if(l.FauxItalic!=null)F._3=l.FauxItalic;if(l.AutoLeading!=null)F._4=l.AutoLeading;
if(l.Leading!=null)F._5="f"+l.Leading;if(l.HorizontalScale!=null)F._6="f"+l.HorizontalScale;if(l.VerticalScale!=null)F._7="f"+l.VerticalScale;
if(l.Tracking!=null)F._8="i"+l.Tracking;if(l.BaselineShift!=null)F._9="f"+l.BaselineShift;if(l.AutoKerning!=null)F._11="i"+(l.AutoKerning?1:0);
if(l.FontCaps!=null)F._12="i"+l.FontCaps;if(l.FontBaseline!=null)F._13="i"+l.FontBaseline;if(l.Strikethrough!=null)F._15="i"+(l.Strikethrough?1:0);
if(l.Underline!=null)F._16="i"+(l.Underline?2:0);if(l.Ligatures!=null)F._18=l.Ligatures;if(l.DLigatures!=null)F._19=l.DLigatures;
if(l.Language!=null)F._38="i"+l.Language;if(l.FillColor!=null)F._53={_99:"/SimplePaint",_0:{_0:"i1",_1:mA.LN("f",l.FillColor.Values)}}};
mA.Lw=function(z,r){z._0="s"+(r.Name?r.Name:"");var k=z._5,L=r.Properties;if(L.Justification!=null)k._0="i"+L.Justification;
if(L.FirstLineIndent!=null)k._1="f"+L.FirstLineIndent;if(L.StartIndent!=null)k._2="f"+L.StartIndent;
if(L.EndtIndent!=null)k._3="f"+L.EndtIndent;if(L.SpaceBefore!=null)k._4="f"+L.SpaceBefore;if(L.SpaceAfter!=null)k._5="f"+L.SpaceAfter;
if(L.AutoHyphenate!=null)k._9=L.AutoHyphenate;if(L._Direction!=null)k._33="i"+L._Direction};mA.LN=function(z,r){var k=[];
for(var L=0;L<r.length;L++)k.push(z+r[L]);return k};mA.mzd={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
mA.maa={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
mA.LO={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
mA.L_={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
mA.maM={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
mA.maG={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var mh={};mh.mGw=function(z){return mh.Lr(z,mh.Ey)};mh.mPd=function(z){return mh.LL(z,mh.Ey)};mh.Lr=function(z,r){var k;
if(typeof z=="string")return z;if(z instanceof Array){k=[];for(var L=0;L<z.length;L++)k[L]=mh.Lr(z[L],r)}else{k={};
var E={};for(var F in r){var U=r[F],l="_"+U[0];if(z[l]!=null){k[F]=U[1]?mh.Lr(z[l],U[1]):z[l];E[l]=!0}}for(var F in z){if(E[F]==null){console.log(E);
console.log(F,z);throw"e"}}}return k};mh.LL=function(z,r){var k;if(z instanceof Array){k=[];for(var L=0;
L<z.length;L++)k[L]=mh.LL(z[L],r)}else{k={};var E={};for(var F in r){var U=r[F],l="_"+U[0];if(z[F]!=null){k[l]=U[1]?mh.LL(z[F],U[1]):z[F];
E[F]=!0}}for(var F in z){if(E[F]==null){console.log(E);console.log(F,z);throw"e"}}}return k};mh.LU={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
mh._x={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,mh.LU],_StrokeColor:[54,mh.LU],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,mh.LU],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
mh.Ln={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,mh._x],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
mh.Lv={_Name:[0],_Features:[5,mh.Ln],_Parent:[6]};mh.LX={_Name:[0],_Parent:[5],_Features:[6,mh._x]};
mh.Ey={_98:[98,{_0:[0]}],_DocumentResources:[0,{_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,mh.LX]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,mh.Lv]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,mh.Lv]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,mh.LX]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,mh._x],_OriginalNormalParagraphFeatures:[3,mh.Ln]}]};
mA.view={};mA.view.mxF=function(z,r,k,L){var E={},F=q.ri(z);E._0=[{_0:"i"+k}];return E};function CSS(){}CSS.Ls=function(z){var r=z.add,k=r.vmsk,L=r.vstk,E=r.lmfx,F=r.TySh,U=[];
if(z._N()&&k){var l=e.f.um(k.A);if(!l.z$()){U.push("width: "+Math.round(l.X)+"px");U.push("height: "+Math.round(l.z)+"px")}var G=e.f.mKM(k.A);
if(G>0)U.push("border-radius: "+Math.round(G)+"px")}else if(F){var g=F.Yc;if(q.ri(g)==1){var l=q.rY(g);
U.push("width: "+Math.round(l[2])+"px");U.push("height: "+Math.round(l[3])+"px")}CSS.L$(U,q.LP(g,0,0),F.Wg,!1)}if(E&&E.dropShadowMulti.v.length!=0){var P=E.dropShadowMulti.v[0].v;
if(P.enab.v){var J=P.Dstn.v.val,x=P.lagl.v.val*Math.PI/180,a=J*Math.cos(x),d=J*Math.sin(x);U.push("box-shadow: "+(a==0?"0 ":CSS.Bk(-a)+"px ")+(d==0?"0 ":CSS.Bk(d)+"px ")+P.blur.v.val+"px "+CSS.Lp(P.Clr.v,P.Opct.v.val/100)+"")}}var t=mK.oS(E),m=t[0],b=t[1];
if(r.SoCo&&b==null||m){var I=CSS.Lp((m?m:r.SoCo).Clr.v,z.add.iOpa!=null?z.add.iOpa/255:1);U.push("background-color: "+I)}else if(r.GdFl||b){var v=CSS.Bg(b?b:r.GdFl);
U.push("background-image: "+v)}if(L==null||!L.strokeEnabled.v)L=mK.oy(E);if(L&&L.strokeEnabled.v){var W=L.strokeStyleContent.v,B=W.classID,n=K.qk.qj.indexOf(L.strokeStyleLineCapType.v.strokeStyleLineCapType),j=K.qk.join.indexOf(L.strokeStyleLineJoinType.v.strokeStyleLineJoinType),p=L.strokeStyleOpacity.v.val/100,X=L.strokeStyleLineWidth.v.val,M="";
if(B=="solidColorLayer")M=CSS.Lp(W.Clr.v,p);U.push("border: "+X+"px solid "+M)}return U};CSS.mxe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Bk=function(z){return""+parseFloat(z.toFixed(3))};CSS.xl=function(z){if(z==null)return{F:0,P:0,g:0};
if(z.slice(0,4)=="rgb("){var r=z.slice(4,z.length-1).split(",").map(parseFloat);return{F:r[0],P:r[1],g:r[2]}}if(z.charAt(0)!="#"){var k=CSS.mxe;
if(k[z])z=k[z];else console.log("unknown color "+z)}z=z.slice(1);if(z.length==3)z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2];
z=parseInt(z,16);return{F:z>>16&255,P:z>>8&255,g:z&255}};CSS.Lp=function(z,r){if(r==null)r=1;z=e.v.GU(z);
var k=z.F<<16|z.P<<8|z.g;return r==1?"#"+e.mk(k):"rgba("+Math.round(z.F)+","+Math.round(z.P)+","+Math.round(z.g)+","+r+")"};
CSS.Bg=function(z){var r=z.Grad.v;if(r.Clrs==null)return"";var k=r.Clrs.v.slice(0),L=r.Trns.v.slice(0),E=z.Ofst.v,F=z.Type.v.GrdT=="Rdl"?1:0,U=(F==1?"radial":"linear")+"-gradient",l=F==0?Math.round(-z.Angl.v.val+90)+"deg":"circle at center",G=z.Rvrs.v;
if(G){k.reverse();L.reverse()}for(var g=0;g<k.length;g++){var P=k[g].v,J=g<L.length?L[g].v.Opct.v.val/100:1,x=P.Lctn.v/4096;
if(G)x=1-x;l+=", "+CSS.Lp(P.Clr.v,J)+" "+Math.round(x*100)+"%"}return U+"("+l+")"};CSS.L$=function(z,r,k,L,E){var F=r.kW,U=L?1:A.s.Ej(k),l=Math.round(F.FontSize*U);
z.push("font-size: "+l+"px");var G=F.Tracking;if(G!=null&&G!=0)z.push("letter-spacing: "+Math.round(G*l/1e3)+"px");
if(!F.AutoLeading)z.push("line-height: "+Math.round(F.Leading*U)+"px");if(F.Strikethrough)z.push("text-decoration: line-through");
var g=q.GU(F);g=[g.F,g.P,g.g].map(Math.round);z.push((L?"fill":"color")+": #"+e.mk(g[0]<<16|g[1]<<8|g[2]));
var P=r.kw[F.Font].Name;if(P){var J=E;if(J){var x=zy.Hb.Hk(P);if(x==null||P!=zy.VY(x))J=!1}if(J)z.push("font-family: \""+P+"\"");
else{z.push("font-family: \""+CSS.mWc(P)+"\"");var a=P.toLowerCase();if(a.indexOf("light")!=-1)z.push("font-weight: 300");
else if(a.indexOf("black")!=-1||a.indexOf("extrabold")!=-1)z.push("font-weight: 800");else if(a.indexOf("bold")!=-1)z.push("font-weight: bold");
if(a.indexOf("italic")!=-1||a.indexOf("oblique")!=-1)z.push("font-style: italic;")}}var d=r.kM.Justification;
if(d!=null&&d!=0)if(L)z.push("text-anchor: "+["start","end","middle"][d%3]);else z.push("text-align: "+["left","right","center"][d%3])};
CSS.mWc=function(z){z=z.split("-")[0];while(z.endsWith("MT")||z.endsWith("PS"))z=z.slice(0,z.length-2);
var r=!0;for(var k=0;k<z.length;k++){var L=z.charAt(k);if(!r&&L.toLowerCase()!=L){z=z.slice(0,k)+" "+z.slice(k);
k++;r=!0}else r=!1}return z};function mT(){}mT.LH=function(z,r){var k=acorn.parse(z),L=JSON.parse(JSON.stringify(mT.LY.mxV));
L.__return=!1;L.__break=!1;L.__throw=!1;mT.eval(k,r,L)};mT.eval=function(z,r,k){var L=z.type;if(!1){}else if(L=="Program"||L=="BlockStatement"){var E=z.body;
for(var F=0;F<E.length;F++){var U=E[F].type;if(U=="FunctionDeclaration")k[E[F].id.name]=E[F]}for(var F=0;
F<E.length;F++){var U=E[F].type,l=mT.eval(E[F],r,k);if(k.__return||k.__break||k.__throw)return l}}else if(L=="ReturnStatement"){k.__return=!0;
return z.argument?mT.GX(z.argument,r,k):null}else if(L=="BreakStatement"){k.__break=!0}else if(L=="VariableDeclaration"){var G=z.declarations;
for(var F=0;F<G.length;F++)mT.eval(G[F],r,k)}else if(L=="VariableDeclarator"){k[z.id.name]=z.init?mT.GX(z.init,r,k):null}else if(L=="FunctionDeclaration"){k[z.id.name]=z}else if(L=="MemberExpression"){var g=mT.GX(z.object,r,k),P=z.computed?mT.GX(z.property,r,k):mT.eval(z.property,r,k),l;
if(g.kJ!=null)l=mT.LY.Lf(g,P,r,k);else l=g[P];return l}else if(L=="ArrayExpression"){var J=[],x=z.elements;
for(var F=0;F<x.length;F++)J.push(mT.GX(x[F],r,k));return J}else if(L=="ObjectExpression"){var J={},x=z.properties;
for(var F=0;F<x.length;F++){var a=x[F],d=x[F].key.name?x[F].key.name:x[F].key.value;J[d]=mT.GX(x[F].value,r,k)}return J}else if(L=="ExpressionStatement"){return mT.eval(z.expression,r,k)}else if(L=="NewExpression"){var t=z.arguments,m=z.callee,b=m.type,J=null;
if(b=="Identifier")J=mT.LY.mur(m.name,t,r,k);else throw"e";if(J==null)throw"e";return J}else if(L=="CallExpression"){var t=z.arguments,m=z.callee,b=m.type,I={};
for(var v in k)I[v]=k[v];var W=[];for(var F=0;F<t.length;F++)W.push(mT.GX(t[F],r,k));if(b=="Identifier"){var B=k[m.name];
if(B){if(B.params){var n=B.params;for(var F=0;F<n.length;F++)I[n[F].name]=W[F];return mT.eval(B.body,r,I)}else{return B.apply(null,W)}}else if(window[m.name]==null)console.log("Unknown function "+m.name);
else{var j=window[m.name].apply(window,W);return j}}else if(b=="MemberExpression"){var g=mT.GX(m.object,r,k),P=m.computed?mT.GX(m.property,r,k):mT.eval(m.property,r,k);
if(g.kJ!=null)return mT.LY.Ti(g,P,W,r,k);else return g[P].apply(g,W)}else console.log(z)}else if(L=="AssignmentExpression"){var p=z.operator,X=z.left,M=X.type,H=mT.GX(X,r,k),c=mT.GX(z.right,r,k),l=null;
if(!1){}else if(p=="=")l=c;else if(p=="+=")l=H+c;else if(p=="-=")l=H-c;else if(p=="*=")l=H*c;else if(p=="/=")l=H/c;
else if(p=="%=")l=H%c;else if(p=="&=")l=H&c;else if(p=="|=")l=H|c;else if(p=="&&=")l=H&&c;else if(p=="||=")l=H||c;
else console.log(z);if(M=="Identifier"){var S=X.name;if(!k.hasOwnProperty(S))throw"e";k[S]=l}else if(M=="MemberExpression"){var w=mT.eval(X.property,r,k),R=mT.GX(X.object,r,k);
if(R.kJ!=null)mT.LY.mxO(R,w,l,r,k);else R[w]=l}else console.log(z)}else if(L=="Identifier")return z.name;
else if(L=="Literal")return z.value;else if(L=="UpdateExpression"){var p=z.operator,i=z.argument.name,J=mT.GX(z.argument,r,k);
if(!1){}else if(p=="++"){k[i]++;return z.prefix?k[i]:k[i]-1}else if(p=="--"){k[i]--;return z.prefix?k[i]:k[i]+1}else console.log(z)}else if(L=="UnaryExpression"){var p=z.operator,f=mT.GX(z.argument,r,k);
if(f.kJ=="UnitValue"){if(p=="-")return-f.u;else return mT.Li(f.u,p)}else return mT.Li(f,p)}else if(L=="BinaryExpression"||L=="LogicalExpression"){var p=z.operator,X=mT.GX(z.left,r,k),f=mT.GX(z.right,r,k);
if(X==null||f==null)return mT.Lb(X,f,p);else if(X.kJ=="UnitValue"&&f.kJ=="UnitValue")return mT.Lb(X.u,f.u,p);
else if(X.kJ=="UnitValue")return mT.Lb(X.u,f,p);else if(f.kJ=="UnitValue"){if(p=="-")return-(X-f.u);
else return mT.Lb(X,f.u,p)}else return mT.Lb(X,f,p)}else if(L=="IfStatement"||L=="ConditionalExpression"){var _=mT.GX(z.test,r,k);
if(_)return mT.eval(z.consequent,r,k);else if(z.alternate)return mT.eval(z.alternate,r,k)}else if(L=="ForInStatement"){mT.eval(z.left,r,k);
var u=z.left.declarations[0].id.name,Q=mT.GX(z.right,r,k);for(var v in Q){k[u]=v;var $=mT.eval(z.body,r,k);
if(k.__break)break;if(k.__return)return $}k.__break=!1}else if(L=="ForStatement"){mT.eval(z.init,r,k);
while(mT.eval(z.test,r,k)){var $=mT.eval(z.body,r,k);if(k.__break)break;if(k.__return)return $;mT.eval(z.update,r,k)}k.__break=!1}else if(L=="DoWhileStatement"){do{var $=mT.eval(z.body,r,k);
if(k.__break)break;if(k.__return)return $}while(mT.eval(z.test,r,k));k.__break=!1}else if(L=="TryStatement"){mT.eval(z.block,r,k);
if(k.__throw){var C=z.handler;k[C.param.name]=k.__throw;k.__throw=!1;mT.eval(C.body,r,k);delete k[C.param.name]}}else console.log(z)};
mT.Lb=function(z,r,k){if(k=="+")return z+r;else if(k=="-")return z-r;else if(k=="*")return z*r;else if(k=="/")return z/r;
else if(k=="%")return z%r;else if(k=="^")return z^r;else if(k=="&")return z&r;else if(k=="&&")return z&&r;
else if(k=="|")return z|r;else if(k=="||")return z||r;else if(k=="<")return z<r;else if(k==">")return z>r;
else if(k=="==")return z==r;else if(k=="<=")return z<=r;else if(k==">=")return z>=r;else if(k=="!=")return z!=r;
else if(k=="!==")return z!==r;else if(k=="<<")return z<<r;else if(k==">>")return z>>r;else console.log(k)};
mT.Li=function(z,r){if(r=="-")return-z;else if(r=="!")return!z;else if(r=="~")return~z;else console.log(obj)};
mT.GX=function(z,r,k){var L=z.type;if(L=="Identifier")return mT.muB(z.name,r,k);else return mT.eval(z,r,k)};
mT.muB=function(z,r,k){if(z=="undefined")return undefined;else if(k.hasOwnProperty(z))return k[z];else if(z=="app")return{kJ:"Application"};
else if(mT.LY.muL.indexOf(z)!=-1)return mT.LY.Lf({kJ:"Application"},z,r,k);else if(window[z])return window[z];
else{k[z]=null;return null}};mT.LY={};mT.LY.mur=function(z,r,k,L){if(z=="SolidColor")return{kJ:"SolidColor",u:[1,0,0,0]}};
mT.LY.muL=["activeDocument","documents","fonts","preferences","displayDialogs"];mT.LY.Lf=function(z,r,k,L){if(!1){}else if(r=="typename"){if(z.kJ=="Layer")return z.u._w()?"LayerSet":"ArtLayer";
else return z.kJ}else if(["Document","Layer"].indexOf(z.kJ)!=-1&&["layers","artLayers","layerSets"].indexOf(r)!=-1){var E=k.dr(),F=E.root,U={kJ:"Layers",u:[]};
if(z.kJ=="Layer")F=E.root.Cy(E.a.indexOf(z.u));for(var l=0;l<F.children.length;l++){var G=F.children[l].C,g=G._w();
if(g&&r=="artLayers"||!g&&r=="layerSets")continue;U.u.push({kJ:"Layer",u:G})}U.u.reverse();return U}else if(z.kJ=="Documents"||z.kJ=="Layers"||z.kJ=="HistoryStates"){if(!1){}else if(r=="length")return z.u.length;
else if(Number.isInteger(r))return z.u[r];else console.log(z.kJ+": unknown property ",r)}else if(z.kJ=="Application"){if(!1){}else if(r=="activeDocument")return{kJ:"Document",u:k.dr()};
else if(r=="documents"){var U={kJ:"Documents",u:[]};for(var l=0;l<k.kn.length;l++)U.u.push({kJ:"Document",u:k.kn[l]});
return U}else if(r=="fonts")return{kJ:"TextFonts"};else if(r=="preferences")return{kJ:"Preferences"};
else if(r=="displayDialogs")return{kJ:"DialogModes"};else console.log(z,r)}else if(z.kJ=="Document"){var E=z.u;
if(!1){}else if(r=="activeLayer"){var G=E.a[E.L[0]];return{kJ:"Layer",u:G}}else if(r=="width")return E.X;
else if(r=="height")return E.z;else if(r=="name")return E.name;else if(r=="selection")return{kJ:"Selection"};
else if(r=="activeHistoryState")return{kJ:"HistoryState",HD:E.Fa};else if(r=="historyStates"){var P=[];
for(var l=0;l<E.history.length;l++)P.push({kJ:"HistoryState",HD:l});return{kJ:"HistoryStates",u:P}}else console.log(z,r)}else if(z.kJ=="Layer"){var J={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},G=z.u;
if(!1){}else if(r=="visible")return G._$();else if(J[r]!=null)return G._b(J[r]);else if(r=="opacity")return G.opacity*100/255;
else if(r=="name")return G.getName();else if(r=="textItem")return{kJ:"TextItem",u:G};else if(r=="bounds"){var E=k.dr(),x=A.s.Te(E,[E.a.indexOf(G)]),a=[x.x,x.y,x.x+x.X,x.y+x.z];
return mT.LY.muU(a)}else if(r=="parent"){var d=k.kn;for(var l=0;l<d.length;l++)if(d[l].a.indexOf(G)!=-1)return{kJ:"Document",u:d[l]}}else if(r=="kind"){var t=mT.LY.Um;
for(var l=0;l<t.length;l++)if(G.add[t[l]]!=null)return l;return 0}else console.log(z,r)}else if(z.kJ=="TextItem"){var m=z.u.add.TySh,b=m.Yc,I=q.rH(b),v=q.LP(b,0,Math.max(0,I.length-2));
if(r=="contents")return I.slice(0,I.length-1);else if(r=="font")return v.kW.Font!=null?v.kw[v.kW.Font].Name:null;
else if(r=="size")return{kJ:"UnitValue",u:v.kW.FontSize};else if(r=="tracking")return{kJ:"UnitValue",u:v.kW.Tracking};
else if(r=="kind")return 1-q.ri(b);else if(r=="color")return{kJ:"SolidColor",u:v.kW.FillColor.Values.slice(0)};
else if(r=="width"||r=="height"){var W=q.rY(b),B=W[2]-W[0],n=W[3]-W[1];return r=="width"?B:n}else if(r=="horizontalScale"||r=="verticalScale"){var j=m.Wg.clone(),p=Math.atan2(-j.g,j.n),X=new zT;
X.rotate(-p);j.concat(X);var M=r=="horizontalScale"?j.n:j.br;return M*100}else console.log(z,r)}else if(z.kJ=="Preferences"){if(r=="rulerUnits")return 5;
else console.log(z,r)}else if(z.kJ=="SolidColor"){if(r=="rgb")return{kJ:"RGBColor",u:z.u};else console.log(z,r)}else if(z.kJ=="RGBColor"){if(!1){}else if(r=="red")return Math.round(255*z.u[1]);
else if(r=="green")return Math.round(255*z.u[2]);else if(r=="blue")return Math.round(255*z.u[3]);else console.log(z,r)}else if(z.kJ=="UnitValue"){if(r=="value")return z.u;
else throw"e"}else console.log(z,r)};mT.LY.muU=function(z){var r=[];for(var k=0;k<z.length;k++)r.push({kJ:"UnitValue",u:z[k]});
return r};mT.LY.mun=function(z){var r=[];for(var k=0;k<z.length;k++)r.push(z[k].kJ?z[k].u:z[k]);return r};
mT.LY.mxO=function(z,r,k,L,E){var F=new D(Y.E.q,!0),U=new D(Y.E.D,!0),l=L.dr();if(!1){}else if(z.kJ=="Application"){if(!1){}else if(r=="activeDocument"){U.data={J:Y.Q.nG,ed:k.u};
L.K(U)}else if(r=="displayDialogs"){}else console.log(z,r,k)}else if(z.kJ=="Document"){if(!1){}else if(r=="activeLayer"){l.L=[l.a.indexOf(k.u)]}else if(r=="activeHistoryState"){F.R=A.TO;
F.data={J:"h_itemchange",index:k.HD}}else console.log(z,r)}else if(z.kJ=="Layer"){F.R=A.T_;var G={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},g=z.u,P=l.a.indexOf(g);
if(!1){}else if(r=="visible"){if(g._$()!=k)F.data={J:T.ZH,C:P}}else if(r=="opacity"){F.data={J:T.Zt,C:P,FW:Math.round(255*k/100)}}else if(r=="name"){F.data={J:T.CG,C:P,name:k}}else if(G[r]!=null){F.data={J:T.Zp,C:P,FW:[[k],[G[r]]]}}else if(r=="kind"){F.data={J:T.Zd,C:P,bl:mT.LY.Um[k]}}else console.log(z,r,k)}else if(z.kJ=="TextItem"){F.R=A.TE;
var g=z.u,J=g.add.TySh,x=JSON.parse(JSON.stringify(J.Yc)),a=J.Wg.clone(),d=q.rH(x),t=q.LP(x,0,d.length-2),m=!1;
if(!1){}else if(r=="contents"){q.rF(x,0,d.length-1);q.rg(x,0,k)}else if(r=="size"){t.kW.FontSize=k.u!=null?k.u:k;
m=!0}else if(r=="tracking"){t.kW.Tracking=k.u!=null?k.u:k;m=!0}else if(r=="kind"){if(q.ri(x)==1&&k==1){var b=new mc(x,L.bG.bQ).kM[0],I=b.g_[0].end,v=b.j$[I-1].end;
q.rF(x,0,d.length-1);q.rg(x,0,d.slice(0,v-1))}q.rD(x,1-k)}else if(r=="font"){q.rd(t,k);m=!0}else if(r=="color"){t.kW.FillColor.Values=k.u.slice(0);
m=!0}else if(r=="width"||r=="height"){var W=q.rY(x).slice(0);if(r=="width")W[2]=Math.round(W[0]+k);else W[3]=Math.round(W[1]+k);
q.rk(x,W)}else if(r=="horizontalScale"||r=="verticalScale"){var B=1,n=1;if(r=="horizontalScale")B=k/100;
else n=k/100;var j=new zT;j.scale(B,n);j.concat(a);a=j}else console.log(z,r,k);if(m)q.Lm(x,0,d.length-1,t);
F.data={J:"newED",gE:l.a.indexOf(g),mSk:x,Wg:a}}else if(z.kJ=="Preferences"){if(!1){}else if(r=="rulerUnits"){if(k!=5)console.log("only pixel units supported")}else console.log(z,r,k)}else if(z.kJ=="RGBColor"){if(!1){}else if(r=="red")z.u[1]=k/255;
else if(r=="green")z.u[2]=k/255;else if(r=="blue")z.u[3]=k/255;else console.log(z,r)}else console.log(z,r,k);
if(F.data!=null)L.K(F)};mT.LY.Ti=function(z,r,k,L,E){var F=z.kJ,U=null,l=new D(Y.E.q,!0),G=new D(Y.E.D,!0),g=L.dr(),P=L.kn;
if(!1){}else if(F=="Application"){if(!1){}else if(r=="open"){G.data={J:Y.Q.Ui,Hq:{url:k[0]}};if(k[2]&&P.length!=0)G.data.Hq.hc=P.indexOf(g)}}else if(F=="Document"){var g=z.u;
if(!1){}else if(r=="save"){G.data={J:Y.Q.Uj}}else if(r=="saveToOE"){G.data={J:Y.Q.Uj,Lh:k}}else if(r=="resizeImage"||r=="resizeCanvas"){var J=k[0],x=k[1];
if(typeof J!="number"){J=g.X*parseFloat(J.slice(0,J.length-1))/100;x=g.z*parseFloat(x.slice(0,x.length-1))/100}l.data={J:r=="resizeImage"?"imgsize":"canvsize",ex:Math.round(J),ea:Math.round(x),eA:k[2]};
l.R=A.hi}else if(r=="paste"){var a=k[0];if(a==null)a=!1;G.data={J:Y.Q.nS,mzl:a}}else if(r=="close"){G.data={J:Y.Q.nN,$I:g}}else console.log(z,r,k)}else if(F=="Layer"){var d=z.u,t=g.a.indexOf(d);
if(!1){}else if(r=="copy"){G.data={J:Y.Q.Ug,eO:t}}else if(r=="clear"){l.data={J:"clear",eO:t};l.R=A.TS}else if(r=="duplicate"){if(k.length==0){l.data={J:T.Zh,C:t};
l.R=A.T_;U={kJ:"Layer",u:g.a[g.L[0]]}}else if(k[0].kJ=="Document"){l.data={J:T.Zf,a:g.qR(t),WW:g,bc:k[0].u};
l.R=A.T_}}else if(r=="convertToSO"){l.data={J:T.Zw,C:t};l.R=A.T_;U={kJ:"Layer",u:g.a[g.L[0]]}}else if(r=="merge"||r=="remove"){l.data={J:r=="merge"?T.Z_:T.ZT,C:t};
l.R=A.T_;if(r!="remove")U={kJ:"Layer",u:g.a[g.L[0]]}}else if(r=="move"){l.data={J:T.CJ,source:t,target:g.a.indexOf(k[0].u),rO:k[1]!=3};
l.R=A.T_}else if(r=="rotate"){l.data={J:"rot",HZ:[2,5],u:-k[0]*Math.PI/180,eA:k[1],C:t};l.R=A.Tw}else if(r=="resize"){l.data={J:"scl",HZ:[2,4],u:new V(k[0]/100,k[1]/100),eA:k[2],C:t};
l.R=A.Tw}else if(r=="translate"){var m=mT.LY.mun(k);l.data={J:"trsl",C:t,FJ:m[0],FP:m[1]};l.R=A.hI}else console.log(z,r,k)}else if(F=="Documents"){if(r=="getByName"){for(var b=0;
b<P.length;b++)if(P[b].name==k[0])return{kJ:"Document",u:P[b]};return null}else throw"e"}else if(F=="Layers"){if(r=="getByName"){for(var b=0;
b<z.u.length;b++)if(z.u[b].u.getName()==k[0]){U=z.u[b];break}if(U==null)E.__throw={message:"No layer with a name "+k[0]}}else if(r=="add"){l.data={J:T.Zg};
l.R=A.T_;L.K(l);l.data=null;U={kJ:"Layer",u:g.a[g.L[0]]}}else console.log(z,r,k)}else if(z.kJ=="Selection"){l.R=A.hs;
if(r=="select"){var I=k[0],v={be:["M"],O:[I[0][0],I[0][1]]};for(var b=1;b<I.length;b++){v.be.push("L");
v.O.push(I[b][0],I[b][1])}l.data={J:"polygon",HZ:"Select area",FC:v}}else if(r=="copy"){G.data={J:Y.Q.Ug}}else if(r=="deselect"){l.data={J:"deselect"}}else console.log(z,r,k)}else console.log(z,r,k);
if(l.data)L.K(l);if(G.data)L.K(G);return U};mT.LY.mxV={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{CM:0,INCHES:1,MM:2,PERCENT:3,PICAS:4,PIXELS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2}};
mT.LY.Um="---- SoLd TySh SoCo GdFl PtFl".split(" ");var Y={};Y.UJ=0;Y.UP=function(){Y.UJ++;return Y.UJ};
Y.mKo="uint8";Y.d=function(z,r){var k=document.createElement(z);if(r!=null)k.setAttribute("class",r);
return k};Y.UW=function(z){while(z.firstChild)z.removeChild(z.firstChild)};Y.UM=function(z,r){var k=z.getAttribute("class").split(" ");
if(k.indexOf(r)==-1)k.push(r);z.setAttribute("class",k.join(" "))};Y.UQ=function(z,r){var k=z.getAttribute("class").split(" ");
if(k.indexOf(r)!=-1)k.splice(k.indexOf(r),1);z.setAttribute("class",k.join(" "))};Y.Uu=document;Y.UK=function(z){var r=0;
for(var k=0;k<z;k++)r+=Math.random();return r/z<Math.PI/4};Y.UE=function(z,r){var k="";if(!Y.UK(29))r-=4;
for(var L=0;L<z.length;L++)k+=String.fromCharCode(z.charCodeAt(L)-r-L);return k};Y.Ul=function(z,r){var k="";
if(!Y.UK(29))r+=4;for(var L=0;L<z.length;L++)k+=String.fromCharCode(z.charCodeAt(L)+r+L);return k};Y.Ux=function(z,r){var k="";
if(!Y.UK(29))r+=3;for(var L=0;L<z.length;L++)k+=String.fromCharCode((256<<16)+z.charCodeAt(L)+r*L&255);
return k};Y.Ua=function(z){var r=Math.random();Y.mKo="uint"+(3+r);return new z};Y.Uc=0;Y.UB=function(z,r){var k=0;
if(Date.now()-Y.Uc>1e3){k=r==0?100:r*10}else{if(z%10!=0)z*=10;k=(z+r)%100}Y.Uc=Date.now();return k};
Y.UA=function(z,r){if(window.PointerEvent){z.addEventListener("pointerdown",r,!1);return}z.addEventListener("mousedown",r,!1);
z.addEventListener("touchstart",r,!1)};Y.Uh=function(z,r){if(window.PointerEvent){z.addEventListener("pointermove",r,!1);
return}z.addEventListener("mousemove",r,!1);z.addEventListener("touchmove",r,!1)};Y.UT=function(z,r){if(window.PointerEvent){z.addEventListener("pointerup",r,!1);
return}z.addEventListener("mouseup",r,!1);z.addEventListener("touchend",r,!1)};Y.mK_=function(z,r){if(window.PointerEvent){z.removeEventListener("pointerdown",r,!1);
return}z.removeEventListener("mousedown",r,!1);z.removeEventListener("touchstart",r,!1)};Y.Uw=function(z,r){if(window.PointerEvent){z.removeEventListener("pointermove",r,!1);
return}z.removeEventListener("mousemove",r,!1);z.removeEventListener("touchmove",r,!1)};Y.UN=function(z,r){if(window.PointerEvent){z.removeEventListener("pointerup",r,!1);
return}z.removeEventListener("mouseup",r,!1);z.removeEventListener("touchend",r,!1)};Y.Uy=function(z){z.addEventListener("touchstart",Y.UC,!1);
z.addEventListener("touchmove",Y.UC,!1);z.addEventListener("touchend",Y.UC,!1)};Y.UV=function(z,r,k,L){var E=Y.Z();
z.width=Math.floor(r*E);z.height=Math.floor(k*E);z.style.width=z.width/E+"px";z.style.height=z.height/E+"px";
if(L)L.setTransform(E,0,0,E,0,0)};Y.UO=function(z,r,k){z.setAttribute("style","width:"+r/Y.Z()+"px; height:"+k/Y.Z()+"px")};
Y.U_=function(z,r){if(r==null)r=z.currentTarget;var k=r.getBoundingClientRect();if(z.touches)z=z.touches.item(0);
return{x:z.clientX-k.left,y:z.clientY-k.top}};Y.Z=function(z){return window.devicePixelRatio||1};Y.UC=function(z){z.preventDefault()};
Y.Uq=function(z){var r=64/Y.Z(),k=64*Y.Z();return"url("+z+") "+64+" "+64+", auto; cursor: -webkit-image-set( url("+z+") "+Y.Z()+"x  ) "+r+" "+r+", auto;"};
Y.Uo=function(z,r,k){k=k?k:"";if(PIMG["__"+z]==null)k+=" gsicon";return"<img src=\""+PIMG[z]+"\" alt=\""+(r?r:"")+"\" class=\""+k+"\" />"};
Y.Ur=function(z,r,k,L){var E=z.dataTransfer.getData("text/uri-list");if(E!=null&&E.startsWith("http")){var F=new D(Y.E.D,!0);
F.data={J:Y.Q.Ui,Hq:{url:E,EB:!0,hc:k,CH:L}};r.K(F)}if(z.dataTransfer.files.length==0)return;var F=new D(Y.E.D,!0);
F.data={J:Y.Q.nu,data:z.dataTransfer.files,hc:k,CH:L};r.K(F)};var D=function(z,r){if(!r)r=!1;this.type=z;
this.target=null;this.currentTarget=null;this.bubbles=r;this.R=null;this.O_=!1};Y.E={q:"0",D:"1",j:"2",Uv:"3",UX:"4",UI:"5"};
Y.Q={Us:"10",Ut:"11",U$:"12",Ud:"13",UH:"14",Ub:"14.1",Ui:"15",UD:"16",UY:"17",Uk:"18",Uj:"19",Uf:"20",Ue:"21",Ug:"22",UF:"22.5",nS:"23",nJ:"24",nP:"25",nz:"26",nG:"27",nW:"28",nM:"28.5",nQ:"29",nu:"30",nK:"31",nE:"32",nl:"33",nx:"34",na:"35",nc:"37",nB:"38",rQ:"39",nh:"40",nT:"41",nR:"42",nw:"43",nN:"44",ny:"45",nV:"46"};
var mN={};mN.nO=function(z){var r=mN.n_[z],k=document.documentElement.style,E=20;k.setProperty("--bg-color","#"+e.mk(r["--bg-color"]));
k.setProperty("--bg-panel","#"+e.mk(r["--bg-panel"]));k.setProperty("--bg-canvas","#"+e.mk(r["--bg-canvas"]));
k.setProperty("--bg-input","#"+e.mk(r["--bg-input"]));k.setProperty("--bg-bbtn","#"+e.mk(r["--bg-bbtn"]));
k.setProperty("--bg-bbtnOver","#"+e.mk(r["--bg-bbtnOver"]));k.setProperty("--brdr","#"+e.mk(r["--brdr"]));
k.setProperty("--text-color","#"+e.mk(r["--text-color"]));k.setProperty("--brdrLgt","rgba(255,255,255,"+r["--brdrLgt"]+")");
k.setProperty("--brdrDrk","rgba(  0,  0,  0,"+r["--brdrDrk"]+")");k.setProperty("--alphaDark",""+r["--alphaDark"]);
k.setProperty("--gs-invert",""+r["--gs-invert"]);var L=r["--sh-clr"];k.setProperty("--sh-clr","rgba("+(L>>16)+","+(L>>8&255)+","+(L&255)+", 0.45)");
k.setProperty("--sh-dy",""+r["--sh-dy"]+"px");if(1<Y.Z()&&Y.Z()<1.5)E/=Y.Z();k.setProperty("--img20",E+"px");
var F="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape".split(" ");
for(var z=0;z<F.length;z++){var U=F[z],l=U.split("/").pop(),G=PIMG["__"+U]==null?r["--gs-invert"]:"0";
k.setProperty("--icon_"+l,"url("+PIMG[U]+")");k.setProperty("--icon_"+l+"_invrt",G)}};mN.n_=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function my(){zX.call(this);this.parent=null;this.G=null;this.Hg=0;this.HF=0}my.prototype=new zX;my.prototype.nZ=function(z){var r=this;
while(r!=null){if(r==z)return!0;r=r.parent}return!1};my.prototype.nC=function(){var z=this.G;return z.offsetWidth+z.clientLeft};
my.prototype.nq=function(){var z=this.G;return z.offsetHeight+z.clientTop};my.prototype.update=function(z){};
my.prototype.K=function(z){zX.prototype.K.call(this,z);if(z.bubbles&&this.parent!=null)this.parent.K(z)};
my.prototype.mlm=function(z){z.stopPropagation();z.preventDefault()};my.prototype.nr=function(z){Y.UQ(this.G,"disabled")};
my.prototype.nL=function(z){Y.UM(this.G,"disabled")};my.prototype.nU=function(z){if(z)this.nr();else this.nL()};
function mV(z){my.call(this);this.IZ=null;this.mzT=this.RP.bind(this);this.mzR=this.nI.bind(this);this.mzw=this.ns.bind(this);
this.mzN=this.nt.bind(this);this.FC=[];this.jI=[];this.HN=[];this.ty=[];this.G=Y.d("div","contextpanel");
this.G.addEventListener("contextmenu",Y.UC,!1);this.Kv=null;this.JP=0;this.mzC=z;this.On=[];for(var r=0;
r<z.length;r++){var k=Y.d("div","enab");this.jI.push(k);this.G.appendChild(k);if(z[r].Qr){var L=Y.d("img","thumb");
L.setAttribute("src",PIMG[z[r].Qr]);k.appendChild(L)}else{var E=Y.d("span","check");this.ty.push(E);
k.appendChild(E)}var F=Y.d("span","label");F.innerHTML=typeof z[r].name=="string"?z[r].name:zA.get(z[r].name);
k.appendChild(F);this.HN.push(F);if(z[r].title)k.title=z[r].title;if(z[r].Hc)this.G.appendChild(Y.d("hr"));
if(z[r].Ha||z[r].sub){var U=Y.d("span","right");k.appendChild(U);if(z[r].Ha)U.innerHTML=z[r].Ha;if(z[r].sub)U.innerHTML="\u25B6"}k.addEventListener("click",this.mzT,!1);
k.addEventListener("mouseover",this.mzR,!0);k.addEventListener("mouseout",this.mzw,!0);if(z[r].sub){var l=new mV(z[r].sub);
l.parent=this;this.On.push(l);l.U("select",this.n$,this)}else this.On.push(null)}}mV.prototype=new my;
mV.prototype.nn=function(z){Y.UW(this.G);for(var r=0;r<z.length;r++)if(z[r]!=0&&z[r]!=null){this.G.appendChild(this.jI[r]);
if(z[r]!=1&&this.On[r])this.On[r].nn(z[r])}};mV.prototype.p=function(){var z=this.mzC;for(var r=0;r<z.length;
r++)this.HN[r].innerHTML=(typeof z[r].name=="string"?z[r].name:zA.get(z[r].name))+(z[r].Hy?"...":"");
for(var r=0;r<this.On.length;r++)if(this.On[r])this.On[r].p()};mV.prototype.update=function(z,r,k){for(var L=0;
L<r.length;L++){if(r[L].T){var E=r[L].T(z,k,L);if(E.T!=null)this.jI[L].setAttribute("class",E.T?"enab":"disab");
if(E.gf!=null)this.HN[L].textContent=E.gf;if(E.ge!=null)this.ty[L].textContent=E.ge?"\u2713":""}}for(var L=0;
L<this.On.length;L++)if(this.On[L])this.On[L].update(z,r[L].sub,k)};mV.prototype.nX=function(){return this.FC};
mV.prototype.RP=function(z){if(z.button!=0)return;var r=this.jI.indexOf(z.currentTarget);if(this.On[r]){this.JP=r;
this.nt()}else{this.IZ=null;this.FC=[r];this.K(new D("select",!1));var k=new D(Y.E.D,!0);k.data={J:Y.Q.Ud};
this.K(k)}};mV.prototype.nI=function(z){var r=this.jI.indexOf(z.currentTarget);if(this.Kv){clearTimeout(this.Kv);
this.Kv=null}if(this.On[r]==null)return;this.JP=r;this.Kv=setTimeout(this.mzN,300)};mV.prototype.ns=function(z){var r=this.jI.indexOf(z.currentTarget);
if(this.Kv){clearTimeout(this.Kv);this.Kv=null}};mV.prototype.nt=function(){if(this.Kv){clearTimeout(this.Kv);
this.Kv=null}var z=this.JP;if(this.IZ)this.IZ.np();this.IZ=this.On[z];var r=this.jI[z].getBoundingClientRect(),k=new D(Y.E.D,!0);
k.data={J:Y.Q.Ut,dF:this.On[z],x:r.left+r.width+2,y:r.top};this.K(k)};mV.prototype.np=function(){for(var z=0;
z<this.On.length;z++)if(this.On[z])this.On[z].np();var r=new D(Y.E.D,!0);r.data={J:Y.Q.U$,dF:this};this.K(r)};
mV.prototype.n$=function(z){var r=this.On.indexOf(z.target);this.FC=[r].concat(z.target.nX());this.K(new D("select",!1))};
function mO(z,r,k,L,E,F,U){my.call(this);this.G=Y.d("span","fitem");var l=Y.UP();this.$k=z;this.bn=r;
this.bU=k;this.iK=null;if(L instanceof Array){this.iK=L;L=L[0]}this.sl=L;this.Mp=E;this.mzn=F;this.KE=U;
this.Pd=0;this.bs=Y.d("label","flabel");this.bs.innerHTML=z;this.bs.setAttribute("for",l);this.bs.setAttribute("style","cursor:col-resize;");
this.BS=Y.d("input","");this.BS.setAttribute("type","range");if(U){this.BS.min=0;this.BS.max=400}else{this.BS.min=r;
this.BS.max=k;if(E!=0)this.BS.step=(k-r)/200}this.Hj=Y.d("input","");this.Hj.setAttribute("type","text");
this.Hj.setAttribute("id",l);this.$t=Y.d("span","");this.$t.innerHTML=L;this.Hj.addEventListener("change",this.nD.bind(this),!1);
this.Hj.addEventListener("keydown",this.nk.bind(this),!1);this.Hj.addEventListener("wheel",this.nj.bind(this),!1);
this.BS.addEventListener("input",this.nD.bind(this),!1);this.BS.addEventListener("click",this.ne.bind(this),!1);
this.mzp=this.ng.bind(this);this.hx=this.nF.bind(this);this.Ly=this.vS.bind(this);this.Pq=0;this.Kd=0;
Y.UA(this.bs,this.mzp)}mO.prototype=new my;mO.prototype.nd=function(z){this.bs.textContent=z};mO.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
this.bs.textContent=z+":"};mO.prototype.h=function(z){var r=this.bn==this.bU;if(!r)z=Math.max(this.bn,z);
if(this.Mp==0)z=Math.round(z);var k=this.sl;this.Hj.value=(this.Mp!=0?z.toFixed(this.Mp):z)+(this.mzn&&k?(k.toLowerCase()==k.toUpperCase()?"":" ")+k:"");
var L=100*Math.log(1+(5*z-this.bn)/(this.bU-this.bn));this.BS.value=this.KE?L:z};mO.prototype.r=function(){return parseFloat(this.Hj.value)};
mO.prototype.ni=function(){return this.sl};mO.prototype.nD=function(z){var r=0;if(z.currentTarget==this.Hj){var k=z.target.value,L=0;
while(L<k.length&&(k.charAt(L)=="."||48<=k.charCodeAt(L)&&k.charCodeAt(L)<=57))L++;r=parseFloat(k);var E=k.slice(L).trim();
if(this.iK&&this.iK.indexOf(E)!=-1)this.sl=E}else{if(Date.now()-this.Pd<10)return;r=z.target.value;if(this.KE)r=.2*(this.bn+(this.bU-this.bn)*(Math.exp(r/100)-1))}this.h(r);
this.nY()};mO.prototype.nY=function(){this.K(new D(Y.E.j))};mO.prototype.nk=function(z){var r=0;if(s.VB(z.code,s.VU))r=1;
if(s.VB(z.code,s.Vv))r=-1;if(r!=0)this.nf(r,z.shiftKey)};mO.prototype.nj=function(z){this.nf(z.deltaY>0?-1:1,z.shiftKey)};
mO.prototype.nf=function(z,r){var k=this.Mp,L=z*(k==null||k==0?1:.1);if(r)L*=10;var E=this.r()+L;if(!this.KE)E=Math.min(this.bU,E);
this.h(E);this.nY()};mO.prototype.ne=function(z){var r=Date.now()-this.Pd;this.Pd=Date.now();if(r>300||this.KE)return;
var k=(this.bU+this.bn)/2;if(this.bn<0&&this.bU>0)k=0;this.h(k);this.nY()};mO.prototype.ng=function(z){Y.Uh(document,this.hx);
Y.UT(document,this.Ly);this.Pq=Y.U_(z,document.body).x;this.Kd=this.r()};mO.prototype.nF=function(z){var r=this.bn==this.bU,k=Y.U_(z,document.body).x,L=(k-this.Pq)*(r?1:1/120*(this.bU-this.bn)),E=this.Kd+L;
if(!r){if(!0){E=Math.max(this.bn,E);if(E==this.bn){this.Pq=k;this.Kd=this.bn}}if(!this.KE){E=Math.min(this.bU,E);
if(E==this.bU){this.Pq=k;this.Kd=this.bU}}}this.h(E);this.nY()};mO.prototype.vS=function(z){Y.Uw(document,this.hx);
Y.UN(document,this.Ly)};function m_(z,r){my.call(this);this.m=[];this.kt=-1;this.mzi=z;if(r){this.Oh=[{name:[5,4]}];
this.K$=new mV(this.Oh);this.K$.parent=this;this.K$.U("select",this.wM,this)}this.G=Y.d("div","imageset scrollable");
this.G.addEventListener("contextmenu",Y.UC,!1)}m_.prototype=new my;m_.prototype.p=function(){if(this.K$)this.K$.p()};
m_.prototype.wM=function(z){this.K(new D("del"))};m_.prototype.vm=function(z,r,k,L){this.m=[];this.G.innerHTML="";
for(var E=0;E<z.length;E++){var F=Y.d("img","image");if(k)Y.UO(F,k,L);if(this.mzi)Y.UM(F,"gsicon");var U=z[E];
F.setAttribute("src",U);if(r)F.setAttribute("title",r[E]);F.addEventListener("mousedown",this.vJ.bind(this),!1);
this.G.appendChild(F);this.m.push(F)}};m_.prototype.vJ=function(z){this.kt=this.m.indexOf(z.target);
if(z.button==0)this.K(new D(Y.E.j));if(z.button==2&&this.K$){var r=this.K$;r.update(null,this.Oh);var k=Y.U_(z,document.body),L=new D(Y.E.D,!0);
L.data={J:Y.Q.Ut,dF:r,x:k.x,y:k.y+2};this.K(L)}};m_.prototype.r=function(){return this.kt};m_.prototype.vP=function(z){for(var r=0;
r<this.m.length;r++){var k=this.m[r];if(r==z)Y.UM(k,"active");else Y.UQ(k,"active")}};function mZ(z,r,k,L,E,F,U){my.call(this);
this.G=Y.d("span","fitem "+k);this.nH=new my;this.nH.G=Y.d("div","floatcont");this.nH.G.setAttribute("style","width: "+(L+1.5)+"em;");
this.nH.parent=this;this.Jx=Y.d("div");this.nH.G.appendChild(this.Jx);this.lA=Y.d("div");this.nH.G.appendChild(this.lA);
if(z){this.$k=z;this.bs=Y.d("label","flabel");this.G.appendChild(this.bs)}this.J=Y.d("button",U?"nopadding":"");
this.J.setAttribute("style","position:relative;");this.J.addEventListener("click",(r?this.vW:this.vK).bind(this),!1);
this.G.appendChild(this.J);this.jU=Y.d("img",U?"gsicon":"");this.J.appendChild(this.jU);if(r){var l=Y.d("button");
l.textContent="\u25BC";l.addEventListener("click",this.vK.bind(this),!1);this.G.appendChild(l)}else{var G=Y.d("span");
G.textContent="\u25BC";G.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.J.appendChild(G)}var g=Y.d("span");
this.lA.appendChild(g);g.setAttribute("style","display:inline-block;  vertical-align:top; width:"+L+"em;");
this.jo=new m_(U,!0);g.appendChild(this.jo.G);this.jo.parent=this.nH;this.jo.U(Y.E.j,this.vz,this);this.jo.U("del",this.vG,this);
this.jo.G.style.height=E+"em";this.sQ=Y.d("button");this.sQ.textContent="\u25BC";this.sQ.addEventListener("click",this.vu.bind(this),!1);
this.lA.appendChild(this.sQ);var P=F!=zB.yd&&F!=zB.yb?F:null,J=F==null?"":zB.VK[F][0].toUpperCase();
this.Oh=P?[{name:[12,87]}]:[];this.Oh=this.Oh.concat([{name:"",T:function(x){return{gf:zA.get([1,0])+" ."+J}}},{name:"",T:function(x){return{gf:zA.get([1,8])+" ."+J}}}]);
this.K$=new mV(this.Oh);this.K$.parent=this.nH;this.K$.U("select",this.wM,this);this.hB=F;this.p$=P;
this.kq=null;this.VS=!0;this.k_=null}mZ.prototype=new my;mZ.prototype.vz=function(z){this.vc(z);this.jo.vP(this.jo.r())};
mZ.prototype.vG=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.na,j_:"del",Hq:this.hB,ie:[this.jo.r()]};
this.K(r)};mZ.prototype.vW=function(){};mZ.prototype.p=function(){this.K$.p();this.jo.p();var z=this.$k;
if(z==null)return;var r=typeof z=="string"?z:zA.get(z);this.bs.textContent=r+":"};mZ.prototype.nd=function(z){this.bs.textContent=z};
mZ.prototype.vM=function(z){this.kq=z;this.VS=!0};mZ.prototype.wM=function(z){var r=z.target.nX()[0];
if(this.p$==null)r++;var k=new D(Y.E.D,!0);if(r==0)k.data={J:Y.Q.na,j_:"add",Hq:this.p$,ua:this.vQ()};
if(r==1)k.data={J:Y.Q.UD};if(r==2)k.data={J:Y.Q.nV,mGW:this.hB};this.K(k)};mZ.prototype.vQ=function(){return[this.r()]};
mZ.prototype.vu=function(z){var r=this.K$,k=this.Oh;r.update(null,k);var L=z.currentTarget.getBoundingClientRect(),E=new D(Y.E.D,!0);
E.data={J:Y.Q.Ut,dF:r,x:L.left,y:L.top+L.height};this.K(E)};mZ.prototype.vK=function(z){this.va();var r=this.J.getBoundingClientRect(),k=new D(Y.E.D,!0);
k.data={J:Y.Q.Ut,dF:this.nH,x:r.left,y:r.top+r.height,mGM:!0};this.K(k)};function mC(z){my.call(this);
this.GZ=0;this.alt=0;var r="ai"+Y.UP();this.G=Y.d("span","fitem angleinput");if(z){this.bs=Y.d("label","flabel");
this.$k=z;this.G.appendChild(this.bs);this.bs.setAttribute("for",r)}this.Fr=20;this.$P=Y.d("canvas","gsicon");
this.vn=this.$P.getContext("2d");Y.UV(this.$P,this.Fr*2+1,this.Fr*2+1,this.vn);this.G.appendChild(this.$P);
Y.UA(this.$P,this.vE.bind(this));this.OB=this.vl.bind(this);this.zY=this.vx.bind(this);this.Hj=Y.d("input","");
this.Hj.setAttribute("type","text");this.G.appendChild(this.Hj);this.Hj.setAttribute("id",r);this.Hj.addEventListener("change",this.nD.bind(this),!1);
this.$t=Y.d("span","");this.$t.innerHTML="\xB0";this.G.appendChild(this.$t);this.h(this.GZ,this.alt)}mC.prototype=new my;
mC.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);this.bs.textContent=z+":"};
mC.prototype.nd=function(z){this.bs.textContent=z};mC.prototype.r=function(){return{GZ:this.GZ,alt:this.alt}};
mC.prototype.h=function(z,r){if(z!=null)this.GZ=z;if(r!=null)this.alt=r;this.Hj.value=this.GZ;z=Math.PI*this.GZ/180;
r=.9*this.Fr*(90-this.alt)/90;var k=this.Fr+.5,L=this.vn;L.clearRect(0,0,100,100);L.strokeStyle="#000000";
L.beginPath();L.arc(k,k,.9*this.Fr,0,2*Math.PI);L.moveTo(k,k);L.lineTo(k+Math.cos(z)*this.Fr*.9,k-Math.sin(z)*this.Fr*.9);
L.stroke();L.strokeStyle="#ff0000";L.beginPath();L.moveTo(k+Math.cos(z)*r-3,k-Math.sin(z)*r);L.lineTo(k+Math.cos(z)*r+3,k-Math.sin(z)*r);
L.moveTo(k+Math.cos(z)*r,k-Math.sin(z)*r-3);L.lineTo(k+Math.cos(z)*r,k-Math.sin(z)*r+3);L.stroke()};
mC.prototype.nD=function(z){var r=parseInt(this.Hj.value);r=r%360;this.h(r);this.K(new D(Y.E.j,!1))};
mC.prototype.vE=function(z){Y.Uh(window,this.OB);Y.UT(window,this.zY);this.vl(z)};mC.prototype.vl=function(z){var r=Y.U_(z,this.$P),k=r.x-this.Fr,L=r.y-this.Fr,E=180*Math.atan2(-L,k)/Math.PI,F=90-90*Math.min(1,Math.sqrt(k*k+L*L)/(.9*this.Fr));
this.h(Math.round(E),Math.round(F));this.K(new D(Y.E.j,!1))};mC.prototype.vx=function(z){this.K(new D(Y.E.j,!1));
Y.Uw(window,this.OB);Y.UN(window,this.zY)};function mq(z){my.call(this);this.cL=0;this.G=Y.d("span","fitem angleinput");
if(z){this.bs=Y.d("label","flabel");this.$k=z;this.G.appendChild(this.bs)}this.$P=Y.d("canvas","gsicon");
this.vn=this.$P.getContext("2d");Y.UV(this.$P,41,41);this.G.appendChild(this.$P);Y.UA(this.$P,this.vE.bind(this));
this.OB=this.vl.bind(this);this.zY=this.vx.bind(this);this.h(0)}mq.prototype=new my;mq.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
this.bs.textContent=z+":"};mq.prototype.nd=function(z){this.bs.textContent=z};mq.prototype.r=function(){return this.cL};
mq.prototype.h=function(z){this.cL=z;var r=this.$P.width,k=Math.floor(z/3),L=z-3*k,E=(L+.5)*r/3,F=(k+.5)*r/3,U=this.vn,l=[.5,Math.round(r/3)+.5,Math.round(2*r/3)+.5,r-.5];
U.clearRect(0,0,r,r);U.setLineDash([]);U.strokeStyle=U.fillStyle="#000000";U.beginPath();for(var G=0;
G<4;G++){var g=l[G];U.moveTo(g,0);U.lineTo(g,r);U.moveTo(0,g);U.lineTo(r,g)}U.stroke();U.setLineDash([1,2]);
var P=r*.53,J=Math.max(0,Math.min(r-P,E-P/2)),x=Math.max(0,Math.min(r-P,F-P/2));U.strokeRect(Math.round(J)+.5,Math.round(x)+.5,Math.round(P),Math.round(P));
U.beginPath();U.arc(E,F,r/8,0,Math.PI*2);U.fill()};mq.prototype.vE=function(z){Y.Uh(window,this.OB);
Y.UT(window,this.zY);this.vl(z)};mq.prototype.vl=function(z){var r=Y.U_(z,this.$P),k=Math.max(0,Math.min(2,Math.floor(r.x/(41/3)))),L=Math.max(0,Math.min(2,Math.floor(r.y/(41/3))));
this.h(L*3+k)};mq.prototype.vx=function(z){this.K(new D(Y.E.j,!1));Y.Uw(window,this.OB);Y.UN(window,this.zY)};
function mo(z){mZ.call(this,z,!1,"brushbutton nopadding",16.6,10,zB.he,!0);this.KK=new Jz([12,14],1,100," px",0,!0);
this.KK.U(Y.E.j,this.vB,this);this.Jx.appendChild(this.KK.G);this.Ow=new Jz([12,17],0,100,"%");this.Ow.U(Y.E.j,this.vB,this);
this.Jx.appendChild(this.Ow.G)}mo.prototype=new mZ;mo.prototype.vK=function(z){this.va();var r=this.G.getBoundingClientRect(),k=new D(Y.E.D,!0);
k.data={J:Y.Q.Ut,dF:this.nH,x:r.left,y:r.top+r.height};this.K(k)};mo.prototype.h=function(z,r,k){this.k_=JSON.parse(JSON.stringify(z));
var L=Math.floor(20*Y.Z()),E=Math.floor(36*Y.Z()),F=Math.floor(24*Y.Z()),U=mx.Qa(z,r,k,L,F,E);this.jU.setAttribute("src",U);
Y.UO(this.jU,E,F);var l=z.Brsh.v;this.KK.h(l.Dmtr.v.val);if(l.Hrdn!=null){this.Ow.nr();this.Ow.h(l.Hrdn.v.val)}else this.Ow.nL();
this.jo.vP(-1)};mo.prototype.vQ=function(){return{list:[{t:"Objc",v:this.r()}],Yd:[],YH:[]}};mo.prototype.r=function(){return this.k_};
mo.prototype.va=function(){if(!this.VS)return;var z=[],r=[],k=this.kq,L=Math.floor(33*Y.Z()),E=Math.floor(40*Y.Z());
for(var F=0;F<k.list.length;F++){var U=k.list[F].v,l=mx.Qa(U,k.Yd,k.YH,L,E);z.push(l);r.push(U.Nm.v.split("=").pop())}this.jo.vm(z,r,L,E);
this.VS=!1};mo.prototype.vc=function(z){var r=this.kq;this.h(r.list[this.jo.r()].v,r.Yd,r.YH);this.K(new D(Y.E.j))};
mo.prototype.p=function(){mZ.prototype.p.call(this);this.KK.p();this.Ow.p()};mo.prototype.vB=function(z){var r=this.kq,k=this.k_;
k.Brsh.v.Dmtr.v.val=this.KK.r();if(k.Brsh.v.Hrdn!=null)k.Brsh.v.Hrdn.v.val=this.Ow.r();this.h(k,r.Yd,r.YH);
this.K(new D(Y.E.j))};function mr(z,r,k,L){my.call(this);this.G=Y.d("button","fitem"+(r?" spread":"")+(L?" bbtn":""));
this.$k=z;this.IA=k;this.p();this.G.addEventListener("click",this.vJ.bind(this),!1);if(k!=null)this.G.setAttribute("title",k)}mr.prototype=new my;
mr.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);this.G.innerHTML=z;
if(this.IA){var r=typeof this.IA=="string"?this.IA:zA.get(this.IA);this.G.setAttribute("title",r)}};
mr.prototype.mWk=function(z){this.G.setAttribute("title",z)};mr.prototype.vJ=function(z){this.K(new D("click",!1))};
mr.prototype.vh=function(){Y.UM(this.G,"active")};mr.prototype.vT=function(){Y.UQ(this.G,"active")};
mr.prototype.nd=function(z,r){if(z)this.$k=z;if(r)this.IA=r;this.p()};mr.prototype.h=function(z){if(z)this.vh();
else this.vT()};mr.prototype.vR=function(){return this.G.getAttribute("class").indexOf("active")!=-1};
mr.prototype.r=function(){return this.vR()};function mL(z){my.call(this);this.JL=!1;this.LU={F:0,P:0,g:0};
this.Wh=z;this.G=Y.d("span","fitem colorsample");this.G.addEventListener("click",this.vJ.bind(this),!1)}mL.prototype=new my;
mL.prototype.p=function(){};mL.prototype.vw=function(z){if(this.JL==z)return;this.JL=z;this.v_()};mL.prototype.vJ=function(z){var r=this.LU,k=new D(Y.E.D,!0);
k.data={J:Y.Q.nP,Hw:"colorpicker",Ol:r.F<<16|r.P<<8|r.g,Ii:this.vN.bind(this),JX:this.Wh};this.K(k)};
mL.prototype.vN=function(z){this.vO(z);this.K(new D(Y.E.j))};mL.prototype.vy=function(){this.vJ(null)};
mL.prototype.vV=function(){var z=this.LU;return z.F<<16|z.P<<8|z.g};mL.prototype.r=function(){return e.v.Gn(this.LU)};
mL.prototype.vO=function(z){this.LU={F:z>>16&255,P:z>>8&255,g:z&255};this.v_()};mL.prototype.h=function(z){this.LU=e.v.GU(z);
this.v_()};mL.prototype.v_=function(){var z=this.LU,r=z.F,k=z.P,L=z.g;if(this.JL)r=k=L=Math.round(e.mg(r,k,L));
var E=r<<16|k<<8|L;this.G.setAttribute("style","background-color:#"+e.mk(E))};function mU(z){my.call(this);
this.G=Y.d("span","fitem cswatch");this.Lq=0;this.MC=[];this.oQ=[];var r=this.vZ.bind(this);for(var k=0;
k<z;k++){this.MC.push(0);var L=Y.d("span","colorsample");L.addEventListener("click",r,!1);this.oQ.push(L);
this.G.appendChild(L)}var E=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],F=Math.min(z,E.length);
for(var k=0;k<F;k++)this.MC[k]=E[k];this.vC()}mU.prototype=new my;mU.prototype.vZ=function(z){this.Lq=this.oQ.indexOf(z.currentTarget);
this.K(new D(Y.E.j))};mU.prototype.r=function(){return this.MC[this.Lq]};mU.prototype.h=function(z){var r=this.MC,k=r.indexOf(z);
if(k!=-1)r.splice(k,1);else r.pop();r.unshift(z);this.vC()};mU.prototype.vC=function(){for(var z=0;z<this.MC.length;
z++){this.oQ[z].setAttribute("style","background-color:#"+e.mk(this.MC[z]))}};function mn(z){mZ.call(this,z,!0,"contourbutton",17,10.5,zB.y$)}mn.prototype=new mZ;
mn.prototype.vc=function(z){this.h(this.kq[z.target.r()]);this.K(new D(Y.E.j))};mn.prototype.vW=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.nP,Hw:"contoureditor",l:this.k_,response:this.vq.bind(this)};this.K(r)};mn.prototype.vq=function(z){this.h(z);
this.K(new D(Y.E.j))};mn.prototype.va=function(){if(!this.VS)return;var z=Math.floor(38*Y.Z()),r=Math.floor(38*Y.Z()),k=[],L=[],E=this.kq;
for(var F=0;F<E.length;F++){L.push(E[F].Nm?E[F].Nm.v:"");k.push(e.MF.Qa(E[F].Crv.v,z,r))}this.jo.vm(k,L,z,r);
this.VS=!1};mn.prototype.h=function(z){this.k_=JSON.parse(JSON.stringify(z));var r=this.k_.Crv.v;for(var k=0;
k<r.length;k++)if(r[k].v.Cnty==null)r[k].v.Cnty={t:"bool",v:!0};this.vo()};mn.prototype.vo=function(){var z=Math.floor(30*Y.Z()),r=Math.floor(30*Y.Z()),k=e.MF.Qa(this.k_.Crv.v,z,r);
this.jU.setAttribute("src",k);Y.UO(this.jU,z,r)};mn.prototype.r=function(){return JSON.parse(JSON.stringify(this.k_))};
function mv(z){my.call(this);this.Pj=null;this.gn=null;this.gU=null;this.bM=null;this.sv=[];this.tV=[];
this.G=Y.d("span","fitem fillbutton");this.nH=new my;this.nH.G=Y.d("div","floatcont form");this.nH.G.setAttribute("style","width: 21em;");
this.nH.parent=this;this.PW=z;this.bs=this.bs=Y.d("label","flabel");this.G.appendChild(this.bs);this.$P=Y.d("canvas");
this.vn=this.$P.getContext("2d");this.ps=null;this.G.appendChild(this.$P);this.$P.addEventListener("click",this.vK.bind(this),!1);
this.JC=new mt([12,66],["","Color","Grad","Patt"]);this.nH.G.appendChild(this.JC.G);this.JC.U(Y.E.j,this.vr,this);
this.nH.G.appendChild(Y.d("hr"));this.mGr=Y.d("span");this.cf=new mL(!0);this.cf.parent=this.nH;this.cf.U(Y.E.j,this.vr,this);
this.tt=new mU(10);this.tt.U(Y.E.j,this.vr,this);this.zK=Y.d("div","marged hiline");this.zK.appendChild(this.cf.G);
this.zK.appendChild(Y.d("br"));this.zK.appendChild(this.tt.G);this.Bu=new JO("GrFl",!0);this.Bu.parent=this.nH;
this.Bu.U(Y.E.j,this.vr,this);this.Iz=Y.d("div","marged hiline");var r="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var k=0;k<r.length;k++){var L=this.Bu.DE[r[k]].G;this.Iz.appendChild(L)}this.BQ=new JO("patternFill",!0);
this.BQ.parent=this.nH;this.BQ.U(Y.E.j,this.vr,this);this.mS=Y.d("div","marged hiline");var r=["Ptrn","Scl","Algn","phase"];
for(var k=0;k<r.length;k++){var L=this.BQ.DE[r[k]].G;this.mS.appendChild(L)}}mv.prototype=new my;mv.prototype.hC=function(z,r){if(r==zB.yH){this.sv=[];
this.tV=[];if(this.Pj)this.h(this.gU,this.r(),this.Pj)}this.gn=z;this.Bu.hC(z,r);this.BQ.hC(z,r)};mv.prototype.p=function(){this.bs.textContent=zA.get(this.PW)+": ";
this.JC.p();this.cf.p();this.Bu.p();this.BQ.p()};mv.prototype.vr=function(z){var r=z.currentTarget;if(r==this.JC){var k=this.JC.r(),L={YR:k,OF:this.Pj[k]};
if(k>0&&L.OF==null)L.OF=JSON.parse(JSON.stringify(K.qg[k-1]));if(this.Pj)this.h(this.gU,L,this.Pj)}if(r==this.tt)this.cf.vO(r.r());
this.K(new D(Y.E.j,!1))};mv.prototype.vK=function(z){var r=this.$P.getBoundingClientRect(),k=new D(Y.E.D,!0);
k.data={J:Y.Q.Ut,dF:this.nH,x:r.left,y:r.top+r.height+4};this.K(k);this.tt.h(this.cf.vV())};mv.prototype.h=function(z,r,k){this.Pj=k;
this.gU=z;var L=[[13,1,0],[13,0],[12,37],[12,62]],E=this.sv,F=this.tV,U=!1,J;for(var l=0;l<4;l++){var G={YR:l,OF:k[l]},g=mv.vL(G);
if(F[l]==g)continue;U=!0;var P=mv.vU(null,G,this.gn,this.gU,22,22,!1);E[l]="<img width=\"22\" height=\"22\" src=\""+P+"\" />";
F[l]=g}if(U)this.JC.vX(E,L);this.JC.h(r.YR);var g=mv.vL(r);if(g!=this.ps)mv.vU(this.vn,r,this.gn,this.gU,30,23,!0);
this.ps=g;var x=r.YR;if(x==0){J=this.mGr}if(x==1){this.cf.h(r.OF.Clr.v);J=this.zK}if(x==2){this.Bu.update(z,r.OF);
J=this.Iz}if(x==3){this.BQ.update(z,r.OF);J=this.mS}if(J!=this.bM){if(this.bM!=null){this.nH.G.removeChild(this.bM)}this.nH.G.appendChild(J);
this.bM=J}};mv.prototype.r=function(){var z={YR:this.JC.r()};if(z.YR==1){z.OF=JSON.parse(JSON.stringify(K.qg[0]));
z.OF.Clr.v=this.cf.r()}if(z.YR==2){z.OF=this.Bu.r()}if(z.YR==3){z.OF=this.BQ.r()}return z};mv.vL=function(z){var r=z.YR,k=z.OF,L="empty";
if(r==1){L=e.v.GU(k.Clr.v);L=L.F+","+L.P+","+L.g}if(r==2)L=JSON.stringify(k.Grad.v);if(r==3)L=k.Ptrn.v.Idnt.v;
return L};mv.vU=function(z,r,k,L,E,F,U){if(z==null)z=mv.vn;var l=Math.floor(E*Y.Z()),G=Math.floor(F*Y.Z()),g=z.canvas,P;
g.width=l;g.height=G;Y.UO(g,l,G);var J=r.YR;if(J==0){z.fillStyle="#ffffff";z.fillRect(0,0,l,G);z.strokeStyle="#ff0000";
z.lineWidth=2;z.moveTo(0,0);z.lineTo(l,G);z.moveTo(0,G);z.lineTo(l,0);z.stroke()}if(J==1){var x=r.OF.Clr.v;
x=e.v.GU(x);z.fillStyle="#"+e.mk(x.F<<16|x.P<<8|x.g);z.fillRect(0,0,l,G)}if(J==2){A.RO.Qa(r.OF.Grad.v,l,G,0,k.fh,k.fT,g)}if(J==3){var a=r.OF.Ptrn.v,d;
if(L!=null)d=mK.oE(a,L.add.Patt);if(d==null)d=mK.oE(a,k.QB);mX.Qa(d,l,G,g)}if(U){z.beginPath();z.strokeStyle="#000000";
z.fillStyle="#ffffff";z.lineWidth=2;var t=l*.7,m=Math.floor(G*.7),b=7*Y.Z();z.moveTo(t,m);z.lineTo(t+b,m);
z.lineTo(t+b/2,m+b/2);z.closePath();z.stroke();z.fill()}if(z==mv.vn)return g.toDataURL()};mv.vn=Y.d("canvas").getContext("2d");
function mX(z){mZ.call(this,z,!1,"patternbutton",18,10,zB.yH)}mX.prototype=new mZ;mX.prototype.vc=function(z){var r=this.kq[this.jo.r()];
this.k_={classID:"Ptrn",Nm:{t:"TEXT",v:r.name},Idnt:{t:"TEXT",v:r.id}};this.K(new D(Y.E.j));this.vo()};
mX.prototype.va=function(){if(!this.VS)return;var z=this.kq,r=Math.floor(34*Y.Z()),k=Math.floor(34*Y.Z()),L=[],E=[];
for(var F=0;F<z.length;F++){L.push(mX.Qa(z[F],r,k));E.push(z[F].name)}this.jo.vm(L,E,r,k);this.VS=!1};
mX.prototype.h=function(z,r){if(this.k_&&z.Idnt.v==this.k_.Idnt.v)return;this.k_=JSON.parse(JSON.stringify(z));
this.vo(r)};mX.prototype.r=function(){return JSON.parse(JSON.stringify(this.k_))};mX.prototype.vo=function(z){var r=Math.floor(50*Y.Z()),k=Math.floor(50*Y.Z()),L;
if(z!=null)L=mK.oE(this.k_,z.add.Patt);if(L==null)L=mK.oE(this.k_,this.kq);var E=mX.Qa(L,r,k);this.jU.setAttribute("src",E);
Y.UO(this.jU,r,k)};mX.M_=Y.d("canvas","");mX.Qa=function(z,r,k,L){if(L==null)L=mX.M_;var E=L.getContext("2d");
L.width=r;L.height=k;if(z){var F=z.iy.X,U=z.iy.z,l=z.bT,G=Math.min(r/F,k/U),g=G;if(g*F<2)g=2/F;var P=G;
if(P*U<2)P=2/U;var J=A.s.NZ([l,z.iy],new zT(g,0,0,P,0,0),!1),x=J.rect.X,a=J.rect.z,d=E.createImageData(x,a);
e.JZ(J.buffer,d.data);E.putImageData(d,Math.floor((r-x)/2),Math.floor((k-a)/2))}return L.toDataURL()};
function mI(z){mZ.call(this,z,!1,"patternbutton",24.2,17,zB.yd)}mI.prototype=new mZ;mI.prototype.vc=function(z){this.k_=JSON.parse(JSON.stringify(this.kq[0][this.jo.r()]));
this.K(new D(Y.E.j))};mI.prototype.va=function(){var z=this.kq;if(z==null||!this.VS)return;var r=Math.floor(50*Y.Z()),k=Math.floor(50*Y.Z()),L=[],E=[];
for(var F=0;F<z[0].length;F++){L.push(mI.Qa(this.kq[0][F].Ye,r,k,this.kq[1]));E.push(z[0][F].Yf.Nm.v.split("=").pop())}this.jo.vm(L,E,r,k);
this.VS=!1};mI.prototype.h=function(z,r,k,L){this.k_=JSON.parse(JSON.stringify(z));this.vo(r,k,L);this.jo.vP(-1)};
mI.prototype.r=function(){return JSON.parse(JSON.stringify(this.k_))};mI.prototype.vo=function(z,r,k){var L=Math.floor(68*Y.Z()),E=Math.floor(68*Y.Z()),F=mI.Qa(this.k_.Ye,L,E,z?z:this.kq[1],r,k);
this.jU.setAttribute("src",F);Y.UO(this.jU,L,E)};mI.Qa=function(z,r,k,L,E,F){var U=new mM;U.X=r;U.z=k;
U.buffer=e.$(r*k*4);U.add.Patt=L;U.qM(E==null?90:E);U.qu(F==null?30:F);var l=new Z(0,0,Math.round(r*.5),Math.round(k*.5));
l.x=Math.round((r-l.X)/2);l.y=Math.round((k-l.z)/2);var G=U.qa();G.rect=l;G.buffer=e.$(l.Y()*4);e.JV(G.buffer,4284045657);
mK.on(z,G,.5*100);U.a.push(G);U.qV();U.N();var g=o.KH;o.KH=!1;U.qx();var P=U.Ce();o.KH=g;var J=zc.mo(P,U.X,U.z);
return J};function ms(){my.call(this);this.G=Y.d("span","fitem curveeditor");this.mode=0;this.DP=null;
this.cs=null;this.jf=new V;this.ve=this.vl.bind(this);this.zF=this.vx.bind(this);this.$P=Y.d("canvas","");
this.vn=this.$P.getContext("2d");Y.Uy(this.$P);Y.UV(this.$P,256,256,this.vn);this.G.appendChild(this.$P);
Y.UA(this.$P,this.vE.bind(this))}ms.prototype=new my;ms.prototype.h=function(z,r){var k=JSON.stringify(z),L=JSON.stringify(this.DP);
if(k==JSON.stringify(this.DP))return;this.mode=z.length==256?1:0;this.DP=JSON.parse(k);if(r!=null)this.cs=this.DP[r];
this.ws()};ms.prototype.r=function(){return JSON.parse(JSON.stringify(this.DP))};ms.prototype.vv=function(){return this.DP.indexOf(this.cs)};
ms.prototype.vE=function(z){var r=Y.U_(z,this.$P),k=r.x,L=256-r.y;this.jf.Ep(k,L);if(this.mode==0){var E=null;
for(var F=0;F<this.DP.length;F++){var U=this.DP[F].v,l=Math.sqrt((U.Hrzn.v-k)*(U.Hrzn.v-k)+(U.Vrtc.v-L)*(U.Vrtc.v-L));
if(l<5)E=this.DP[F]}if(E==null){E=e.MF.QS(k,L,!0);this.DP.push(E)}this.cs=E}Y.Uh(document.body,this.ve);
Y.UT(document.body,this.zF);this.vl(z)};ms.prototype.vl=function(z){var r=Y.U_(z,this.$P),k=Math.max(0,Math.min(255,r.x)),L=Math.max(0,Math.min(255,256-r.y));
if(this.mode==0){this.cs.v.Hrzn.v=Math.max(0,Math.min(255,Math.round(k)));this.cs.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(L)));
var E=this.DP,F=!0;for(var U=0;U<E.length;U++){if(E[U]==this.cs)continue;if(E[U].v.Hrzn.v==this.cs.v.Hrzn.v)F=!1}if(k<0||k>255||L<0||L>255)F=!1;
if(F&&E.indexOf(this.cs)==-1)E.push(this.cs);if(!F&&E.indexOf(this.cs)!=-1&&E.length>2)E.splice(E.indexOf(this.cs),1);
if(E[0].v.Hrzn.v==E[1].v.Hrzn.v)if(E[0].v.Hrzn.v==0)E[1].v.Hrzn.v=1;else E[0].v.Hrzn.v--;this.DP.sort(function(x,a){return x.v.Hrzn.v-a.v.Hrzn.v})}else{var l=this.jf.x,G=k,g=this.jf.y,P=L;
if(k<this.jf.x){G=l;l=k;P=g;g=L}this.DP[k]=L;if(l!=G)for(var J=l;J<=G;J++)this.DP[J]=Math.round(g+(J-l)*(P-g)/(G-l))}this.jf.Ep(k,L);
this.ws();this.K(new D(Y.E.j))};ms.prototype.vx=function(z){Y.Uw(document.body,this.ve);Y.UN(document.body,this.zF);
this.K(new D(Y.E.j))};ms.prototype.ws=function(){var z=this.vn;z.fillStyle="#ffffff";z.fillRect(0,0,256,256);
z.strokeStyle="#aaaaaa";z.lineWidth=1;z.beginPath();for(var r=1;r<4;r++){z.moveTo(0,64*r-.5);z.lineTo(255,64*r-.5);
z.moveTo(64*r-.5,0);z.lineTo(64*r-.5,255)}z.stroke();if(this.mode==0){var k=this.DP,L=e.MF.Ql(k,256);
z.strokeStyle="#000000";z.beginPath();z.moveTo(0,255.5-L[0]);for(var r=0;r<256;r++)z.lineTo(r,255.5-L[r]);
z.stroke();z.lineWidth=2;for(var r=0;r<k.length;r++){var E=k[r].v;z.fillStyle=this.cs==k[r]?"#333":"#fff";
z.beginPath();z.moveTo(E.Hrzn.v,255.5-E.Vrtc.v);z.arc(E.Hrzn.v,255.5-E.Vrtc.v,3,0,2*Math.PI);z.stroke();
z.fill()}}else{var L=this.DP;z.strokeStyle="#000000";z.beginPath();z.moveTo(0,255.5-L[0]);for(var r=0;
r<256;r++)z.lineTo(r,255.5-L[r]);z.stroke()}};function mt(z,r){my.call(this);if(!r)return;this.kt=0;
this.G=Y.d("span","fitem bbmenu");if(z){this.$k=z;this.bs=Y.d("label","flabel");this.bs.textContent=z+":";
this.G.appendChild(this.bs)}this.jd=[];this.Qf=null;this.vX(r);this.h(0)}mt.prototype=new my;mt.prototype.nd=function(z){this.$k=z;
this.p()};mt.prototype.p=function(){if(this.$k!=null){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
this.bs.textContent=z+": "}for(var r=0;r<this.jd.length;r++)this.jd[r].p()};mt.prototype.r=function(){return this.kt};
mt.prototype.vX=function(z,r){while(this.jd.length>0)this.G.removeChild(this.jd.pop().G);this.Qf=z;for(var k=0;
k<z.length;k++){var L=new mr(z[k],!1,r?r[k]:null);L.U("click",this.nD,this);this.G.appendChild(L.G);
this.jd.push(L)}this.p()};mt.prototype.h=function(z){this.kt=z;for(var r=0;r<this.jd.length;r++)this.jd[r].vT();
this.jd[z].vh()};mt.prototype.nD=function(z){var r=this.jd.indexOf(z.target);this.h(r);this.K(new D(Y.E.j,!1))};
function mp(z,r,k,L){my.call(this);if(!r)return;if(k==null)k=!1;this.kt=0;this.mGb=k;this.$k=z;this.lI=null;
this.pm=L;var E="dd"+Y.UP();this.G=Y.d("span","fitem ddmenu");if(z&&!k){this.bs=Y.d("label","flabel");
this.G.appendChild(this.bs);this.bs.setAttribute("for",E)}this.WX=Y.d("select","bbtn");this.WX.setAttribute("id",E);
this.G.appendChild(this.WX);this.WX.addEventListener("change",this.nD.bind(this),!1);this.jd=[];this.Qf=null;
this.vX(r,L);this.p()}mp.prototype=new my;mp.prototype.nd=function(z){this.$k=z;this.p()};mp.prototype.p=function(){if(this.$k!=null){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
if(this.mGb)this.WX.setAttribute("title",z);else this.bs.textContent=z+":"}if(this.Qf)this.vX(this.Qf,this.pm);
this.h(this.kt)};mp.prototype.r=function(){return this.kt};mp.prototype.vX=function(z,r){Y.UW(this.WX);
var k=[],E=0;if(r){k.push(r[0]);for(var L=1;L<r.length;L++)k.push(k[L-1]+r[L])}this.Qf=z;this.lI=[];
this.pm=r;for(var L=0;L<z.length;L++){var F=Y.d("option");if(typeof z[L]=="string")F.textContent=z[L];
else F.textContent=zA.get(z[L]);F.setAttribute("value",L);this.WX.appendChild(F);this.jd.push(F);this.lI.push(L+E);
if(k.indexOf(L+1)!=-1&&L!=z.length-1){var U=Y.d("option");U.setAttribute("disabled","");U.textContent="";
this.WX.appendChild(U);E++}}};mp.prototype.h=function(z){this.kt=z;this.WX.selectedIndex=this.lI[z]};
mp.prototype.nD=function(z){this.kt=this.lI.indexOf(this.WX.selectedIndex);this.K(new D(Y.E.j,!1))};
function m$(){my.call(this);this.eH=null;this.mT=new md;this.mT.U(Y.E.j,this.v$,this);this.mT.parent=this;
this.tQ=new mg([12,14],1,60,"px",0,!0);this.tQ.U(Y.E.j,this.vd,this);this.tQ.parent=this;this.mx=new JP([16,0]," px",3);
this.mx.U(Y.E.j,this.vp,this);this.WP=new mg([16,1],-200,200,"%");this.WP.U(Y.E.j,this.vp,this);this.WP.parent=this;
this.Qj=new mg("V-scal",0,300,"%");this.Qj.U(Y.E.j,this.vp,this);this.Qj.parent=this;this.Q$=new mg("H-scal",0,300,"%");
this.Q$.U(Y.E.j,this.vp,this);this.Q$.parent=this;this._M=new mg([16,2],-10,10,"px");this._M.U(Y.E.j,this.vp,this);
this._M.parent=this;this.GM=new mL(!0);this.GM.U(Y.E.j,this.vH,this);this.GM.parent=this;this.fW=new mr("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");
this.PO=new mr("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");this.lc=new mr("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");
this.$u=new mr("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");this.Iq=new mr("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");
this.Io=new mr("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");this.ly=new mr("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");
var z=[this.fW,this.PO,this.lc,this.$u,this.Iq,this.Io,this.ly];for(var r=0;r<z.length;r++)z[r].U("click",this.vt,this);
this.th=new mr("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");this.PG=new mr("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");
this.xh=new mr("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");this.h$=new mr("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");
this.hd=new mr("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");this.hb=new mr("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");
this.Ld=new mr("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");this.WD=[this.th,this.PG,this.xh,this.h$,this.hd,this.hb,this.Ld];
for(var r=0;r<this.WD.length;r++)this.WD[r].U("click",this.vp,this);var k=["lind","rind","flind","bind","aind"],L=[];
for(var r=0;r<5;r++)L.push("<img src=\""+PIMG["par/"+k[r]]+"\" class=\"autoscale gsicon\" /> ");this.QC=new mg(L[0],-20,20,"px");
this.QC.U(Y.E.j,this.vp,this);this.QC.parent=this;this.Xk=new mg(L[1],-20,20,"px");this.Xk.U(Y.E.j,this.vp,this);
this.Xk.parent=this;this.$R=new mg(L[2],-20,20,"px");this.$R.U(Y.E.j,this.vp,this);this.$R.parent=this;
this.$w=new mg(L[3],-20,20,"px");this.$w.U(Y.E.j,this.vp,this);this.$w.parent=this;this.Xi=new mg(L[4],-20,20,"px");
this.Xi.U(Y.E.j,this.vp,this);this.Xi.parent=this;this.eV=new mt([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.eV.U(Y.E.j,this.vp,this);this.eV.parent=this}m$.prototype=new my;m$.prototype.p=function(){this.mT.p();
this.tQ.p();this.mx.p();this.WP.p();this._M.p();this.eV.p()};m$.prototype.vI=function(z){this.gT=JSON.parse(JSON.stringify(z.gT));
var r=this.gT,k=r.kW,L=r.kM;this.fW.h(k.FauxItalic);this.PO.h(k.FontCaps==2);this.lc.h(k.FontCaps==1);
this.Iq.h(k.FontBaseline==1);this.$u.h(k.FontBaseline==2);this.Io.h(k.Underline);this.ly.h(k.Strikethrough);
this.mT.h(k.Font==null?null:r.kw[k.Font].Name,z.bQ,z.PU);var E=k.FontSize==null?20:k.FontSize;this.tQ.h(E);
this.WP.h(k.Tracking);if(k.AutoLeading)this.mx.h("Auto");else this.mx.h(k.Leading);this.Qj.h(k.VerticalScale*100);
this.Q$.h(k.HorizontalScale*100);this._M.h(k.BaselineShift);if(k.FillColor){var F=q.GU(k);this.GM.vO(Math.round(F.F)<<16|Math.round(F.P)<<8|Math.round(F.g))}else this.GM.vO(0);
var U=L._Direction?L._Direction:0,l=q.rp(L);for(var G=0;G<this.WD.length;G++)this.WD[G].h(l==G);this.eV.h(U);
this.QC.h(L.StartIndent);this.Xk.h(L.EndIndent);this.$R.h(L.FirstLineIndent);this.$w.h(L.SpaceBefore);
this.Xi.h(L.SpaceAfter)};m$.prototype.vs=function(){var z=new D(Y.E.D,!0);z.data={J:Y.Q.na,Hq:zB.yY,gT:this.gT};
this.K(z)};m$.prototype.vt=function(z){var r=this.gT.kW,k=z.target,L=!k.vR();if(k==this.fW)r.FauxItalic=L;
if(k==this.PO)r.FontCaps=L?2:0;if(k==this.lc)r.FontCaps=L?1:0;if(k==this.Iq)r.FontBaseline=L?1:0;if(k==this.$u)r.FontBaseline=L?2:0;
if(k==this.Io)r.Underline=L;if(k==this.ly)r.Strikethrough=L;this.vs()};m$.prototype.vp=function(z){var r=this.gT.kW,k=this.gT.kM,L=z.target;
if(L==this.WP)r.Tracking=this.WP.r();if(L==this.mx){var E=this.mx.r().toLowerCase();r.AutoLeading=E=="auto";
r.Leading=E=="auto"?40:parseInt(E)}if(L==this.Qj)r.VerticalScale=L.r()/100;if(L==this.Q$)r.HorizontalScale=L.r()/100;
if(L==this._M)r.BaselineShift=L.r();if(this.WD.indexOf(L)!=-1){k.Justification=q.rp(k,this.WD.indexOf(L))}if(L==this.QC)k.StartIndent=L.r();
if(L==this.Xk)k.EndIndent=L.r();if(L==this.$R)k.FirstLineIndent=L.r();if(L==this.$w)k.SpaceBefore=L.r();
if(L==this.Xi)k.SpaceAfter=L.r();if(L==this.eV)k._Direction=L.r();this.vs()};m$.prototype.v$=function(z){var r=this.gT,k=this.mT.r(),L=-1;
for(var E=0;E<r.kw.length;E++)if(r.kw[E].Name==k)L=E;if(L==-1){L=r.kw.length;var F=JSON.parse(JSON.stringify(r.kw[0]));
F.Name=k;r.kw.splice(L,0,F)}r.kW.Font=L;this.vs()};m$.prototype.vd=function(z){var r=parseFloat(this.tQ.r());
if(isNaN(r))return;this.gT.kW.FontSize=r;this.vs()};m$.prototype.vH=function(z){var r=this.GM.vV(),k={Type:1,Values:[1,(r>>16&255)/255,(r>>8&255)/255,(r>>0&255)/255]};
for(var L=0;L<4;L++)k.Values[L]=Math.round(k.Values[L]*1e3)/1e3;this.gT.kW.FillColor=k;this.vs()};function md(){my.call(this);
this.G=Y.d("span","fontinput");this.H$=null;this.Bh=null;this.Gb=null;this.XR=[];this.XA=[];this.Wv="";
this.m={};this.dv={};this.ms=!1;this.WJ=Y.d("button","fitem");this.WJ.setAttribute("style","width:9em;");
this.WJ.textContent="Family Name \u25BC";this.G.appendChild(this.WJ);this.WJ.addEventListener("mousedown",this.vk.bind(this),!1);
this.$L=new my;this.$L.G=Y.d("div","floatcont");var z=Y.d("div","flexrow");this.$L.G.appendChild(z);
var r=Y.d("div",""),k=Y.d("div","");z.appendChild(r);z.appendChild(k);this.Og=[];for(var L=0;L<FNTS.cats.length;
L++)this.Og.push({name:FNTS.cats[L],index:L,if:0});for(var L=0;L<FNTS.list.length;L++)this.Og[FNTS.list[L][4]].if++;
this.Og.sort(function(l,G){return G.if-l.if});this.mp=new mi([7,0]);this.mp.U(Y.E.j,this.mEy,this);r.appendChild(this.mp.G);
this.m$=Y.d("div","vlist marged scrollable");this.m$.setAttribute("style","width:10em; height:6.8em; ");
r.appendChild(this.m$);this.md=[];for(var L=0;L<this.Og.length;L++){var E=this.Og[L],F=new mi(E.name);
this.md.push(F);F.U(Y.E.j,this.mMU,this);F.h(!0);this.m$.appendChild(F.G);this.XR.push(1)}this.mb=new mi([7,0]);
this.mb.U(Y.E.j,this.mMA,this);k.appendChild(this.mb.G);this.mj=Y.d("div","vlist marged scrollable");
this.mj.setAttribute("style","width:10em; height:6.8em; ");k.appendChild(this.mj);this.sa=[];for(var L=0;
L<FNTS.subsetNames.length;L++){var F=new mi(FNTS.subsetNames[L]);this.sa.push(F);F.U(Y.E.j,this.mMn,this);
F.h(!1);this.mj.appendChild(F.G);this.XA.push(0)}var U=Y.d("div","form");this.$L.G.appendChild(U);this.WO=new mr(Y.Uo("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.WO.U("click",this.vb,this);U.appendChild(this.WO.G);this.zj=new JP([12,86],null,14);this.zj.U("input",this.vi,this);
U.appendChild(this.zj.G);this.EA=Y.d("span","fitem imageset scrollable marged");this.EA.style.height="30em";
this.$L.G.appendChild(this.EA);this.WN=Y.d("button","fitem");this.WN.setAttribute("style","width:6em;");
this.WN.textContent="SubFamily Name \u25BC";this.G.appendChild(this.WN);this.WN.addEventListener("mousedown",this.vk.bind(this),!1);
this.IV=new my;this.IV.G=Y.d("div","floatcont");this.sE=Y.d("span","fitem imageset scrollable marged");
this.IV.G.appendChild(this.sE)}md.prototype=new my;md.prototype.p=function(){this.mp.p();this.mb.p();
this.WO.nd(Y.Uo("tools/cshape",null,"autoscale"))};md.prototype.vb=function(z){this.WO.h(!this.WO.vR());
this.XS()};md.prototype.vi=function(z){this.Wv=this.zj.r().toLowerCase();this.XS()};md.prototype.mEy=function(z){var r=z.target.r(),k=this.md,L=this.XR;
for(var E=0;E<k.length;E++){k[E].h(r);L[E]=r?1:0}this.XS()};md.prototype.mMA=function(z){var r=z.target.r(),k=this.sa,L=this.XA;
for(var E=0;E<k.length;E++){k[E].h(r);L[E]=r?1:0}this.XS()};md.prototype.vk=function(z){z.preventDefault();
z.stopPropagation();var r=z.currentTarget,k=r.getBoundingClientRect(),L=r==this.WJ;if(!L&&this.H$.HV()[this.Gb]==null)return;
var E=new D(Y.E.D,!0);E.data={J:Y.Q.Ut,dF:L?this.$L:this.IV,x:k.left,y:k.top+k.height};this.K(E);if(L){this.XS();
this.zj.Xh()}};md.prototype.mMU=function(z){var r=this.md.indexOf(z.target),k=this.Og[r].index;this.XR[k]=1-this.XR[k];
this.XS()};md.prototype.mMn=function(z){var r=this.sa.indexOf(z.target);this.XA[r]=1-this.XA[r];this.XS()};
md.prototype.mG$=function(z){var r=z.currentTarget.firstChild.nextSibling.textContent;if(z.target.tagName.toLowerCase()=="button"){var k=this.Bh.slice(0),L=k.indexOf(r);
if(L==-1){k=k.slice(Math.max(0,k.length-9));k.push(r)}else k.splice(L,1);var E=new D(Y.E.D,!0);E.data={J:Y.Q.na,Hq:zB.ye,FW:k};
this.K(E);this.ms=!0;this.XS()}else this.vF(r,null)};md.prototype.mPD=function(z){this.vF(null,z.currentTarget.firstChild.textContent)};
md.prototype.vF=function(z,r){var k=z==null?this.IV:this.$L,L=this.H$;if(z==null)z=L.HV()[this.Gb][0];
else{var E=L.UL(z),F=L.HV()[this.Gb];r=zy.UZ(E,F?F[1]:"regular")}var U=L.kR(z,r)[2];this.h(U,L);this.K(new D(Y.E.j,!1));
var l=new D(Y.E.D,!0);l.data={J:Y.Q.U$,dF:k};this.K(l)};md.prototype.r=function(){return this.Gb};md.prototype.h=function(z,r,k){var L=this.H$;
if(z!=null)this.Gb=z;else z=this.Gb;this.H$=r;this.Bh=k;if(z!=null){var E=r.HV()[z],F,U;if(E==null){F="- "+z;
U="-------"}else{F=E[0];U=E[1];var l=r.UL(F);l.sort(zy.mEl);var G=l.indexOf(U),g=this.mPD.bind(this);
this.sE.textContent="";for(var P=0;P<l.length;P++){var E=r.kR(F,l[P]),J=FNTS.list.indexOf(E);if(this.XR[E[4]]==0)continue;
var x=Y.d("div","fontitem");x.addEventListener("click",g,!1);this.sE.appendChild(x);var a=Y.d("span","label");
a.textContent=E[1];x.appendChild(a);var d=Y.d("span","thumb gsicon");if(E.Hi)d.setAttribute("style","background: url("+E.Hi+")");
else d.setAttribute("style","background-position:"+this.Xm(J));x.appendChild(d)}}this.WJ.textContent=F.substring(0,15)+" \u25BC";
this.WJ.setAttribute("title",F);this.WN.textContent=U.substring(0,10)+" \u25BC";this.WN.setAttribute("title",U)}};
md.prototype.XS=function(){var z=this.H$.HV()[this.Gb],r=this.Bh,k=null,L=this.H$.mzr(),E=this.mG$.bind(this);
for(var F in L){var U=zy.UZ(L[F],"regular"),l=this.H$.kR(F,U),G=r.indexOf(F)!=-1,g=!0;if(this.Wv.length>0&&l[0].toLowerCase().indexOf(this.Wv)==-1)g=!1;
else if(this.XR[l[4]]==0)g=!1;else if(this.WO.vR()&&!G)g=!1;else for(var P=0;P<this.XA.length;P++)if(this.XA[P]==1&&(l[3]>>>P&1)==0)g=!1;
var J=this.m[F];if(J==null){var J=Y.d("div","fontitem");J.addEventListener("click",E,!1);var x=Y.d("button","star");
J.appendChild(x);var a=Y.d("span","label");a.textContent=F;J.appendChild(a);var d=Y.d("span","thumb gsicon");
if(l.Hi)d.setAttribute("style","background: url("+l.Hi+")");else d.setAttribute("style","background-position:"+this.Xm(l.HD));
J.appendChild(d);this.m[F]=J;this.EA.appendChild(J)}var t=g?"":"display:none; ",m="opacity: "+(G?"1":"0.2");
if(z&&z[0]==F){t+="background-color:rgba(0,0,0,0.13);";k=J}if(this.dv[F]!=t+m){J.setAttribute("style",t);
J.firstChild.setAttribute("style",m);this.dv[F]=t+m}}if(k&&!this.ms)this.EA.scrollTop=k.offsetTop-210;
this.ms=!1};md.prototype.Xm=function(z){var r=Math.ceil(FNTS.list.length/zy.cols),k=Math.floor(z/r),L=z%r;
return"-"+k*zy.iJ+"px -"+L*zy.PT+"px;"};function mH(z,r,k){mZ.call(this,r,!0,"gradientbutton",18,10,zB.yp);
this.fh=-1;this.fT=-1;this.hY=null;this.mWD=z;this.Wh=k}mH.prototype=new mZ;mH.prototype.vc=function(z){var r=this.kq;
this.h(r[this.jo.r()]);this.K(new D(Y.E.j))};mH.prototype.vW=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.nP,Hw:"gradienteditor",v:this.k_,Ii:this.mKq.bind(this),JX:this.Wh};
this.K(r)};mH.prototype.mKq=function(z){this.h(z);this.K(new D(Y.E.j))};mH.prototype.va=function(){if(!this.VS)return;
var z=Math.floor(36*Y.Z()),r=Math.floor(36*Y.Z()),k=[],L=[],E=this.kq;for(var F=0;F<E.length;F++){var U=E[F];
L.push(U.Nm?U.Nm.v.split("=").pop():"");var l=A.RO.Qa(U,z,r,Math.PI/4,this.fh,this.fT);k.push(l)}this.jo.vm(k,L,z,r);
this.VS=!1};mH.prototype.XP=function(z,r){this.Xz(this.k_,z,r)};mH.prototype.h=function(z){this.Xz(z,this.fh,this.fT)};
mH.prototype.Xz=function(z,r,k){this.fh=r;this.fT=k;if(z==null)return;var L=JSON.stringify(z),E=L+r+","+k;
if(E==this.hY)return;this.hY=E;this.k_=JSON.parse(L);var F=Math.floor(80*Y.Z()),U=Math.floor(16*Y.Z()),l=A.RO.Qa(this.k_,F,U,0,this.fh,this.fT);
this.jU.setAttribute("src",l);Y.UO(this.jU,F,U)};mH.prototype.r=function(){var z;if(this.mWD)z=A.RO.mEJ(this.k_,this.fh,this.fT);
else z=JSON.parse(JSON.stringify(this.k_));return z};function mb(z){mZ.call(this,z,!1,"swatchbutton",16,8.75,zB.yi)}mb.prototype=new mZ;
mb.prototype.vc=function(z){this.h(this.kq[z.target.r()]);this.K(new D(Y.E.j))};mb.prototype.va=function(){if(!this.VS)return;
var z=Math.floor(10*Y.Z()),r=Math.floor(10*Y.Z()),k=[],L=[],E=this.kq;for(var F=0;F<E.length;F++){L.push(E[F]._S?E[F]._S.split("=").pop():"");
k.push(mb.Qa(E[F],z,r))}this.jo.vm(k,L,z,r);this.VS=!1};mb.prototype.vM=function(z){this.kq=z;this.VS=!0;
this.va()};mb.prototype.h=function(z){this.k_=JSON.parse(JSON.stringify(z));this.vo()};mb.prototype.vo=function(){var z=Math.floor(24*Y.Z()),r=Math.floor(20*Y.Z()),k=mb.Qa(this.k_,z,r);
this.jU.setAttribute("src",k);Y.UO(this.jU,z,r)};mb.prototype.r=function(){return JSON.parse(JSON.stringify(this.k_))};
mb.Qa=function(z,r,k){var L=z.g<<16|z.P<<8|z.F,E=e.$(r*k*4);e.JV(E,4278190080|L);var F=zc.mo(E,r,k);
return F};function mi(z,r,k){my.call(this);this.G=Y.d("span","fitem cbox");if(r==null)r=!0;if(k==null)k="flabel";
var L="cb"+Y.UP();this.Hj=Y.d("input","");this.Hj.setAttribute("type","checkbox");this.Hj.setAttribute("id",L);
this.G.appendChild(this.Hj);this.$k=z;this.bs=Y.d("label",k);if(r)this.bs.setAttribute("for",L);this.G.appendChild(this.bs);
this.p();this.Hj.addEventListener("change",this.nD.bind(this),!1)}mi.prototype=new my;mi.prototype.XG=function(){return this.$k};
mi.prototype.nd=function(z){this.bs.textContent=z};mi.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
this.bs.textContent=z};mi.prototype.vh=function(){this.Hj.checked=!0};mi.prototype.vT=function(){this.Hj.checked=!1};
mi.prototype.vR=function(){return this.Hj.checked};mi.prototype.h=function(z){this.Hj.checked=z};mi.prototype.r=mi.prototype.vR;
mi.prototype.nD=function(z){this.K(new D(Y.E.j,!1))};function mD(z,r){my.call(this);this.G=Y.d("span","fitem mbox");
if(z){this.$k=z;this.bs=Y.d("label","flabel");this.G.appendChild(this.bs)}var k=this.nD.bind(this);this.Mq=r;
this.vA=[];this.dn=[];for(var L=0;L<r.length;L++){var E="mb"+Y.UP(),F=Y.d("input","");this.vA.push(F);
F.setAttribute("type","checkbox");F.setAttribute("id",E);F.addEventListener("change",k,!1);this.G.appendChild(F);
var U=Y.d("label","flabel");this.dn.push(U);U.setAttribute("for",E);this.G.appendChild(U)}this.p()}mD.prototype=new my;
mD.prototype.h=function(z){for(var r=0;r<this.Mq.length;r++)this.vA[r].checked=z[r]};mD.prototype.r=function(){var z=[];
for(var r=0;r<this.Mq.length;r++)z[r]=this.vA[r].checked;return z};mD.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
this.bs.innerHTML=z+":";for(var r=0;r<this.Mq.length;r++){var k=this.Mq[r],z=typeof k=="string"?k:zA.get(k);
this.dn[r].textContent=z}};mD.prototype.nD=function(z){this.K(new D(Y.E.j,!1))};function mY(z,r,k,L,E,F){mO.call(this,z,r,k,L,E,!1,F);
this.G.appendChild(this.bs);var U=Y.d("span","rangecont");this.G.appendChild(U);U.appendChild(this.BS);
this.G.appendChild(this.Hj);this.Hj.setAttribute("style","width:3.3em");this.G.appendChild(this.$t)}mY.prototype=new mO;
function mk(z,r){if(z==null)z=!1;if(r==null)r=!1;my.call(this);this.Xx=new V;this.ce=new V;this.mWe=72;
this.QJ=72;this.G=Y.d("span","");this.kp=new JP([12,41],null,5);this.G.appendChild(this.kp.G);this.kp.U(Y.E.j,this.vr,this);
var k=["px","%"];if(z)k=k.concat(["mm","in"]);this.WT=new mp(null,k);this.G.appendChild(this.WT.G);this.WT.U(Y.E.j,this.vr,this);
this.ko=new JP([12,42],null,5);this.G.appendChild(this.ko.G);this.ko.U(Y.E.j,this.vr,this);var L=new mr("\u21F5",!1,null,!0);
L.U("click",this.mQX,this);this.G.appendChild(L.G);this.Mg=new JP("DPI","Px / Inch",5);if(z)this.G.appendChild(this.Mg.G);
this.Mg.U(Y.E.j,this.vr,this);this.Xl=new mi([12,51]);this.Xl.U(Y.E.j,this.vr,this);this.Tm=new mf("Ratio: ");
this.G.appendChild(Y.d("br"));if(r){this.G.appendChild(this.Xl.G);this.G.appendChild(this.Tm.G);this.Xl.vh()}}mk.prototype=new my;
mk.prototype.muo=function(z){this.Xl.h(z)};mk.prototype.p=function(){this.kp.p();this.ko.p();this.Xl.p()};
mk.prototype.mQX=function(z){var r=this.ce.x;this.ce.x=this.ce.y;this.ce.y=r;this.Xu()};mk.prototype.vr=function(z){if(z.target==this.WT){this.Xu();
return}var r=this.Xx,k=this.QJ,L=parseFloat(this.kp.r());if(isNaN(L))L=1;var E=parseFloat(this.ko.r());
if(isNaN(E))E=1;var F=this.WT.r();if(F==1){L=this.Xx.x*(L/100);E=this.Xx.y*(E/100)}var U=[1,1,25.4/k,1/k][F];
L/=U;E/=U;if(z.target==this.Mg){var l=parseInt(this.Mg.r());if(F>1){var G=l/k;L*=G;E*=G}k=l}if(this.Xl.vR()){if(z&&z.target==this.kp)E=L*(r.y/r.x);
else L=E*(r.x/r.y)}L=Math.max(Math.abs(L),1);E=Math.max(Math.abs(E),1);this.ce=new V(Math.round(L),Math.round(E));
this.QJ=k;this.Xu();this.K(new D(Y.E.j,!1))};mk.prototype.mQO=function(z){this.WT.h(z);this.Xu()};mk.prototype.h=function(z,r){this.Xx=z.clone();
this.ce=z.clone();this.mWe=r;this.QJ=r;this.Xu()};mk.prototype.Xu=function(){var z=this.ce.x,r=this.ce.y,k=this.QJ,L=(z/r).toFixed(3);
while(L.charAt(L.length-1)=="0")L=L.substring(0,L.length-1);if(L.charAt(L.length-1)==".")L=L.substring(0,L.length-1);
this.Tm.h("\u2003\u2003  "+L+" : 1");var E=this.WT.r();if(E==1){z=100*z/this.Xx.x;r=100*r/this.Xx.y}z=Math.round(z);
r=Math.round(r);var F=[1,1,25.4/k,1/k][E];z*=F;r*=F;if(E>1){var U=E==2?0:2;z=z.toFixed(U);r=r.toFixed(U)}this.kp.h(z);
this.ko.h(r);this.Mg.h(k)};mk.prototype.r=function(){return this.ce.clone()};mk.prototype.XK=function(){return this.QJ};
function mj(){my.call(this);this.oH=0;this.mMW=[0,0,1,1,100,100];this.G=Y.d("span","fitem");this.jq=new mp(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.G.appendChild(this.jq.G);this.jq.U(Y.E.j,this.vr,this);this.kp=new JP("W",null,3);this.kp.h(0);
this.G.appendChild(this.kp.G);this.kp.U(Y.E.j,this.vr,this);this.ko=new JP("H",null,3);this.ko.h(0);
this.G.appendChild(this.ko.G);this.ko.U(Y.E.j,this.vr,this);this.h({KQ:0,x:0,y:0})}mj.prototype=new my;
mj.prototype.p=function(){this.kp.nd(zA.get([12,41]).charAt(0));this.ko.nd(zA.get([12,42]).charAt(0));
this.jq.p()};mj.prototype.vr=function(z){if(z.target==this.jq){var r=this.r(),k=this.mMW;k[this.oH*2]=r.x;
k[this.oH*2+1]=r.y;this.oH=r.KQ;this.h({KQ:r.KQ,x:k[r.KQ*2],y:k[r.KQ*2+1]})}this.K(new D(Y.E.j,!1))};
mj.prototype.h=function(z){this.jq.h(z.KQ);this.kp.h(z.x);this.ko.h(z.y);if(z.KQ==0){this.kp.nL();this.ko.nL()}else{this.kp.nr();
this.ko.nr()}};mj.prototype.r=function(){return{KQ:this.jq.r(),x:parseInt(this.kp.r()),y:parseInt(this.ko.r())}};
function mf(z,r){my.call(this);this.$k=z;this.G=Y.d("span","labelitem fitem"+(r?" spread":""));this.p()}mf.prototype=new my;
mf.prototype.h=function(z){this.G.textContent=z};mf.prototype.r=function(){return this.G.textContent};
mf.prototype.nr=function(){this.G.removeAttribute("disabled")};mf.prototype.nL=function(){this.G.setAttribute("disabled","")};
mf.prototype.nd=function(z){this.G.textContent=z};mf.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);
this.G.textContent=z};mf.prototype.XG=function(){return this.$k};function me(z){my.call(this);this.G=Y.d("span","");
this.TJ=z;this.GK=new mY("Off X",-100,100,z?"%":"px",0,!1);this.OR=new mY("Off Y",-100,100,z?"%":"px",0,!1);
this.GK.U(Y.E.j,this.vr,this);this.OR.U(Y.E.j,this.vr,this);this.G.appendChild(this.GK.G);this.G.appendChild(this.OR.G)}me.prototype=new my;
me.prototype.p=function(){this.GK.p();this.OR.p()};me.prototype.vr=function(z){this.K(new D(Y.E.j,!1))};
me.prototype.mEV=function(z){this.GK.h(z.x);this.OR.h(z.y)};me.prototype.mMP=function(){return new V(this.GK.r(),this.OR.r())};
me.prototype.h=function(z){var r=z.Hrzn.v,k=z.Vrtc.v;if(this.TJ){r=r.val;k=k.val}this.GK.h(r);this.OR.h(k)};
me.prototype.r=function(){var z=this.GK.r(),r=this.OR.r();if(this.TJ)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:z}},Vrtc:{t:"UntF",v:{type:"#Prc",val:r}}};
else return{classID:"Pnt",Hrzn:{v:z,t:"doub"},Vrtc:{v:r,t:"doub"}}};function mg(z,r,k,L,E,F,U){mO.call(this,z,r,k,L,E,!0,F);
Y.UM(this.G,"rangedropinput");this.G.appendChild(this.bs);this.Hj.setAttribute("style","width:3.3em");
this.G.appendChild(this.Hj);this.TW=Y.d("span","rangecont");this.TW.appendChild(this.BS);this.tw=Y.d("button");
this.tw.innerHTML="\u25BC";this.tw.addEventListener("click",this.mWf.bind(this),!1);if(U!=!0)this.G.appendChild(this.tw);
this.tD=new my;this.tD.G=this.TW}mg.prototype=new mO;mg.prototype.mWf=function(z){var r=this.G.getBoundingClientRect();
this.BS.setAttribute("style","width:"+r.width+"px;");var k=new D(Y.E.D,!0);k.data={J:Y.Q.Ut,dF:this.tD,x:r.left,y:r.top+r.height};
this.K(k)};function mF(){my.call(this);this.G=Y.d("span","fitem strokebutton");this.TM=[{strokeStyleLineDashSet:{t:"VlLs",v:[]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:4}},{t:"UntF",v:{type:"#Nne",val:2}}]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleRoundCap"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:0}},{t:"UntF",v:{type:"#Nne",val:2}}]}}];
this.pF=null;this.MY=Y.d("button");this.G.appendChild(this.MY);this.MY.addEventListener("click",this.vK.bind(this),!1);
var z=Y.d("canvas","gsicon");Y.UV(z,40,16);this.vn=z.getContext("2d");this.MY.appendChild(z);var r=Y.d("span");
r.textContent=" \u25BC";this.MY.appendChild(r);this.nH=new my;this.nH.G=Y.d("div","floatcont form");
this.nH.G.setAttribute("style","width: 12em;");this.nH.parent=this;this.m=[new mp([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new mp("Caps",["Butt","Round","Square"]),new mp("Corners",["Miter","Round","Bevel"]),new JP("Gaps")];
for(var k=0;k<this.TM.length;k++)this.m.push(new mr(["Full","Dash","Dots"][k]));for(var k=0;k<this.m.length;
k++){var L=this.m[k];this.nH.G.appendChild(L.G);var E=k<4?Y.E.j:"click";L.U(E,this.vr,this);if(k==3){this.nH.G.appendChild(Y.d("br"))}}}mF.prototype=new my;
mF.prototype.vK=function(z){var r=this.MY.getBoundingClientRect(),k=new D(Y.E.D,!0);k.data={J:Y.Q.Ut,dF:this.nH,x:r.left,y:r.top+r.height+4};
this.K(k)};mF.prototype.vr=function(z){var r=this.pF,zU=this.m,k=zU.indexOf(z.target),L=K.qk.qf[zU[0].r()],E=K.qk.qj[zU[1].r()],F=K.qk.join[zU[2].r()];
r.strokeStyleLineAlignment.v.strokeStyleLineAlignment=L;r.strokeStyleLineCapType.v.strokeStyleLineCapType=E;
r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=F;var U=r.strokeStyleLineDashSet.v=[],l=zU[3].r().split(" ");
for(var G=0;G<l.length;G++)U.push({t:"UntF",v:{type:"#Nne",val:parseInt(l[G])}});if(z.type=="click"){var g=JSON.parse(JSON.stringify(this.TM[k-4]));
for(var P in g)r[P]=g[P]}this.K(new D(Y.E.j,!1))};mF.prototype.p=function(){for(var z=0;z<this.m.length;
z++)this.m[z].p()};mF.prototype.h=function(z){this.pF=JSON.parse(JSON.stringify(z));var r=z.strokeStyleLineAlignment.v.strokeStyleLineAlignment,k=z.strokeStyleLineCapType.v.strokeStyleLineCapType,L=z.strokeStyleLineJoinType.v.strokeStyleLineJoinType,E=[],F=z.strokeStyleLineDashSet.v;
for(var U=0;U<F.length;U++)E.push(F[U].v.val);var zU=this.m;zU[0].h(K.qk.qf.indexOf(r));zU[1].h(K.qk.qj.indexOf(k));
zU[2].h(K.qk.join.indexOf(L));zU[3].h(E.join(" "));var l=this.vn,G=l.canvas.width,g=l.canvas.height,P=Math.min(5,z.strokeStyleLineWidth.v.val);
for(var J=0;J<E.length;J++)E[J]*=P;l.clearRect(0,0,G,g);l.setLineDash(E);l.lineCap=["butt","round","square"][K.qk.qj.indexOf(k)];
l.lineJoin=["miter","round","bevel"][K.qk.join.indexOf(L)];l.lineWidth=P;l.beginPath();l.moveTo(0,g/2);
l.lineTo(G*2,g/2);l.stroke()};mF.prototype.r=function(){return JSON.parse(JSON.stringify(this.pF))};
function JS(z){mZ.call(this,z,!1,"contourbutton",34,16,zB.yb);this.zj=new JP([12,86],null,16);this.zj.U("input",this.vi,this);
this.nH.G.appendChild(this.zj.G);this.cR=null;this.Wv="";this.vY=null}JS.prototype=new mZ;JS.prototype.p=function(){mZ.prototype.p.call(this);
this.zj.p()};JS.prototype.vc=function(z){this.h(this.cR[z.target.r()]);this.K(new D(Y.E.j))};JS.prototype.vi=function(z){this.Wv=this.zj.r().toLowerCase();
this.Xa()};JS.prototype.va=function(){if(!this.VS)return;var z=this.kq,r=Math.floor(38*Y.Z()),k=Math.floor(38*Y.Z());
this.vY=[];for(var L=0;L<z.length;L++)this.vY.push(JS.XB(z[L],r,k));this.Xa();this.VS=!1};JS.prototype.Xa=function(){var z=Math.floor(38*Y.Z()),r=Math.floor(38*Y.Z());
this.cR=[];var k=[],L=[],E=this.kq;for(var F=0;F<E.length;F++){if(E[F].kS.toLowerCase().indexOf(this.Wv)==-1)continue;
this.cR.push(E[F]);k.push(this.vY[F]);L.push(E[F].kS)}this.jo.vm(k,L,z,r)};JS.prototype.h=function(z){this.k_=JS.clone(z);
this.vo()};JS.prototype.vo=function(){var z=Math.floor(23*Y.Z()),r=Math.floor(23*Y.Z()),k=JS.XB(this.k_,z,r);
this.jU.setAttribute("src",k);Y.UO(this.jU,z,r)};JS.prototype.r=function(){return JS.clone(this.k_)};
JS.clone=function(z){return{kS:z.kS,Yf:z.Yf,A:T.Zx.Za(z.A),km:z.km.clone()}};JS.M_=null;JS.Xc=null;JS.XB=function(z,r,k){var L=T.Zx.Za(z.A),E=z.km,F=Math.min(r/E.X,k/E.z)*.9,U=new zT;
U.translate(-.5,-.5);U.scale(.95,.95);U.translate(.5,.5);U.scale(F*E.X,F*E.z);e.f.Qk(L,U);var l=new T.Zx;
l.A=L;var G=l._F();G.rect.x=Math.floor((r-G.rect.X)/2);G.rect.y=Math.floor((k-G.rect.z)/2);var g=e.$(G.rect.Y()*4);
e.JV(g,4278190080);e.Jo(G.channel);e.JN(G.channel,g,0);e.JN(G.channel,g,1);e.JN(G.channel,g,2);var P=JS;
if(P.M_==null)P.M_=Y.d("canvas");var J=P.M_,x=J.getContext("2d");if(J.width!=r||J.height!=k||P.Xc==null){J.width=r;
J.height=k;P.Xc=x.createImageData(r,k)}var a=P.Xc;e.JV(a.data,4294967295);e.Jb(g,G.rect,a.data,new Z(0,0,r,k));
x.putImageData(a,0,0);return J.toDataURL()};function Jm(){my.call(this);this.YA=null;this.G=Y.d("span","fitem");
this.Kx=new mv([14,9]);this.cK=new mg([12,14],0,10,"pt",1,!0);this.co=new mF;this.fc=[this.Kx,this.cK,this.co];
for(var z=0;z<this.fc.length;z++){var r=this.fc[z];this.G.appendChild(r.G);r.parent=this;r.U(Y.E.j,this.vr,this)}}Jm.prototype=new my;
Jm.prototype.p=function(){for(var z=0;z<this.fc.length;z++)this.fc[z].p()};Jm.prototype.hC=function(z,r){this.Kx.hC(z,r)};
Jm.prototype.vr=function(z){var r=this.YA,k=this.Kx.r(),L=k.YR;r.strokeEnabled.v=L!=0;if(L!=0){r.strokeStyleContent.v=k.OF;
k.OF.classID=K.qk.qe[L-1]}r.strokeStyleLineWidth.v.val=this.cK.r();if(z.target==this.co)r=this.co.r();
this.YA=r;this.K(new D(Y.E.j,!1))};Jm.prototype.h=function(z,r,k){this.YA=JSON.parse(JSON.stringify(r));
var L=r.strokeEnabled.v,E=r.strokeStyleContent.v,F=L?{YR:1+K.qk.qe.indexOf(E.classID),OF:E}:{YR:0};this.Kx.h(z,F,k);
this.cK.h(r.strokeStyleLineWidth.v.val);this.co.h(r)};Jm.prototype.r=function(){return JSON.parse(JSON.stringify(this.YA))};
function JJ(z,r){my.call(this);this.G=Y.d("span","fitem");this.KJ=["front","union","difference","intersection","xor"];
this.mMV=[[18,0],[18,1],[18,2],[18,3],[18,4]];this.jI=[];this.cP=0;for(var k=0;k<this.KJ.length;k++){var L=new mr("<img src=\""+PIMG["set/"+this.KJ[k]]+"\" class=\"autoscale gsicon\" />",!1);
L.U("click",this.mWZ,this);this.G.appendChild(L.G);this.jI.push(L)}this.jI[0].vh()}JJ.prototype=new my;
JJ.prototype.r=function(){return this.KJ[this.cP]};JJ.prototype.h=function(z){this.cP=this.KJ.indexOf(z);
for(var r=0;r<this.jI.length;r++)this.jI[r].vT();this.jI[this.cP].vh()};JJ.prototype.mWZ=function(z){this.h(this.KJ[this.jI.indexOf(z.currentTarget)]);
this.K(new D(Y.E.j,!1))};JJ.prototype.p=function(){};function JP(z,r,k){my.call(this);var L=Y.UP();this.G=Y.d("span","fitem tinput");
if(z){this.$k=z;this.bs=Y.d("label","flabel");this.G.appendChild(this.bs);this.bs.setAttribute("for",L);
this.p()}this.Hj=Y.d("input","");this.Hj.setAttribute("type","text");this.Hj.setAttribute("id",L);if(k)this.Hj.setAttribute("style","width:"+k+"em");
this.G.appendChild(this.Hj);if(r){this.$t=Y.d("span","");this.$t.textContent=r;this.G.appendChild(this.$t)}this.Hj.addEventListener("change",this.nD.bind(this),!1);
this.Hj.addEventListener("input",this.mlu.bind(this),!1)}JP.prototype=new my;JP.prototype.p=function(){if(this.$k==null)return;
var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);this.bs.textContent=z+":"};JP.prototype.nd=function(z){this.bs.textContent=z};
JP.prototype.h=function(z){this.Hj.value=z==null?"":z};JP.prototype.r=function(){return this.Hj.value};
JP.prototype.Xh=function(){this.Hj.select();this.Hj.focus()};JP.prototype.nD=function(z){this.K(new D(Y.E.j,!1))};
JP.prototype.mlu=function(z){this.K(new D("input",!1))};function Jz(z,r,k,L,E,F){mO.call(this,z,r,k,L,E,!0,F);
Y.UM(this.G,"trangeinput");this.G.appendChild(this.bs);this.G.appendChild(this.Hj);var U=Y.d("span","rangecont");
this.G.appendChild(U);U.appendChild(this.BS);this.BS.setAttribute("style","width:97%;")}Jz.prototype=new mO;
function JG(){my.call(this);this.sU={jY:20,jk:!0};this.G=Y.d("span","");this.mK=new mg([12,24],0,255);
this.mK.h(10);this.G.appendChild(this.mK.G);this.mK.U(Y.E.j,this.vr,this);this.ui=new mi([12,25]);this.ui.vh();
this.G.appendChild(this.ui.G);this.ui.U(Y.E.j,this.vr,this)}JG.prototype=new my;JG.prototype.vr=function(){var z=parseInt(this.mK.r());
z=Math.max(0,Math.min(255,z));this.mK.h(z);this.sU.jY=z;this.sU.jk=this.ui.vR();this.K(new D(Y.E.j,!1))};
JG.prototype.r=function(){return JSON.parse(JSON.stringify(this.sU))};JG.prototype.p=function(){this.mK.p();
this.ui.p()};function JW(z,r){my.call(this);if(r==null)r=!1;this.vY=[];this.Iu=0;this.IM=[];this._a=[];
for(var k in e.ut.type){if(k=="warpCustom"&&!r)continue;this.IM.push(k);this._a.push(e.ut.type[k])}this.G=Y.d("span","fitem warpbutton");
this.nH=new my;this.nH.G=Y.d("div","floatcont");this.nH.G.setAttribute("style","width: 10em;");if(z){this.bs=Y.d("label","flabel");
this.bs.innerHTML=z;this.G.appendChild(this.bs)}this.J=Y.d("button");this.G.appendChild(this.J);this.J.addEventListener("click",this.vK.bind(this),!1);
this.lP=new m_(!0);this.nH.G.appendChild(this.lP.G);this.lP.U(Y.E.j,this.mW_,this);this.p()}JW.prototype=new my;
JW.prototype.nd=function(z){this.bs.textContent=z};JW.prototype.p=function(){this.vY=[];var z=Math.floor(114*Y.Z()),r=Math.floor(23*Y.Z()),k=Y.d("canvas","");
k.width=z;k.height=r;var L=k.getContext("2d");L.lineWidth=1;L.strokeStyle="#000000";L.font=Math.floor(13*Y.Z())+"px sans-serif";
var E=Math.floor(16*Y.Z()),F=new Z(0,0,E,E);for(var U=0;U<this.IM.length;U++){var l=this.IM[U];L.clearRect(0,0,k.width,k.height);
var G=e.ut.ut(F,l,!0,.3,0,0),g=e.b.MJ(F);g.be.push("M","L","M","L");g.O.push(0,E/2,E,E/2);g.O.push(E/2,0,E/2,E);
g=e.b.MP(g);g=e.b.Mz(g,E/5);e.zB.apply(G,g.O,F);e.b.Wg(g.O,new zT(1,0,0,1,Math.floor(8*Y.Z())+.5,Math.floor(3*Y.Z())+.5),g.O);
L.beginPath();Typr.U.pathToContext({cmds:g.be,crds:g.O},L);L.stroke();L.fillText(zA.get(e.ut.type[l]),Math.floor(40*Y.Z()),Math.floor(16*Y.Z()));
this.vY.push(k.toDataURL())}this.lP.vm(this.vY,null,z,r);this.vo()};JW.prototype.vK=function(z){var r=this.J.getBoundingClientRect(),k=new D(Y.E.D,!0);
k.data={J:Y.Q.Ut,dF:this.nH,x:r.left,y:r.top+r.height+4};this.K(k)};JW.prototype.mW_=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.U$,dF:this.nH};this.K(r);this.Iu=z.target.r();this.vo();this.K(new D(Y.E.j))};JW.prototype.vo=function(){this.lP.vP(this.Iu);
this.J.innerHTML="<img src=\""+this.vY[this.Iu]+"\" class=\"gsicon\" />";var z=Math.floor(114*Y.Z()),r=Math.floor(23*Y.Z());
Y.UO(this.J.firstChild,z,r)};JW.prototype.r=function(){return this.IM[this.Iu]};JW.prototype.h=function(z){this.Iu=this.IM.indexOf(z);
this.vo()};function JM(z,r,k){my.call(this);if(z==null)z=!1;if(r==null)r=!1;if(k==null)k=!1;this.mMr=r;
this.ut=null;this.GC=new JW("Style:",k);this.GC.parent=this;this.GC.U(Y.E.j,this.vs,this);this.vj=new mp("Orientation:",["Horizontal","Vertical"]);
this.vj.U(Y.E.j,this.vs,this);var L=z?mg:Jz;this.vf=new L("Bend:",-100,100,"%");this.mN=new L("Horizontal Distortion:",-100,100,"%");
this.zs=new L("Vertical Distortion:",-100,100,"%");this.vf.parent=this.mN.parent=this.zs.parent=this;
this.vf.U(Y.E.j,this.vs,this);this.mN.U(Y.E.j,this.vs,this);this.zs.U(Y.E.j,this.vs,this)}JM.prototype=new my;
JM.prototype.p=function(){var z=this.mMr?1:100;this.GC.nd(zA.get([12,22])+":");this.GC.p();this.vj.nd(zA.get([22,0])+":");
this.vj.vX([zA.get([22,4,0]),zA.get([22,4,1])]);this.vf.nd(zA.get([22,1])+":");this.mN.nd(zA.get([22,2]).substring(0,z)+":");
this.zs.nd(zA.get([22,3]).substring(0,z)+":")};JM.prototype.vs=function(){var z=this.ut,r=this.GC.r(),k=z.warpStyle.v.warpStyle;
if(r=="warpCustom")e.ut.ud(e.ut.uH(z),z);else delete z.customEnvelopeWarp;z.warpStyle.v.warpStyle=this.GC.r();
z.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.vj.r()];z.warpValue.v=this.vf.r();z.warpPerspective.v=this.mN.r();
z.warpPerspectiveOther.v=this.zs.r();if(r=="warpNone"||r=="warpCustom"){z.warpValue.v=0;z.warpPerspective.v=0;
z.warpPerspectiveOther.v=0}else if(k=="warpNone"||k=="warpCustom")z.warpValue.v=50;this.K(new D(Y.E.j,!1));
this.h(z)};JM.prototype.r=function(z){return JSON.parse(JSON.stringify(this.ut))};JM.prototype.h=function(z){this.ut=JSON.parse(JSON.stringify(z));
this.GC.h(z.warpStyle.v.warpStyle);this.vj.h(z.warpRotate.v.Ornt=="Hrzn"?0:1);this.vf.h(z.warpValue.v);
this.mN.h(z.warpPerspective.v);this.zs.h(z.warpPerspectiveOther.v);var r=z.warpStyle.v.warpStyle,k=r=="warpNone"||r=="warpCustom",L=[this.vj,this.vf,this.mN,this.zs];
for(var E=0;E<L.length;E++)if(k)L[E].nL();else L[E].nr()};function zQ(z){my.call(this);this.G=Y.d("div");
this.au=z;this.Qt=!1;this.ls=new V(0,0);this.ee="grab; cursor:-moz-grab; cursor:-webkit-grab;";this.G.setAttribute("style","cursor:"+this.ee);
this.mi=Y.d("canvas","canv");this.G.appendChild(this.mi);this.vn=this.mi.getContext("2d");this.lg=null;
this.Ev=null;this.xb=null;this.zH=0;this.mMb=this.Xq.bind(this);this.TQ=null;this.Ey=null;this.t=new mQ({X:1,z:1});
this.Wl=null;this.eN=null;this.mMY=this.Rm.bind(this);this.tZ=this.RJ.bind(this);this.Tu=this.RP.bind(this);
this.mMf=this.nj.bind(this);this.Qz=0;this.Ci=null;this.XN(this.mi);this.Xy(this)}zQ.prototype=new my;
zQ.prototype.hy=function(z){var r=this.ee;this.Qt=z._(s.VC);if(this.Qt)r="grab; cursor:-moz-grab; cursor:-webkit-grab;";
this.G.setAttribute("style","cursor:"+r);if(z._(s.VO)){var k=0;if(z._(s.VX))k=1;if(z._(s.VI))k=-1;if(k!=0){this.X_(new V(this.mi.width/2,this.mi.height/2),k==1)}}};
zQ.prototype.Xw=function(z){this.ee=z;this.G.setAttribute("style","cursor:"+z)};zQ.prototype.XN=function(z){Y.UA(z,this.mMY);
z.addEventListener("wheel",this.mMf,!1)};zQ.prototype.Xy=function(z){z.U("viewchange",this.mxS,this)};
zQ.prototype.mxS=function(z){var r=this.t.o,k=z.currentTarget.XO();this.t.o=k.o;this.t.V=k.V.clone();
if(r!=k.o)this.XZ();this.ws()};zQ.prototype.XO=function(){return{o:this.t.o,V:this.t.V}};zQ.prototype.h=function(z,r){var k=z[0].Hf;
if(this.Ev!=null&&this.Ev[0].Hf.Jq(k)){}else{this.t.ed={X:k.X,z:k.z};this.t.V=new V(0,0);this.t.o=1}this.Ev=z;
this.XZ();this.XC();this.zH=0;this.Xq();this.Ey=r};zQ.prototype.nj=function(z){if(z.deltaY==0||Date.now()-this.Qz<100)return;
var r=Y.U_(z);r.x=Y.Z()*r.x;r.y=Y.Z()*r.y;this.Qz=Date.now();this.X_(r,z.deltaY<0)};zQ.prototype.X_=function(z,r){A.we.NJ(this.t,z,r);
this.XZ();this.K(new D("viewchange"));this.K(new D("zoom"))};zQ.prototype.XZ=function(){this.xb=[];var z=this.t.o;
for(var r=0;r<this.Ev.length;r++){var k=this.Ev[r],L=new Uint8Array(k.data),E;if(z>=1)E={bT:L,rect:k.Hf};
else E=e.Jt(L,k.Hf,z);this.xb.push(E)}};zQ.prototype.XC=function(){clearTimeout(this.TQ)};zQ.prototype.ws=function(){if(this.Ev==null)return;
var z=this.Ev[this.zH],r=this.xb[this.zH],k=this.t,L,E;if(k.o<=1){var F=r.rect.clone();F.x=k.V.x+Math.floor((k.l.X-r.rect.X)/2);
F.y=k.V.y+Math.floor((k.l.z-r.rect.z)/2);L=r.bT;E=F}else{var U=k.qq(),l=k.qC(),G=new Z(0,0,U.X*k.o,U.z*k.o);
G.x=U.x*k.o+l.x;G.y=U.y*k.o+l.y;if(k.Pn==null||k.Pn.length!=U.Y()*4){k.Pn=e.$(U.Y()*4)}if(k.Jc==null||k.Jc.length!=G.Y()*4){k.Jc=e.$(G.Y()*4)}e.JV(k.Pn,0);
e.Jb(r.bT,r.rect,k.Pn,U);e.scale.Mv(k.Pn,U.X,U.z,k.Jc,G.X,G.z,k.o);L=k.Jc;E=G}var l=k.qC();e.Ja(this.lg.data,k.l.X,k.l.z,8,-l.x,-l.y);
e.M.Py("norm",L,E,this.lg.data,k.l,k.l,1);this.vn.setTransform(1,0,0,1,0,0);this.vn.putImageData(this.lg,0,0);
var g=this.Ey;if(g){this.vn.fillStyle="#00ff00";this.vn.lineWidth=1;var P=this.Ev[0].Hf,J=k.o*P.X/g.Hg;
this.vn.beginPath();this.vn.strokeStyle="#ff6600";for(var x=0;x<g.HF;x++)for(var a=0;a<g.Hg;a++){var d=x*g.Hg+a<<1,t=(a+g.map[d])*J+l.x,m=(x+g.map[d+1])*J+l.y;
if(a!=g.Hg-1){this.vn.moveTo(t,m);var b=(a+1+g.map[d+2])*J+l.x,I=(x+g.map[d+3])*J+l.y;this.vn.lineTo(b,I)}if(x!=g.HF-1){this.vn.moveTo(t,m);
var b=(a+g.map[d+g.Hg*2])*J+l.x,I=(x+1+g.map[d+g.Hg*2+1])*J+l.y;this.vn.lineTo(b,I)}}this.vn.stroke()}if(k.o<1)l=E;
var a=l.x,x=l.y,v=l.X,W=l.z;this.vn.clearRect(a,x,-1e3,W);this.vn.clearRect(a+v,x,1e3,W);this.vn.clearRect(a-1e3,x,v+2e3,-1e3);
this.vn.clearRect(a-1e3,x+W,v+2e3,1e3);this.vn.setTransform(1,0,0,1,0,k.l.z);this.vn.scale(Y.Z(),Y.Z());
this.vn.fillStyle="rgba(0,0,0,1)";this.vn.fillRect(0,0,50,-18);this.vn.font=11+"px monospace";this.vn.fillStyle="rgba(255,255,255,1)";
var B=k.o*100;if(B<100)B=B.toFixed(2);B=B+"%";var n=this.vn.measureText(B).width;this.vn.fillText(B,(50-n)/2,-6)};
zQ.prototype.Xq=function(){var z=this.Ev,r=z.length,k=this.Ev[this.zH];this.ws();if(r!=1&&z[(this.zH+1)%r].Hf.Jq(k.Hf)){var L=k.He?parseInt(k.He.split(",").pop()):30;
if(L==0)L=16;this.TQ=setTimeout(this.mMb,L)}this.zH=(this.zH+1)%r};zQ.prototype.Xo=function(z,r){var k=Math.floor(z*Y.Z()),L=Math.floor(r*Y.Z());
this.t.l=new Z(0,0,k,L);this.mi.width=k;this.mi.height=L;this.mi.setAttribute("style","width:"+k/Y.Z()+"px; height:"+L/Y.Z()+"px; display:block;");
this.lg=this.vn.createImageData(k,L);this.ws()};zQ.prototype.Rm=function(z){this.Ci=z.target;Y.Uh(document.body,this.tZ);
Y.UT(document.body,this.Tu);this.Wl=Y.U_(z,this.mi);this.Wl.x*=Y.Z();this.Wl.y*=Y.Z();this.ls=this.Wl;
this.eN=this.t.V.clone();if(this.au&&this.Ci==this.mi&&!this.Qt)this.K(new D("mousedown"))};zQ.prototype.RJ=function(z){var r=this.t,k=this.Ev[this.zH].Hf.clone();
k.X*=r.o;k.z*=r.o;var L=Y.U_(z,this.mi);L.x*=Y.Z();L.y*=Y.Z();this.ls=L;if(this.au&&this.Ci==this.mi&&!this.Qt)this.K(new D("mousemove"));
else if(!r.l.ai(k)){var E=L.x-this.Wl.x,F=L.y-this.Wl.y;r.V.x=this.eN.x+Math.round(E);r.V.y=this.eN.y+Math.round(F);
this.K(new D("viewchange"))}};zQ.prototype.RP=function(z){Y.Uw(document.body,this.tZ);Y.UN(document.body,this.Tu);
if(z.detail>1){this.t.o=1;this.t.V.Ep(0,0);this.ws()}if(this.au&&this.Ci==this.mi&&!this.Qt)this.K(new D("mouseup"))};
zQ.prototype.Xr=function(){return this.t.q_(this.ls.x,this.ls.y)};function Ju(){my.call(this);this.G=Y.d("span","fitem");
this.cL=!1;this.xr=new mr("No",!1,"Cancel");this.kL=new mr("Yes",!1,"Confirm");this.G.appendChild(this.xr.G);
this.G.appendChild(this.kL.G);this.xr.U("click",this.XL,this);this.kL.U("click",this.XL,this);this.p()}Ju.prototype=new my;
Ju.prototype.p=function(){this.xr.nd(Y.Uo("cross",null,"autoscale"));this.kL.nd(Y.Uo("checkmark",null,"autoscale"))};
Ju.prototype.XL=function(z){this.cL=z.target==this.kL;this.K(new UIEvent("click"))};Ju.prototype.r=function(){return this.cL};
function JK(){my.call(this);this.G=Y.d("div")}JK.prototype=new my;JK.prototype.XU=function(){return!1};
JK.prototype.h=function(z){};JK.prototype.Xn=function(z){};JK.prototype.vs=function(z){this.K(new D(Y.E.j))};
JK.prototype.p=function(){};JK.prototype.hC=function(z,r){};JK.blnc=function(){JK.call(this);var z=this.G;
this.cL=null;this.kI=new mp([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.kI.U(Y.E.j,this.Xv,this);z.appendChild(this.kI.G);
this.sn=[];for(var r=0;r<3;r++){var k=new Jz(["Red","Green","Blue"][r],-100,100);k.U(Y.E.j,this.vs,this);
this.sn.push(k);z.appendChild(k.G)}this.zl=new mi("Preserve Luminosity");this.zl.U(Y.E.j,this.vs,this);
z.appendChild(this.zl.G)};JK.blnc.prototype=new JK;JK.blnc.prototype.p=function(){this.kI.p()};JK.blnc.prototype.h=function(z){this.cL=JSON.parse(JSON.stringify(z));
this.Xv()};JK.blnc.prototype.r=function(z){var r=this.cL.sn[this.kI.r()];for(var k=0;k<3;k++)r[k]=this.sn[k].r();
this.cL.mf=this.zl.r();return JSON.parse(JSON.stringify(this.cL))};JK.blnc.prototype.Xv=function(z){var r=this.cL.sn[this.kI.r()];
for(var k=0;k<3;k++)this.sn[k].h(r[k]);this.zl.h(this.cL.mf)};JK.brit=function(){JK.call(this);var z=this.G;
this.Ic=new Jz([12,2],-150,150,"");this.Ic.U(Y.E.j,this.vs,this);z.appendChild(this.Ic.G);this.ts=new Jz([12,3],-100,100,"");
this.ts.U(Y.E.j,this.vs,this);z.appendChild(this.ts.G);this.bE=new mi("Old Way");this.bE.U(Y.E.j,this.vs,this);
z.appendChild(this.bE.G)};JK.brit.prototype=new JK;JK.brit.prototype.p=function(){this.Ic.p();this.ts.p()};
JK.brit.prototype.h=function(z){this.Ic.h(z[0]);this.ts.h(z[1]);this.bE.h(z[2])};JK.brit.prototype.r=function(z){return[this.Ic.r(),this.ts.r(),this.bE.r()]};
JK.curv=function(){JK.call(this);this.value=null;var z=this.G;this.cH=new mp("...",["RGB","Red","Green","Blue"]);
this.cH.U(Y.E.j,this.ws,this);z.appendChild(this.cH.G);this.jq=new mp(null,["Spline","Sketch"]);this.jq.U(Y.E.j,this.mJr,this);
z.appendChild(this.jq.G);var r=new mr("Reset");r.U("click",this.XX,this);z.appendChild(r.G);this.DX=new ms;
this.DX.U(Y.E.j,this.Xs,this);z.appendChild(this.DX.G)};JK.curv.prototype=new JK;JK.curv.prototype.p=function(){this.cH.nd(zA.get([12,4])+": ")};
JK.curv.prototype.XX=function(z){var r=this.jq.r();this.value=[];if(r==0)for(var k=0;k<4;k++){this.value.push([e.MF.QS(0,0,!0),e.MF.QS(255,255,!0)])}else for(var k=0;
k<4;k++){var L=[];this.value.push(L);for(var E=0;E<256;E++)L.push(E)}this.ws();this.vs()};JK.curv.prototype.mJr=function(z){var r=this.value[0].length==256?1:0,k=this.jq.r();
if(r==k)return;this.XX()};JK.curv.prototype.Xs=function(){this.value[this.cH.r()]=this.DX.r();this.vs()};
JK.curv.prototype.ws=function(){var z=this.value[0].length==256?1:0;this.jq.h(z);this.DX.h(this.value[this.cH.r()])};
JK.curv.prototype.h=function(z){this.value=z;this.ws()};JK.curv.prototype.r=function(z){return this.value};
JK.expA=function(){JK.call(this);var z=this.G;this.$h=new Jz([12,5],-20,20,null,3);this.$h.U(Y.E.j,this.vs,this);
z.appendChild(this.$h.G);this.Qg=new Jz([12,6],-.5,.5,null,3);this.Qg.U(Y.E.j,this.vs,this);z.appendChild(this.Qg.G);
this.Qo=new Jz([12,7],.1,9.99,null,3);this.Qo.U(Y.E.j,this.vs,this);z.appendChild(this.Qo.G)};JK.expA.prototype=new JK;
JK.expA.prototype.p=function(){this.$h.p();this.Qg.p();this.Qo.p()};JK.expA.prototype.h=function(z){this.$h.h(z[0]);
this.Qg.h(z[1]);this.Qo.h(z[2])};JK.expA.prototype.r=function(z){return[this.$h.r(),this.Qg.r(),this.Qo.r()]};
JK.grdm=function(){JK.call(this);var z=this.G;this.tM=new mH(!0,null,!0);z.appendChild(this.tM.G);this.tM.U(Y.E.j,this.vs,this);
this.tM.parent=this;this.pE=new mi([12,23]);z.appendChild(this.pE.G);this.pE.U(Y.E.j,this.vs,this)};
JK.grdm.prototype=new JK;JK.grdm.prototype.hC=function(z,r){this.tM.XP(z.fh,z.fT);if(r==zB.yg||r==zB.yp)this.tM.vM(z.$x)};
JK.grdm.prototype.p=function(){this.pE.p()};JK.grdm.prototype.h=function(z){this.tM.h(z[0]);this.pE.h(z[1])};
JK.grdm.prototype.r=function(z){return[this.tM.r(),this.pE.r()]};JK.selc=function(){JK.call(this);var z=this.G;
this.Vi=[];this.BJ=null;this.kI=new mp("Colors","Reds,Yellows,Greens,Cyans,Blues,Magentas,Whites,Neutrals,Blacks".split(","));
this.kI.U(Y.E.j,this.nY,this);z.appendChild(this.kI.G);for(var r=0;r<4;r++){var k=new Jz(["Cyan","Magenta","Yellow","Black"][r],-100,100,"%");
k.U(Y.E.j,this.nY,this);this.Vi.push(k);z.appendChild(k.G)}this.QW=new mi("Absolute");z.appendChild(this.QW.G);
this.QW.U(Y.E.j,this.nY,this)};JK.selc.prototype=new JK;JK.selc.prototype.p=function(){this.kI.p();this.QW.p();
for(var z=0;z<4;z++)this.Vi[z].p()};JK.selc.prototype.h=function(z){this.BJ=JSON.parse(JSON.stringify(z));
this.Xv()};JK.selc.prototype.r=function(z){return JSON.parse(JSON.stringify(this.BJ))};JK.selc.prototype.nY=function(z){if(z.target!=this.kI){var r=this.BJ,k=r.YF[this.kI.r()+1];
for(var L=0;L<4;L++)k[L]=this.Vi[L].r();r.Yg=this.QW.r()}this.Xv();this.vs()};JK.selc.prototype.Xv=function(){var z=this.BJ,r=z.YF[this.kI.r()+1];
for(var k=0;k<4;k++)this.Vi[k].h(r[k]);this.QW.h(z.Yg)};JK.blwh=function(){JK.call(this);var z=this.G;
this.Iw=new mi([12,11]);this.Iw.U(Y.E.j,this.vs,this);z.appendChild(this.Iw.G);this.Ol=new mL;this.Ol.parent=this;
this.Ol.U(Y.E.j,this.vs,this);z.appendChild(this.Ol.G);this.BK=[];var r="Red Yellow Green Cyan Blue Magenta".split(" ");
for(var k=0;k<6;k++){var L=new Jz(r[k]+"s",-200,300);L.U(Y.E.j,this.vs,this);this.BK.push(L);z.appendChild(L.G)}};
JK.blwh.prototype=new JK;JK.blwh.prototype.h=function(z){for(var r=0;r<6;r++)this.BK[r].h(z[r]);this.Iw.h(z[6]);
this.Ol.h(z[7])};JK.blwh.prototype.r=function(){var z=[];for(var r=0;r<6;r++)z.push(this.BK[r].r());
z.push(this.Iw.r());z.push(this.Ol.r());return z};JK.hue2=function(){JK.call(this);this.value=null;var z=this.G;
this.kI=new mp([12,12],"Master Red Yellow Green Cyan Blue Magenta".split(" "));this.kI.U(Y.E.j,this.ws,this);
z.appendChild(this.kI.G);this.u_=new Jz([12,8],-180,180);this.u_.U(Y.E.j,this.Xp,this);z.appendChild(this.u_.G);
this.lU=new Jz([12,9],-100,100);this.lU.U(Y.E.j,this.Xp,this);z.appendChild(this.lU.G);this.MI=new Jz([12,10],-100,100);
this.MI.U(Y.E.j,this.Xp,this);z.appendChild(this.MI.G);this.bd=new mi([12,11]);this.bd.U(Y.E.j,this.mSK,this);
z.appendChild(this.bd.G);this.pU=new mf("...",!0);z.appendChild(this.pU.G)};JK.hue2.prototype=new JK;
JK.hue2.prototype.p=function(){this.u_.p();this.lU.p();this.MI.p();this.bd.p();this.kI.p()};JK.hue2.prototype.mSK=function(z){this.value.Yb=this.bd.r();
this.ws();this.vs()};JK.hue2.prototype.Xp=function(z){var r=this.X$();r[0]=this.u_.r();var k=this.lU.r();
r[1]=this.value.Yb?Math.max(0,k):k;r[2]=this.MI.r();this.ws();this.vs()};JK.hue2.prototype.X$=function(){var z=this.value;
if(z.Yb)return z.HS;var r=this.kI.r();return r==0?z.Yi:z.YD[r-1].sn};JK.hue2.prototype.ws=function(){var z=this.value,k="";
this.bd.h(z.Yb);if(z.Yb)this.kI.nL();else this.kI.nr();var r=this.X$();this.u_.h(r[0]);this.lU.h(r[1]);
this.MI.h(r[2]);if(!z.Yb){k+="Apply to hue interval: ";var L=this.kI.r();if(L==0)k+="full";else{var E=z.YD[L-1].YY;
k+=E}}this.pU.h(k)};JK.hue2.prototype.h=function(z){this.value=JSON.parse(JSON.stringify(z));this.ws()};
JK.hue2.prototype.r=function(z){return JSON.parse(JSON.stringify(this.value))};JK.levl=function(){JK.call(this);
this.value=null;this.vg=null;this.gC=[new V(0,0),new V(0,0),new V(0,0),new V(0,0),new V(0,0)];this.aA=-1;
this.ve=this.vl.bind(this);this.zF=this.vx.bind(this);var z=this.G;this.cH=new mp("Channel: ",["RGB","Red","Green","Blue"]);
this.cH.U(Y.E.j,this.ws,this);z.appendChild(this.cH.G);var r=new mr("Reset");r.U("click",this.mlW,this);
z.appendChild(r.G);var k=Y.d("div","");z.appendChild(k);var L=Y.d("div","");z.appendChild(L);this.$P=Y.d("canvas");
k.appendChild(this.$P);this.vn=this.$P.getContext("2d");this.XQ=new V(256,120);this.$P.setAttribute("style","display:block");
Y.UV(this.$P,this.XQ.x,this.XQ.y,this.vn);Y.Uy(this.$P);Y.UA(this.$P,this.vE.bind(this));this.OO=Y.d("canvas","");
L.appendChild(this.OO);this.JH=this.OO.getContext("2d");this.Kt=new V(this.XQ.x,40);this.OO.setAttribute("style","display:block");
Y.UV(this.OO,this.Kt.x,this.Kt.y,this.JH);Y.Uy(this.OO);Y.UA(this.OO,this.mWw.bind(this));var E=this.dq=[];
for(var F=0;F<5;F++){var U=new JP(null,null,3);E.push(U);U.U(Y.E.j,this.mlK,this);(F<2||F==4?k:L).appendChild(U.G)}k.appendChild(E[1].G);
E[4].G.setAttribute("style","margin: 0 4.7em");E[3].G.setAttribute("style","margin:0 0 0 13em")};JK.levl.prototype=new JK;
JK.levl.prototype.p=function(){this.cH.nd(zA.get([12,4])+": ")};JK.levl.prototype.mlW=function(z){var r=this.vg;
this.h([[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);this.Xn(r);this.vs()};
JK.levl.prototype.mlK=function(z){var r=this.value[this.cH.r()];for(var k=0;k<4;k++){var L=255,E=1;if(k==4){L=999;
E=100}r[k]=Math.max(0,Math.min(L,parseInt(this.dq[k].r())*E))}this.ws();this.vs()};JK.levl.prototype.ws=function(z){var r=this.value[this.cH.r()];
for(var k=0;k<5;k++)this.dq[k].h(r[k]/(k==4?100:1));var L=this.XQ.x,E=this.XQ.y,F=this.vn;F.clearRect(0,0,L,E);
F.fillStyle="#cccccc";F.fillRect(8,8,L-16,E-16-8);if(this.vg){var U=this.vg[this.cH.r()],l=0;for(var k=0;
k<U.length;k++)l+=U[k];F.fillStyle="#333333";F.beginPath();F.moveTo(8,E-16);for(var k=0;k<256;k++){var G=55*U[k]/l;
F.lineTo(8+k/256*(L-16),Math.max(8,E-16-E*G))}F.lineTo(L-8,E-16);F.closePath();F.fill()}this.gC[0].Ep(8+r[0]/255*(L-16),E-14);
this.gC[1].Ep(8+r[1]/255*(L-16),E-14);var g=Math.log(r[4]/100)/Math.log(9.99);g=.5-g/2;this.gC[4].Ep(this.gC[0].x+g*(this.gC[1].x-this.gC[0].x),E-14);
this.Xb(F,this.gC[0],"#000000");this.Xb(F,this.gC[4],"#777777");this.Xb(F,this.gC[1],"#ffffff");var L=this.Kt.x,E=this.Kt.y;
F=this.JH;F.clearRect(0,0,L,E);var P=F.createLinearGradient(0,0,L-16,0);P.addColorStop(0,"black");P.addColorStop(1,"white");
F.fillStyle=P;F.fillRect(8,8,L-16,16);this.gC[2].Ep(8+r[2]/255*(L-16),E-14);this.gC[3].Ep(8+r[3]/255*(L-16),E-14);
this.Xb(F,this.gC[2],"#000000");this.Xb(F,this.gC[3],"#ffffff")};JK.levl.prototype.Xb=function(z,r,k){z.fillStyle=k;
z.fillRect(r.x-5,r.y,10,10)};JK.levl.prototype.vE=function(z){var r=Y.U_(z,this.$P);if(V.Ed(this.gC[4],r)<10)this.aA=4;
for(var k=0;k<3;k++)if(V.Ed(this.gC[k],r)<10)this.aA=k;this.XD()};JK.levl.prototype.mWw=function(z){var r=Y.U_(z,this.OO);
for(var k=2;k<4;k++)if(V.Ed(this.gC[k],r)<10)this.aA=k;this.XD()};JK.levl.prototype.XD=function(z){if(this.aA==-1)return;
Y.Uh(document.body,this.ve);Y.UT(document.body,this.zF)};JK.levl.prototype.vl=function(z){var r=this.value[this.cH.r()],k=Y.U_(z,this.aA==2&&this.aA==3?this.OO:this.$P),L=255*(k.x-8)/(this.XQ.x-16);
L=Math.max(0,Math.min(255,L));if(this.aA==0)L=Math.min(L,r[1]-2);if(this.aA==1)L=Math.max(L,r[0]+2);
if(this.aA!=4)r[this.aA]=Math.round(L);else{var E=(L-r[0])/(r[1]-r[0]);E=1-2*E;E=Math.pow(9.99,E);r[4]=Math.min(999,Math.max(10,Math.round(E*100)))}this.ws();
this.vs()};JK.levl.prototype.vx=function(z){Y.Uw(document.body,this.ve);Y.UN(document.body,this.zF);
this.aA=-1};JK.levl.prototype.h=function(z){this.value=z;this.vg=null;this.ws()};JK.levl.prototype.Xn=function(z){this.vg=z;
this.ws()};JK.levl.prototype.r=function(z){return JSON.parse(JSON.stringify(this.value))};JK.phfl=function(){JK.call(this);
var z=this.G;this.Ol=new mL;this.Ol.parent=this;this.Ol.U(Y.E.j,this.vs,this);z.appendChild(this.Ol.G);
this.iN=new Jz([12,74],0,100,"%");this.iN.U(Y.E.j,this.vs,this);z.appendChild(this.iN.G);this.zl=new mi("Preserve Luminosity");
this.zl.U(Y.E.j,this.vs,this);z.appendChild(this.zl.G)};JK.phfl.prototype=new JK;JK.phfl.prototype.p=function(){this.iN.p()};
JK.phfl.prototype.h=function(z){this.Ol.h(z.HS);this.iN.h(z.DF);this.zl.h(z.YS)};JK.phfl.prototype.r=function(){return{DF:this.iN.r(),YS:this.zl.r(),HS:this.Ol.r()}};
JK.vibA=function(){JK.call(this);var z=this.G;this.af=new Jz([12,13],-100,100,null);this.af.U(Y.E.j,this.vs,this);
z.appendChild(this.af.G);this.lU=new Jz([12,9],-100,100,null);this.lU.U(Y.E.j,this.vs,this);z.appendChild(this.lU.G)};
JK.vibA.prototype=new JK;JK.vibA.prototype.p=function(){this.af.p();this.lU.p()};JK.vibA.prototype.h=function(z){this.af.h(z[0]);
this.lU.h(z[1])};JK.vibA.prototype.r=function(z){return[this.af.r(),this.lU.r()]};JK.thrs=function(){JK.call(this);
var z=this.G;this.af=new Jz([4,13],1,255,null);this.af.U(Y.E.j,this.vs,this);z.appendChild(this.af.G)};
JK.thrs.prototype=new JK;JK.thrs.prototype.p=function(){this.af.p()};JK.thrs.prototype.h=function(z){this.af.h(z)};
JK.thrs.prototype.r=function(z){return this.af.r()};JK.mixr=function(){JK.call(this);var z=this.G;this.Vi=[];
this.BJ=null;this.kI=new mp([12,4],["Red","Green","Blue"]);this.kI.U(Y.E.j,this.nY,this);z.appendChild(this.kI.G);
z.appendChild(Y.d("br"));this.Ym=new mi([12,60]);z.appendChild(this.Ym.G);this.Ym.U(Y.E.j,this.nY,this);
for(var r=0;r<4;r++){var k=new Jz(["Red","Green","Blue","Total"][r],-200,200,"%");k.U(Y.E.j,this.nY,this);
this.Vi.push(k);z.appendChild(k.G)}};JK.mixr.prototype=new JK;JK.mixr.prototype.p=function(){this.kI.p();
this.Ym.p();for(var z=0;z<4;z++)this.Vi[z].p()};JK.mixr.prototype.h=function(z){this.BJ=JSON.parse(JSON.stringify(z));
this.Xv()};JK.mixr.prototype.r=function(z){return JSON.parse(JSON.stringify(this.BJ))};JK.mixr.prototype.nY=function(z){if(z.target!=this.kI){var r=this.BJ;
if(z.target==this.Ym){r.Ym=this.Ym.r();if(r.Ym)r.u=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else r.u=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var k=(r.Ym?0:this.kI.r())*5,L=this.Vi.indexOf(z.target);
r.u[k+(L<3?L:4)]=z.target.r()}}this.Xv();this.vs()};JK.mixr.prototype.Xv=function(){var z=this.BJ;this.Ym.h(z.Ym);
var r=(z.Ym?0:this.kI.r())*5;for(var k=0;k<4;k++)this.Vi[k].h(z.u[r+(k<3?k:4)])};function JE(){my.call(this);
this.G=Y.d("div","");this.HR=[]}JE.prototype=new my;JE.prototype.XY=function(z){};JE.prototype.XU=function(){return!1};
JE.prototype.Xo=function(z,r){};JE.prototype.h=function(z,r,k,L){};JE.prototype.r=function(){};JE.prototype.hy=function(z){};
JE.prototype.vs=function(z){this.K(new D(Y.E.j))};JE.prototype.p=function(){for(var z=0;z<this.HR.length;
z++)this.HR[z].p()};JE.prototype.UG=function(){Y.UM(this.G,"form");for(var z=0;z<this.HR.length;z++){this.HR[z].U(Y.E.j,this.vs,this);
this.G.appendChild(this.HR[z].G);this.G.appendChild(Y.d("br"))}};JE["\0\0\x02\xB1"]=function(){JE.call(this);
this.HR.push(new Jz([12,56],1,200," px"));this.UG()};JE["\0\0\x02\xB1"].prototype=new JE;JE["\0\0\x02\xB1"].prototype.h=function(z){this.HR[0].h(z.Rds.v.val)};
JE["\0\0\x02\xB1"].prototype.r=function(){var z=mJ._J("\0\0\x02\xB1");z.Rds.v.val=this.HR[0].r();return z};
JE.GsnB=function(){JE.call(this);this.HR.push(new Jz([12,56],1,200," px"));this.UG()};JE.GsnB.prototype=new JE;
JE.GsnB.prototype.h=function(z){this.HR[0].h(z.Rds.v.val)};JE.GsnB.prototype.r=function(){var z=mJ._J("GsnB");
z.Rds.v.val=this.HR[0].r();return z};JE.MtnB=function(){JE.call(this);this.HR.push(new mC([12,15]));
this.HR.push(new Jz([12,28],1,100," px"));this.UG()};JE.MtnB.prototype=new JE;JE.MtnB.prototype.h=function(z){this.HR[0].h(z.Angl.v);
this.HR[1].h(z.Dstn.v.val)};JE.MtnB.prototype.r=function(){var z=mJ._J("MtnB");z.Angl.v=this.HR[0].r().GZ;
z.Dstn.v.val=this.HR[1].r();return z};JE.RdlB=function(){JE.call(this);this.HR.push(new Jz([12,57],1,100));
this.HR.push(new mt([12,36],["Spin","Zoom"]));this.HR.push(new mY("Off X",0,1,null,2));this.HR.push(new mY("Off Y",0,1,null,2));
this.UG()};JE.RdlB.prototype=new JE;JE.RdlB.prototype.h=function(z){var r=this.HR;r[0].h(z.Amnt.v);r[1].h(["Spn","Zm"].indexOf(z.BlrM.v.BlrM));
r[2].h(z.Cntr.v.Hrzn.v);r[3].h(z.Cntr.v.Vrtc.v)};JE.RdlB.prototype.r=function(){var z=mJ._J("RdlB"),r=this.HR;
z.Amnt.v=r[0].r();z.BlrM.v.BlrM=["Spn","Zm"][r[1].r()];z.Cntr.v.Hrzn.v=r[2].r();z.Cntr.v.Vrtc.v=r[3].r();
return z};JE["\0\0\x02\xB5"]=function(){JE.call(this);this.HR.push(new Jz([12,56],1,200," px"));this.HR.push(new Jz([4,13],1,255," px"));
this.UG()};JE["\0\0\x02\xB5"].prototype=new JE;JE["\0\0\x02\xB5"].prototype.h=function(z){this.HR[0].h(z.Rds.v.val);
this.HR[1].h(z.Thsh.v)};JE["\0\0\x02\xB5"].prototype.r=function(){var z=mJ._J("\0\0\x02\xB5");z.Rds.v.val=this.HR[0].r();
z.Thsh.v=this.HR[1].r();return z};JE.AdNs=function(){JE.call(this);this.HR.push(new Jz([12,57],0,200," %"));
this.HR.push(new mp([12,58],[[12,59,0],[12,59,1]]));this.HR.push(new mi([12,60]));this.UG()};JE.AdNs.prototype=new JE;
JE.AdNs.prototype.h=function(z){this.HR[0].h(z.Nose.v.val);this.HR[1].h(["Unfr","Gsn"].indexOf(z.Dstr.v.Dstr));
this.HR[2].h(z.Mnch.v)};JE.AdNs.prototype.r=function(){var z=mJ._J("AdNs");z.Nose.v.val=this.HR[0].r();
z.Dstr.v.Dstr=["Unfr","Gsn"][this.HR[1].r()];z.Mnch.v=this.HR[2].r();return z};JE.DstS=function(){JE.call(this);
this.HR.push(new Jz([12,56],1,200," px"));this.HR.push(new Jz([4,13],1,255," px"));this.UG()};JE.DstS.prototype=new JE;
JE.DstS.prototype.h=function(z){this.HR[0].h(z.Rds.v);this.HR[1].h(z.Thsh.v)};JE.DstS.prototype.r=function(){var z=mJ._J("DstS");
z.Rds.v=this.HR[0].r();z.Thsh.v=this.HR[1].r();return z};JE["Mdn "]=function(){JE.call(this);this.HR.push(new Jz([12,56],1,200," px"));
this.UG()};JE["Mdn "].prototype=new JE;JE["Mdn "].prototype.h=function(z){this.HR[0].h(z.Rds.v.val)};
JE["Mdn "].prototype.r=function(){var z=mJ._J("Mdn ");z.Rds.v.val=this.HR[0].r();return z};JE.ClrH=function(){JE.call(this);
this.HR.push(new Jz([12,56],4,100," px"));for(var z=1;z<4;z++)this.HR.push(new Jz("Angle "+z,0,90," \xB0"));
this.UG()};JE.ClrH.prototype=new JE;JE.ClrH.prototype.h=function(z){this.HR[0].h(z.Rds.v);for(var r=1;
r<4;r++)this.HR[r].h(z["Ang"+r].v)};JE.ClrH.prototype.r=function(){var z=mJ._J("ClrH");z.Rds.v=this.HR[0].r();
for(var r=1;r<4;r++)z["Ang"+r].v=this.HR[r].r();return z};JE.ClrH.prototype.p=function(){var z=this.HR;
z[0].p();for(var r=1;r<4;r++)z[r].nd(zA.get([12,15])+" "+r)};JE["Msc "]=function(){JE.call(this);this.HR.push(new Jz([12,61],2,200," px"));
this.UG()};JE["Msc "].prototype=new JE;JE["Msc "].prototype.h=function(z){this.HR[0].h(z.ClSz.v.val)};
JE["Msc "].prototype.r=function(){var z=mJ._J("Msc ");z.ClSz.v.val=this.HR[0].r();return z};JE.UnsM=function(){JE.call(this);
this.HR.push(new Jz([12,57],1,200," %"));this.HR.push(new Jz([12,56],0,200," px"));this.HR.push(new Jz([4,13],0,255," "));
this.UG()};JE.UnsM.prototype=new JE;JE.UnsM.prototype.h=function(z){this.HR[0].h(z.Amnt.v.val);this.HR[1].h(z.Rds.v.val);
this.HR[2].h(z.Thsh.v)};JE.UnsM.prototype.r=function(){var z=mJ._J("UnsM");z.Amnt.v.val=this.HR[0].r();
z.Rds.v.val=this.HR[1].r();z.Thsh.v=this.HR[2].r();return z};JE.HghP=function(){JE.call(this);this.HR.push(new Jz([12,56],1,200," px"));
this.UG()};JE.HghP.prototype=new JE;JE.HghP.prototype.h=function(z){this.HR[0].h(z.Rds.v.val)};JE.HghP.prototype.r=function(){var z=mJ._J("HghP");
z.Rds.v.val=this.HR[0].r();return z};JE["Mxm "]=function(){JE.call(this);this.HR.push(new Jz([12,56],1,200," px"));
this.UG()};JE["Mxm "].prototype=new JE;JE["Mxm "].prototype.h=function(z){this.HR[0].h(z.Rds.v.val)};
JE["Mxm "].prototype.r=function(){var z=mJ._J("Mxm ");z.Rds.v.val=this.HR[0].r();return z};JE["Mnm "]=function(){JE.call(this);
this.HR.push(new Jz([12,56],1,200," px"));this.UG()};JE["Mnm "].prototype=new JE;JE["Mnm "].prototype.h=function(z){this.HR[0].h(z.Rds.v.val)};
JE["Mnm "].prototype.r=function(){var z=mJ._J("Mnm ");z.Rds.v.val=this.HR[0].r();return z};JE.Ofst=function(){JE.call(this);
this.HR.push(new Jz([22,4,0],-1024,1024," px"));this.HR.push(new Jz([22,4,1],-1024,1024," px"));this.HR.push(new mp([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));
this.UG()};JE.Ofst.prototype=new JE;JE.Ofst.prototype.h=function(z){var r=this.HR;r[0].h(z.Hrzn.v);r[1].h(z.Vrtc.v);
r[2].h(["Bckg","Rpt","Wrp"].indexOf(z.Fl.v.FlMd))};JE.Ofst.prototype.r=function(){var z=mJ._J("Ofst");
z.Hrzn.v=this.HR[0].r();z.Vrtc.v=this.HR[1].r();z.Fl.v.FlMd=["Bckg","Rpt","Wrp"][this.HR[2].r()];return z};
JE.Rept=function(){JE.call(this);this.HR.push(new mY([12,38],1,300," %"));this.HR.push(new mY("Row Shift",-50,50," %"));
this.HR.push(new mY("Space X",-99,200," %"));this.HR.push(new mY("Space Y",-99,200," %"));this.HR.push(new mi([4,16,2]));
this.HR.push(new mC([12,15]));this.UG()};JE.Rept.prototype=new JE;JE.Rept.prototype.h=function(z){var r=this.HR;
r[0].h(z.Scl.v.val);r[1].h(z.Rsft.v.val);r[2].h(z.SpcX.v.val);r[3].h(z.SpcY.v.val);r[4].h(z.SpcC.v);
r[5].h(z.Angl.v)};JE.Rept.prototype.r=function(){var z=mJ._J("Rept"),r=this.HR;z.Scl.v.val=r[0].r();
z.Rsft.v.val=r[1].r();z.SpcX.v.val=r[2].r();z.SpcY.v.val=r[3].r();z.SpcC.v=r[4].r();z.Angl.v=r[5].r().GZ;
return z};JE.LqFy=function(){JE.call(this);this.fz=!1;this.ou=null;this.mQU=null;this.R=0;this.sI={Wu:[[{R:{id:0,name:[24,1,0,1,0],jb:"liq/smudge"}}],[{R:{id:1,name:[24,1,0,1,1],jb:"liq/reconstruct"}}],[{R:{id:2,name:[24,1,0,1,2],jb:"liq/smooth"}}],[{R:{id:3,name:[24,1,0,1,3],jb:"liq/twirl"}}],[{R:{id:4,name:[24,1,0,1,4],jb:"liq/shrink"}}],[{R:{id:5,name:[24,1,0,1,5],jb:"liq/blow"}}],[{R:{id:6,name:[24,1,0,1,6],jb:"liq/pleft"}}]],keys:[]};
this.Or=new zP(this.sI,!1);this.Or.dZ(0);this.Or.U(Y.E.D,this.mWh,this);this.XM=mE.oI();this.Ey=null;
this.sW=[];this.KB=-1;this.bv=null;this.Tn=null;this.Tx=null;var z=Y.d("div","flexrow");this.G.appendChild(z);
z.appendChild(this.Or.G);this.view=new zQ(!0);this.view.Xo(100,100);this.view.U("mousedown",this.Rm,this);
this.view.U("mousemove",this.RJ,this);this.view.U("mouseup",this.RP,this);this.view.U("zoom",this.TL,this);
z.appendChild(this.view.G);var r=Y.d("div","form");z.appendChild(r);this.mQp=r;r.setAttribute("style","width:230px; margin-left:1em;");
this.vA=[new Jz([12,14],0,100,null,!1,!0),new Jz([12,74],0,100,null,!1,!1),new Jz([12,84],0,100,null,!1,!1)];
var k=this.XM.Brsh.v;k.Dmtr.v.val=100;for(var L=0;L<this.vA.length;L++){var E=this.vA[L];if(L==0)E.h(k.Dmtr.v.val);
if(L==1)E.h(50);if(L==2)E.h(100);E.U(Y.E.j,this.mxl,this);r.appendChild(E.G)}var F=new mr("Reset",!0,null,!0);
F.U("click",this.mxv,this);r.appendChild(F.G);this.TL()};JE.LqFy.prototype=new JE;JE.LqFy.prototype.XU=function(){return!0};
JE.LqFy.prototype.XY=function(z){this.mQp.appendChild(z)};JE.LqFy.prototype.hy=function(z){this.fz=z._(s.V_);
var r=A.To.Tr(this.XM,z);if(r!=null){this.XM=r;this.TL();this.vA[0].h(r.Brsh.v.Dmtr.v.val)}else if(z._(s.VO)&&z._(s.Ox)){var k=this.sW;
if(z._(s.Vy)){if(this.KB+1<k.length)this.KB++}else if(this.KB>0)this.KB--;this.Ey.map=k[this.KB].slice(0);
this.Xv(null)}else this.view.hy(z)};JE.LqFy.prototype.mWh=function(z){if(z.data.J==Y.Q.nK){this.R=z.data.R;
this.Or.dZ(this.R)}};JE.LqFy.prototype.mxl=function(z){var r=z.currentTarget,k=this.vA.indexOf(r),L=this.XM.Brsh.v;
if(k==0){L.Dmtr.v.val=r.r();this.TL()}};JE.LqFy.prototype.Xf=function(){var z=this.sW;this.KB++;z[this.KB]=this.Ey.map.slice(0);
while(z.length>this.KB+1)z.pop();while(z.length>50){z=z.slice(1);this.KB--}};JE.LqFy.prototype.Rm=function(z){this.ou=this.view.Xr();
this.mQU=new V(0,0);this.U(Y.E.UI,this.Xe,this)};JE.LqFy.prototype.RJ=function(z){var r=this.view.Xr(),k=new V(r.x-this.ou.x,r.y-this.ou.y);
if(this.R==0||this.R==6)this.Xg(k);this.ou=r};JE.LqFy.prototype.RP=function(z){this.Xf();this.removeEventListener(Y.E.UI,this.Xe,this)};
JE.LqFy.prototype.Xe=function(z){if(this.R!=0&&this.R!=6)this.Xg(new V(0,0))};JE.LqFy.prototype.Xg=function(z){var r=this.Ey,k=r.Hg/this.bv.X,L=this.ou,E=this.XM.Brsh.v,F=E.Dmtr.v.val,U=Date.now(),l=r.Hg,G=r.HF,g=Math.sqrt(z.x*z.x+z.y*z.y),P=Math.max(1,Math.ceil(g/2)),J=z.x/P,x=z.y/P,a=L.clone(),d=this.R,t=this.vA[1].r()/100,m=this.vA[2].r()/100,b=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],I=b[d*2],v=b[d*2+1],W=(1-t)*I+t*v,B=F*k/2;
for(var n=0;n<P;n++){var j=[];a.x+=J;a.y+=x;e.WM.mKZ(r.map,l,G,d,a.x*k,a.y*k,B,t,m,new V(J*k,x*k),j,this.fz);
e.WM.mMD(l,G,r.map,j,W*m)}var p=new Z(0,0,l,G),X=new Z(L.x*k,L.y*k,0,0);X.aD(F*k*.5,F*k*.5);var M=X.clone();
M.offset(z.x*k,z.y*k);X=X.MD(M);var H=new Z(X.x/k,X.y/k,X.X/k,X.z/k);H=e.b.MS(H).Mk(this.bv);this.Xv(H)};
JE.LqFy.prototype.TL=function(){var z=mx.rh(this.XM,null,this.view.XO().o),r=Y.Uq(z);this.view.Xw(r)};
JE.LqFy.prototype.h=function(z,r,k,L){if(r==null)return;if(!L.Jq(k)){var E=k.MD(L),F=e.$(E.Y()*4);e.Jb(r,k,F,E);
r=F;k=E}this.Tn=r;this.Tx=r.slice(0);this.bv=k;this.Ey=zi.lK(new Uint8Array(z.LqMe.v).buffer);var U=k.X,l=k.z;
if(this.Ey.Hg/U<.22){this.Ey={Hg:Math.floor(U/4),HF:Math.floor(l/4)};this.Ey.map=new Float32Array(this.Ey.Hg*this.Ey.HF*2)}this.sW=[];
this.KB=-1;this.Xf();this.Xv(null)};JE.LqFy.prototype.r=function(){var z=mJ._J("LqFy"),r=new Uint8Array(zi.lE(this.Ey)),k=[];
for(var L=0;L<r.length;L++)k.push(r[L]);z.LqMe.v=k;return z};JE.LqFy.prototype.Xo=function(z,r){this.Or.Xo(z,r);
this.view.Xo(z-230-40,r)};JE.LqFy.prototype.p=function(){this.Or.p();for(var z=0;z<this.vA.length;z++)this.vA[z].p()};
JE.LqFy.prototype.mxv=function(){this.Ey.map.fill(0);this.Xf();this.Xv(null)};JE.LqFy.prototype.Xv=function(z){var r=this.bv,k=this.Tn,L=this.Tx,E=this.Ey;
e.WM.WQ(k,L,r.X,r.z,z,E.map,E.Hg,E.HF);this.view.h([{Hf:r,data:L.buffer}])};function Jl(z,r){my.call(this);
this.id=r;this.IG=z;this.pW=null;this.G=Y.d("div","window "+r);this.Db=Y.d("div","head");this.G.appendChild(this.Db);
this.mQb=this.mxY.bind(this);this.Ta=this.mGX.bind(this);this.Tc=this.mQ$.bind(this);Y.Uy(this.Db);Y.UA(this.Db,this.mQb);
this.jz=Y.d("span","cross");Jl.prototype.p.call(this);Y.UT(this.jz,this.IW.bind(this));this.body=Y.d("div","body");
this.G.appendChild(this.body)}Jl.prototype=new my;Jl.prototype.hr=function(){return!1};Jl.prototype.IS=function(){return!1};
Jl.prototype.p=function(){if(this.IG==null)return;var z=typeof this.IG=="string"?this.IG:zA.get(this.IG);
this.Db.innerHTML="<span class=\"wname\">"+z+"</span>";this.Db.appendChild(this.jz);var r=PIMG.__cross==null?"filter:invert(1);":"";
this.jz.setAttribute("style","background-image:url("+PIMG.cross+");"+r)};Jl.prototype.hT=function(z,r,k,L,E){};
Jl.prototype.hR=function(z,r,k,L,E){};Jl.prototype.hw=function(z,r,k,L,E){};Jl.prototype.hN=function(z,r,k,L,E){};
Jl.prototype.hy=function(z,r,k,L){};Jl.prototype.hq=function(z){return!1};Jl.prototype.Im=function(z,r){return!0};
Jl.prototype.IJ=function(z,r,k){};Jl.prototype.hC=function(z,r){};Jl.prototype.XU=function(){return!1};
Jl.prototype.Xo=function(){};Jl.prototype.close=function(){this.K(new D(Y.E.Uv))};Jl.prototype.mxY=function(z){this.pW=Y.U_(z,this.G);
Y.Uh(window,this.Ta);Y.UT(window,this.Tc)};Jl.prototype.mGX=function(z){var r=Y.U_(z,document.body);
this.G.style.left=Math.round(r.x-this.pW.x)+"px";this.G.style.top=Math.max(0,Math.round(r.y-this.pW.y))+"px"};
Jl.prototype.mQ$=function(z){Y.Uw(window,this.Ta);Y.UN(window,this.Tc)};Jl.prototype.IW=function(z){this.K(new D("closebtn"));
this.close()};function Jx(){Jl.call(this,[0,13,0],"account");this.$J=Y.d("div","form padded scrollable");
this.$J.setAttribute("style","max-width:42em;  max-height:33em;");this.body.appendChild(this.$J);this.Oq=[new Jx.IQ,new Jx.IT];
for(var z=0;z<this.Oq.length;z++)this.Oq[z].parent=this;this.U("showpage",this.mMq,this)}Jx.prototype=new Jl;
Jx.prototype.mMq=function(z){Y.UW(this.$J);this.$J.scrollTop=0;this.$J.appendChild(this.Oq[z.data.HD].G)};
Jx.prototype.p=function(){Jl.prototype.p.call(this);for(var z=0;z<this.Oq.length;z++)this.Oq[z].p()};
Jx.prototype.IJ=function(z,r,k){Y.UW(this.$J);var L=this.Oq[0];this.$J.appendChild(L.G);L.IJ();this.p()};
Jx.prototype.hC=function(z,r){this.IJ(null,null,null)};Jx.IQ=function(){my.call(this);this.G=Y.d("div");
var z=this.G,r,k,L="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.cc=Y.d("div");z.appendChild(this.cc);this.tA=new mr([0,11],!1,null,!0);r=Y.d("h2","");var E=[9,20,30,80,100,240,40,80,100,200,200,400];this.OU=[];for(var F=0;F<E.length;
F++)this.OU.push(new mr("Buy: $"+E[F],!1,null,!0));r=Y.d("h2","");r.innerHTML="Go Premium";this.q$=new mr("...",!0);
this.q$.G.setAttribute("style",L);k=this.Ia(["Single user",this.OU[0],this.OU[1],"Team of 5",this.OU[2],this.OU[3],"Team of 20",this.OU[4],this.OU[5]]);
this.TB=new mi("I accept",!0,"");this.jQ=new mr([0,13,1],!1,null,!0);
this.jQ.U("click",this.mMC,this);r=Y.d("h2","");r.textContent="Team Settings";
this.tW=new mi("Join a team");this.tW.U(Y.E.j,this.IE,this);
this.tW.vh();this.IO=new JP("Email of a leader",null,14);
this.ZB=new mi("Start a team");this.ZB.U(Y.E.j,this.IE,this);var U=new mf("Emails of other members:");
this.jv=Y.d("textarea");this.jv.setAttribute("rows",3);this.jv.setAttribute("cols",70);
this.jv.setAttribute("style","display:block;tab-size:4;");var l=new mr("Save Team Settings",!1,null,!0);
l.U("click",this.mcW,this);var G=new mr("More about Teams",!1,null,!0);z.appendChild(G.G);
G.U("click",this.IK,this);r=Y.d("h2","");r.innerHTML="Distributor Account";this.I_=new mr("...",!0);
this.I_.G.setAttribute("style",L);z.appendChild(this.I_.G);k=this.Ia(["1000 views/month",this.OU[6],this.OU[7],"5000 views/month",this.OU[8],this.OU[9],"20000 views/month",this.OU[10],this.OU[11]]);
this.ll=new JP("Domain name (e.g. domain.com)",null,14);
var l=new mr("Save Domain Settings",!1,null,!0);l.vh();
var G=new mr("More about Distributors",!1,null,!0);};Jx.IQ.prototype=new my;
Jx.IQ.prototype.mMC=function(z){var r=new D("showpage",!0);r.data={HD:1};this.K(r)};Jx.IQ.prototype.p=function(){this.tA.nd(zh.nv()?zA.get([0,11]):zA.get([0,10]));
this.jQ.p()};Jx.IQ.prototype.IK=function(){var z=new D(Y.E.D,!0);z.data={J:Y.Q.nc,link:"https://www.photopea.com/api/accounts#teams"};
this.K(z)};Jx.IQ.prototype.IE=function(z){var r=z.currentTarget==this.tW;this.tW.h(r);this.ZB.h(!r)};
Jx.IQ.prototype.mcW=function(z){var r=this.tW.r(),k=this.IO.r().trim(),L=this.jv.value.trim();if(k.length>60){alert("Too long email address");
return}if(L.length>600){alert("Too many team members");return}L=L.split(",").join(" ").trim();L=L.replace(/\s+/g," ");
if(L=="")L=[];else L=L.split(" ");var E=zh.mJ();if(E==null)E={};if(E.acc==null)E.acc={};E.acc.team={jin:r,ldr:k,mmb:L};
zh.mP(E,this.IB.bind(this));alert("Saved!");this.IJ()};Jx.IQ.prototype.IJ=function(){if(zh.nv()){var z=zh.JU();if(z==null)return;
this.cc.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+z.name+"</span> "+z.email+" <br/>"}else this.cc.innerHTML="Created By Photopea. <br/>";
var r=zh.nv()&&z.premium*1e3>Date.now();this.q$.G.style.display=r?"block":"none";if(r){var k=parseInt(z.premium)-Date.now()/1e3,L=parseInt(z.ptype),E;
if(L==-1)E="member of a team";else if(L==1)E="Single user";else E="Team of "+L;this.q$.nd("Premium active for "+Math.round(k/(60*60*24))+" more days! ("+E+")")}var F=zh.nv()&&z.distrib*1e3>Date.now();
this.I_.G.style.display=F?"block":"none";if(F){var k=parseInt(z.distrib)-Date.now()/1e3,L=parseInt(z.ptype);
this.I_.nd("Distributor active for "+Math.round(k/(60*60*24))+" more days! ("+L+" visitos)")}var U=zh.mJ();
if(U&&U.acc&&U.acc.team){var l=U.acc.team;this.tW.h(l.jin);this.ZB.h(!l.jin);this.IO.h(l.ldr);this.jv.value=l.mmb.join(", ")}else{this.tW.h(!0);
this.ZB.h(!1);this.IO.h("");this.jv.value=""}if(U&&U.acc&&U.acc.dname)this.ll.h(U.acc.dname);else this.ll.h("")};
Jx.IQ.prototype.Ia=function(z){var r=Y.d("table","");r.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> </tr>\t\t\t\t</table>\t\t\t";
for(var k=0;k<z.length;k+=3){var L=Y.d("tr"),E;r.appendChild(L);E=Y.d("td","left");L.appendChild(E);
E.innerHTML="<b>"+z[k]+"</b>";E=Y.d("td");L.appendChild(E);E.appendChild(z[k+1].G);E=Y.d("td");L.appendChild(E);
E.appendChild(z[k+2].G)}return r};Jx.IQ.prototype.mQP=function(z){var r=this.OU.indexOf(z.currentTarget);
if(!zh.nv()){alert("You must log in before buying Premium");return}if(this.TB.r()==!1&&r<6){alert("You must accept Terms of Service");
return}var k=(r&1)==0?30:90,L=[1,5,20,1e3,5e3,2e4][Math.floor(r/2)],E=zh.nv()&&zh.JU().premium*1e3>Date.now();
if(E&&L<1e3){alert("You already have premium.");return}zh.order(k,L,this.IB.bind(this));this.Ih()};Jx.IQ.prototype.IB=function(z){if(zh.nv()&&zh.JU().msg)alert(zh.JU().msg);
this.IJ();this.Ih()};Jx.IQ.prototype.WH=function(z){if(zh.nv()){zh.mzU();this.Ih();this.IJ(null,null,null)}else zh.WH(this.mGc.bind(this))};
Jx.IQ.prototype.mGc=function(){var z=new D(Y.E.D,!0);z.data={J:Y.Q.muQ};this.K(z)};Jx.IQ.prototype.Ih=function(){var z=new D(Y.E.D,!0);
z.data={J:Y.Q.nB};this.K(z)};Jx.IT=function(){my.call(this);this.G=Y.d("div");var z=this.G,r=this.muu=new mr([0,13,2],!1,null,!0);
r.U("click",this.mPy,this);z.appendChild(r.G);var k=Y.d("div","");k.innerHTML=Jx.IT.mQA;z.appendChild(k)};
Jx.IT.prototype=new my;Jx.IT.prototype.mPy=function(z){var r=new D("showpage",!0);r.data={HD:0};this.K(r)};
Jx.IT.prototype.p=function(){this.muu.p()};Jx.IT.mQA="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function Ja(z){Jl.call(this,mm.names[z],"adjust_"+z);this.DK=z;this.cS=null;this.$J=Y.d("div","form");
this.$J.setAttribute("style","width:24em");this.body.appendChild(this.$J);this.DX=new JK[z];this.DX.U(Y.E.j,this.vs,this);
this.$J.appendChild(this.DX.G);this.DX.parent=this;this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.Ra,this);
this.$J.appendChild(this.kL.G);this.U("closebtn",this.IN,this)}Ja.prototype=new Jl;Ja.prototype.hr=function(){return!0};
Ja.prototype.Im=function(z,r){return z!=null};Ja.prototype.p=function(){Jl.prototype.p.call(this);if(this.DX)this.DX.p()};
Ja.prototype.vs=function(z){this.Iy({J:"edit",KM:this.DX.r()})};Ja.prototype.IN=function(z){this.Iy({J:"cancel"})};
Ja.prototype.Ra=function(z){this.cS=this.DX.r();this.Iy({J:"confirm"});this.close()};Ja.prototype.IJ=function(z,r,k,L){if(L._(s.V_)&&this.cS)this.DX.h(this.cS);
else{var E={};mm.OH(this.DK,E);var F=mm.Ok(E);this.DX.h(F)}var U=zM.y_.getData(z),l=e.PP(U[0].jF);this.DX.Xn(l);
this.vs(null)};Ja.prototype.hC=function(z,r){this.DX.hC(z,r)};Ja.prototype.Iy=function(z){var r=new D(Y.E.q,!0);
z.DK=this.DK;r.data=z;r.R=A.Ty;r.O_=!0;this.K(r)};function Jc(){Jl.call(this,[11,0],"camera");this.data=null;
this.$J=Y.d("div","form hbar");this.body.appendChild(this.$J);this.muE=new mp(null,[]);this.GY=new mt([21,0],[[21,2],[21,1]]);
this.$J.appendChild(this.GY.G);this.Js=new mr([11,0],!1,null,!0);this.Js.U("click",this.mWH,this);this.$J.appendChild(this.Js.G);
this.stream=null;this.cp=Y.d("video","");this.cp.setAttribute("autoplay","true");this.body.appendChild(this.cp);
this.LD=new mf("");this.body.appendChild(this.LD.G);this.tC=this.mzh.bind(this);this.Th=this.mWW.bind(this);
this.muT=this.IC.bind(this);this.U("closebtn",this.mWM,this)}Jc.prototype=new Jl;Jc.prototype.p=function(){Jl.prototype.p.call(this);
this.GY.p();this.Js.p();this.IC()};Jc.prototype.Ce=function(){var z=this.cp.videoWidth,r=this.cp.videoHeight,k=Y.d("canvas","");
k.width=z;k.height=r;var L=k.getContext("2d");L.drawImage(this.cp,0,0,z,r);var E=L.getImageData(0,0,z,r);
return{Hf:new Z(0,0,z,r),data:E.data.buffer}};Jc.prototype.mWH=function(z){if(this.GY.r()==0)this.muW();
else this.muP()};Jc.prototype.muP=function(){var z=this.Ce(),r={buffer:new Uint8Array(z.data),rect:z.Hf},k=new D(Y.E.q,!0);
k.O_=!0;k.R=A.T_;k.data={J:T.Cm,eC:r};this.K(k);alert(zA.get([21,4]))};Jc.prototype.muW=function(){var z=this.Ce(),r=Pj.$C("camera",[z]),k=new D(Y.E.D,!0);
k.data={J:Y.Q.nG,ed:r};this.K(k);alert(zA.get([21,5]))};Jc.prototype.IJ=function(z,r,k){var L={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(L).then(this.tC).catch(this.Th);
else navigator.webkitGetUserMedia(L,this.tC,this.Th)};Jc.prototype.mzh=function(z){this.stream=z;if(this.cp.srcObject)this.cp.srcObject=z;
else this.cp.src=window.URL.createObjectURL(z);this.cp.addEventListener("loadedmetadata",this.muT,!1)};
Jc.prototype.IC=function(z){var r=this.cp.videoWidth,k=this.cp.videoHeight;this.LD.h(zA.get([21,3])+":"+r+" x "+k+" px");
this.cp.setAttribute("style","display: block; width: "+Math.round(r/2)+"px; height:"+Math.round(k/2)+"px;")};
Jc.prototype.mWW=function(z){console.log("error",z);alert(zA.get([21,6]));this.close()};Jc.prototype.mWM=function(z){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.cp.src="";this.stream=null}};function JB(){Jl.call(this,[7,8],"crange");this.tG=null;this.oa=0;
this.jB=0;this.mO=null;this.$J=Y.d("div","form");this.$J.setAttribute("style","width:18em");this.body.appendChild(this.$J);
this.lw=new Jz("Fuzziness",0,200);this.lw.h(40);this.lw.U(Y.E.j,this.Xv,this);this.$J.appendChild(this.lw.G);
this.M_=Y.d("canvas");this.$J.appendChild(this.M_);this.bO=new mr("OK",!0,null,!0);this.bO.U("click",this.create,this);
this.body.appendChild(this.bO.G)}JB.prototype=new Jl;JB.prototype.Im=function(z,r){return z!=null};JB.prototype.IS=function(){return!0};
JB.prototype.hT=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y);this.oa=Math.max(0,Math.min(z.X-1,Math.floor(F.x)));
this.jB=Math.max(0,Math.min(z.z-1,Math.floor(F.y)));this.Xv()};JB.prototype.p=function(){Jl.prototype.p.call(this)};
JB.prototype.create=function(z){var r=new D(Y.E.q,!0);r.R=A.hs;r.data={J:"setsel",HZ:[7,8],i:{rect:new Z(0,0,this.tG.X,this.tG.z),channel:this.mO}};
r.O_=!0;this.K(r);this.close()};JB.prototype.IJ=function(z,r){this.tG=z;this.oa=0;this.jB=0;this.Xv()};
JB.prototype.Xv=function(){var z=this.tG,r=this.oa,k=this.jB,L=this.M_,E=L.getContext("2d"),F=Math.floor(230*Y.Z()),U=Math.floor(F*(z.z/z.X));
L.width=F;L.height=U;Y.UO(L,F,U);var l=new Z(0,0,z.X,z.z),G=z.X*z.z,g=z.Ce(),P=this.mO=e.$(G),J=(k*z.X+r)*4,x=1/255,a=g[J]*x,d=g[J+1]*x,t=g[J+2]*x,m=e.JW(a,d,t),b=this.lw.r()/200,I=1/b,v=1/Math.sqrt(3);
for(var W=0;W<G;W++){var B=W<<2,n=g[B]*x,j=g[B+1]*x,p=g[B+2]*x,X=e.JW(n,j,p),M=e.JS(X.HF,m.HF);if(X.bA==1||m.bA==1)M=0;
var H=Math.abs(X.bB-m.bB),c=Math.abs(X.bA-m.bA),S=Math.sqrt((a-n)*(a-n)+(d-j)*(d-j)+(t-p)*(t-p))*v,w=S<=b?1-S*I:0;
P[W]=255*w*(1-M)}var R=e.$(P.length*4);e.JV(R,4294967295);for(var W=0;W<3;W++)e.JN(P,R,W);var i=A.s.NZ([R,l],new zT(F/z.X,0,0,U/z.z,0,0)),f=E.createImageData(i.rect.X,i.rect.z);
e.JZ(i.buffer,f.data);E.putImageData(f,0,0)};function JA(){Jl.call(this,[11,1],"colorpicker");this.Qq=null;
this.YA=null;this.Go=null;this.Gi=!1;this.Wh=!1;var z=Y.d("div","flexrow"),F,U;this.body.appendChild(z);
this.us=new V;this.XW=new V;this.OB=this.II.bind(this);this.zY=this.mBO.bind(this);this.$P=Y.d("canvas","");
this.vn=this.$P.getContext("2d");this.$P.width=this.$P.height=256;Y.Uy(this.$P);Y.UA(this.$P,this.mEk.bind(this));
z.appendChild(this.$P);this.Lk=this.I$.bind(this);this.Lj=this.Ip.bind(this);this.OO=Y.d("canvas","");
this.JH=this.OO.getContext("2d");this.OO.width=20;this.OO.height=256;Y.Uy(this.OO);Y.UA(this.OO,this.mKD.bind(this));
z.appendChild(this.OO);var r=Y.d("div","form");r.setAttribute("style","width:16em; margin-left:1em;");
z.appendChild(r);this.Le=Y.d("div","full");r.appendChild(this.Le);this.Lg=Y.d("div","full");r.appendChild(this.Lg);
var k=Y.d("div","flexrow");r.appendChild(k);var L=Y.d("div"),E=Y.d("div");k.appendChild(L);k.appendChild(E);
F=["R","G","B"];U=L;this.a_=[];for(var l=0;l<3;l++){var G=new mg(F[l]+":",0,255,null,0,!1,!0);this.a_.push(G);
G.U(Y.E.j,this.mED,this);U.appendChild(G.G)}F=["H","S","B"];U=E;this.aN=[];for(var l=0;l<3;l++){var g=0,P=360,J="\xB0";
if(l!=0){P=100;J="%"}var G=new mg(F[l]+":",g,P,J,0,!1,!0);this.aN.push(G);G.U(Y.E.j,this.mEY,this);U.appendChild(G.G)}this.ko=new JP("Hex",null,6);
this.ko.U(Y.E.j,this.In,this);r.appendChild(this.ko.G);this.fw=Y.d("input","fitem");this.fw.setAttribute("type","color");
this.fw.addEventListener("change",this.In.bind(this),!1);r.appendChild(this.fw);this.MX=new mU(10);this.MX.U(Y.E.j,this.In,this);
r.appendChild(this.MX.G);this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.IH,this);r.appendChild(this.kL.G);
this.U("closebtn",this.IN,this);this.lr=!1}JA.prototype=new Jl;JA.prototype.IS=function(){return!0};
JA.prototype.hT=function(z,r,k,L,E){this.lr=!0;this.Ir(z,E)};JA.prototype.hR=function(z,r,k,L,E){if(!this.lr)return;
this.Ir(z,E)};JA.prototype.hw=function(z,r,k,L,E){this.lr=!1};JA.prototype.Ir=function(z,r){var k=A.RN.RV(z,r,1),L=k&255,E=k>>8&255,F=k>>16&255;
this.YA={F:F/255,P:E/255,g:L/255};this.update()};JA.prototype.mED=function(z){var r=this.a_,k=this.oM(parseInt(r[0].r())),L=this.oM(parseInt(r[1].r())),E=this.oM(parseInt(r[2].r()));
this.YA={F:k/255,P:L/255,g:E/255};this.update()};JA.prototype.mEY=function(z){var r=this.aN,k=this.IY(parseInt(r[0].r())/360),L=this.IY(parseInt(r[1].r())/100),E=this.IY(parseInt(r[2].r())/100);
this.YA=e.JK(k,L,E);this.XW.y=(1-k)*255;this.update()};JA.prototype.In=function(z){var r;if(z.currentTarget==this.MX)r=this.MX.r();
else{r=z.currentTarget==this.ko?this.ko.r():this.fw.value;if(r.charAt(0)=="#")r=r.slice(1);if(r.length==3)r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2];
r=e.mWI(r)}this.YA={F:(r>>16&255)/255,P:(r>>8&255)/255,g:(r&255)/255};this.update()};JA.prototype.mEk=function(z){Y.Uh(window,this.OB);
Y.UT(window,this.zY);this.II(z)};JA.prototype.mBO=function(z){Y.Uw(window,this.OB);Y.UN(window,this.zY)};
JA.prototype.II=function(z){var r=Y.U_(z,this.$P);this.us.Ep(this.oM(r.x),this.oM(r.y));this.YA=this.Is();
this.update()};JA.prototype.Is=function(){var z=e.JK((255-this.oM(this.XW.y))/255,this.IY(this.us.x/255),this.IY(1-this.us.y/255));
return{F:z.F,P:z.P,g:z.g}};JA.prototype.mKD=function(z){Y.Uh(window,this.Lk);Y.UT(window,this.Lj);this.I$(z)};
JA.prototype.Ip=function(z){Y.Uw(window,this.Lk);Y.UN(window,this.Lj)};JA.prototype.I$=function(z){var r=Y.U_(z,this.OO);
this.XW.Ep(this.oM(r.x),this.oM(r.y));this.YA=this.Is();this.update()};JA.prototype.Id=function(z){var r=z.F,k=z.P,L=z.g;
return Math.round(r*255)<<16|Math.round(k*255)<<8|Math.round(L*255)};JA.prototype.IH=function(z){this.Ib();
var r=this.Id(this.YA);this.MX.h(r);this.Go(r);this.close()};JA.prototype.IN=function(z){this.Ib();if(this.Gi)this.Go(this.Id(this.Qq))};
JA.prototype.Ib=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.Ub};this.K(r)};JA.prototype.IJ=function(z,r){var k=new D(Y.E.D,!0);
k.data={J:Y.Q.UH,ji:"crosshair",push:!0};this.K(k);this.lr=!1;this.Go=r.Ii;this.Gi=!1;this.Wh=r.JX;var L=r.Ol;
this.YA={F:(L>>16&255)/255,P:(L>>8&255)/255,g:(L>>0&255)/255};this.Qq=JSON.parse(JSON.stringify(this.YA));
this.Lg.setAttribute("style","height:3em;background-color:#"+e.mk(L)+";");this.update()};JA.prototype.update=function(){var z=this.YA,r=this.Id(z),k=this.a_;
k[0].h(Math.round(z.F*255));k[1].h(Math.round(z.P*255));k[2].h(Math.round(z.g*255));this.ko.h(e.mk(r));
this.fw.value="#"+e.mk(r);this.Le.setAttribute("style","height:3em;background-color:#"+e.mk(r)+";");
var L=e.Ju(z.F,z.P,z.g);if(L.KM==0)L.bB=this.us.x/255;if(L.bB==0||L.KM==0)L.HF=(255-this.oM(this.XW.y))/255;
k=this.aN;k[0].h(Math.round(L.HF*360));k[1].h(Math.round(L.bB*100));k[2].h(Math.round(L.KM*100));if(L.KM!=0)this.us.x=L.bB*255;
this.us.y=(1-L.KM)*255;this.XW.y=(1-L.HF)*255;var E=this.vn.getImageData(0,0,256,256);this.mGT(E.data,256,256,L.HF);
this.vn.putImageData(E,0,0);this.vn.strokeStyle="#000000";this.vn.beginPath();this.vn.arc(this.us.x+1,this.us.y+1,5,0,2*Math.PI);
this.vn.stroke();this.vn.strokeStyle="#ffffff";this.vn.beginPath();this.vn.arc(this.us.x,this.us.y,5,0,2*Math.PI);
this.vn.stroke();var E=this.JH.getImageData(0,0,20,256);this.mmC(E.data,20,256);this.JH.putImageData(E,0,0);
this.JH.strokeStyle="#ffffff";this.JH.beginPath();this.JH.moveTo(0,this.XW.y);this.JH.lineTo(20,this.XW.y);
this.JH.lineWidth=2;this.JH.stroke();if(this.Wh){this.Go(this.Id(this.YA));this.Gi=!0}};JA.prototype.mGT=function(z,r,k,L){for(var E=0;
E<k;E++)for(var F=0;F<r;F++){var U=e.JK(L,F/r,(k-E-1)/k),l=E*r+F<<2;z[l+0]=~~(U.F*255);z[l+1]=~~(U.P*255);
z[l+2]=~~(U.g*255);z[l+3]=255}};JA.prototype.mmC=function(z,r,k){for(var L=0;L<k;L++){var E=e.JK(1-L/k,1,1);
for(var F=0;F<r;F++){var U=4*(L*r+F);z[U+0]=E.F*255;z[U+1]=E.P*255;z[U+2]=E.g*255;z[U+3]=255}}};JA.prototype.oM=function(z){return Math.max(0,Math.min(255,z))};
JA.prototype.IY=function(z){return Math.max(0,Math.min(1,z))};function Jh(){Jl.call(this,[11,2],"contoureditor");
this.pr=null;this.zI=null;this.response=null;this.cv=Y.d("div","cell");this.body.appendChild(this.cv);
this.gj=Y.d("div","cell padded");this.body.appendChild(this.gj);var z=Y.d("div","bordered padded vmargin");
this.cv.appendChild(z);this.DX=new ms;this.DX.U(Y.E.j,this.Xs,this);z.appendChild(this.DX.G);this.kL=new mr("OK",!0,null,!0);
this.kL.U("click",this.close,this);this.gj.appendChild(this.kL.G);this.coords=Y.d("div","");this.coords.setAttribute("style","width:250px");
this.cv.appendChild(this.coords);this.cA=new JP("X (in)","%",4);this.cT=new JP("Y (out)","%",4);this.Mt=new mi([19,3,0]);
this.cA.U(Y.E.j,this.Ij,this);this.cT.U(Y.E.j,this.Ij,this);this.Mt.U(Y.E.j,this.Ij,this);this.coords.appendChild(this.cA.G);
this.coords.appendChild(this.Mt.G);this.coords.appendChild(this.cT.G);this.U("closebtn",this.Rf,this)}Jh.prototype=new Jl;
Jh.prototype.p=function(){Jl.prototype.p.call(this);this.Mt.p()};Jh.prototype.Xs=function(z){this.zI.Crv.v=this.DX.r();
this.response(this.zI);this.Ik()};Jh.prototype.Rf=function(z){this.response(this.pr)};Jh.prototype.IJ=function(z,r){this.pr=JSON.parse(JSON.stringify(r.l));
this.zI=r.l;this.response=r.response;this.DX.h(this.zI.Crv.v);this.Ik()};Jh.prototype.Ik=function(){var z=this.DX.vv();
this.coords.setAttribute("class",z==-1?"disabled":"");if(z==-1)return;var r=this.zI.Crv.v[z].v;this.cA.h(Math.round(r.Hrzn.v*(100/255)));
this.cT.h(Math.round(r.Vrtc.v*(100/255)));this.Mt.h(r.Cnty.v)};Jh.prototype.Ij=function(z){var r=this.DX.vv(),k=this.zI.Crv.v[r];
k.v.Hrzn.v=parseFloat(this.cA.r())*(255/100);k.v.Vrtc.v=parseFloat(this.cT.r())*(255/100);k.v.Cnty.v=this.Mt.r();
this.zI.Crv.v.sort(function(L,E){return L.v.Hrzn.v-E.v.Hrzn.v});this.DX.h(this.zI.Crv.v,this.zI.Crv.v.indexOf(k));
this.Ik();this.response(this.zI)};function JT(){Jl.call(this,[11,3],"csize");this.lX=0;this.$J=Y.d("div","form");
this.$J.setAttribute("style","width:22em");this.body.appendChild(this.$J);this.kv=new mk(!0,!0);this.kv.muo(!1);
this.$J.appendChild(this.kv.G);this.lt=new mt("Align with",["Document","Offset"]);this.lt.U(Y.E.j,this.mcz,this);
this.$J.appendChild(this.lt.G);this._C=new mq("Anchor");this.$J.appendChild(this._C.G);this._C.h(4);
this.lp=new me(!1);this.lp.mEV(new V(0,0));this.bO=new mr("OK",!0,null,!0);this.bO.U("click",this.create,this);
this.body.appendChild(this.bO.G)}JT.prototype=new Jl;JT.prototype.Im=function(z,r){return z!=null};JT.prototype.mcz=function(){var z=[this._C.G,this.lp.G];
this.$J.removeChild(z[this.lX]);this.lX=this.lt.r();this.$J.appendChild(z[this.lX])};JT.prototype.p=function(){Jl.prototype.p.call(this);
this.kv.p();this.lt.p();this._C.p();this.lp.p()};JT.prototype.create=function(z){var r=this.kv.r(),k=r.x,L=r.y,E=new D(Y.E.q,!0);
E.R=A.hi;E.data={J:"canvsize",ex:k,ea:L,ec:this.kv.XK()};if(this.lX==0)E.data.eA=this._C.r();else E.data.V=this.lp.mMP();
E.O_=!0;this.K(E);this.close()};JT.prototype.IJ=function(z,r){this.kv.h(new V(z.X,z.z),z.bx)};function JR(){Jl.call(this,[11,4],"duplinto");
this.a=null;this.$I=null;this.$v=null;this.$J=Y.d("div","form");this.$J.setAttribute("style","width:18em");
this.body.appendChild(this.$J);this.Oy=new mp([12,43],["abc","def"]);this.Oy.U(Y.E.j,this.Ie,this);this.$J.appendChild(this.Oy.G);
this.Zb=new JP([12,48]);this.$J.appendChild(this.Zb.G);this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.IH,this);
this.$J.appendChild(this.kL.G)}JR.prototype=new Jl;JR.prototype.p=function(){Jl.prototype.p.call(this);
this.Oy.p();this.Zb.p()};JR.prototype.Ie=function(z){var r=this.Oy.r();if(r==this.$v.length)this.Zb.nr();
else this.Zb.nL()};JR.prototype.IJ=function(z,r,k){this.a=z.qR();this.$I=z;this.$v=k;this.Zb.h(this.a[this.a.length-1].getName());
var L=[];for(var E=0;E<k.length;E++)L.push(k[E].name);L.push([11,7]);this.Oy.vX(L);this.Oy.h(k.indexOf(z));
this.Ie(null)};JR.prototype.IH=function(z){var r=this.Oy.r();if(r==this.$v.length){var k=new mM(this.Zb.r()+".psd");
k.X=this.$I.X;k.z=this.$I.z;k.buffer=e.$(k.X*k.z*4);var L=k.qa();L._p("Background");k.qy([L]);var E=new D(Y.E.D,!0);
E.data={J:Y.Q.nG,ed:k};this.K(E)}var E=new D(Y.E.q,!0);E.data={J:T.Zf,a:this.a,WW:this.$I,bc:this.$v[r]};
E.R=A.T_;E.O_=!0;this.K(E);this.close()};function Jw(){Jl.call(this,[1,9],"eassets");this.gn=null;this.FD=null;
var z=Y.d("div","form");z.setAttribute("style","width:37em");this.body.appendChild(z);var r=Y.d("span");
r.innerHTML="A layer is <b>exportable</b>, when its name starts with <b>\"-e-\"</b>.<br/>";z.appendChild(r);
this.mE=Y.d("span");z.appendChild(this.mE);z.appendChild(Y.d("br"));this.ld=new mD([12,50],["PNG","JPG","SVG"]);
this.ld.h([!0,!1,!1]);z.appendChild(this.ld.G);this.$Q=new mD([12,14],["1x","2x","3x","4x"]);this.$Q.h([!0,!1,!1,!1]);
z.appendChild(this.$Q.G);this.bO=new mr([1,9],!0,null,!0);this.bO.U("click",this.IF,this);z.appendChild(this.bO.G);
this.U("closebtn",this.Ig,this)}Jw.prototype=new Jl;Jw.prototype.Ig=function(z){this.FD=null};Jw.prototype.p=function(){Jl.prototype.p.call(this);
this.ld.p();this.$Q.p();this.bO.p()};Jw.prototype.IJ=function(z,r,k){var L=[];for(var E=0;E<z.a.length;
E++){var F=z.a[E].getName();if(F.startsWith("-e"))L.push(F)}var U="- - - "+L.length+" exportable layers";
this.mE.textContent=U;this.FD=z};Jw.prototype.hC=function(z,r){this.gn=z};Jw.prototype.IF=function(z){var r=this.FD,k=this.ld.r(),L=[];
for(var E=0;E<k.length;E++)if(k[E])L.push(["PNG","JPG","SVG"][E]);var F=this.$Q.r(),U={};for(var E=0;
E<r.a.length;E++){var l=r.a[E],G=l.getName();if(!G.startsWith("-e"))continue;var g=l._$();l._i(!0);for(var P=0;
P<F.length;P++){if(!F[P])continue;var J=P+1,x=A.nA.wJ(r,L,J,this.gn,E);for(var a=0;a<L.length;a++){var d=L[a],t=G.slice(3)+(J==1?"":"-"+J+"x")+"."+d.toLowerCase();
U[t]=new Uint8Array(x[a])}}l._i(g)}var m=UZIP.encode(U),b=new D(Y.E.D,!0);b.data={J:Y.Q.nz,data:m,name:"assets.zip"};
this.K(b)};function JN(z){Jl.call(this,JE[z]?mJ.names[z]:mm.names[z],"filter_"+z);this.DK=z;this.jn=null;
this.DX=JE[z]?new JE[z]:new JK[z];this.DX.U(Y.E.j,this.vs,this);this.DX.parent=this;if(!this.XU())this.body.setAttribute("style","width:22em");
this.body.appendChild(this.DX.G);this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.Ra,this);if(this.DX.XU())this.DX.XY(this.kL.G);
else this.body.appendChild(this.kL.G);this.U("closebtn",this.IN,this)}JN.prototype=new Jl;JN.prototype.hr=function(){return!0};
JN.prototype.XU=function(){return this.DX!=null&&this.DX.XU()};JN.prototype.p=function(){Jl.prototype.p.call(this);
if(this.DX)this.DX.p()};JN.prototype.hC=function(z,r){if(JE[this.DK]==null)this.DX.hC(z,r)};JN.prototype.hy=function(z,r,k,L){if(this.DX)this.DX.hy(L)};
JN.prototype.vs=function(z){var r=this.DX.r();if(JE[this.DK]==null){var k=mJ._J(this.DK);r=mm.Ob(this.DK,r,k)}this.Iy({J:"edit",KM:r})};
JN.prototype.IJ=function(z,r){this.jn=r.jn;var k,L,E=new Z(0,0,z.X,z.z),F=z.a[z.L[0]];k=F.buffer;L=F.rect;
if(JK[this.DK]){var U={};mm.OH(this.DK,U);this.DX.h(mm.Ok(U))}else if(JE[this.DK])this.DX.h(mJ._J(this.DK),k,L,E);
if(r.jn){var F=z.a[this.jn.C];if(F._Y()){var l=F.ZS(z);k=l.buffer;L=l.rect;var G=F.add.SoLd.filterFX.v.filterFXList.v;
if(G[this.jn.index]){var g=G[this.jn.index].v.Fltr.v;if(JE[this.DK])this.DX.h(g,k,L,E);else this.DX.h(mm.OY(this.DK,g))}}}if(!this.XU())this.vs()};
JN.prototype.IN=function(z){this.Iy({J:"cancel"})};JN.prototype.Ra=function(z){if(this.XU())this.vs();
this.Iy({J:"confirm"});this.close()};JN.prototype.Iy=function(z){var r=new D(Y.E.q,!0);z.filter=this.DK;
z.jn=this.jn;r.data=z;r.R=A.TC;r.O_=!0;this.K(r)};JN.prototype.Xo=function(z,r){r=r-70;z=z-70;this.DX.Xo(z,r)};
function Jy(){Jl.call(this,[11,5],"gradienteditor");this.Qq=null;this.YA=null;this.Fo=null;this.Go=null;
this.Gi=!1;this.Wh=!1;Y.UM(this.body,"form");this.qF=null;this.Oo=null;this.xT=-1;this.PJ=-1;this.Pd=0;
this.ve=this.vl.bind(this);this.zF=this.vx.bind(this);this.$P=Y.d("canvas","");this.vn=this.$P.getContext("2d");
this.$P.setAttribute("style","display:block");this.BM=null;Y.Uy(this.$P);Y.UA(this.$P,this.vE.bind(this));
this.uS=new mg("Smoothness:",0,100,"%");this.uS.U(Y.E.j,this.sP,this);this.uS.parent=this;this.body.appendChild(this.uS.G);
this.body.appendChild(Y.d("br"));this.VD=new mf([12,0]);this.body.appendChild(this.VD.G);this.QE=Y.d("div","bordered padded noalign");
this.body.appendChild(this.QE);this.fx=new mg([12,0],0,100,"%");this.fx.parent=this;this.fx.U(Y.E.j,this.sP,this);
this.QE.appendChild(this.fx.G);this.zR=new mg([12,40],0,100,"%");this.zR.parent=this;this.zR.U(Y.E.j,this.sP,this);
this.QE.appendChild(this.zR.G);this.Kp=new mr([5,4],!1,null,!0);this.Kp.U("click",this.sS,this);this.QE.appendChild(this.Kp.G);
this.body.appendChild(this.$P);this.body.appendChild(Y.d("br"));this.tF=new mf([13,0]);this.body.appendChild(this.tF.G);
this.G_=Y.d("div","bordered padded noalign");this.body.appendChild(this.G_);this.c_=new mp([12,44],[[12,45],[12,46],[12,47]]);
this.c_.U(Y.E.j,this.sP,this);this.G_.appendChild(this.c_.G);this.uw=new mL(!0);this.uw.parent=this;
this.uw.U(Y.E.j,this.sP,this);this.G_.appendChild(this.uw.G);this.Wp=new mg([12,40],0,100,"%");this.Wp.parent=this;
this.Wp.U(Y.E.j,this.sP,this);this.G_.appendChild(this.Wp.G);this.Kj=new mr([5,4],!1,null,!0);this.Kj.U("click",this.sm,this);
this.G_.appendChild(this.Kj.G);this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.IH,this);this.body.appendChild(this.kL.G);
this.U("closebtn",this.IN,this)}Jy.prototype=new Jl;Jy.prototype.IN=function(z){if(this.Gi)this.Go(this.Qq)};
Jy.prototype.p=function(){Jl.prototype.p.call(this);this.VD.p();this.tF.p();this.Kp.p();this.Kj.p();
this.fx.p();this.zR.p();this.c_.p();this.Wp.p()};Jy.prototype.hC=function(z,r){this.Fo=z};Jy.prototype.IJ=function(z,r){this.YA=JSON.parse(JSON.stringify(r.v));
this.Qq=JSON.parse(JSON.stringify(r.v));this.qF=this.Oo=null;this.ws();this.sJ();this.Go=r.Ii;this.Gi=!1;
this.Wh=r.JX};Jy.prototype.IH=function(z){var r=this.YA;this.Go(r);this.close()};Jy.prototype.hq=function(z){return z==s.Vd};
Jy.prototype.hy=function(z,r,k,L){if(L._(s.Vd)){if(this.Oo)this.sS();if(this.qF)this.sm()}};Jy.prototype.sS=function(z){var r=this.YA.Trns.v;
if(this.Oo==null||r.length==2)return;r.splice(r.indexOf(this.Oo),1);this.Oo=null;this.ws();this.sJ()};
Jy.prototype.sm=function(z){var r=this.YA.Clrs.v;if(this.qF==null||r.length==2)return;r.splice(r.indexOf(this.qF),1);
this.qF=null;this.ws();this.sJ()};Jy.prototype.ws=function(){var z=this.$P,r=this.vn,k=Y.Z();z.width=Math.floor(410*k);
z.height=Math.floor(90*k);Y.UO(z,z.width,z.height);this.BM=new Z(0,0,Math.floor(380*k),Math.floor(32*k));
this.BM.x=Math.floor((this.$P.width-this.BM.X)/2);this.BM.y=Math.floor((this.$P.height-this.BM.z)/2);
var L=this.BM,E=L.X,F=L.z,U=L.x,l=L.y,G=new Z(0,0,E,F),g=r.getImageData(0,0,E,F),P=new Uint8Array(g.data.buffer);
e.Ja(P,E,F,8,0,0);var J=e.$(E*F*4);e.v.Gr(this.YA,J,G,[1/E,0,0,1/F],E/2,F/2,!1,0,this.Fo.fh,this.Fo.fT);
e.M.Py("norm",J,L,P,L,L,1);r.clearRect(0,0,z.width,z.height);r.putImageData(g,U,l);var x=this.YA.Trns.v,a=this.YA.Clrs.v,d=e.v.GL(a,this.Fo.fh,this.Fo.fT),t=Math.round(6*Y.Z()),m=Math.round(14*Y.Z()),b=this.Oo?this.Oo.v:null,I=this.qF?this.qF.v:null;
for(var v=0;v<x.length;v++){var W=x[v].v,B=Math.round(255-255*W.Opct.v.val/100);if((W==b||x[v-1]&&x[v-1].v==b||v==this.PJ)&&v!=0){r.fillStyle="#000000";
r.fillRect(U-3+E*(x[v-1].v.Lctn.v+(W.Lctn.v-x[v-1].v.Lctn.v)*W.Mdpn.v/100)/4096,l-6-2,6,6)}if(W==b){r.fillStyle="#ffffff";
r.fillRect(U-t+E*(W.Lctn.v/4096)-2,l-2-m-2,2*t+4,m+4)}r.fillStyle="rgb("+B+","+B+","+B+")";r.fillRect(U-t+E*(W.Lctn.v/4096),l-2-m,2*t,m)}for(var v=0;
v<a.length;v++){var n=a[v].v,j=d[v];if((n==I||a[v-1]&&a[v-1].v==I||v==this.xT)&&v!=0){r.fillStyle="#000000";
r.fillRect(U-3+E*(a[v-1].v.Lctn.v+(n.Lctn.v-a[v-1].v.Lctn.v)*n.Mdpn.v/100)/4096,l+F+2,6,6)}if(n==I){r.fillStyle="#ffffff";
r.fillRect(U-t+E*(n.Lctn.v/4096)-2,l+F+2-2,2*t+4,m+4)}r.fillStyle="rgb("+Math.round(j.F)+", "+Math.round(j.P)+","+Math.round(j.g)+")";
r.fillRect(U-t+E*(n.Lctn.v/4096),l+F+2,2*t,m)}if(this.Wh){this.Go(this.YA);this.Gi=!0}};Jy.prototype.sJ=function(){this.uS.h(Math.round(100*this.YA.Intr.v/4096));
var z=this.YA.Trns.v,r=this.YA.Clrs.v,k=this.Oo!=null,L=this.PJ!=-1;this.fx.nU(k);this.zR.nU(k||L);this.Kp.nU(k);
if(k){this.QE.setAttribute("style","");var E=this.Oo.v;this.zR.h(Math.round(100*E.Lctn.v/4096));this.fx.h(E.Opct.v.val)}if(L)this.zR.h(z[this.PJ].v.Mdpn.v);
var k=this.qF!=null,L=this.xT!=-1;this.c_.nU(k);this.uw.nU(k);this.Wp.nU(k||L);this.Kj.nU(k);if(k){this.G_.setAttribute("style","");
var F=this.qF.v;this.Wp.h(Math.round(100*F.Lctn.v/4096));var U=F.Type.v.Clry;this.c_.h(["FrgC","BckC","UsrS"].indexOf(U));
if(U=="FrgC")this.uw.vO(this.Fo.fh);if(U=="BckC")this.uw.vO(this.Fo.fT);if(U=="UsrS")this.uw.h(F.Clr.v)}if(L)this.Wp.h(r[this.xT].v.Mdpn.v)};
Jy.prototype.sP=function(z){var r=Math.round(4096*this.uS.r()/100);this.YA.Intr.v=r;var k=this.YA.Trns.v,L=this.YA.Clrs.v;
if(this.Oo!=null){var E=this.Oo.v;E.Lctn.v=Math.round(4096*(this.zR.r()/100));E.Opct.v.val=this.fx.r()}if(this.qF!=null){var F=this.qF.v;
F.Lctn.v=Math.round(4096*(this.Wp.r()/100));if(z.target==this.uw)this.c_.h(2);var U=this.c_.r();F.Type.v.Clry=["FrgC","BckC","UsrS"][U];
if(U==2)F.Clr={t:"Objc",v:this.uw.r()};else if(F.Clr)delete F.Clr}if(this.PJ!=-1)k[this.PJ].v.Mdpn.v=this.zR.r();
if(this.xT!=-1)L[this.xT].v.Mdpn.v=this.Wp.r();this.ws()};Jy.prototype.vE=function(z){var r=Y.U_(z,this.$P),k=(r.x*Y.Z()-this.BM.x)/this.BM.X,L=(r.y*Y.Z()-this.BM.y)/this.BM.z,E=this.YA.Trns.v,F=this.YA.Clrs.v,U=null,l=null,G=-1,g=-1;
if(L<1)for(var P=0;P<E.length;P++){var J=E[P].v;if(Math.abs(J.Lctn.v/4096-k)<.02)U=E[P];if(P>0)if(Math.abs((E[P-1].v.Lctn.v+(J.Lctn.v-E[P-1].v.Lctn.v)*J.Mdpn.v/100)/4096-k)<.01)G=P}if(L>0)for(var P=0;
P<F.length;P++){var x=F[P].v;if(Math.abs(x.Lctn.v/4096-k)<.02)l=F[P];if(P>0)if(Math.abs((F[P-1].v.Lctn.v+(x.Lctn.v-F[P-1].v.Lctn.v)*x.Mdpn.v/100)/4096-k)<.01)g=P}if(l==null&&U==null&&G==-1&&g==-1){if(L<0){var J={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
J.v.Lctn.v=Math.round(k*4096);E.push(J);E.sort(this.sz);U=J}if(L>1){var F=this.YA.Clrs.v,a=e.v.GL(F,this.Fo.fh,this.Fo.fT),d=e.v.GX(this.YA,a,k),x={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:e.v.Gn({F:d&255,P:d>>8&255,g:d>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
x.v.Lctn.v=Math.round(k*4096);F.push(x);F.sort(this.sz);l=x}}if(l!=null||U!=null||G>-1||g>-1){this.Oo=U;
this.qF=l;this.PJ=G;this.xT=g;this.sJ();this.ws();Y.Uh(document.body,this.ve);Y.UT(document.body,this.zF)}};
Jy.prototype.vl=function(z){var r=Y.U_(z,this.$P),k=Y.Z()*(r.x-this.BM.x)/this.BM.X,L=Y.Z()*(r.y-this.BM.y)/this.BM.z;
k=Math.max(0,Math.min(1,k));var E=this.YA.Trns.v,F=this.YA.Clrs.v;if(this.Oo!=null){var U=this.Oo.v;
U.Lctn.v=Math.round(4096*k);var l=E.indexOf(this.Oo);if(l!=-1&&L<-1&&E.length>2)E.splice(l,1);if(l==-1&&L>-1)E.push(this.Oo);
E.sort(this.sz)}if(this.qF!=null){var G=this.qF.v;G.Lctn.v=Math.round(4096*k);var g=F.indexOf(this.qF);
if(g!=-1&&L>1.5&&F.length>2)F.splice(g,1);if(g==-1&&L<1.5)F.push(this.qF);F.sort(this.sz)}if(this.PJ>-1){var U=E[this.PJ].v;
U.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(k*4096-E[this.PJ-1].v.Lctn.v)/(U.Lctn.v-E[this.PJ-1].v.Lctn.v))))}if(this.xT>-1){var G=F[this.xT].v;
G.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(k*4096-F[this.xT-1].v.Lctn.v)/(G.Lctn.v-F[this.xT-1].v.Lctn.v))))}if(this.Oo!=null||this.qF!=null||this.PJ>-1||this.xT>-1){this.sJ();
this.ws()}};Jy.prototype.vx=function(z){Y.Uw(document.body,this.ve);Y.UN(document.body,this.zF);if(Date.now()-this.Pd<300&&this.qF!=null)this.uw.vy();
this.Pd=Date.now()};Jy.prototype.sz=function(z,r){return z.v.Lctn.v-r.v.Lctn.v};function JV(){Jl.call(this,[11,10],"isize");
this.$J=Y.d("div","form");this.$J.setAttribute("style","width:20em");this.body.appendChild(this.$J);
this.kv=new mk(!0,!0);this.$J.appendChild(this.kv.G);this.jq=new mp("Interpolate",["Nearest","Bilinear"]);
this.jq.h(1);this.jq.U(Y.E.j,this.pg,this);this.$J.appendChild(this.jq.G);this.bO=new mr("OK",!0,null,!0);
this.bO.U("click",this.create,this);this.body.appendChild(this.bO.G)}JV.prototype=new Jl;JV.prototype.Im=function(z,r){return z!=null};
JV.prototype.p=function(){Jl.prototype.p.call(this);this.jq.p();this.kv.p()};JV.prototype.create=function(z){var r=this.kv.r(),k=r.x,L=r.y,E=new D(Y.E.q,!0);
E.R=A.hi;E.data={J:"imgsize",ex:k,ea:L,ec:this.kv.XK(),eB:this.jq.r()};E.O_=!0;this.K(E);this.close()};
JV.prototype.IJ=function(z,r){this.kv.h(new V(z.X,z.z),z.bx)};function JO(z,r,k){my.call(this);this.G=Y.d("div","");
this._x=z;this.DE=null;this.Qy=r==null?!1:r;this.PC=null;this.GV=k;this.JA=[];this.Gy=[];this.Qn=[];
this.m=[];this.Zc=0;this.DE=this.mWb(JO.m[z]);this.UG()}JO.prototype=new my;JO.prototype.mmO=function(){for(var z=0;
z<this.m.length;z++){Y.UQ(this.m[z],"selected");if(this.Qn[z]instanceof mi)this.Qn[z].h(!1)}};JO.prototype.mQI=function(z){var r=this.mzF.bind(this);
for(var k=0;k<this.Qn.length;k++){var L=Y.d("div","listitem");this.m.push(L);if(k>0)L.textContent="\u2003";
L.appendChild(this.Qn[k].G);if(K.qr.indexOf(this._x)!=-1){var E=new mr("+");E.vh();E.G.style.float="right";
L.appendChild(E.G);var F=new mr("\u2B0D");F.vh();F.G.style.float="right";F.G.style["margin-right"]="2px";
L.appendChild(F.G)}L.addEventListener("click",r,!1);z.appendChild(L)}};JO.sM=function(z,r){var k=r.getBoundingClientRect();
return(z.clientY-k.top)/k.height};JO.prototype.mzF=function(z){var r=z.target.tagName.toLowerCase();
if(r=="input"){return}if(r=="button"){var k=new D(Y.E.q,!0),L=z.target.textContent=="+",E=L?0:JO.sM(z,z.target)<.5?-1:1;
if(L)k.data={J:"st_dupsingle",C:this.parent.data.C,W$:this.GV};else k.data={J:"st_movsingle",C:this.parent.data.C,W$:this.GV,r_:E};
k.R=A.TZ;k.O_=!0;this.K(k);k=new D("redrawall",!0);k.data={r_:E};this.K(k);return}z.preventDefault();
z.stopPropagation();this.su();this.Zc=this.m.indexOf(z.currentTarget);this.K(new D("showme"))};JO.prototype.su=function(){if(this.DE.enab&&this.DE.enab.r()==!1)this.Iy({Lf:"enab",u:!0})};
JO.prototype.mEo=function(){var z=this.m[this.Zc];if(z)Y.UM(z,"selected");return this.Gy[this.Zc]};JO.prototype.mWb=function(z){var r={};
for(var k=0;k<z.length;k++){var L=z[k],E=null;if(L=="----")E={G:Y.d("hr","")};if(L=="blOptions")E=new mf([14,10]);
if(L=="brst")E=new MultiCheck([12,72],["R","G","B"]);if(L=="knko")E=new mp("Knockout",[[13,1,0],"Shallow","Deep"]);
if(L=="enab")E=new mi(K.names[K.order.indexOf(this._x)]);if(L=="lrMd"||L=="Md")E=new mp([12,19],mP._a,!1,mP._E);
if(L=="Opct")E=new mY([12,0],0,100,"%");if(L=="iOpa")E=new mY([12,26],0,100,"%");if(L=="ShdN")E=new mY([12,68],0,100,"%");
if(L=="lagl"||L=="Angl")E=new mC([12,15]);if(L=="uglg")E=new mi([12,27]);if(L=="Dstn")E=new mY([12,28],0,200,"px");
if(L=="Ckmt")E=new mY([12,29],0,100,"%");if(L=="blur")E=new mY([12,14],0,200,"px");if(L=="TrnS"||L=="MpgS")E=new mn([12,21]);
if(L=="Nose")E=new mY([12,30],0,100,"%");if(L=="layerConceals")E=new mi([12,31]);if(L=="AntA"||L=="antialiasGloss")E=new mi("Anti-alias");
if(L=="GlwT")E=new mp([12,32],K.qd.names);if(L=="glwS")E=new mp([12,70],K.qd.mxH);if(L=="Inpr")E=new mY([12,12],1,100,"%");
if(L=="bvlS")E=new mp([12,22],K.qi.style);if(L=="bvlT")E=new mp([12,32],K.qi.mJm);if(L=="bvlD")E=new mp(null,K.qi.dir);
if(L=="srgR")E=new mY([12,34],0,1e3,"%");if(L=="Sftn")E=new mY([12,35],0,20,"px");if(L=="Lald")E=r.lagl;
if(L=="hglM"||L=="sdwM")E=new mp([12,36],mP._a,!1,mP._E);if(L=="hglC"||L=="sdwC")E=new mL;if(L=="hglO"||L=="sdwO")E=new mY([12,0],0,100,"%");
if(L=="Invr"||L=="InvT")E=new mi([4,11]);if(L=="Sz")E=new mY([12,14],1,200,"px");if(L=="Styl")E=new mp([12,40],K.stroke.names);
if(L=="PntT")E=new mp([12,66],K.stroke.mQF);if(L=="Clr")E=new mL(!0);if(L=="Grad")E=new mH(!0,[12,37],!0);
if(L=="Rvrs")E=new mi([12,23]);if(L=="Type")E=new mp([12,22],K.v.names.slice(0,this._x=="FrFX"?6:5));
if(L=="Ptrn")E=new mX([12,62]);if(L=="Scl")E=new mY([12,38],10,100,"%",0,!0);if(L=="Algn")E=new mi([12,39]);
if(L=="Ofst")E=new me(!0);if(L=="phase")E=new me(!1);if(L=="useShape")E=new mi([12,21]);if(L=="useTexture")E=new mi([12,67]);
if(L=="textureDepth")E=new mY("Depth",-300,300,"%");if(E!=null)r[L]=E}return r};JO.prototype.mzL=function(z){var r=this.Gy[this.Zc];
for(var k=0;k<z.length;k++){var L=this.DE[z[k]];if(L&&r.contains(L.G))r.removeChild(L.G)}};JO.prototype.mlR=function(z){var r=this.Gy[this.Zc];
for(var k=0;k<z.length;k++){var L=this.DE[z[k]];if(L&&!r.contains(L.G))r.appendChild(L.G)}};JO.prototype.hC=function(z,r){if(this.DE==null)return;
var k=r==zB.yt;if(this.DE.Grad){this.DE.Grad.XP(z.fh,z.fT);if(k||r==zB.yg||r==zB.yp)this.DE.Grad.vM(z.$x)}if(this.DE.Ptrn){if(k||r==zB.yH)this.DE.Ptrn.vM(z.QB)}if(this.DE.TrnS){if(k||r==zB.y$)this.DE.TrnS.vM(z.or)}if(this.DE.MpgS){if(k||r==zB.y$)this.DE.MpgS.vM(z.or)}};
JO.prototype.p=function(){for(var z=0;z<this.JA.length;z++)this.JA[z].p();for(var r in this.DE)if(this.DE[r]instanceof my)this.DE[r].p()};
JO.prototype.UG=function(){for(var z in this.DE){var r=this.DE[z];r.parent=this;if(r instanceof my)r.U(Y.E.j,this.mWs,this);
if(this.Gy.length==0||z=="useShape"||z=="useTexture"){var k=new mf(r.XG()),L=Y.d("div","bordered padded");
if(this.Qy==!1){L.appendChild(k.G);L.appendChild(Y.d("hr",""))}this.JA.push(k);this.Gy.push(L);this.Qn.push(r)}else this.Gy[this.Gy.length-1].appendChild(r.G)}};
JO.prototype.update=function(z,r){if(this.DE==null)return;if(this.Qy)this.PC=JSON.parse(JSON.stringify(r));
for(var k in r){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(k)!=-1)this.DE[k].h(r[k].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(k)!=-1){this.DE[k].h(r[k].v,z)}if(["Md","hglM","sdwM"].indexOf(k)!=-1)this.DE[k].h(mP._x.indexOf(r[k].v.BlnM));
if(k=="lrMd"){var L=(r._w?["Pass Through"]:[]).concat(mP._a),E=(r._w?[1]:[]).concat(mP._E);this.DE[k].vX(L,E);
this.DE[k].h(r[k].v)}if(k=="lagl"){var F=r.uglg&&r.uglg.v?z.qW():r.lagl.v.val;this.DE[k].h(F)}if(k=="Lald"){var F=r.uglg&&r.uglg.v?z.qQ():r.Lald.v.val;
this.DE[k].h(null,F)}if(k=="Type")this.DE[k].h(K.v.types.indexOf(r.Type.v.GrdT));if(k=="Styl")this.DE[k].h(K.stroke.types.indexOf(r.Styl.v.FStl));
if(k=="PntT"){var U=K.stroke.qp.indexOf(r.PntT.v.FrFl);this.DE[k].h(U);if(!this.Qy){this.mzL(K.qL.concat(K.qU.concat(K.qn)));
this.mlR([K.qL,K.qU,K.qn][U])}}if(k=="GlwT")this.DE[k].h(K.qd.types.indexOf(r.GlwT.v.BETE));if(k=="glwS")this.DE[k].h(K.qd.qH.indexOf(r.GlwT.v.IGSr));
if(k=="bvlS")this.DE[k].h(K.qi.types.indexOf(r.bvlS.v.BESl));if(k=="bvlT")this.DE[k].h(K.qi.qD.indexOf(r.bvlT.v.bvlT));
if(k=="bvlD")this.DE[k].h(["In","Out"].indexOf(r.bvlD.v.BESs))}};JO.prototype.mWs=function(z){for(var r in this.DE){if(this.DE[r]!=z.target)continue;
var k=null,L=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(r)!=-1)k={type:"#Prc",val:z.target.r()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(r)!=-1)k={type:"#Pxl",val:z.target.r()};if(["Angl","lagl"].indexOf(r)!=-1)k={type:"#Ang",val:z.target.r().GZ};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(r)!=-1)k=z.target.r();
if(["Md","hglM","sdwM"].indexOf(r)!=-1)k={BlnM:mP._x[z.target.r()]};if(r=="uglg"){k=z.target.r();L=!0}if(r=="PntT"){k={FrFl:K.stroke.qp[z.target.r()]};
L=!0}if(r=="Lald")k={type:"#Ang",val:z.target.r().alt};if(r=="Type")k={GrdT:K.v.types[z.target.r()]};
if(r=="Styl")k={FStl:K.stroke.types[z.target.r()]};if(r=="GlwT")k={BETE:K.qd.types[z.target.r()]};if(r=="glwS")k={IGSr:K.qd.qH[z.target.r()]};
if(r=="bvlS")k={BESl:K.qi.types[z.target.r()]};if(r=="bvlT")k={bvlT:K.qi.qD[z.target.r()]};if(r=="bvlD")k={BESs:["In","Out"][z.target.r()]};
this.Iy({Lf:r,u:k});if(L){if(this.Qy)this.update(null,this.PC);else{var E=this.parent.ed.a[this.parent.data.C].add.lmfx[K.qo[this.GV[0]]].v[this.GV[1]].v;
this.update(this.parent.ed,E)}}}};JO.prototype.Iy=function(z){if(this.Qy){this.PC[z.Lf].v=z.u;this.K(new D(Y.E.j))}else{z.J="changeprop";
z.C=this.parent.data.C;z.HD=this.GV;var r=new D(Y.E.q,!0);r.data=z;r.R=A.TZ;r.O_=!0;this.K(r);this.K(new D("afterchange",!0))}};
JO.prototype.r=function(){return JSON.parse(JSON.stringify(this.PC))};JO.m={bops:["blOptions","lrMd","Opct","iOpa"],DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose".split(" "),OrGl:"enab Md Clr Grad Opct Nose GlwT Ckmt blur TrnS AntA Inpr ShdN".split(" "),IrGl:"enab Md Clr Grad Opct Nose GlwT glwS Ckmt blur TrnS AntA Inpr ShdN".split(" "),ebbl:"enab bvlS bvlT bvlD srgR blur Sftn ---- lagl Lald uglg TrnS antialiasGloss hglM hglC hglO sdwM sdwC sdwO useShape MpgS AntA Inpr useTexture Ptrn Scl textureDepth InvT Algn phase".split(" "),SoFi:["enab","Md","Opct"].concat(K.qL),GrFl:["enab","Md","Opct"].concat(K.qU),patternFill:["enab","Md","Opct"].concat(K.qn),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS AntA Invr".split(" "),FrFX:"enab Sz Styl Md Opct PntT".split(" ").concat(K.qL.concat(K.qU.concat(K.qn)))};
function J_(){Jl.call(this,[11,6],"layerstyle");this.mKO=-1;this.data={};this.ed=null;this.gn=null;this.UR=[];
this.Wx=[];Y.UM(this.body,"flexrow");this.cv=Y.d("div","bordered");this.cv.setAttribute("style","min-width:13em;");
this.body.appendChild(this.cv);this.gY=Y.d("div","");this.gY.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.gY);this.gj=Y.d("div","form");this.gj.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.gj);this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.Ra,this);this.gj.appendChild(this.kL.G);
this.ca=new mr([12,87],!0,null,!0);this.ca.U("click",this.mSH,this);this.gj.appendChild(this.ca.G);this.XJ=new mI;
this.XJ.parent=this;this.XJ.U(Y.E.j,this.mla,this);this.gj.appendChild(this.XJ.G);this.U("closebtn",this.IN,this);
this.U("redrawall",this.sT,this)}J_.prototype=new Jl;J_.prototype.hr=function(){return!0};J_.prototype.mla=function(z){var r=this.XJ.r();
this.Iy({J:"setstl",u:r.Ye});this.sT(null)};J_.prototype.mSH=function(z){var r=this.ed,k=this.data.C;
if(k==null)k=r.L[0];var L=this.ed.a[k],E=mK.ov(L),F=new D(Y.E.D,!0);F.data={J:Y.Q.na,j_:"add",Hq:zB.yd,ua:[JSON.parse(JSON.stringify(E))]};
this.K(F)};J_.prototype.mEh=function(z){this.data.index=z.currentTarget.GV;this.sR(z.currentTarget.GV)};
J_.prototype.sT=function(z){this.IJ(this.ed,this.data)};J_.prototype.sR=function(z,r){Y.UW(this.gY);
for(var k=0;k<this.UR.length;k++)this.UR[k].mmO();var L=z==0?this.UR[0]:this.Wx[z[0]][z[1]];this.gY.appendChild(L.mEo());
if(r)L.su();var E=this.ed;if(E){var F=E.a[this.data.C];this.UR[0].update(E,zM.yu.yK(E,F));var U=F.add.lmfx;
if(U==null)return;for(var k=0;k<K.order.length;k++){var l=U[K.qo[k]].v;for(var G=0;G<l.length;G++)this.Wx[k][G].update(E,l[G].v)}}if(r)L.su()};
J_.prototype.p=function(){Jl.prototype.p.call(this);this.ca.p();this.XJ.p();for(var z=0;z<this.UR.length;
z++)this.UR[z].p()};J_.prototype.IJ=function(z,r){var k=r.C==null;this.data.C=r.C;this.data.index=r.index;
r=this.data;this.ed=z;if(k)r.C=z.L[0];Y.UW(this.cv);var L=z.a[r.C].add.lmfx;this.sw();this.UR=[new JO("bops",!1,0)];
this.Wx=[];for(var E=0;E<K.order.length;E++){this.Wx.push([]);var F=L==null?[]:L[K.qo[E]].v;for(var U=0;
U<F.length;U++){var l=new JO(K.order[E],!1,[E,U]);this.UR.push(l);this.Wx[E].push(l)}if(F.length==0){var l=new JO(K.order[E],!1,[E,0]);
this.UR.push(l);this.Wx[E].push(l)}}this.p();this.hC(this.gn,zB.yt);for(var E=0;E<this.UR.length;E++){this.UR[E].parent=this;
this.UR[E].mQI(this.cv);this.UR[E].U("showme",this.mEh,this)}if(r.index==null)this.sR(0);else this.sR(r.index,k);
this.U("afterchange",this.sw,this)};J_.prototype.sw=function(z){var r=this.ed,k=this.data.C;if(k==null)k=r.L[0];
var L=this.ed.a[k],E=mK.ov(L);this.XJ.h(E,r.add.Patt?r.add.Patt:[],r.qW(),r.qQ())};J_.prototype.hC=function(z,r){this.gn=z;
for(var k=0;k<this.UR.length;k++)this.UR[k].hC(z,r);if(r==zB.yd){this.XJ.vM([z.ja,z.QB])}if(r==zB.yb){}};
J_.prototype.IN=function(z){this.Iy({J:"cancel"})};J_.prototype.Ra=function(z){this.Iy({J:"confirm"});
this.close()};J_.prototype.Iy=function(z){z.C=this.data.C;var r=new D(Y.E.q,!0);r.data=z;r.R=A.TZ;r.O_=!0;
this.K(r);this.sw()};J_.sN=function(){var z=[{name:[14,10],Hc:!0}];for(var r=0;r<K.names.length;r++)z.push({name:K.names[r]});
return z};J_.sy=function(){var z=[{I:Y.E.D,H:{J:Y.Q.nP,Hw:"layerstyle"}}];for(var r=0;r<K.names.length;
r++)z.push({I:Y.E.D,H:{J:Y.Q.nP,Hw:"layerstyle",index:[r,0]}});return z};J_.sV=function(z){var r=[];
if(z)r.push({name:[6,48,0,0],Hy:!0},{name:[6,48,0,1],Hy:!0},{name:[6,48,0,2],Hy:!0,Hc:!0});for(var k in mm.ready)r.push({name:mm.names[k],Hc:mm.O$.indexOf(k)!=-1,Hy:JK[k]!=null});
return r};J_.sO=function(z){var r=[];if(z)for(var k=0;k<3;k++)r.push({I:Y.E.q,R:A.T_,H:{J:T.CT,Lf:k,Hr:0}});
for(var L in mm.ready)r.push({I:Y.E.q,R:A.T_,H:{J:T.CS,DK:L}});return r};function JZ(){Jl.call(this,[1,10],"script");
var z=Y.d("div","form");this.body.appendChild(z);var r=new mr("JS Reference",!1,null,!0);r.U("click",this.mmi,this);
z.appendChild(r.G);z.appendChild(new mf("Demos:").G);this.Uz=[];var k=JZ.sq;for(var L=0;L<k.length;L++){var E=new mr(k[L].Vw,!1,null,!0);
this.Uz.push(E);z.appendChild(E.G);E.U("click",this.mJQ,this)}this.jv=Y.d("textarea");this.jv.setAttribute("rows",16);
this.jv.setAttribute("cols",70);this.jv.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
z.appendChild(this.jv);this.tg=new mr("Run",!0,null,!0);this.tg.U("click",this.mJW,this);z.appendChild(this.tg.G)}JZ.prototype=new Jl;
JZ.prototype.IJ=function(z,r,k){this.jv.value=JZ.sq[0].so};JZ.prototype.mmi=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.nc,link:"http://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2015.pdf"};
this.K(r)};JZ.prototype.mJW=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.nT,pC:this.jv.value};this.K(r)};
JZ.prototype.mJQ=function(z){var r=this.Uz.indexOf(z.currentTarget);this.jv.value=JZ.sq[r].so};JZ.sq=[{Vw:"Hello",so:"\nalert(\"Hello Photopea!\");\n"},{Vw:"Process Layers",so:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Vw:"Clone Layers",so:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function JC(){Jl.call(this,[11,7],"newproject");this.data=null;var z=Y.d("div","flexrow");this.body.appendChild(z);
var r=Y.d("div","form");r.setAttribute("style","width:18em");z.appendChild(r);this.Zb=new JP([12,48]);
r.appendChild(this.Zb.G);this.kv=new mk(!0);this.kv.h(new V(1280,720),72);r.appendChild(this.kv.G);this.jK=new mp([12,46],[[13,1,8],[13,1,9]]);
r.appendChild(this.jK.G);r.appendChild(Y.d("hr"));this.bO=new mr([12,49],!0,null,!0);this.bO.U("click",this.create,this);
r.appendChild(this.bO.G);var k=Y.d("div","form");k.setAttribute("style","margin-left:1em; width:33.3em");
z.appendChild(k);var L=JC.sU,E=[];for(var F=0;F<L.length;F++)E.push(L[F].name);this.Qp=new mt(null,E);
this.Qp.U(Y.E.j,this.sL,this);k.appendChild(this.Qp.G);this.Qd=new m_(!0);this.Qd.U(Y.E.j,this.mJl,this);
k.appendChild(this.Qd.G);this.sL()}JC.prototype=new Jl;JC.prototype.mJl=function(z){var r=this.Qd.r(),k=JC.sU[this.Qp.r()].sn[r],L=k[4];
if(L==0)L=72;var E=k[1],F=k[2],U=["px","%","mm","in"].indexOf(k[3]),l=[1,1,25.4/L,1/L][U];E/=l;F/=l;
this.kv.h(new V(Math.round(E),Math.round(F)),L);this.kv.mQO(U);this.Qd.vP(r)};JC.prototype.sL=function(z){var r=JC.sU[this.Qp.r()].sn,k=[],L=[],E=Math.round(82*Y.Z()),F=Math.round(100*Y.Z()),U=0;
for(var l=0;l<r.length;l++)U=Math.max(U,r[l][1],r[l][2]);for(var l=0;l<r.length;l++){var G=r[l],g=G[1]+" x "+G[2]+" "+G[3];
if(G[3]=="in")g=(G[1]*25.4).toFixed(0)+" x "+(G[2]*25.4).toFixed(0)+" mm";if(G[3]=="mm")g=(G[1]/25.4).toFixed(1)+" x "+(G[2]/25.4).toFixed(1)+" in";
if(G[4])g=g+" @ "+G[4]+" ppi";L.push(g);k.push(JC.Qa(G,E,F,U))}this.Qd.vm(k,L,E,F)};JC.Qa=function(z,r,k,L){var E=Y.d("canvas",""),F=E.getContext("2d");
E.width=r;E.height=k;var U=Math.round(r/8),l=Math.floor(11*Y.Z()),G=z[1],g=z[2];F.fillStyle="#000000";
F.font=Math.round(l*.9)+"px \"Open Sans\", Sans-Serif";var P=G+" x "+g+" "+z[3],J=F.measureText(P);F.fillText(P,Math.round((r-J.width)/2),k-Math.round(U/2));
if(z[0]!=null){F.font="bold "+l+"px \"Open Sans\", Sans-Serif";var P=z[0],J=F.measureText(P);F.fillText(P,Math.round((r-J.width)/2),k-Math.round(U/2)-Math.round(l*1.3))}k-=Math.round(2.5*l);
var x=Math.min((r-U)/G,(k-U)/g);x*=.5+.5*(Math.max(G,g)/L);var a=(r-G*x)/2,d=(k-g*x)/2;F.strokeRect(Math.round(a)+.5,Math.round(d)+.5,Math.round(G*x),Math.round(g*x));
return E.toDataURL()};JC.prototype.p=function(){Jl.prototype.p.call(this);this.kv.p();this.Zb.p();this.jK.p();
this.bO.p();this.Zb.h(zA.get([11,7]));this.Qp.p()};JC.prototype.create=function(z){var r=this.kv.r(),k=r.x,L=r.y,E=new mM(this.Zb.r()+".psd");
E.X=k;E.z=L;E.bx=this.kv.XK();var F=E.qa();F._p("Background");E.qy([F]);if(this.jK.r()==0){F.rect=new Z(0,0,k,L);
F.buffer=e.$(k*L*4);e.JV(F.buffer,4294967295);F.add.lspf=1<<2}E.buffer=e.$(k*L*4);this.close();var U=new D(Y.E.D,!0);
U.data={J:Y.Q.nG,ed:E};this.K(U);var l=this.data.t$;if(this.data.t$)zZ.mh(function(){var G=new XMLHttpRequest,g="https://www.googleapis.com/drive/v3/files?"+zZ.mR();
G.open("POST",g,!0);G.setRequestHeader("Content-Type","application/json");G.addEventListener("load",function(z){var P=JSON.parse(z.target.response);
E.JO={file:P,cz:"psd"};alert(E.name+" created in Google Drive")});G.send(JSON.stringify({name:E.name,mKI:[l]}))})};
JC.prototype.IJ=function(z,r){if(z!=null&&z.i!=null){var k=new Z(0,0,z.X,z.z).Mk(z.i.rect);this.kv.h(new V(k.X,k.z))}this.data=r;
this.Zb.Xh()};JC.sU=[{name:[1,4],sn:[["A2",420,594,"mm",300],["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B2",500,707,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["B6",125,176,"mm",300]]},{name:[12,88,0],sn:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300],[null,30,45,"in",300]]},{name:[12,88,1],sn:[["QVGA",320,240,"px",0],["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1440,900,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],sn:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],sn:[[null,200,200,"px",0],[null,250,250,"px",0],[null,300,250,"px",0],[null,336,280,"px",0],[null,320,50,"px",0],[null,320,100,"px",0],[null,468,60,"px",0],[null,728,90,"px",0],[null,970,90,"px",0],[null,970,250,"px",0],[null,240,400,"px",0],[null,120,600,"px",0],[null,160,600,"px",0],[null,300,600,"px",0],[null,300,1050,"px",0]]}];
function Jq(z,r,k){Jl.call(this,r,"sel_"+z);this.J=z;this.$J=Y.d("div","form");this.body.appendChild(this.$J);
this.Zb=new JP(r,k);this.$J.appendChild(this.Zb.G);this.Zb.h(1);this.kL=new mr("OK",!0,null,!0);this.kL.U("click",this.IH,this);
this.$J.appendChild(this.kL.G)}Jq.prototype=new Jl;Jq.prototype.Im=function(z,r){if(z==null)return;if(z.i==null)alert("No selection!");
return z.i!=null};Jq.prototype.IH=function(z){var r=new D(Y.E.q,!0);r.data={J:this.J,u:parseInt(this.Zb.r())};
r.R=A.hs;r.O_=!0;this.K(r);this.close()};Jq.prototype.p=function(){Jl.prototype.p.call(this);if(this.Zb)this.Zb.p()};
Jq.prototype.IJ=function(z,r){};function Jo(){Jl.call(this,[1,5],"open_from_url");this.hc=null;var z=Y.d("div","form");
this.body.appendChild(z);this.jl=new JP("URL",null,22);z.appendChild(this.jl.G);z.appendChild(Y.d("br"));
this.GY=new mt([21,0],[[21,2],[21,1]]);z.appendChild(this.GY.G);this.bO=new mr("OK",!0,null,!0);this.bO.U("click",this.mG_,this);
z.appendChild(this.bO.G)}Jo.prototype=new Jl;Jo.prototype.p=function(){Jl.prototype.p.call(this);this.GY.p()};
Jo.prototype.IJ=function(z,r,k){this.jl.Xh();this.hc=null;if(z&&k.indexOf(z)!=-1)this.hc=k.indexOf(z)};
Jo.prototype.mG_=function(z){var r=new D(Y.E.D,!0),k=this.jl.r();r.data={J:Y.Q.Ui,Hq:{url:k,EB:!0,hc:this.GY.r()==1?this.hc:null}};
this.K(r);this.close()};function Jr(){Jl.call(this,[12,79],"preferences");this.gn=null;var z=Y.d("div","form");
this.body.appendChild(z);this.m=[new mi([8,2]),new mi([8,4]),new mY("Grid gap",1,100,"px"),new mp("Ruler units",e.MB.MR)];
for(var r=0;r<this.m.length;r++){var k=this.m[r];z.appendChild(k.G);z.appendChild(Y.d("br"));k.U(Y.E.j,this.IF,this)}this.bO=new mr("Apply",!0,null,!0);
this.bO.U("click",this.IF,this)}Jr.prototype=new Jl;Jr.prototype.p=function(){Jl.prototype.p.call(this);
for(var z=0;z<this.m.length;z++)this.m[z].p()};Jr.prototype.IJ=function(z,r,k){};Jr.prototype.hC=function(z,r){this.gn=z;
this.m[0].h(z.gF.YI);this.m[1].h(z.gF.Fy);this.m[2].h(z.gF.FN);this.m[3].h(z.gF.gg)};Jr.prototype.IF=function(z){var zU=this.m,r=JSON.parse(JSON.stringify(this.gn.gF));
r.YI=zU[0].r();r.Fy=zU[1].r();r.FN=zU[2].r();r.gg=zU[3].r();var k=new D(Y.E.D,!0);k.data={J:Y.Q.na,Hq:zB.Vm,FW:r};
this.K(k)};function JL(){Jl.call(this,[11,8],"saveforweb");this.U("closebtn",function(){this.OA.XC()},this);
this.WG={JPG:[{js:new Jz([12,52],0,100,"%"),OG:50}],WEBP:[{js:new Jz([12,52],0,100,"%"),OG:50}],GIF:[{js:new Jz([12,52],0,100,"%"),OG:100},{js:new mi("reverse frames"),OG:!1}],PNG:[{js:new Jz([12,52],0,100,"%"),OG:100},{js:new mi("don't use palettes"),OG:!1}],PDF:[{js:new mi("rasterize all"),OG:!1},{js:new mi("rasterize text"),OG:!1}],EMF:[{js:new mi("rasterize all"),OG:!1},{js:new mi("rasterize text"),OG:!1}],SVG:[{js:new mi("add raster graphics"),OG:!1},{js:new mi("add hidden layers"),OG:!1},{js:new mi("include fonts"),OG:!1},{js:new mi("rasterize text"),OG:!1},{js:new mi("add layer names"),OG:!0},{js:new mi("pretty-print"),OG:!0}]};
for(var z in this.WG){var r=this.WG[z];for(var k=0;k<r.length;k++)r[k].js.h(r[k].OG)}this.ed=null;this.Wa=null;
Y.UM(this.body,"flexrow");var L=Y.d("div"),E=Y.d("div");this.body.appendChild(L);this.body.appendChild(E);
this.G_=Y.d("div","imgcont");L.appendChild(this.G_);this.OA=new zQ;this.OA.Xo(512,512);this.kC=Y.d("span");
L.appendChild(this.kC);this.$J=Y.d("div","form cell padded");this.$J.setAttribute("style","width:18em");
E.appendChild(this.$J);this.$p=new mp([12,50],zc.mZ());this.$J.appendChild(this.$p.G);this.$p.U(Y.E.j,this.vC,this);
this.kv=new mk(!1,!0);this.kv.U(Y.E.j,this.vC,this);this.$J.appendChild(this.kv.G);this.ck=Y.d("div","");
this.$J.appendChild(this.ck);for(var F in this.WG)for(var k=0;k<this.WG[F].length;k++)this.WG[F][k].js.U(Y.E.j,this.vC,this);
this.It=new mr([1,2],!0,null,!0);this.It.U("click",this.save,this);this.$J.appendChild(this.It.G);this.D$=-1}JL.prototype=new Jl;
JL.prototype.Im=function(z,r){return z!=null};JL.prototype.p=function(){Jl.prototype.p.call(this);this.kv.p();
this.$p.p();for(var z in this.WG)for(var r=0;r<this.WG[z].length;r++)this.WG[z][r].js.p();this.It.p()};
JL.prototype.save=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.nz,data:this.Wa,name:this.ed.name.split(".")[0]+"."+zc.mZ()[this.$p.r()].toLowerCase()};
this.K(r);this.OA.XC();this.close()};JL.prototype.IJ=function(z,r){if(r.KG!=null)this.$p.h(r.KG);this.ed=z;
this.kv.h(new V(z.X,z.z));this.vC()};JL.prototype.vC=function(z){this.OA.XC();var r=this.ed,k=this.kv.r(),L=k.x,E=k.y,F=zc.mZ()[this.$p.r()],U=this.WG[F],P="";
if(U==null)U=[];if(this.$p.r()!=this.D$){this.D$=this.$p.r();Y.UW(this.ck);for(var l=0;l<U.length;l++){this.ck.appendChild(U[l].js.G);
this.ck.appendChild(Y.d("br"))}}var G=[];for(var l=0;l<U.length;l++)G.push(U[l].js.r());Y.UW(this.G_);
var g=zc[F];this.Wa=zc.mU(r,F,L,E,G);if(g.mWX){this.G_.innerHTML="<div style=\"width:300px;height:300px\"></div>";
P+="width:0px"}else if(g.mH){var J=L,x=E,a=512,d;if(F=="PDF"){d=URL.createObjectURL(new Blob([this.Wa],{type:"application/pdf"}));
J=a;x=a}else{d=URL.createObjectURL(new Blob([this.Wa],{type:"image/svg+xml"}));J=Math.min(L+20,a);x=Math.min(E+20,a)}this.G_.innerHTML="<iframe src=\""+d+"\"></iframe>";
this.G_.firstChild.setAttribute("style","display:block; width:"+J+"px; height:"+x+"px;")}else{var t=g.mv(this.Wa),m=t[0].Hf,J=m.X,x=m.z;
this.OA.Xo(Math.max(150,Math.min(J/Y.Z(),512)),Math.max(150,Math.min(x/Y.Z(),512)));this.OA.h(t);this.G_.appendChild(this.OA.G);
P="background: rgba(0,0,0,0);"}this.G_.setAttribute("style","display:block; background-size:"+16/Y.Z()+"px;"+P);
this.kC.innerHTML=F+": "+this.Wa.byteLength.toLocaleString()+" B"};function JU(){Jl.call(this,[11,13],"shortcuts");
var z=Y.d("div","scrollable"),r="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",k="";
z.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");k+="<h2 style=\"margin-top:0;\">Main Menu</h2>";
k+=r;k+=this.sX({File:"---",Open:"Ctrl + O",Save:"Ctrl + S","Save as PSD":"Shift+Ctrl + S","Save for web":"Alt+Shift+Ctrl + S",Edit:"---","Undo / Redo":"Ctrl + Z","Step Forward":"Shift + Ctrl + Z","Step Backward":"Alt + Ctrl + Z",Cut:"Ctrl + X",Copy:"Ctrl + C",Paste:"Ctrl + V",Clear:"Delete",Fill:"Alt + Backspace","Free Transform":"Alt + Ctrl + T",Preferences:"Ctrl + K",Adjustments:"---",Levels:"Ctrl + L",Curves:"Ctrl + M","Hue / Saturation":"Ctrl + U",Invert:"Ctrl + I",Layer:"---",Duplicate:"Ctrl + J","Clipping Mask":"Alt + Ctrl + G","Group Layers":"Ctrl + G","Merge Down":"Ctrl + E",Select:"---",All:"Ctrl + A",Deselect:"Ctrl + D",View:"---","Zoom In":"Ctrl + +","Zoom Out":"Ctrl + -",Rulers:"Ctrl + R",Guides:"Ctrl + ;",Grid:"Ctrl + '",Shortcuts:"?"});
k+="</div>";k+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";k+=r;k+=this.sX({"Vertical scroll":"Wheel","Horizontal scroll":"Ctrl + Wheel",Zooming:"Alt + Wheel"});
k+="</div>";k+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
k+=r;k+=this.sX({Move:"Ctrl",Hand:"Spacebar",Zoom:"Ctrl + Spacebar"});k+="</div>";k+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
k+=r;k+=this.sX(JU.sI);k+=this.sX({abc:null,Other:"---","Default Colors":"D","Swap Frg. - Bckg.":"X","Decrease Brush Size":"[","Increase Brush Size":"]","Decrease Hardness":"{","Increase Hardness":"}"});
k+="</div>";z.innerHTML=k;this.body.appendChild(z)}JU.prototype=new Jl;JU.prototype.sX=function(z){var r="",k=!0;
for(var L in z){if(z[L]==null){k=!1;continue}if(z[L]=="---"){if(!k)r+="<br/>";r+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+L+"</div>"}else r+="<div>"+L+" <span style=\"float:right; font-weight:bold;\">"+z[L]+"</span> </div>";
k=!1}return r};JU.sI={"Move Tool":"V","Rectangle Select":"M","Ellipse Select":"M","Lasso Select":"L","Polygonal Lasso Select":"L","Magnetic Lasso Select":"L","Quick Select":"W","Magic Wand":"W","Crop Tool":"C",Eyedropper:"I","Spot Healing Brush Tool":"J","Healing Brush Tool":"J","Patch Tool":"J","Brush Tool":"B","Clone Tool":"S","Eraser Tool":"E","Gradient Tool":"G","Paint Bucket Tool":"G","Blur Tool":null,"Sharpen Tool":null,"Smudge Tool":null,"Dodge Tool":"O","Burn Tool":"O","Sponge Tool":"O","Type Tool":"T",Pen:"P","Free Pen":"P","Path Select":"A","Direct Select":"A",Rectangle:"U",Ellipse:"U",Line:"U","Parametric Shape":"U","Custom Shape":"U","Hand Tool":"H","Zoom Tool":"Z"};
function Jn(){Jl.call(this,[2,3],"fill");this.gn=null;this.tG=null;var z=Y.d("div","form padded");this.body.appendChild(z);
this.JC=new mp([2,3],[[12,45],[12,46],[13,1,10],[13,1,8],"Content Aware"]);z.appendChild(this.JC.G);
this.bO=new mr("OK",!0,null,!0);this.bO.U("click",this.Ra,this);this.body.appendChild(this.bO.G)}Jn.prototype=new Jl;
Jn.prototype.Im=function(z,r){return z!=null};Jn.prototype.p=function(){Jl.prototype.p.call(this);this.JC.p()};
Jn.prototype.Ra=function(z){if(!this.tG.qm())return;var r=new D(Y.E.q,!0),k=this.JC.r();if(k!=4){r.R=A.TS;
r.data={J:"fill",YR:k}}else{if(this.tG.i==null){alert("There is no selection.");return}r.R=A.hk;r.data={J:"heal2"}}this.K(r);
this.close()};Jn.prototype.IJ=function(z,r){this.tG=z};Jn.prototype.hC=function(z,r){this.gn=z};function Jv(){Jl.call(this,[14,9],"stroke");
this.gn=null;this.$J=Y.d("div","form");this.$J.setAttribute("style","width:24em");this.body.appendChild(this.$J);
this.co=new JO("FrFX",!0);this.co.parent=this;var z=["Sz","Styl","Md","Opct"].concat(K.qL);for(var r=0;
r<z.length;r++){var k=this.co.DE[z[r]].G;this.$J.appendChild(k)}this.pQ=!1;this.bO=new mr("OK",!0,null,!0);
this.bO.U("click",this.Ra,this);this.body.appendChild(this.bO.G)}Jv.prototype=new Jl;Jv.prototype.Im=function(z,r){return z!=null};
Jv.prototype.p=function(){Jl.prototype.p.call(this);this.co.p()};Jv.prototype.Ra=function(z){var r=new D(Y.E.q,!0);
r.R=A.TS;r.data={J:"stroke",mlQ:this.co.r()};this.K(r);this.close()};Jv.prototype.IJ=function(z,r){if(!this.pQ){var k=K.qt[K.order.indexOf("FrFX")];
k=JSON.parse(k);this.co.update(z,k);this.pQ=!0}var k=this.co.r(),L=this.gn.fh;k.Clr.v=e.v.Gn({F:L>>16&255,P:L>>8&255,g:L&255});
this.co.update(z,k)};Jv.prototype.hC=function(z,r){this.gn=z};function JX(){Jl.call(this,[11,9],"textwarp");
this.m=new JM;this.m.U(Y.E.j,this.vs,this);this.m.parent=this;this.$J=Y.d("div","form");this.$J.setAttribute("style","width:20em");
this.body.appendChild(this.$J);this.$J.appendChild(this.m.GC.G);this.$J.appendChild(this.m.vj.G);this.$J.appendChild(this.m.vf.G);
this.$J.appendChild(this.m.mN.G);this.$J.appendChild(this.m.zs.G);this.bO=new mr("OK",!0,null,!0);this.bO.U("click",this.Ra,this);
this.$J.appendChild(this.bO.G);this.U("closebtn",this.IN,this)}JX.prototype=new Jl;JX.prototype.p=function(){Jl.prototype.p.call(this);
this.m.p()};JX.prototype.vs=function(z){var r=this.m.r();this.ss({J:"warp",ut:r})};JX.prototype.ss=function(z){var r=new D(Y.E.q,!0);
r.R=A.TE;r.data=z;r.O_=!0;this.K(r)};JX.prototype.IN=function(z){this.ss({J:"warpCancel"})};JX.prototype.Ra=function(z){this.ss({J:"warpConfirm"});
this.close()};JX.prototype.IJ=function(z,r){var k=z.a[z.L[0]];this.m.h(k.add.TySh.Yx)};function JI(){Jl.call(this,"Raw Photopea","rawpea");
this.jU=null;this.Vf=null;this.jV=null;this.mKg=0;this.zr=null;this.zJ=null;this.mD=500;this.RZ=500;
this.U("closebtn",this.wU.bind(this),this);Y.UM(this.body,"flexrow");var z=Y.d("div"),r=Y.d("div");r.setAttribute("style","padding-left: 1em");
this.body.appendChild(z);this.body.appendChild(r);this.M_=Y.d("canvas");z.appendChild(this.M_);this.uE=Y.d("canvas");
this.uE.width=256;this.uE.height=100;Y.UO(this.uE,256,100);r.appendChild(this.uE);this.$J=Y.d("div");
this.$J.setAttribute("style","width:18em;");r.appendChild(this.$J);this.dT=new mf("Hi",!0);this.$J.appendChild(this.dT.G);
this.Mr=[new Jz("Temperature",2e3,13e3),new Jz("Tint",-150,150),new Jz([4,3],-4,4,null,!0),new Jz([12,2],-150,150),new Jz([12,3],-100,100)];
for(var k=0;k<this.Mr.length;k++){var L=this.Mr[k];L.h(0);L.U(Y.E.j,this.Xv,this);this.$J.appendChild(L.G)}this.bO=new mr("OK",!0,null,!0);
this.bO.U("click",this.create,this);this.$J.appendChild(this.bO.G)}JI.prototype=new Jl;JI.prototype.XU=function(){return!0};
JI.prototype.Xo=function(z,r){this.mD=z-260;this.RZ=r-40;if(this.jU)this.st()};JI.prototype.p=function(){Jl.prototype.p.call(this);
for(var z=0;z<this.Mr.length;z++)this.Mr[z].p()};JI.prototype.create=function(z){var r=this.jU,k=this.Vf,L=e.$(r.width*r.height*4);
e.JV(L,4294967295);e.raw.uj(k,L,r,this.Gx());var r={Hf:new Z(0,0,k.io,k.ir),data:L.buffer},E=Pj.$C("Raw Photo",[r]),F=new D(Y.E.D,!0);
F.data={J:Y.Q.nG,ed:E};this.K(F);this.wU();this.close()};JI.prototype.wU=function(){this.jU=null;this.Vf=null;
this.zr=null;this.zJ=null};JI.prototype.IJ=function(z,r,k,L){this.jU=r.iu;this.Vf=e.raw.mcg(this.jU);
var E=this.Vf;this.dT.h(E.io+" x "+E.ir+", "+(E.io*E.ir/1e6).toFixed(1)+" MPx");var F=e.raw.mzG(r.iu);
this.jV=zd.Ku(F);this.Mr[0].h(this.jV.iv);this.Mr[1].h(this.jV.iX);for(var U=2;U<this.Mr.length;U++)this.Mr[U].h(0);
this.st()};JI.prototype.st=function(){var z=this.Vf,r=z.io,k=z.ir,L=1;while(r/L>this.mD*Y.Z()||k/L>this.RZ*Y.Z())L++;
var E=Math.floor(r/L),F=Math.floor(k/L);this.zr={bT:new Float32Array(E*F*3),io:E,ir:F};var U=this.M_.getContext("2d");
this.zJ=U.createImageData(E,F);e.JV(this.zJ.data,4294967295);var l=1/(L*L);for(var G=0;G<F;G++)for(var g=0;
g<E;g++){var P=0,J=0,x=0,a=(g+1)*L,d=(G+1)*L;for(var t=G*L;t<d;t++)for(var m=g*L;m<a;m++){var b=(t*r+m)*3;
P+=this.Vf.bT[b];J+=this.Vf.bT[b+1];x+=this.Vf.bT[b+2]}var I=(G*E+g)*3;this.zr.bT[I]=P*l;this.zr.bT[I+1]=J*l;
this.zr.bT[I+2]=x*l}this.Xv()};JI.prototype.Xv=function(){var z=this.jU,r=this.zr.io,k=this.zr.ir,L=r*k,E=this.M_,F=E.getContext("2d");
E.width=r;E.height=k;Y.UO(E,r,k);e.raw.uj(this.zr,new Uint8Array(this.zJ.data.buffer),z,this.Gx());F.putImageData(this.zJ,0,0);
var U=e.PP(this.zJ.data);E=this.uE;F=E.getContext("2d");var l=F.createImageData(E.width,E.height),G=4e3/L;
for(var g=0;g<256;g++){var P=U[1][g]*G,J=U[2][g]*G,x=U[3][g]*G;for(var a=0;a<100;a++){var d=(a*256+g)*4;
if(99-a<P){l.data[d]=255;l.data[d+3]=255}if(99-a<J){l.data[d+1]=255;l.data[d+3]=255}if(99-a<x){l.data[d+2]=255;
l.data[d+3]=255}}}F.putImageData(l,0,0)};JI.prototype.Gx=function(){var z=[];for(var r=0;r<this.Mr.length;
r++)z.push(this.Mr[r].r());return z};function Js(){Jl.call(this,[11,11],"vbitmap");this.sU=null;this.lx=null;
this.HK=null;this.lR=null;this.FD=null;this.$J=Y.d("div","form hbar");this.body.appendChild(this.$J);
this.un=new mY([12,82],2,50,null);this.un.U(Y.E.j,this.ws,this);this.$J.appendChild(this.un.G);this.u$=new mi([12,81]);
this.u$.U(Y.E.j,this.ws,this);this.$J.appendChild(this.u$.G);this.bO=new mr("OK",!1,null,!0);this.bO.U("click",this.create,this);
this.$J.appendChild(this.bO.G);var z=Y.d("div","flexrow"),r=16;this.body.appendChild(z);this.zz=new zQ;
this.zz.U("viewchange",this.sp,this);this.mi=Y.d("canvas");this.mi.setAttribute("style","margin-left: 1px; cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");
this.vn=this.mi.getContext("2d");var k=e.$(16*16*4);e.Ja(k,r,r,8,0,0);this.Tt=e.scale.Mo(k,r,r);this.zz.XN(this.mi);
z.appendChild(this.zz.G);z.appendChild(this.mi)}Js.prototype=new Jl;Js.prototype.XU=function(){return!0};
Js.prototype.hr=function(){return!0};Js.prototype.Xo=function(z,r){r=r-100;z=Math.floor((z-50)/2);Y.UV(this.mi,z,r);
this.zz.Xo(z,r)};Js.prototype.hy=function(z,r,k,L){this.zz.hy(L)};Js.prototype.p=function(){Jl.prototype.p.call(this);
this.un.p();this.u$.p();this.bO.p()};Js.prototype.IJ=function(z,r){this.FD=z;var k=z.a[z.L[0]],L=e.Ko.KL(k.buffer.buffer,k.rect.X,k.rect.z).ig,E=L/((k.rect.X-2)*(k.rect.z-2));
this.u$.h(E<.75);var F=k.rect.clone();F.x=F.y=0;this.sU={Hf:F,data:k.buffer.buffer.slice(0)};this.lx=null;
this.zz.h([this.sU]);this.un.h(20);this.ws()};Js.prototype.ws=function(){var z=this.sU,r=this.u$.r();
if(r&&this.lx==null){var k=new Uint8Array(z.data.slice(0)),L=15,E=35,F=z.Hf.X,U=z.Hf.z,l=new e.Ph(F*U);
e.JR(k,l);var G=new e.Ph(F*U);e.zk.zg(l.F,l.n,G.F,F,U,L,e.zk.GG,[E]);e.zk.zg(l.P,l.n,G.P,F,U,L,e.zk.GG,[E]);
e.zk.zg(l.g,l.n,G.g,F,U,L,e.zk.GG,[E]);e.JZ(l.n,G.n);var g=E/255,P=1-g;for(var J=0;J<F*U;J++)G.n[J]=g*G.n[J]+P*l.n[J];
e.Jh(G,k);this.lx={Hf:z.Hf.clone(),data:k.buffer}}if(r)z=this.lx;var k=new Uint8Array(z.data),F=z.Hf.X,U=z.Hf.z;
for(var J=0;J<k.length;J+=4){if(k[J+3]<10)k[J]=k[J+1]=k[J+2]=k[J+3]=0}var x=e.Ko.mJR(k,F,U,this.un.r(),r?.1:2e-4),a=x.ie.slice(0);
for(var J=0;J<a.length;J++)a[J]++;var d=new Uint8Array((F+2)*(U+2));e.Jp(a,new Z(1,1,F,U),d,new Z(0,0,F+2,U+2));
var t=Math.round((F+2)*(U+2)/1e4),m=mu.mQC(d,F+2,U+2,Math.min(12,t)),b=mu.mKE(m),I=new zT(1,0,0,1,-1,-1);
for(var J=0;J<b.length;J++)e.b.Wg(b[J].path.O,I,b[J].path.O);this.lR=b;this.HK=x;for(var J=0;J<b.length;
J++){var v=b[J];for(var W=J+1;W<b.length;W++){var B=b[W];if(x.ij[B.color-1].est.q[3]!=0||B.parent!=J)continue;
var n=B.path.be.slice(1);n.reverse();n=["M"].concat(n);var j=[],m=B.path.O.length;for(var p=0;p<m;p+=2){j[p]=B.path.O[m-2-p];
j[p+1]=B.path.O[m-2-p+1]}e.b.concat(v.path,{O:j,be:n})}}for(var J=0;J<b.length;J++){var v=b[J],X=x.ij[v.color-1].est.q;
if(X[3]==0){b.splice(J,1);J--;continue}}for(var J=1;J<b.length;J++){var M=b[J-1],v=b[J];if(M.color==v.color){e.b.concat(M.path,v.path);
b.splice(J,1);J--;continue}}this.sp()};Js.prototype.sp=function(z){if(this.lR==null)return;var r=this.sU.Hf.X,k=this.sU.Hf.z,L=this.lR,E=this.HK.ij,F=this.vn,U=this.zz.XO();
F.setTransform(1,0,0,1,0,0);F.clearRect(0,0,F.canvas.width,F.canvas.height);F.translate(F.canvas.width/2,F.canvas.height/2);
F.scale(U.o,U.o);F.translate(U.V.x/U.o-r/2,U.V.y/U.o-k/2);F.scale(1/U.o,1/U.o);F.fillStyle=this.Tt;F.fillRect(0,0,r*U.o,k*U.o);
F.scale(U.o,U.o);var l=[];for(var G=0;G<E.length;G++){var g=E[G].est.q;l.push({F:Math.round(255*g[0]),P:Math.round(255*g[1]),g:Math.round(255*g[2]),n:Math.round(255*g[3])})}for(var G=0;
G<L.length;G++){var P=L[G],g=l[P.color-1];if(g.n==0)continue;F.fillStyle="rgba("+g.F+","+g.P+","+g.g+","+g.n/255+")";
F.beginPath();Typr.U.pathToContext({crds:P.path.O,cmds:P.path.be},F);F.fill()}};Js.prototype.create=function(z){var r=this.lR,k=r.length==1,L=this.FD,E=L.L[0],F=L.a[E],U=L.a.slice(0,E);
if(!k)U.push(L.qc());for(var l=0;l<r.length;l++){var G=r[l],g=this.HK.ij[G.color-1].est.q;e.b.Wg(G.path.O,new zT(1,0,0,1,F.rect.x,F.rect.y),G.path.O);
var P=L.qa();P._p("Path "+l);U.push(P);P.Y_|=16;P.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.v.Gn({F:255*g[0],P:255*g[1],g:255*g[2]})}};
P.add.vmsk=new T.Zx;P.add.vstk=JSON.parse(JSON.stringify(K.qk.default));P.add.vstk.strokeEnabled.v=!1;
P.add.vmsk.A=[{type:6},{type:8,all:0}].concat(e.f.uG(Typr.U.pathToSVG({crds:G.path.O,cmds:G.path.be})));
P._q(L)}var J=U[U.length-1];if(!k){var P=L.qa();P._p(F.getName());P.add.lsct=mG.ZW;P.DD="pass";P.Y_=24;
U.push(P);J=P}var x=F.add.lmfx;if(x)J.add.lmfx=JSON.parse(JSON.stringify(x));for(var l=E+1;l<L.a.length;
l++)U.push(L.a[l]);var a=new D(Y.E.q,!0);a.O_=!0;a.R=A.T_;a.data={J:T.CM,gh:U,fF:[E+r.length+(k?-1:1)],HZ:"Vectorize Bitmap"};
this.K(a);this.close()};function Jt(){Jl.call(this,[7,11],"redge");this.sU={};this.jj=null;this.eH=null;
this.FD=null;this.sD=null;this.gP=null;var z="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />",r="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",k="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",L="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />";
this.$J=Y.d("div","form hbar");this.body.appendChild(this.$J);this.Wf=new mo;this.Wf.parent=this;this.Wf.U(Y.E.j,this.TL,this);
this.$J.appendChild(this.Wf.G);this.tX=new mt(null,[k,r,L]);this.$J.appendChild(this.tX.G);this.zq=new mg([7,9],0,50,null);
this.zq.parent=this;this.zq.U(Y.E.j,this.sd,this);this.$J.appendChild(this.zq.G);var E=new mr([12,90],!1,null,!0);
E.U("click",function(l){alert(zA.get([15,7,1]),5e3)},this);this.$J.appendChild(E.G);this.mEA=E;var F=Y.d("span","form");
this.$J.appendChild(F);F.setAttribute("style","position:absolute;  right:0px");this.sh=new mt([12,46],[z,k,L]);
this.sh.U(Y.E.j,this.sb,this);F.appendChild(this.sh.G);this.Hu=new mp(null,[[6,13],[6,2],[17,2]]);F.appendChild(this.Hu.G);
this.bO=new mr("OK",!1,null,!0);this.bO.U("click",this.create,this);F.appendChild(this.bO.G);var U=Y.d("div","flexrow");
this.body.appendChild(U);this.yM=new zQ(!0);this.f_=new zQ;this.yM.Xy(this.f_);this.f_.Xy(this.yM);this.yM.U("mousedown",this.Rm,this);
this.yM.U("mousemove",this.RJ,this);this.yM.U("mouseup",this.RP,this);this.yM.U("zoom",this.TL,this);
U.appendChild(this.yM.G);U.appendChild(this.f_.G)}Jt.prototype=new Jl;Jt.prototype.Im=function(z,r){var k=z!=null&&!z.a[z.L[0]].rect.z$();
if(!k)alert("The layer is empty.");return k};Jt.prototype.XU=function(){return!0};Jt.prototype.hr=function(){return!0};
Jt.prototype.Xo=function(z,r){r=r-100;z=Math.floor((z-50)/2);this.yM.Xo(z,r);this.f_.Xo(z,r)};Jt.prototype.p=function(){Jl.prototype.p.call(this);
this.Wf.p();this.zq.p();this.bO.p();this.Hu.p();this.mEA.p()};Jt.prototype.hC=function(z,r){this.eH=z;
if(r==zB.he){this.Wf.vM(z.fu);this.Wf.h(mE.oI(),z.fu.Yd,z.fu.YH)}};Jt.prototype.hy=function(z,r,k,L){this.sD=L;
var E=A.To.Tr(this.Wf.r(),L);if(E!=null){this.Wf.h(E);this.TL()}else this.yM.hy(L)};Jt.prototype.TL=function(){var z=this.eH,r=mx.rh(this.Wf.r(),z.fu.Yd,this.yM.XO().o),k=Y.Uq(r);
this.yM.Xw(k)};Jt.prototype.Rm=function(z){var r=this.eH,k=this.sU,L=this.sD,E=this.Wf.r(),F=this.yM.Xr(),U=[16777215,8355711,0][this.tX.r()];
this.jj=new mx(E,r.fu.list[0].Yd,r.fu.list[0].YH,{fx:1,fB:!0},U,r.fT,k.rect);if(L!=null&&L._(s.Vy)&&this.gP){this.jj.moveTo(this.gP.x,this.gP.y);
this.jj.lineTo(F.x,F.y)}else this.jj.moveTo(F.x,F.y);this.s$()};Jt.prototype.RJ=function(z){var r=this.sU,k=this.yM.Xr();
this.jj.lineTo(k.x,k.y);this.s$()};Jt.prototype.RP=function(z){this.gP=this.yM.Xr();this.ws()};Jt.prototype.s$=function(){var z=this.sU,r=this.jj,k=r.rc();
if(k.z$())return;z.Rv=k;e.M.Py("norm",r.rA(),r.Te(),z.vD,z.rect,k,1);this.sH()};Jt.prototype.IJ=function(z,r){this.FD=z;
var k=z.a[z.L[0]],L=k.rect.clone();this.zq.h(3);this.tX.h(z.i==null?0:1);this.TL();if(z.i==null)this.zq.nL();
else this.zq.nr();var E=e.$(L.Y()),F=e.$(L.Y());if(z.i)e.Jp(z.i.channel,z.i.rect,E,L);L.x=L.y=0;var U=L.X,l=L.z;
for(var G=0;G<l;G++)for(var g=0;g<U;g++){var P=G*U+g,J=E[P];if(g>0&&E[P-1]!=J||g<U-1&&E[P+1]!=J||G>0&&E[P-U]!=J||G<l-1&&E[P+U]!=J)F[P]=255}var x=new Float32Array(L.Y());
e.style.QA(F,x,U,l);this.sU={rect:L,bT:k.buffer,fJ:E,gb:x,xd:e.$(L.Y()*4),uN:e.$(L.Y()*4),vD:e.$(L.Y()*4),XE:null,Rv:L};
this.sd()};Jt.prototype.sd=function(){var z=this.sU,r=z.rect.Y(),k=this.zq.r(),L=z.fJ.slice(0);for(var E=0;
E<r;E++)if(z.gb[E]<k)L[E]=128;e.JV(z.vD,4294967295);e.JN(L,z.vD,0);e.JN(L,z.vD,1);e.JN(L,z.vD,2);this.ws()};
Jt.prototype.ws=function(){var z=this.sU,r,E,F,U=0,l=0,G=0;this.sH();if(!0)r=z.rect;else{var k=Math.min(r.X,r.z);
k=Math.max(k,50);r.aD(k,k);r=r.Mk(z.rect);while((r.X&3)!=0){r.X++;if(r.X+r.x>z.rect.X)r.x--}while((r.z&3)!=0){r.z++;
if(r.z+r.y>z.rect.z)r.y--}console.log(r)}var L=e.$(r.Y());if(r.Jq(z.rect)){e.Jw(z.vD,L,0);E=z.bT}else{E=e.$(r.Y()*4);
e.Jb(z.vD,z.rect,E,r);e.Jw(E,L,0);e.Jb(z.bT,z.rect,E,r)}for(var g=0;g<L.length;g++){var P=L[g];if(P==0)U++;
else if(P==255)l++;else G++}if(U*l*G!=0){F=e.Ka.Ka(r,E,L)}else{F=E.slice(0);e.JN(L,F,3)}if(r.Jq(z.rect))z.XE=F;
else e.Jb(F,r,z.XE,z.rect);this.sb()};Jt.prototype.sH=function(z){var r=this.sU,k=r.Rv;e.Jb(r.bT,r.rect,r.xd,r.rect,k,!0);
e.M.Py("norm",r.vD,r.rect,r.xd,r.rect,k,.3);this.yM.h([{Hf:r.rect,data:r.xd.buffer}])};Jt.prototype.sb=function(z){var r=this.sU;
e.JV(r.uN,[0,4294967295,4278190080][this.sh.r()]);e.M.Py("norm",r.XE,r.rect,r.uN,r.rect,r.rect,1);this.f_.h([{Hf:r.rect,data:r.uN.buffer}])};
Jt.prototype.create=function(z){var r=this.FD,k=this.sU,L=this.Hu.r(),E=r.a[r.L[0]],F=new D(Y.E.q,!0);
F.O_=!0;var U=E.rect.clone();if(L==0&&E._$()||L!=0&&!E._$()){F.R=A.T_;F.data={J:T.ZH,C:r.L[0]};this.K(F)}if(r.i!=null){F.R=A.hs;
F.data={J:"deselect"};this.K(F)}if(L==0){var l=r.a.slice(0),G=r.qa();G._p(E.getName());l.splice(r.L[0]+1,0,G);
G.rect=U;G.buffer=k.XE;G.N();F.R=A.T_;F.data={J:T.CM,gh:l,fF:[r.L[0]+1],HZ:[7,11]};this.K(F)}if(L==1){F.R=A.T_;
F.data={J:T.ZU};this.K(F);var g=E._F();g.channel=e.$(U.Y());g.rect=U;g.color=0;g.Yp=!0;e.Jw(k.XE,g.channel,3);
g.Pu();E._q()}if(L==2){var P={rect:U,channel:e.$(U.Y())};e.Jw(k.XE,P.channel,3);F.R=A.hs;F.data={J:"setsel",i:P,HZ:this.IG};
this.K(F)}this.close()};function Jp(z,r,k){my.call(this);this.name=z;this.pV=k;this.aF=Y.d("div","");
this.bW=Y.d("div","pbody");this.ES=new mr("",!1,"");this.ES.parent=this;this.py=Y.d("span","cross");
this.PW=Y.d("span","");this.PW.addEventListener("mousedown",this.mls.bind(this),!1);this.py.addEventListener("mousedown",this.Ig.bind(this),!1);
this.aF.appendChild(this.PW);if(r)this.aF.appendChild(this.py);this.kt=!1;this.PW.textContent=z}Jp.prototype=new my;
Jp.prototype.si=function(){return new V(0,0)};Jp.prototype.p=function(){var z=this.name,r=typeof z=="string"?z:zA.get(z);
this.PW.textContent=r;var k=r.split(" "),L=k.length==2?k[0].substring(0,2)+k[1][0]:r.substring(0,3);
if(this.pV==null)this.ES.nd(L,r);else{this.ES.nd("<img src=\""+this.pV+"\" alt=\""+this.name+"\" height=\"20\" />",r)}};
Jp.prototype.enable=function(){this.bW.setAttribute("class","pbody")};Jp.prototype.disable=function(){this.bW.setAttribute("class","pbody disabled")};
Jp.prototype.hC=function(z,r){};Jp.prototype.IJ=function(z,r){};Jp.prototype.Xo=function(z,r){};Jp.prototype.mEx=function(z){this.name=z;
this.PW.textContent=z};Jp.prototype.sY=function(){};Jp.prototype.mls=function(z){this.K(new D("select",!1))};
Jp.prototype.Ig=function(z){if(this.sj())this.K(new D(Y.E.Uv,!1))};Jp.prototype.sj=function(z){return!0};
Jp.prototype.hT=function(z,r,k,L,E){};Jp.prototype.hR=function(z,r,k,L,E){};Jp.prototype.hw=function(z,r,k,L,E){};
function J$(){Jp.call(this,[9,3]);this.bW.setAttribute("style","width:380px;");this.kq=null;this.op=null;
this.fh=0;this.fT=0;var z=Y.d("div","");this.bW.appendChild(z);this.cv=Y.d("div","bordered cell");this.cv.setAttribute("style","width:10em; height:28.5em;");
z.appendChild(this.cv);this.m=[];this.sK=null;this.zh=[];var r=this.sg.bind(this);this.UR=[new J$.tP,new J$.tK,new J$.tB,new J$.tR];
for(var k=0;k<this.UR.length;k++){var L=Y.d("div","listitem"),E=this.UR[k].WY,F=null;if(k==0){this.sK=new mf(E);
L.appendChild(this.sK.G)}else{F=new mi(E,!1);F.U(Y.E.j,this.se,this);L.appendChild(F.G)}this.zh.push(F);
this.cv.appendChild(L);this.m.push(L);L.addEventListener("click",r,!1)}this.gY=Y.d("div","cell padded");
z.appendChild(this.gY);for(var k=0;k<this.UR.length;k++)this.UR[k].U("brushchange",this.sf,this);this.setItem(0);
this.$P=Y.d("canvas","");this.$P.width=Math.floor(380*Y.Z());this.$P.height=Math.floor(80*Y.Z());Y.UO(this.$P,this.$P.width,this.$P.height);
z.appendChild(this.$P);this.vn=this.$P.getContext("2d");this.ws()}J$.prototype=new Jp("");J$.prototype.p=function(){Jp.prototype.p.call(this);
this.sK.p();for(var z=1;z<this.zh.length;z++)this.zh[z].p();for(var z=0;z<this.UR.length;z++)this.UR[z].p()};
J$.prototype.sf=function(z){var r=this.UR.indexOf(z.currentTarget),k=JSON.parse(JSON.stringify(this.UR[r].op)),L=new D(Y.E.D,!0);
L.data={J:Y.Q.na,Hq:zB.yf,op:k};this.K(L)};J$.prototype.se=function(z){this.sF(this.zh.indexOf(z.currentTarget),z.currentTarget.vR())};
J$.prototype.sg=function(z){var r=this.m.indexOf(z.currentTarget);if(z.target.tagName.toLowerCase()=="input")return;
if(this.zh[r]&&!this.zh[r].vR()){this.zh[r].vh();this.sF(r,!0)}this.setItem(r)};J$.prototype.sF=function(z,r){this.UR[z].tm(r)};
J$.prototype.setItem=function(z){for(var r=0;r<this.UR.length;r++)this.m[r].setAttribute("class","listitem");
if(this.gY.firstChild)this.gY.removeChild(this.gY.firstChild);this.m[z].setAttribute("class","listitem selected");
this.gY.appendChild(this.UR[z].G)};J$.prototype.hC=function(z,r){this.fh=z.fh;this.fT=z.fT;if(r==zB.he){this.kq=z.fu;
for(var k=0;k<this.UR.length;k++)this.UR[k].vM(this.kq)}if(r==zB.yf){this.op=z.fu.fE;this.ws()}if(r==zB.yg)this.ws()};
J$.prototype.ws=function(){if(this.op)this.enable();else{this.disable();return}for(var z=0;z<this.UR.length;
z++){this.UR[z].h(this.op);if(this.zh[z])this.zh[z].h(this.UR[z].vR())}var r=JSON.parse(JSON.stringify(this.op));
r.Brsh.v.Dmtr.v.val=Math.min(r.Brsh.v.Dmtr.v.val,50);var k=new Z(0,0,this.$P.width,this.$P.height),L=new mx(r,this.kq?this.kq.Yd:null,this.kq?this.kq.YH:null,{fx:1},this.fh,this.fT,k),E=40*Y.Z(),F=300*Y.Z();
L.moveTo(E,E);for(var z=0;z<=F;z+=10)L.lineTo(E+z,E+20*Math.sin(2*Math.PI*z/F));L.finish();var U=this.vn.createImageData(k.X,k.z);
e.Jb(L.rA(),L.Te(),U.data,k);this.vn.putImageData(U,0,0)};J$.tS=function(z){my.call(this);this.WY=z;
this.G=Y.d("div","");this.op=null};J$.tS.prototype=new my;J$.tS.prototype.vM=function(z){};J$.tS.prototype.h=function(z){this.op=JSON.parse(JSON.stringify(z));
this.G.setAttribute("class",this.vR()?"":"disabled");this.ws()};J$.tS.prototype.tm=function(z){};J$.tS.prototype.vR=function(){return!1};
J$.tS.prototype.p=function(){};J$.tS.prototype.ws=function(){};J$.tS.prototype.tJ=function(){this.K(new D("brushchange"))};
J$.tP=function(){J$.tS.call(this,[15,0]);this.kq=null;this.dc=null;this.Ms=new m_(!0);this.G.appendChild(this.Ms.G);
this.Ms.U(Y.E.j,this.tz,this);this.Ms.G.style.height="10.7em";this.M$=new Jz([12,14],1,100," px",0,!0);
this.M$.U(Y.E.j,this.muR,this);this.pl=new Jz([12,15],0,359," \xB0");this.pl.U(Y.E.j,this.muJ,this);
this.Mi=new Jz([12,16],0,100," %");this.Mi.U(Y.E.j,this.mQE,this);this.$y=new Jz([12,17],0,100," %");
this.$y.U(Y.E.j,this.mGj,this);this.P$=new Jz([12,18],1,300," %");this.P$.U(Y.E.j,this.mle,this);this.m=[this.M$,this.pl,this.Mi,this.$y,this.P$]};
J$.tP.prototype=new J$.tS;J$.tP.prototype.p=function(){this.M$.p();this.pl.p();this.Mi.p();this.$y.p();
this.P$.p()};J$.tP.prototype.vR=function(){return!0};J$.tP.prototype.vM=function(z){this.kq=z;var r=[],k=Math.floor(30*Y.Z()),L=Math.floor(40*Y.Z());
for(var E=0;E<z.list.length;E++){var F=z.list[E].v,U=mx.Qa(F,z.Yd,z.YH,k,L);r.push(U)}this.Ms.vm(r,null,k,L)};
J$.tP.prototype.ws=function(){var z=this.op.Brsh.v,r=z.classID!=this.dc;this.dc=z.classID;if(r)for(var k=0;
k<this.m.length;k++)if(this.G.contains(this.m[k].G))this.G.removeChild(this.m[k].G);this.M$.h(z.Dmtr.v.val);
if(r)this.G.appendChild(this.M$.G);this.pl.h(z.Angl.v.val);if(r)this.G.appendChild(this.pl.G);if(z.classID=="computedBrush"||z.classID=="sampledBrush"){this.Mi.h(z.Rndn.v.val);
if(r)this.G.appendChild(this.Mi.G)}if(z.classID=="computedBrush"){this.$y.h(z.Hrdn.v.val);if(r)this.G.appendChild(this.$y.G)}this.P$.h(z.Spcn.v.val);
if(r)this.G.appendChild(this.P$.G)};J$.tP.prototype.tz=function(z){this.op=this.kq.list[this.Ms.r()].v;
this.tJ()};J$.tP.prototype.muR=function(z){this.op.Brsh.v.Dmtr.v.val=z.target.r();this.tJ()};J$.tP.prototype.muJ=function(z){this.op.Brsh.v.Angl.v.val=z.target.r();
this.tJ()};J$.tP.prototype.mQE=function(z){this.op.Brsh.v.Rndn.v.val=z.target.r();this.tJ()};J$.tP.prototype.mGj=function(z){this.op.Brsh.v.Hrdn.v.val=z.target.r();
this.tJ()};J$.tP.prototype.mle=function(z){this.op.Brsh.v.Spcn.v.val=z.target.r();this.tJ()};J$.tK=function(){J$.tS.call(this,[15,1]);
this.lD=new Jz([15,4,0],0,100," %");this.lD.U(Y.E.j,this.mxK,this);this.G.appendChild(this.lD.G);this.xS=new Jz([15,4,1],0,100," %");
this.xS.U(Y.E.j,this.mxq,this);this.G.appendChild(this.xS.G);this.xm=new Jz([15,4,2],0,100," %");this.xm.U(Y.E.j,this.mak,this);
this.G.appendChild(this.xm.G);this.xJ=new Jz([15,4,3],0,100," %");this.xJ.U(Y.E.j,this.mPR,this);this.G.appendChild(this.xJ.G);
this.xz=new Jz([15,4,4],0,100," %");this.xz.U(Y.E.j,this.mPt,this);this.G.appendChild(this.xz.G)};J$.tK.prototype=new J$.tS;
J$.tK.prototype.p=function(){this.lD.p();this.xS.p();this.xm.p();this.xJ.p();this.xz.p()};J$.tK.prototype.vR=function(){return this.op.useTipDynamics.v};
J$.tK.prototype.tm=function(z){this.op.useTipDynamics.v=z;mE.oM.ot(this.op);this.tJ()};J$.tK.prototype.ws=function(){var z=this.op;
if(z.useTipDynamics.v==!1)return;this.lD.h(z.szVr.v.jitter.v.val);this.xS.h(z.minimumDiameter.v.val);
this.xm.h(z.angleDynamics.v.jitter.v.val);this.xJ.h(z.roundnessDynamics.v.jitter.v.val);this.xz.h(z.minimumRoundness.v.val)};
J$.tK.prototype.mxK=function(z){this.op.szVr.v.jitter.v.val=z.target.r();this.tJ()};J$.tK.prototype.mxq=function(z){this.op.minimumDiameter.v.val=z.target.r();
this.tJ()};J$.tK.prototype.mak=function(z){this.op.angleDynamics.v.jitter.v.val=z.target.r();this.tJ()};
J$.tK.prototype.mPR=function(z){this.op.roundnessDynamics.v.jitter.v.val=z.target.r();this.tJ()};J$.tK.prototype.mPt=function(z){this.op.minimumRoundness.v.val=z.target.r();
this.tJ()};J$.tB=function(){J$.tS.call(this,[15,2]);this.xW=new Jz([15,5,0],0,1e3," %");this.xW.U(Y.E.j,this.mQe,this);
this.G.appendChild(this.xW.G);this.xM=new Jz([15,5,1],1,20);this.xM.U(Y.E.j,this.mWu,this);this.G.appendChild(this.xM.G);
this.IL=new Jz([15,5,2],0,100," %");this.IL.U(Y.E.j,this.mxI,this);this.G.appendChild(this.IL.G)};J$.tB.prototype=new J$.tS;
J$.tB.prototype.p=function(){this.xW.p();this.xM.p();this.IL.p()};J$.tB.prototype.vR=function(){return this.op.useScatter.v};
J$.tB.prototype.tm=function(z){this.op.useScatter.v=z;mE.oM.ot(this.op);this.tJ()};J$.tB.prototype.ws=function(){var z=this.op;
if(z.useScatter.v==!1)return;this.xW.h(z.scatterDynamics.v.jitter.v.val);this.xM.h(z.Cnt.v);this.IL.h(z.countDynamics.v.jitter.v.val)};
J$.tB.prototype.mQe=function(z){this.op.scatterDynamics.v.jitter.v.val=z.target.r();this.tJ()};J$.tB.prototype.mWu=function(z){this.op.Cnt.v=z.target.r();
this.tJ()};J$.tB.prototype.mxI=function(z){this.op.countDynamics.v.jitter.v.val=z.target.r();this.tJ()};
J$.tR=function(){J$.tS.call(this,[15,3]);this.IU=new Jz([15,6,0],0,100," %");this.IU.U(Y.E.j,this.mMl,this);
this.G.appendChild(this.IU.G);this.u_=new Jz([15,6,1],0,100," %");this.u_.U(Y.E.j,this.mmb,this);this.G.appendChild(this.u_.G);
this.Iv=new Jz([15,6,2],0,100," %");this.Iv.U(Y.E.j,this.mzO,this);this.G.appendChild(this.Iv.G);this.xc=new Jz([15,6,3],0,100," %");
this.xc.U(Y.E.j,this.mGZ,this);this.G.appendChild(this.xc.G)};J$.tR.prototype=new J$.tS;J$.tR.prototype.p=function(){this.IU.p();
this.u_.p();this.Iv.p();this.xc.p()};J$.tR.prototype.vR=function(){return this.op.useColorDynamics.v};
J$.tR.prototype.tm=function(z){this.op.useColorDynamics.v=z;mE.oM.ot(this.op);this.tJ()};J$.tR.prototype.ws=function(){var z=this.op;
if(z.useColorDynamics.v==!1)return;this.IU.h(z.clVr.v.jitter.v.val);this.u_.h(z.H.v.val);this.Iv.h(z.Strt.v.val);
this.xc.h(z.Brgh.v.val)};J$.tR.prototype.mMl=function(z){this.op.clVr.v.jitter.v.val=z.target.r();this.tJ()};
J$.tR.prototype.mmb=function(z){this.op.H.v.val=z.target.r();this.tJ()};J$.tR.prototype.mzO=function(z){this.op.Strt.v.val=z.target.r();
this.tJ()};J$.tR.prototype.mGZ=function(z){this.op.Brgh.v.val=z.target.r();this.tJ()};function Jd(){Jp.call(this,[9,0]);
this.bW.setAttribute("style","min-width:200px;");this.YU=Y.d("div","hpbody scrollable");this.YU.style.height="160px";
this.bW.appendChild(this.YU);this.mEe=-1;this.x_=[]}Jd.prototype=new Jp("");Jd.prototype.IJ=function(z){Y.UW(this.YU);
if(z==null)return;var r=0;for(var k=0;k<z.history.length;k++)if(k<=z.Fa&&!z.history[k].cG)r=k;for(var k=0;
k<z.history.length;k++){var L=z.history[k];if(L.cG)continue;var E=new JH(L,k,r);E.parent=this;this.YU.appendChild(E.G);
this.x_.push(E)}if(z.Fa==z.history.length-1)this.YU.scrollTop=this.YU.scrollHeight};Jd.prototype.p=function(){Jp.prototype.p.call(this);
for(var z=0;z<this.x_.length;z++)this.x_[z].p()};function JH(z,r,k){my.call(this);this.index=r;this.G=Y.d("div",r==k?"listitem selected":"listitem");
this.$k=z.name;this.p();if(r>k)this.G.style.opacity=.4;this.G.addEventListener("click",this.hT.bind(this),!1)}JH.prototype=new my;
JH.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k);this.G.textContent=z};
JH.prototype.hT=function(z){if(this.index==this.parent.mEe)return;this.Iy({J:"h_itemchange",index:this.index})};
JH.prototype.Iy=function(z){var r=new D(Y.E.q,!0);r.data=z;r.R=A.TO;this.K(r)};function Jb(){Jp.call(this,[9,8]);
this.Hb=Y.d("div","padded");this.bW.appendChild(this.Hb);this.EP=new mU(10);this.Hb.appendChild(this.EP.G);
this.Hb.appendChild(Y.d("hr"));this.Ot=new mb;this.Ot.parent=this;this.Hb.appendChild(this.Ot.lA);this.EP.U(Y.E.j,this.tO,this);
this.Ot.U(Y.E.j,this.tO,this)}Jb.prototype=new Jp("");Jb.prototype.tO=function(z){var r;if(z.target==this.EP)r=this.EP.r();
else{var k=this.Ot.r();r=Math.round(k.F)<<16|Math.round(k.P)<<8|Math.round(k.g)}var L=new D(Y.E.D,!0);
L.data={J:Y.Q.na,Hq:zB.yg,eL:0,u:r};this.K(L)};Jb.prototype.hC=function(z,r){var k=z.fh;this.EP.h(k);
this.Ot.h({F:k>>>16&255,P:k>>>8&255,g:k>>>0&255});if(r==zB.yi){var L=z.RY;this.Ot.vM(L)}};function Ji(){Jp.call(this,[9,4]);
this.bW.setAttribute("style","min-width:240px;");this.no=new m$;this.no.parent=this;var z=Y.d("div","marged");
this.bW.appendChild(z);z.appendChild(this.no.mT.G);this.bW.appendChild(Y.d("hr"));var r=Y.d("div","marged");
this.bW.appendChild(r);r.appendChild(this.no.tQ.G);r.appendChild(this.no.mx.G);var k=Y.d("div","marged");
this.bW.appendChild(k);k.appendChild(this.no.WP.G);this.bW.appendChild(Y.d("hr"));var L=Y.d("div","marged");
this.bW.appendChild(L);L.appendChild(this.no.Qj.G);L.appendChild(this.no.Q$.G);var E=Y.d("div","marged");
this.bW.appendChild(E);E.appendChild(this.no._M.G);E.appendChild(this.no.GM.G);this.bW.appendChild(Y.d("hr"));
var F=Y.d("div","marged");this.bW.appendChild(F);F.appendChild(this.no.fW.G);F.appendChild(this.no.PO.G);
F.appendChild(this.no.lc.G);F.appendChild(this.no.Iq.G);F.appendChild(this.no.$u.G);F.appendChild(this.no.Io.G);
F.appendChild(this.no.ly.G)}Ji.prototype=new Jp("");Ji.prototype.p=function(){Jp.prototype.p.call(this);
this.no.p()};Ji.prototype.hC=function(z,r){if(r!=zB.yt&&r!=zB.yY&&r!=zB.yD&&r!=zB.ye)return;this.no.vI(z)};
function JD(){Jp.call(this,"CSS");this.Hb=Y.d("div","padded");this.bW.appendChild(this.Hb);this.jv=Y.d("textarea");
this.jv.setAttribute("rows",16);this.jv.setAttribute("cols",36);this.jv.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
this.Hb.appendChild(this.jv)}JD.prototype=new Jp("");JD.prototype.IJ=function(z){if(z==null||z.L.length==0)return;
var r=z.a[z.L[0]],k=CSS.Ls(r);if(k.length!=0)this.jv.value=k.join(";\n")+";";else this.jv.value=""};
function JY(){Jp.call(this,[9,6]);this.bW.setAttribute("style","min-width:240px;");var z=Y.d("div","marged row");
this.bW.appendChild(z);var r=Y.d("div","cell");r.setAttribute("style","width:10em");z.appendChild(r);
var k=Y.d("div","cell");k.setAttribute("style","width:10em");z.appendChild(k);this.mlJ=new mf("R:");
this.mlP=new mf("G:");this.mlz=new mf("B:");this.bW.appendChild(Y.d("hr",""));var L=Y.d("div","marged row");
this.bW.appendChild(L);var r=Y.d("div","cell");r.setAttribute("style","width:10em");var k=Y.d("div","cell");
k.setAttribute("style","width:10em");L.appendChild(r);L.appendChild(k);this.cA=new mf("");r.appendChild(this.cA.G);
r.appendChild(Y.d("br"));this.cT=new mf("");r.appendChild(this.cT.G);this.kp=new mf("");k.appendChild(this.kp.G);
k.appendChild(Y.d("br"));this.ko=new mf("");k.appendChild(this.ko.G);this.cA.h("X: 100 px");this.cT.h("Y: 100 px");
this.kp.h("W: 0");this.ko.h("H: 0")}JY.prototype=new Jp("");JY.prototype.hR=function(z,r,k,L,E){var F=z.t.q_(E.x,E.y),U=new V(Math.floor(F.x),Math.floor(F.y));
if(!1){var l=0,G=0,g=0;if(!E.fe&&!z.mzc()&&new Z(0,0,z.X,z.z).ab(U)){var P=z.Ce(),J=z.X*U.y+U.x<<2;l=P[J+0];
G=P[J+1];g=P[J+2]}this.mlJ.h("R: "+l);this.mlP.h("G: "+G);this.mlz.h("B: "+g)}this.cA.h("X: "+U.x);this.cT.h("Y: "+U.y);
this.t_(z)};JY.prototype.t_=function(z){var r=0,k=0;if(z.t.fg){r=z.t.fg.X;k=z.t.fg.z}else if(z.i){r=z.i.rect.X;
k=z.i.rect.z}this.kp.h("W: "+Math.abs(r));this.ko.h("H: "+Math.abs(k))};JY.prototype.IJ=function(z){if(z)this.t_(z)};
function Jk(){Jp.call(this,[9,1]);this.tU=null;this.ed=null;this.$v=null;this.Db=Y.d("div","lphead");
this.YU=Y.d("div","lpbody scrollable");this.Xd=Y.d("div","lpfoot");this.Gk=new mp(null,mP._a,!1,mP._E);
this.Gk.U(Y.E.j,this.muA,this);this.Db.appendChild(this.Gk.G);this.eZ=new mg([12,0],0,100,"%",0);this.eZ.U(Y.E.j,this.mxx,this);
this.eZ.parent=this;this.Db.appendChild(this.eZ.G);this.XT=new mD("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.XT.U(Y.E.j,this.tH,this);this.Db.appendChild(this.XT.G);this.XT.G.setAttribute("style","margin-right:1.5em");
this.XH=new mg([12,26],0,100,"%",0);this.XH.U(Y.E.j,this.tr,this);this.XH.parent=this;this.Pp=[];this.mcO();
this.bW.appendChild(this.Db);this.bW.appendChild(this.YU);this.bW.appendChild(this.Xd);this.bW.addEventListener("contextmenu",Jj.Rf,!1);
this.gD=[{name:[14,10]},{name:[6,0]},{name:[11,4]},{name:[5,4],Hc:!0},{name:[6,7],Hc:!0},{name:[6,8],T:function(z){var r=z.a[z.L[0]];
if(r.add.TySh||r.add.SoLd||r.add.SoCo||r.add.GdFl||r.add.PtFl)return{T:!0};return{T:!1}}},{name:[6,34],T:function(z){var r=z.a[z.L[0]];
return{T:r.add.lmfx!=null}}},{name:[6,40],Hc:!0,T:function(z){var r=z.a[z.L[0]];return{T:r.add.TySh!=null}}},{name:[6,6],Hc:!0,T:function(z){return{T:z.Cb(z.L[0]),ge:z.a[z.L[0]].YO}}},{name:[11,6],Hc:!0,sub:[{name:[5,1],T:function(z){var r=z.a[z.L[0]];
return{T:r.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],T:function(z){var r=z.a[z.L[0]];return{T:r.add.lmfx!=null}}}]},{name:[6,10],T:function(z){return{T:z.L.length==1&&z.L[0]!=0&&!z.a[z.L[0]]._w()}}},{name:[6,12],T:function(z){return{T:z.L.length>1||z.a[z.L[0]]._w()}},Hc:!0},{name:[13,0],sub:function(){var z=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],r=[];
for(var k=0;k<z.length;k++)r.push({name:z[k]});return r}()}];this.HA=[null,T.Zh,{I:Y.E.D,H:{J:Y.Q.nP,Hw:"duplinto"}},T.ZT,T.Zw,T.ZV,T.ZO,T.Cu,T.Ze,null,T.Z_,T.ZZ,T.CQ];
this.gY=new mV(this.gD);this.gY.U("select",this.wM,this);this.Rk=[{name:[6,45],T:function(z){var r=z.a[z.L[0]];
return{T:r.ZS(z).k==null}}},{name:[6,47]}];this.mlx=[T.Cl,T.Ca];this.sB=new mV(this.Rk);this.sB.U("select",this.wM,this);
this.D_=[{name:"enab/disab",T:function(z){return{gf:zA.get(z.a[z.L[0]]._F().isEnabled?[6,15]:[6,14])}}},{name:[6,22]}];
this.mlB=[T.ZC,T.Zr];this.KN=new mV(this.D_);this.KN.U("select",this.wM,this);this.RF=[{name:"enab/disab",T:function(z){return{gf:zA.get(z.a[z.L[0]].ZS(z).k.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.mlT=[T.Zo,T.Cx];this.sx=new mV(this.RF);this.sx.U("select",this.wM,this);this.da=[{name:"enab/disab",T:function(z){return{gf:zA.get(z.a[z.L[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.mlN=[T.Zq,T.ZL];this.Ky=new mV(this.da);this.Ky.U("select",this.wM,this);this.wz=J_.sV(!0);this.mlO=J_.sO(!0);
this.QT=new mV(this.wz);this.QT.U("select",this.wM,this);this.dx=J_.sN();this.mlC=J_.sy();this.KV=new mV(this.dx);
this.KV.U("select",this.wM,this);this.U("rclick",this.mMk,this)}Jk.prototype=new Jp("");Jk.prototype.si=function(){return new V(250,0)};
Jk.prototype.wM=function(z){var r=z.target.nX(),k=r[0],L;if(z.target==this.gY)L=this.HA;if(z.target==this.sB)L=this.mlx;
if(z.target==this.KN)L=this.mlB;if(z.target==this.Ky)L=this.mlN;if(z.target==this.sx)L=this.mlT;if(z.target==this.QT)L=this.mlO;
if(z.target==this.KV)L=this.mlC;if(L[k]==null){if(k==0){var E=new D(Y.E.D,!0);E.data={J:Y.Q.nP,Hw:"layerstyle",C:this.ed.L[0]};
this.K(E)}else{var F=new D(Y.E.q,!0);F.R=A.TZ;F.data={J:["st_copy","st_paste","st_clear"][r[1]],C:this.ed.L[0]};
this.K(F)}return}if(L[k].I!=null){var U=L[k],F=new D(U.I,!0);F.R=U.R;F.data=U.H;z.target.K(F);return}var F=new D(Y.E.q,!0);
if(z.target==this.QT)F.data=L[k];else F.data={J:L[k]};if(L[k]==T.CQ)F.data.mmw=r[1];F.R=A.T_;z.target.K(F)};
Jk.prototype.mMk=function(z){var r=this.ed,k=z.data,L,E;if(r.L.indexOf(k.C)==-1){r.L=[k.C];r.ep=!0}if(k.B==1){L=this.KN;
E=this.D_}else if(k.B==2){L=this.Ky;E=this.da}else if(k.B==3){L=this.sx;E=this.RF}else if(k.mlo){L=this.sB;
E=this.Rk}else{L=this.gY;E=this.gD}L.update(r,E);L.parent=this;var F=new D(Y.E.D,!0);F.data={J:Y.Q.Ut,dF:L,x:k.wQ.x+1,y:k.wQ.y+1};
this.K(F)};Jk.prototype.p=function(){Jp.prototype.p.call(this);this.eZ.p();this.XT.p();this.XH.p();this.gY.p();
this.KN.p();this.Ky.p();this.QT.p();this.KV.p();if(this.ed)this.IJ(this.ed);var z="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var r=0;r<this.Pp.length;r++){var k=this.Pp[r];k.nd(Y.Uo(z[r]))}};Jk.prototype.IJ=function(z,r){if(z==null)Y.UM(this.bW,"disabled");
else Y.UQ(this.bW,"disabled");this.ed=z;this.$v=r;if(this.tU!=null){this.YU.removeChild(this.tU.YU);
this.tU=null}if(z==null)return;this.tU=new Jj(z.root,this,z,{Ol:0});this.YU.appendChild(this.tU.YU);
if(z.L.length==0){Y.UM(this.Db,"disabled")}else{Y.UQ(this.Db,"disabled");if(z.L.length==1&&z.gB)this.tU.td(z.L);
var k=z.a[z.L[0]];if(k._w()){this.Gk.vX(["Pass Through"].concat(mP._a),[1].concat(mP._E));var L=mP._l.indexOf(k.DD);
this.Gk.h(L+1)}else{this.Gk.vX(mP._a,mP._E);var L=mP._l.indexOf(k.DD);this.Gk.h(L)}this.eZ.h(Math.round(100*k.opacity/255));
this.XT.h([k._b(1),k._b(2),k._b(31)]);this.XH.h(Math.round(100*(k.add.iOpa!=null?k.add.iOpa/255:1)))}};
Jk.prototype.Xo=function(z,r){var k=this.Db.getBoundingClientRect().height,L=r-(k+34);this.YU.style.height=L+"px"};
Jk.prototype.muA=function(z){this.Iy({J:T.Zs,FW:this.Gk.r()})};Jk.prototype.mxx=function(z){this.Iy({J:T.Zt,FW:Math.round(255*this.eZ.r()/100)})};
Jk.prototype.tH=function(z){this.Iy({J:T.Zp,FW:[this.XT.r(),[1,2,31]]})};Jk.prototype.tr=function(z){this.Iy({J:T.Z$,FW:Math.round(255*this.XH.r()/100)})};
Jk.prototype.tL=function(z){this.tn(z.currentTarget,this.QT,this.wz)};Jk.prototype.mlG=function(z){this.tn(z.currentTarget,this.KV,this.dx)};
Jk.prototype.tn=function(z,r,k){var L=z.G.getBoundingClientRect();r.update(this.ed,k);r.parent=this;
var E=new D(Y.E.D,!0);E.data={J:Y.Q.Ut,dF:r,x:L.left,y:L.top,mlL:!0};this.K(E)};Jk.prototype.mcx=function(z){this.Iy({J:T.ZI})};
Jk.prototype.mEc=function(z){this.Iy({J:T.ZF})};Jk.prototype.tI=function(z){this.Iy({J:T.Zg})};Jk.prototype.mQz=function(z){this.Iy({J:T.ZT})};
Jk.prototype.mGU=function(z){this.Iy({J:T.ZR})};Jk.prototype.Iy=function(z){var r=new D(Y.E.q,!0);r.data=z;
r.R=A.T_;this.K(r)};Jk.prototype.mcO=function(){var z=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],r=[this.mGU,this.mlG,this.tL,this.mcx,this.mEc,this.tI,this.mQz];
for(var k=0;k<z.length;k++){var L=new mr("W",!1,z[k]);this.Pp.push(L);L.U("click",r[k],this);this.Xd.appendChild(L.G);
if(k==z.length-1){var E=L.G;E.addEventListener("drop",this.mKX.bind(this),!1);E.addEventListener("dragover",function(F){L.vh()}.bind(this),!1);
E.addEventListener("dragenter",Jj.Rf,!1);E.addEventListener("dragleave",function(F){L.vT()}.bind(this),!1)}}};
Jk.prototype.mKX=function(z){this.Pp[this.Pp.length-1].vT();var r=z.dataTransfer.getData("Text");if(r=="")return;
var r=JSON.parse(r);if(r.BG=="l"){var k={J:T.ZT};if(this.ed.L.indexOf(r.W$)==-1)k.C=r.W$;this.Iy(k)}if(r.BG=="sm"||r.BG=="s"){var L=new D(Y.E.q,!0);
L.R=A.TZ;L.data={J:r.BG=="sm"?"st_clear":"st_delsingle",C:r.W$,W$:r.Ek};this.K(L)}if(r.BG=="fm"||r.BG=="f"){this.Iy({J:r.BG=="fm"?T.Ca:T.CB,C:r.W$,W$:r.Ek})}};
function Jj(z,r,k,L){my.call(this);this.parent=r;this.jR=z;this.os=[];this.G=Y.d("div","layeritem");
this.dp=this.pz.bind(this);this.dl=this.mPg.bind(this);this.KZ=this.mJc.bind(this);var E=z.C,P=15,H=!1;
this.Db=Y.d("div",k.L.indexOf(z.index)!=-1?"head selected":"head");if(z.C.add.artb!=null)Y.UM(this.Db,"artb");
this.Db.setAttribute("style","height: "+(E.rj+10)+"px");this.sk=Y.d("div","headL");this.dK=Y.d("div","headR");
this.Pe=Y.d("div","lpineck");this.YU=Y.d("div","lpibody");this.G.appendChild(this.Db);this.Db.appendChild(this.sk);
this.Db.appendChild(this.dK);if(E._D()||E._Y())if(E._H())this.G.appendChild(this.Pe);var F=this.Db;F.setAttribute("draggable","true");
F.addEventListener("dragstart",this.tb.bind(this),!1);F.addEventListener("drop",this.tD.bind(this),!1);
F.addEventListener("dragover",this.tY.bind(this),!1);F.addEventListener("dragenter",Jj.Rf,!1);F.addEventListener("dragleave",this.ti.bind(this),!1);
this.cw=[];this.QR=[];this.cn=Y.d("div");this.cW=Y.d("div","eye");this.cn.appendChild(this.cW);this.to=Y.d("div","space");
this.aX=Y.d("div","arrow");this.mlY=Y.d("div","folder");this.mlk=Y.d("div","clipp");this.Kn=Y.d("div","thumb");
this.Po=Y.d("div","chain");this.tu=Y.d("div","thumb");this.bu=Y.d("div","chain");this.fl=Y.d("div","thumb");
this.XV=Y.d("div","thumb");this.mF=Y.d("div","label");this.mF.textContent=E.getName();this.mxJ=Y.d("div","link");
this.RD=Y.d("div","lock");this.mxz=Y.d("div","lrfx");this.KX=Y.d("div","arfx");this.Db.addEventListener("click",this.pu.bind(this),!1);
this.Db.addEventListener("contextmenu",this.KZ,!1);this.XV.addEventListener("click",this.pu.bind(this),!1);
this.XV.addEventListener("contextmenu",this.KZ,!1);var U=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],l=E.add.lclr==null?0:U[E.add.lclr];
if(l==0)l=L.Ol;var G=[l>>16,l>>8&255,l&255];for(var g=0;g<3;g++){G[g]=Math.round(.5*G[g]+.5*220)}if(1<Y.Z()&&Y.Z()<1.5)P=P/Y.Z();
this.cn.setAttribute("style","background-color:rgba("+G.join(",")+","+(l==0?0:1)+");");this.cW.setAttribute("style","background-size: "+P+"px "+P+"px;");
var J=this.mKr.bind(this);this.cn.addEventListener("mousedown",J,!1);this.cn.addEventListener("mouseover",J,!1);
this.aX.addEventListener("click",this.mKl.bind(this),!1);this.Po.addEventListener("click",this.mxk.bind(this),!1);
this.bu.addEventListener("click",this.mGD.bind(this),!1);this.mF.addEventListener("click",this.maq.bind(this),!1);
this.KX.addEventListener("click",this.mQd.bind(this),!1);this.cw[0]=this.cn;this.cw[1]=this.to;this.cw[10]=this.mF;
if(E._w()){this.cw[2]=this.aX;this.cw[3]=this.mlY;if(E.add.lsct==mG.ZW){for(var g=z.children.length-1;
g>=0;g--){var x=new Jj(z.children[g],r,k,{Ol:l});this.os.push(x);this.YU.appendChild(x.G)}this.G.appendChild(this.YU)}this.aX.setAttribute("class",E.add.lsct==mG.ZW?"open":"closed")}else{this.cw[5]=this.Kn;
this.Kn.appendChild(E.J_.canvas)}var a=E._F();if(a){this.tu.appendChild(z.C.An.canvas);this.Po.style.opacity=a.YK?1:0}if(E.add.vmsk){this.fl.appendChild(z.C.sr.canvas);
this.bu.style.opacity=E.add.vmsk.YK?1:0}if(E._Y()&&E.ZS(k).k){this.XV.appendChild(z.C.df.canvas)}if(E._D()){this.Pe.addEventListener("contextmenu",this.KZ,!1);
var d=new Jk.pK(zA.get([12,1]),"sm","layerstyle",z.depth,0,null);d.parent=this;this.Pe.appendChild(d.G);
var t=E.add.lmfx,m=t.masterFXSwitch.v;d._i(m);for(var g=0;g<K.order.length;g++){var b=t[K.qo[g]].v;if(b.length==0)continue;
for(var I=0;I<b.length;I++){var d=new Jk.pK(zA.get(K.names[g]),"s","layerstyle",z.depth,1,[g,I]);d._i(m&&b[I].v.enab.v);
d.parent=this;this.Pe.appendChild(d.G)}}}if(E._Y()){var d=new Jk.pK(zA.get([12,55]),"fm",null,z.depth,0,-1,E.ZS(k).k?this.XV:null);
d.parent=this;this.Pe.appendChild(d.G);this.DZ=d.G;this.DZ.addEventListener("contextmenu",this.KZ,!1);
var t=E.add.SoLd.filterFX.v,v=t.filterFXList.v,m=t.enab.v;d._i(m);for(var g=v.length-1;g>=0;g--){var W=v[g].v,B=W.filterID.v,n=h.xA(B);
if(mm.Od[n])n=mm.Od[n];var j=W.Nm.v;if(mJ.names[n])j=zA.get(mJ.names[n]);if(mm.names[n])j=zA.get(mm.names[n]);
var p=JE[n]||JK[n]?"filter_"+n:null,d=new Jk.pK(j,"f",p,z.depth,1,g);d._i(m&&W.enab.v);d.parent=this;
this.Pe.appendChild(d.G)}}if(k.a.indexOf(E)==k.L[0]){if(E.B<=0)this.Kn.setAttribute("class","thumb active");
if(E.B==1)this.tu.setAttribute("class","thumb active");if(E.B==3)this.XV.setAttribute("class","thumb active");
if(E.TV)this.fl.setAttribute("class","thumb active")}this.cn.style.opacity=E._$()?1:.25;this.to.setAttribute("style","width:"+Math.max(0,z.depth-1)*18+"px");
var X=E.add.lspf!=null&&E.add.lspf!=0;this.RD.style.opacity=E._b(31)?1:.5;var M=E._N()&&E.add.vmsk;this.cw[4]=E.YO?this.mlk:null;
this.cw[6]=a?this.Po:null;this.cw[7]=a?this.tu:null;this.cw[8]=E.add.vmsk&&!M?this.bu:null;this.cw[9]=E.add.vmsk&&!M?this.fl:null;
var c=E.YX,S=k.L;if(c!=0)for(var g=0;g<S.length;g++)if(k.a[S[g]].YX==c){H=!0;break}this.QR[0]=H?this.mxJ:null;
this.QR[1]=X?this.RD:null;this.QR[2]=E._D()?this.mxz:null;this.QR[3]=E._D()||E._Y()?this.KX:null;this.KX.setAttribute("class",E._H()?"arfx open  gsicon":"arfx closed  gsicon");
var w=this.cw;for(var g=0;g<w.length;g++)if(w[g])this.sk.appendChild(w[g]);w=this.QR;for(var g=0;g<w.length;
g++)if(w[g])this.dK.appendChild(w[g])}Jj.prototype=new my;Jj.prototype.td=function(z){var r=this.jR.index;
if(z.indexOf(r)!=-1){if(this.G.scrollIntoView)this.G.scrollIntoView({block:"nearest"})}for(var k=0;k<this.os.length;
k++)this.os[k].td(z)};Jj.Rf=function(z){z.stopPropagation();z.preventDefault()};Jj.mMT=function(z){z.stopPropagation()};
Jj.sM=function(z,r){var k=r.getBoundingClientRect();return(z.clientY-k.top)/k.height};Jj.prototype.tb=function(z){z.stopPropagation();
z.dataTransfer.setData("Text",JSON.stringify({BG:"l",W$:this.jR.index}))};Jj.prototype.ti=function(z){Jj.Rf(z);
this.tk()};Jj.prototype.tD=function(z){Jj.Rf(z);this.tk();var r=z.dataTransfer.getData("Text"),k=this.parent.ed,L=Jj.sM(z,this.Db),E=this.jR.index;
if(L>.8){var F=!0,U=k.root.Cy(E);while(U.parent!=null){var l=U.parent,G=l.children;if(G.indexOf(U)!=0)F=!1;
U=U.parent}if(F){E=0;L=1}}if(r==""){Y.Ur(z,this,this.parent.$v.indexOf(k),E+(L>.5?0:1))}else{var r=JSON.parse(r);
if(r.BG=="l")this.Iy({J:T.CJ,source:r.W$,target:E,rO:L>.5});else if(r.BG=="s"||r.BG=="sm")this.Iy({J:T.CP,src:r.W$,gx:E,Ek:r.Ek,ci:z.altKey})}};
Jj.prototype.tY=function(z){Jj.Rf(z);var r=Jj.sM(z,this.Db);this.tk();var k="border-"+(r>.5?"bottom":"top");
if(this.jR.C._w()&&.5<r&&r<.8)k="border";this.Db.style[k]="0.2em solid rgba(0,0,0,0.5)"};Jj.prototype.tk=function(z){this.Db.style.border="none"};
Jj.tj=-1;Jj.tf=!1;Jj.te=function(z){Jj.tf=!1;document.body.removeEventListener("mouseup",Jj.te)};Jj.prototype.mKr=function(z){if(z.button!=0)return;
if(z.type=="mousedown"){Jj.tf=!0;document.body.addEventListener("mouseup",Jj.te,!1)}if(z.type=="mouseover"&&(!Jj.tf||Jj.tj==this.jR.index))return;
z.stopPropagation();z.preventDefault();this.Iy({J:T.ZH,C:this.jR.index});Jj.tj=this.jR.index};Jj.prototype.mKl=function(z){this.Iy({J:T.ZD,C:this.jR.index})};
Jj.prototype.mxk=function(z){this.Iy({J:T.Zv,C:this.jR.index})};Jj.prototype.mGD=function(z){this.Iy({J:T.ZX,C:this.jR.index})};
Jj.prototype.maq=function(z){if(z.detail==1)return;var r=this.jR.C,k=Y.d("input","");k.setAttribute("type","text");
k.setAttribute("size","10");k.setAttribute("value",r.getName());Y.UW(this.mF);this.mF.appendChild(k);
k.select();k.focus();this.Db.setAttribute("draggable","false");this.mF.addEventListener("keyup",this.dp,!1);
document.body.addEventListener("mousedown",this.dl,!1)};Jj.prototype.mPg=function(z){var r=z.target;
if(r.tagName&&r.tagName.toLowerCase()=="input")return;this.pG(!0)};Jj.prototype.pz=function(z){var r=s.VB;
if(r(z.code,s.VZ)||r(z.code,s.VR))this.pG(r(z.code,s.VR))};Jj.prototype.pG=function(confirm){this.mF.removeEventListener("keyup",this.dp);
document.body.removeEventListener("mousedown",this.dl);if(confirm)this.Iy({J:T.CG,C:this.jR.index,name:this.mF.firstChild.value});
else this.mF.innerHTML=this.jR.C.getName()};Jj.prototype.mQd=function(z){this.Iy({J:T.ZY,C:this.jR.index})};
Jj.prototype.mJc=function(z){if(z.button!=2)return;var r=new D("rclick",!0);r.data={C:this.jR.index,B:this.B(z),wQ:Y.U_(z,document.body),mlo:z.currentTarget==this.DZ};
this.K(r)};Jj.prototype.B=function(z){var r=z.target;return r.parentNode==this.fl?2:r.parentNode==this.tu?1:r.parentNode==this.Kn?0:r.parentNode==this.XV?3:-1};
Jj.prototype.pu=function(z){if(z.button!=0)return;var r=z.target;if(r==this.cW||r==this.KX||r==this.Po||r==this.bu||r.tagName&&r.tagName.toLowerCase()=="input")return;
var k=this.B(z);if(z.detail==2){if(r==this.mF)return;var L=this.jR.index,E=this.parent.ed.a[L],F=new D(Y.E.D,!0);
if(k==0&&(mm.get(E.add)||E.add.SoCo||E.add.GdFl||E.add.PtFl))F.data={J:Y.Q.nJ,Hw:"properties"};else if(k!=0&&k!=-1)F.data={J:Y.Q.nJ,Hw:"properties"};
else if(k==0&&E.add.SoLd)F.data={J:Y.Q.Uf};else if(k==0&&E.add.TySh)F.data={J:Y.Q.nK,R:A.TE};else F.data={J:Y.Q.nP,Hw:"layerstyle",C:L};
this.K(F);if(k==0&&E.add.TySh){var U=new D(Y.E.q,!0);U.R=A.TE;U.data={J:"editCurr",gK:L};this.K(U)}return}if((z.ctrlKey||z.metaKey)&&(k==0||k==1)){if(r==this.mF)return;
var U=new D(Y.E.q,!0);U.R=A.hs;U.data={J:"fromlayer",C:this.jR.index,FI:k,Fs:z.shiftKey};this.K(U);return}if(z.altKey){var U=new D(Y.E.q,!0);
U.R=A.T_;U.data={J:T.Ze,C:this.jR.index};this.K(U);return}var l={J:T.Zi,C:this.jR.index,xO:k};this.Iy(l)};
Jj.prototype.Iy=function(z){var r=new D(Y.E.q,!0);r.data=z;r.R=A.T_;this.K(r)};Jk.pK=function(z,r,k,L,E,F,U){my.call(this);
this.DC=r;this.KI=k;this.index=F;this.G=Y.d("div","styleitem");this.Db=Y.d("div","head");this.cn=Y.d("div","eye gsicon");
this.mF=Y.d("div","label");this.G.appendChild(this.Db);this.Db.appendChild(this.cn);if(U){this.tu=U;
this.Db.appendChild(this.tu);this.Db.setAttribute("style","height: "+(U.firstChild.height+10)+"px")}this.Db.appendChild(this.mF);
this.mF.innerHTML=z;this.G.setAttribute("style","margin-left: "+(24+L*16+E*22)+"px");this.cn.addEventListener("click",this.mQl.bind(this),!1);
var l=this.G;l.setAttribute("draggable","true");l.addEventListener("dragstart",this.tb.bind(this),!1);
if(!0){l.addEventListener("drop",this.tD.bind(this),!1);l.addEventListener("dragover",this.tY.bind(this),!1);
l.addEventListener("dragenter",Jj.Rf,!1);l.addEventListener("dragleave",this.ti.bind(this),!1)}this.G.addEventListener("click",this.hw.bind(this),!1)};
Jk.pK.prototype=new my;Jk.pK.prototype.tb=function(z){z.stopPropagation();z.dataTransfer.setData("Text",JSON.stringify({BG:this.DC,W$:this.parent.jR.index,Ek:this.index}))};
Jk.pK.prototype.ti=function(z){Jj.Rf(z);this.tk()};Jk.pK.prototype.tD=function(z){Jj.Rf(z);this.tk();
var r=z.dataTransfer.getData("Text");if(r=="")return;var r=JSON.parse(r);if(r.BG=="f"&&r.W$==this.parent.jR.index)this.parent.Iy({J:T.Cc,C:r.W$,src:r.Ek,gx:this.index+(Jj.sM(z,this.Db)>.5?0:1)});
if(r.BG=="s"||r.BG=="sm")this.parent.Iy({J:T.CP,src:r.W$,gx:this.parent.jR.index,Ek:r.Ek,ci:z.altKey})};
Jk.pK.prototype.tY=function(z){Jj.Rf(z);var r=Jj.sM(z,this.Db)>.5;this.tk();var k="border-"+(r?"bottom":"top");
this.Db.style[k]="0.2em solid rgba(0,0,0,0.5)"};Jk.pK.prototype.tk=function(z){this.Db.style.border="none"};
Jk.pK.prototype._i=function(z){var r=15;if(1<Y.Z()&&Y.Z()<1.5)r=r/Y.Z();this.cn.setAttribute("style","background-size: "+r+"px "+r+"px;");
this.cn.style.opacity=z?1:.2};Jk.pK.prototype.hw=function(z){if(z.target==this.cn)return;if(z.detail!=1&&this.KI!=null){var r=new D(Y.E.D,!0);
if(this.KI.indexOf("filter")==0)r.data={J:Y.Q.nP,Hw:this.KI,jn:{C:this.parent.jR.index,index:this.index}};
else r.data={J:Y.Q.nP,Hw:this.KI,C:this.parent.jR.index,index:this.index};this.K(r)}};Jk.pK.prototype.mQl=function(z){var r={fm:T.CK,f:T.CE,sm:T.Zk,s:T.Zj}[this.DC];
this.parent.Iy({J:r,C:this.parent.jR.index,index:this.index})};function Jf(){Jp.call(this,[9,5]);this.bW.setAttribute("style","min-width:240px;");
this.no=new m$;this.no.parent=this;var z=Y.d("div","marged");this.bW.appendChild(z);z.appendChild(this.no.th.G);
z.appendChild(this.no.xh.G);z.appendChild(this.no.PG.G);z.appendChild(this.no.h$.G);z.appendChild(this.no.hb.G);
z.appendChild(this.no.hd.G);z.appendChild(this.no.Ld.G);this.bW.appendChild(Y.d("hr"));var r=Y.d("div","marged");
this.bW.appendChild(r);r.appendChild(this.no.QC.G);r.appendChild(this.no.Xk.G);r.appendChild(this.no.$R.G);
this.bW.appendChild(Y.d("hr"));var k=Y.d("div","marged");this.bW.appendChild(k);k.appendChild(this.no.$w.G);
k.appendChild(this.no.Xi.G);k.appendChild(this.no.eV.G)}Jf.prototype=new Jp("");Jf.prototype.p=function(){Jp.prototype.p.call(this);
this.no.p()};Jf.prototype.hC=function(z,r){if(r!=zB.yt&&r!=zB.yY&&r!=zB.yD)return;this.no.vI(z)};function Je(){Jp.call(this,[9,2]);
this.FD=null;this.Hb=Y.d("div","padded");this.Hb.style.width="20.4em";this.bW.appendChild(this.Hb);var z=Y.d("span","fitem");
this.Hb.appendChild(z);this.jr=[new mr([0,3]),new mr([12,73])];for(var r=0;r<this.jr.length;r++){var k=this.jr[r];
k.U("click",this.mEv,this);z.appendChild(k.G)}this.Hb.appendChild(Y.d("hr"));this.tE=new Je.pc;this.tE.parent=this;
this._P=new Je.pN;this._P.parent=this;this.Hb.appendChild(this.tE.G)}Je.prototype=new Jp("");Je.prototype.mEv=function(z){var r=this.jr.indexOf(z.currentTarget);
this.px(r);this.pa(r==0?-1:this._P.Xj)};Je.prototype.px=function(z){var r=this.tE.G,k=this._P.G;if(z==1){var L=r;
r=k;k=L}if(k.parentNode==this.Hb)this.Hb.removeChild(k);if(r.parentNode!=this.Hb)this.Hb.appendChild(r);
this.jr[0].vT();this.jr[1].vT();this.jr[z].vh()};Je.prototype.pa=function(z){var r=this.FD.L[0],k=this.FD.a[r],L=z+1;
if(z==1&&k.TV)return;var E=new D(Y.E.q,!0);E.R=A.T_;if(z!=1&&k.TV){E.data={J:T.Zi,C:r,xO:2};this.K(E)}E.data={J:T.Zi,C:r,xO:L};
this.K(E)};Je.prototype.p=function(){Jp.prototype.p.call(this);this.IJ(this.FD);this.jr[0].p();this.jr[1].p();
this.tE.p();this._P.p()};Je.prototype.IJ=function(z){if(z==null||z.L.length==0){Y.UM(this.bW,"disabled");
return}else Y.UQ(this.bW,"disabled");this.FD=z;if(z&&z.a.length>0){var r=z.a[z.L[0]];if(r.B<1&&!r.TV)this.px(0);
else this.px(1)}this.tE.IJ(z);this._P.IJ(z);if(this._P.Xj==-1)this.jr[1].nL();else this.jr[1].nr()};
Je.prototype.hC=function(z,r){this.tE.hC(z,r)};Je.pc=function(){my.call(this);this.G=Y.d("div","form");
this.tq=new mf("Hello");this.G.appendChild(this.tq.G);this.qE=null;this.dw=null;this.FD=null;this.Dd=-1;
this.p_=null;this.cf=new mL(!0);this.cf.parent=this;this.cf.U(Y.E.j,this.pB,this);this.zK=Y.d("div","marged hiline");
this.zK.appendChild(this.cf.G);this.Bu=new JO("GrFl",!0);this.Bu.parent=this;this.Bu.U(Y.E.j,this.pA,this);
this.Iz=Y.d("div","marged hiline");var z="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var r=0;
r<z.length;r++){var k=this.Bu.DE[z[r]].G;this.Iz.appendChild(k)}this.BQ=new JO("patternFill",!0);this.BQ.parent=this;
this.BQ.U(Y.E.j,this.ph,this);this.mS=Y.d("div","marged hiline");var z=["Ptrn","Scl","Algn","phase"];
for(var r=0;r<z.length;r++){var k=this.BQ.DE[z[r]].G;this.mS.appendChild(k)}this.cq={};for(var L in mm.names){if(JK[L]==null)continue;
this.cq[L]=new JK[L];this.cq[L].U(Y.E.j,this.pR,this);this.cq[L].parent=this}};Je.pc.prototype=new my;
Je.pc.prototype.p=function(){for(var z in this.cq)this.cq[z].p();this.Bu.p();this.BQ.p()};Je.pc.prototype.pB=function(z){var r=this.FD,k=r.L[0],L=JSON.parse(JSON.stringify(r.a[k].add.SoCo));
L.Clr.v=this.cf.r();this.pT({YR:1,OF:L})};Je.pc.prototype.pA=function(z){this.pT({YR:2,OF:this.Bu.r()})};
Je.pc.prototype.ph=function(z){this.pT({YR:3,OF:this.BQ.r()})};Je.pc.prototype.pT=function(z){this.pw(A.T_,{J:T.Ch,Ff:[this.FD.L[0]],Fe:!0,u:z})};
Je.pc.prototype.pR=function(z){this.pw(A.Ty,{J:"edit_layer",u:this.dw.r()})};Je.pc.prototype.pw=function(z,r){var k=new D(Y.E.q,!0);
k.R=z;k.data=r;this.K(k)};Je.pc.prototype.IJ=function(z){var r=zA.get([0,3]),k=null;this.FD=z;if(z&&z.a.length>0){var L=z.a[z.L[0]],E=mm.get(L.add);
if(E!=null&&this.cq[E]!=null){k=this.cq[E].G;this.dw=this.cq[E];this.cq[E].h(mm.Ok(L.add));if(z.L[0]!=this.Dd){var F=z.Ce(z.L[0]-1);
this.p_=e.PP(F)}this.cq[E].Xn(this.p_);r=zA.get(mm.names[E])}if(L.add.SoCo){k=this.zK;this.cf.h(L.add.SoCo.Clr.v);
r=zA.get([6,48,0,0])}if(L.add.GdFl){k=this.Iz;this.Bu.update(z,L.add.GdFl);r=zA.get([6,48,0,1])}if(L.add.PtFl){k=this.mS;
this.BQ.update(z,L.add.PtFl);r=zA.get([6,48,0,2])}this.Dd=z.L[0]}if(k!=this.qE){if(this.qE)this.G.removeChild(this.qE);
if(k!=null)this.G.appendChild(k);this.qE=k}this.tq.h(r)};Je.pc.prototype.hC=function(z,r){this.Bu.hC(z,r);
this.BQ.hC(z,r);for(var k in this.cq)this.cq[k].hC(z,r)};Je.pN=function(){my.call(this);this.G=Y.d("div","form");
this.FD=null;this.Xj=0;var z=Y.d("span","fitem");this.G.appendChild(z);this.jr=[new mr([6,2]),new mr([6,3]),new mr([6,50])];
for(var r=0;r<this.jr.length;r++){var k=this.jr[r];k.U("click",this.mEq,this);z.appendChild(k.G)}this.ct=new Jz([12,74],0,255);
this.ct.U(Y.E.j,this.nY,this);this.G.appendChild(this.ct.G);this.c$=new Jz([7,6],0,40,"px",2,!0);this.c$.U(Y.E.j,this.nY,this);
this.G.appendChild(this.c$.G)};Je.pN.prototype=new my;Je.pN.prototype.nY=function(z){var r=this.ct.r(),k=this.c$.r(),L=new D(Y.E.q,!0);
L.R=A.T_;L.data={J:T.Cw,sG:this.FD.L[0],ce:{_W:this.Xj,ct:r,c$:k}};this.K(L)};Je.pN.prototype.p=function(){for(var z=0;
z<this.jr.length;z++)this.jr[z].p();this.ct.p();this.c$.p()};Je.pN.prototype.IJ=function(z){this.FD=z;
this.vC()};Je.pN.prototype.mEq=function(z){this.vC(this.jr.indexOf(z.currentTarget));this.parent.pa(this.Xj)};
Je.pN.prototype.vC=function(z){var r=this.FD,k=this.jr;for(var L=0;L<3;L++){var E=k[L];E.vT();E.nL()}if(r==null||r.a.length==0)return;
var F=-1,U=r.a[r.L[0]];if(U._Y()&&U.ZS(r).k!=null){k[2].nr();F=2}if(U.add.vmsk){k[1].nr();F=1}if(U._F()){k[0].nr();
F=0}if(z!=null)F=z;else if(U.TV)F=1;else if(U.B==3)F=2;else if(U.B==1)F=0;this.Xj=F;if(F==-1){this.ct.nL();
this.c$.nL();return}var l=U.ZP(F);this.ct.nr();this.c$.nr();this.ct.h(l.ct);this.c$.h(l.c$);k[F].vh()};
function Jg(z){Jp.call(this,z.name,!0);this.ed=z;this.eH=null;this.eo=!1;this.ou={x:0,y:0,fe:!1};this.HC=!0;
this.Qv=document.createElement("canvas");this.QI=this.Qv.getContext("2d");this.mi=document.createElement("canvas");
this.l=this.mi.getContext("2d");var r=16,k=e.$(16*16*4);e.Ja(k,r,r,8,0,0);this.Tt=e.scale.Mo(k,r,r);
this.mxN=this.Rm.bind(this);this.Qs=this.RJ.bind(this);this.US=this.RP.bind(this);this.Qz=0;var L=this.bW;
Y.UA(L,this.mxN);Y.Uh(L,this.Qs);L.addEventListener("wheel",this.nj.bind(this),!1);L.addEventListener("contextmenu",this.mEO.bind(this),!1);
this.fP=0;this.zx=4;Y.Uy(L)}Jg.prototype=new Jp("");Jg.prototype.sj=function(){if(this.ed.qB())return window.confirm("There is unsaved work in "+this.ed.name+". Do you really want to close it?");
return!0};Jg.prototype.UC=function(z){z.preventDefault()};Jg.prototype.Rm=function(z){if(z.button!=null&&z.button!=0)return;
this.eo=!0;var r=new D("mouse",!0);r.action="down";this.pO(z,r);this.K(r);Y.Uw(this.bW,this.Qs);Y.Uh(window,this.Qs);
Y.UT(window,this.US)};Jg.prototype.RJ=function(z){var r=new D("mouse",!0);r.action="move";this.pO(z,r);
this.K(r)};Jg.prototype.RP=function(z){this.eo=!1;var r=new D("mouse",!0);r.action="up";this.pO(z,r);
this.K(r);Y.Uw(window,this.Qs);Y.UN(window,this.US);Y.Uh(this.bW,this.Qs)};Jg.prototype.nj=function(z){if(z.deltaX==0&&z.deltaY==0||Date.now()-this.Qz<50)return;
this.UC(z);this.Qz=Date.now();var r=new D("mouse",!0);r.action="scroll";this.pO(z,r);this.K(r)};Jg.prototype.mEO=function(z){z.stopPropagation();
z.preventDefault();var r=new D("mouse",!0);r.action="ctx";this.pO(z,r);this.K(r)};Jg.prototype.pO=function(z,r){if(r.action!="up"){var k=Y.Z(),L=Y.U_(z,this.bW);
this.ou=r.FE={x:k*L.x,y:k*L.y,fe:this.eo};var E=Y.U_(z,document.body);r.FE.FM=E.x;r.FE.FQ=E.y}else this.ou=r.FE={x:this.ou.x,y:this.ou.y,fe:this.eo};
r.FE.fR=1;if(z.pressure!=null&&z.pressure!=0)r.FE.fR=z.pressure*2;if(z.deltaX!=null){r.et=new V(z.deltaX*.5,z.deltaY*.5)}};
Jg.prototype.hC=function(z,r){this.eH=z};Jg.prototype.IJ=function(z){this.sY();this.mEx(z.name+(z.qB()?" *":""));
this.Xv()};Jg.prototype.Xo=function(z,r){var k=this.ed,L=Y.Z();k.t.l.X=Math.floor(z*L);k.t.l.z=Math.floor(r*L);
Y.UV(this.mi,z,r);Y.UV(this.Qv,z,r);Y.UV(o.Ke(),z,r);if(k.t.o==0)k.t.o=A.we.wF(k.X,k.z,z*L,r*L);this.HC=!0;
this.Xv()};Jg.prototype.sY=function(){var z=this.bW.firstChild;if(!o.KH&&z==o.Ke()||o.KH&&z==this.mi)this.bW.removeChild(z);
this.bW.appendChild(o.KH?o.Ke():this.mi)};Jg.prototype.Xv=function(){if(o.KH!=this.zx){this.fP=0;this.HC=!0}this.zx=o.KH;
if(this.eH==null)return;if(o.KH)this.mxA();else this.mKL();var z=this.ed;this.fP=z.t.o;this.HC=!1};Jg.prototype.mxA=function(){if(o.KH&&Jg.LF==null)Jg.LF=new Jg.Ew(!1);
if(o.KH&&Jg.TA==null)Jg.TA=new Jg.Ew(!0);var z=this.ed,l;if(z.Bz==null)return;var r=z.t,k=r.l.X,L=r.l.z,E=o.MZ;
this.l.clearRect(0,0,r.l.X,r.l.z);var F=this.po(z,this.l,r);if(z.i)this.pq();if(r.ul==null)r.ul=new o.Ph(r.l.X,r.l.z);
if(z.i!=null||F)r.ul.set(this.mi);else{o.Kg(r.ul);o.Jy(0)}var U=new Z(0,0,z.X*r.o,z.z*r.o);U.x=Math.round((k-z.X*r.o)/2+r.V.x);
U.y=Math.round((L-z.z*r.o)/2+r.V.y);var G=[0,0,0,0],g=[];if(z.add.artd){G=Jg.pZ(z);var P=z.X,J=z.z;l=Jg.TA;
for(var x=0;x<z.a.length;x++){var a=z.a[x];if(a.add.artb==null||!a._$())continue;var d=a._f();g.push(d.x/P,d.y/J,d.X/P,d.z/J)}if(g.length>32*4)g=g.slice(0,32*4);
while(g.length<32*4)g.push(0,0,0,0)}else l=Jg.LF;o.KF(k,L);o.Jy(0);o.KF(k,L);l.EW();l.EG(r.ul.DI,z.Bz.DI,new Float32Array([U.x/k,U.y/L,U.X/k,U.z/L]),new Float32Array([8/k,8/L]),z.X,z.z,1/z.t.o,k,L,new Float32Array(g),new Float32Array(G));
E.drawArrays(E.TRIANGLES,0,6)};Jg.pZ=function(z){var r=z.add.artd;if(r.canvasColor==null)return[0,0,0,0];
var k=r.canvasColor.v,L=[k.Rd.v/255,k.Grn.v/255,k.Bl.v/255,1];for(var E=0;E<4;E++)L[E]=Math.min(1,L[E]);
return L};Jg.prototype.mKL=function(){var z=this.ed;if(z.buffer==null)return;var r=z.t,k=r.l.X,L=r.l.z;
this.QI.clearRect(0,0,r.l.X,r.l.z);if(z.add.artd==null){this.l.clearRect(0,0,r.l.X,r.l.z)}else{var E=Jg.pZ(z);
this.l.fillStyle="#"+e.mk(E[0]*255<<16|E[1]*255<<8|E[2]*255);this.l.fillRect(0,0,r.l.X,r.l.z)}var F=r.qC(),U=r.l.Mk(F);
this.l.save();this.l.translate(F.x,F.y);if(z.add.artd==null){this.l.fillStyle=this.Tt;this.l.fillRect(0,0,F.X,F.z)}else{this.l.fillStyle="#ffffff";
this.l.scale(r.o,r.o);for(var l=0;l<z.a.length;l++){var G=z.a[l];if(G.add.artb==null||!G._$())continue;
var g=G._f();this.l.fillRect(g.x,g.y,g.X,g.z)}}this.l.restore();var P=z.X!=r.jw.X||z.z!=r.jw.z;if(P)r.jw.Ep(0,0,z.X,z.z);
if(r.o<=1){if(r.o!=this.fP||z.jC){if(r.o!=this.fP||r.Jc==null||P)r.Jc=this.l.createImageData(Math.max(1,F.X),Math.max(1,F.z));
if(r.o<1){var J=e.Jt(z.buffer,new Z(0,0,z.X,z.z),r.o,new Uint8Array(r.Jc.data.buffer))}else e.JZ(z.buffer,r.Jc.data)}this.QI.putImageData(r.Jc,F.x,F.y);
this.l.drawImage(this.Qv,U.x,U.y,U.X,U.z,U.x,U.y,U.X,U.z)}else{var x=r.qq(),a=new Z(0,0,x.X*r.o,x.z*r.o);
a.x=x.x*r.o+F.x;a.y=x.y*r.o+F.y;if(r.o!=this.fP||this.HC){r.Pn=e.$(x.Y()*4);r.Jc=this.l.createImageData(a.X,a.z)}e.set(r.Pn,0);
e.Jb(this.ed.buffer,new Z(0,0,z.X,z.z),r.Pn,x);e.scale.Mv(r.Pn,x.X,x.z,r.Jc.data,a.X,a.z,r.o);this.QI.putImageData(r.Jc,a.x,a.y);
this.l.drawImage(this.Qv,0,0)}this.po(z,this.l,r);if(z.i)this.pq()};Jg.prototype.pq=function(){var z=this.ed,r=z.t,k=r.qC(),L=r.qq(),E=0,F=0;
if(r.o<=1){var U=z.i.rect.clone();U.x=Math.round(U.x*r.o);U.y=Math.round(U.y*r.o);U.X=Math.floor(U.X*r.o);
U.z=Math.floor(U.z*r.o);var l=z.i.channel;if(r.o<1){var G=e.$(z.i.rect.Y()*4);e.JN(z.i.channel,G,3);
var g=e.Jt(G,z.i.rect,r.o);U.X=g.rect.X;U.z=g.rect.z;if(r.Gz==null||r.Gz.length<U.Y())r.Gz=e.$(U.Y());
l=r.Gz;e.Jw(g.bT,l,3)}if(r.cd==null||r.cd.width!=U.X||r.cd.height!=U.z)r.cd=this.l.createImageData(Math.max(1,U.X),Math.max(1,U.z));
else e.JV(r.cd.data,0);E=Math.round(k.x+U.x);F=Math.round(k.y+U.y);e.i.Md(l,r.cd.data,U,o.KH?65535:16777215,Math.max(-E,0),Math.max(-F,0),Math.min(r.l.X-E,U.X),Math.min(r.l.z-F,U.z));
this.QI.clearRect(0,0,r.l.X,r.l.z)}else{var P=new Z(0,0,L.X*r.o,L.z*r.o),J=P.Y();E=L.x*r.o+k.x;F=L.y*r.o+k.y;
if(r.o!=this.fP||r.cd==null||r.cd.width!=P.X||r.cd.height!=P.z){r.Gz=e.$(J);r.cd=this.l.createImageData(P.X,P.z)}var x=e.$(L.Y());
e.Jp(z.i.channel,z.i.rect,x,L);e.scale.Mn(x,L.X,L.z,r.Gz,P.X,P.z,r.o);e.JV(r.cd.data,0);e.i.Md(r.Gz,r.cd.data,P,o.KH?65535:16777215)}this.QI.putImageData(r.cd,E,F);
this.l.drawImage(this.Qv,0,0)};Jg.prototype.po=function(z,r,k){var L=z.w.gV||z.w.eq||z.w.eS,E=k.qC(),F=new zT(k.o,0,0,k.o,E.x+.5,E.y+.5),U=mN.n_[this.eH.Q_];
r.fillStyle="#333300";r.font=12*Y.Z()+"px sans-serif";if(z.add.artd)for(var l=0;l<z.a.length;l++){var G=z.a[l];
if(G.add.artb==null||!G._$())continue;var g=G._f(),P=new V(g.x,g.y);P=F.Ef(P);r.fillText(G.getName(),Math.round(P.x),Math.round(P.y-6));
L=!0}r.fillStyle=o.KH?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";r.strokeStyle=o.KH?"#0000ff":"#000000";for(var J=0;
J<z.L.length;J++){var G=z.a[z.L[J]];if(!(G.add.vmsk&&(G.TV||G._N())))continue;var x=G.add.vmsk,a=x.A;
r.lineWidth=.5;if(this.eH.gF._z){r.beginPath();var d=e.b.Wk(a);e.b.Wg(d.O,F,d.O);Typr.U.pathToContext({cmds:d.be,crds:d.O},r);
r.stroke();L=!0}if(z.L.length!=1)continue;var t=-1,m=Math.round(3*Y.Z());for(var l=0;l<a.length;l++){if(a[l].type>5)continue;
if(a[l].type==0||a[l].type==3){if(a[l].bF!=-1)t++;continue}if(x.L.indexOf(t)!=-1){var b=E.x+a[l].W.x*k.o,I=E.y+a[l].W.y*k.o;
r.fillRect(Math.round(b-m+.5),Math.round(I-m+.5),2*m-1,2*m-1)}if(x.Fg.indexOf(l)!=-1){var v=[a[l].W];
r.beginPath();r.moveTo(E.x+a[l].im.x*k.o,E.y+a[l].im.y*k.o);r.lineTo(E.x+a[l].W.x*k.o,E.y+a[l].W.y*k.o);
r.lineTo(E.x+a[l].iP.x*k.o,E.y+a[l].iP.y*k.o);r.stroke();if(!a[l].W.Jq(a[l].im))v.push(a[l].im);if(!a[l].W.Jq(a[l].iP))v.push(a[l].iP);
for(var W=0;W<v.length;W++){var B=v[W],b=E.x+B.x*k.o,I=E.y+B.y*k.o;if(W==0&&(a[l].type==2||a[l].type==5))r.fillRect(Math.round(b-1.2*m),Math.round(I-1.2*m),Math.round(2.4*m),Math.round(2.4*m));
else{r.beginPath();r.arc(b,I,m*1.2,0,2*Math.PI);r.fill()}}}L=!0}}r.lineWidth=1;if(z.w.gV){r.beginPath();
var d=e.b.clone(z.w.gV);e.b.Wg(d.O,F,d.O);Typr.U.pathToContext({cmds:d.be,crds:d.O},r);r.fill()}if(z.w.eq){r.beginPath();
var d=e.b.clone(z.w.eq);e.b.Wg(d.O,F,d.O);Typr.U.pathToContext({cmds:d.be,crds:d.O},r);r.stroke()}r.beginPath();
var m=4*Y.Z(),n=z.w.eX;for(var l=0;l<n.length;l+=2){L=!0;var b=E.x+n[l]*k.o,I=E.y+n[l+1]*k.o;r.rect(b-m+.5,I-m+.5,2*m-1,2*m-1)}r.stroke();
r.beginPath();var m=4*Y.Z(),n=z.w.mJg;for(var l=0;l<n.length;l+=2){L=!0;var b=E.x+n[l]*k.o,I=E.y+n[l+1]*k.o;
r.moveTo(b+m-.5,I);r.arc(b,I,m-.5,0,2*Math.PI)}r.fill();if(z.w.gb){L=!0;var j=z.w.gb,p=j.FG,d={be:[],O:[]};
for(var l=0;l<j.Fz.length;l++)e.b.concat(d,e.b.MJ(j.Fz[l]));d.O=d.O.concat(p);for(var l=0;l<p.length;
l+=4)d.be.push("M","L");r.beginPath();r.strokeStyle=o.KH?"#dd3300":"#dd3333";e.b.Wg(d.O,F,d.O);Typr.U.pathToContext({cmds:d.be,crds:d.O},r);
r.stroke();var X=Y.Z();r.font=Math.round(12*X)+"px sans-serif";for(var l=0;l<p.length;l+=4){var b=p[l],I=p[l+1],M=p[l+2],H=p[l+3],c=Math.sqrt((H-I)*(H-I)+(M-b)*(M-b))+"",S=new V((b+M)/2,(I+H)/2);
S=F.Ef(S);r.fillStyle=o.KH?"#dd3300":"#dd3333";var w=r.measureText(c),R=w.width;r.fillRect(S.x-R/2-2.5*X,S.y-7.5*X,R+5*X,15*X);
r.fillStyle=o.KH?"#ffff00":"#ffffff";r.fillText(c,S.x-R/2,S.y+4*X)}}if(this.eH.FK){r.lineWidth=1;var i=this.eH.gF;
if(i.Fy){this.mY(z,E,r,i.FN,"#808000");L=!0}if(i.tl&&z.t.o>7){this.mY(z,E,r,1,"rgba(128,128,0,0.5)");
L=!0}if(i.YI){r.beginPath();r.strokeStyle=o.KH?"#00ff00":"#00ffff";for(var l=0;l<z.YI[0].length;l++){var f=Math.round(z.t.qZ(z.YI[0][l],0).x)+.5;
r.moveTo(f,0);r.lineTo(f,z.t.l.z)}for(var l=0;l<z.YI[1].length;l++){var _=Math.round(z.t.qZ(0,z.YI[1][l]).y)+.5;
r.moveTo(0,_);r.lineTo(z.t.l.X,_)}r.closePath();r.stroke()}}r.strokeStyle=o.KH?"#ff0000":"#ff00ff";if(z.w.eS){r.beginPath();
var d=e.b.clone(z.w.eS);e.b.Wg(d.O,F,d.O);Typr.U.pathToContext({cmds:d.be,crds:d.O},r);r.stroke()}if(this.eH.Fu){var u=window.getComputedStyle(document.body);
if(z.t.iE==null||z.t.iE.width!=z.t.l.X||z.t.il.height!=z.t.l.z){z.t.iE=r.createImageData(z.t.l.X,e.MB.MA);
z.t.il=r.createImageData(e.MB.MA,z.t.l.z)}var U=mN.n_[this.eH.Q_],k=z.t,Q=k.o*z.X/2,$=k.o*z.z/2,C=[1,z.bx,z.bx/2.54,z.bx/25.4][this.eH.gF.gg],y=k.o,N=k.V.clone();
k.o*=C;k.V.x+=Q*C-Q;k.V.y+=$*C-$;e.MB.mBl(k,U["--text-color"],U["--bg-input"]);k.o=y;k.V=N;if(o.KH){e.JV(z.t.il.data,0,4278255615);
e.JV(z.t.iE.data,0,4278255615)}r.putImageData(z.t.il,0,0);r.putImageData(z.t.iE,0,0);r.fillStyle="#000000"}return L||this.eH.Fu||z.YI[0].length+z.YI[1].length>0};
Jg.prototype.mY=function(z,r,k,L,E){while(L*z.t.o<4)L*=2;var F=r.x,U=F+r.X,l=r.y,G=l+r.z;k.beginPath();
k.strokeStyle=E;for(var g=0;g<=z.X;g+=L){var P=Math.round(z.t.qZ(g,0).x)+.5;k.moveTo(P,l);k.lineTo(P,G)}for(var J=0;
J<=z.z;J+=L){var x=Math.round(z.t.qZ(0,J).y)+.5;k.moveTo(F,x);k.lineTo(U,x)}k.closePath();k.stroke()};
Jg.Ew=function(z){o.EJ.call(this);this.mxo=z;var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\t"+(z?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+o.EE.Eh+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); "+(z?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",k="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.UG(r,k)};Jg.Ew.prototype=new o.EJ;Jg.Ew.prototype.EG=function(z,r,k,L,E,F,U,l,G,g,P){this.Ez("srct gsize source target imgSizeZoom cnvSize ars bgClr".split(" "));
var J=o.MZ,x=this.OQ;J.uniform4fv(x.srct,k);J.uniform2fv(x.gsize,L);J.uniform3f(x.imgSizeZoom,E,F,U);
J.uniform2f(x.cnvSize,l,G);J.uniform4fv(x.bgClr,P);if(this.mxo)J.uniform4fv(x.ars,g);J.uniform1i(x.source,0);
J.uniform1i(x.target,1);J.activeTexture(J.TEXTURE0);J.bindTexture(J.TEXTURE_2D,z);J.activeTexture(J.TEXTURE1);
J.bindTexture(J.TEXTURE_2D,r);J.activeTexture(J.TEXTURE0)};function JF(){Jp.call(this,[9,7]);this.bW.setAttribute("style","min-width:240px;");
this.FD=null;this.$T=-1;this.mxL=[];this.YU=Y.d("div","scrollable");this.YU.style.height="160px";this.bW.appendChild(this.YU);
this.Xd=Y.d("div","lpfoot");this.bW.appendChild(this.Xd);this.oQ=[];var z=["reload","lrs/newlayer","lrs/bin"],r=["Update Layer Comp","New Layer Comp","Delete Layer Comp"];
for(var k=0;k<z.length;k++){var L=new mr("<img src=\""+PIMG[z[k]]+"\" class=\"gsicon\" />",!1,r[k]);
L.U("click",this.mup,this);this.Xd.appendChild(L.G);this.oQ.push(L)}}JF.prototype=new Jp("");JF.prototype.Iy=function(z){var r=new D(Y.E.q,!0);
r.data=z;r.R=A.Tq;this.K(r)};JF.prototype.mup=function(z){var r=this.oQ.indexOf(z.currentTarget);if(r!=1)if(this.$T==-1)return;
this.Iy({J:["updLC","addLC","delLC"][r],HD:this.$T});if(r==2)this.$T=-1};JF.prototype.IJ=function(z){if(z==null)Y.UM(this.bW,"disabled");
else Y.UQ(this.bW,"disabled");this.FD=z;Y.UW(this.YU);if(z==null)return;var r=z.Ys.lastAppliedComp?z.Ys.lastAppliedComp.v:0,k=z.Ys.list.v.slice(0);
k.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var L=0;L<k.length;
L++){var E=k[L].v,F=new PS(E.Nm.v,E.compID.v,E.capturedInfo.v,r,this.$T);F.U("activate",this.pL,this);
F.parent=this;this.YU.appendChild(F.G);this.mxL.push(F)}};JF.prototype.pL=function(z){this.$T=z.currentTarget.HD;
this.IJ(this.FD)};function PS(z,r,k,L,E){my.call(this);this.HD=r;this.G=Y.d("div","head listitem"+(r==E?" selected":""));
var F=r==L,U=new mr("<b>"+(F?"\u2713":"\u2014")+"</b>");if(F)U.vh();this.G.appendChild(U.G);U.U("click",this.yT,this);
var l=this.PW=Y.d("span");l.textContent=z;this.G.appendChild(l);this.oQ=[];if(r!=0){this.G.addEventListener("mouseup",this.pL.bind(this),!1);
this.pn=Y.d("span","headR");this.G.appendChild(this.pn);var G=["lrs/eye","pos","lrs/fx"],g=["Visibility","Position","Appearance"];
for(var P=0;P<G.length;P++){var J=new mr("<img src=\""+PIMG[G[P]]+"\" class=\"autoscale gsicon\" />",!1,g[P]);
if((k>>P&1)==0)J.G.setAttribute("style","opacity:0.3");J.U("click",this.mQy,this);this.pn.appendChild(J.G);
this.oQ.push(J)}}}PS.prototype=new my;PS.prototype.pL=function(z){if(z.target!=this.PW&&z.target!=this.G)return;
if(z.detail==1)this.K(new D("activate",!1));else{var r=Y.d("input","");r.setAttribute("type","text");
r.setAttribute("size","10");r.setAttribute("value",this.PW.textContent);this.G.removeChild(this.PW);
this.G.appendChild(r);r.select();r.focus();r.addEventListener("keyup",this.pz.bind(this),!1)}};PS.prototype.mQy=function(z){var r=this.oQ.indexOf(z.currentTarget);
this.Iy({J:"editLC",HJ:r,HD:this.HD})};PS.prototype.pz=function(z){if(s.VB(z.code,s.VZ))this.K(new D("activate",!1));
if(s.VB(z.code,s.VR))this.Iy({J:"editLC",$K:z.target.value,HD:this.HD})};PS.prototype.yT=function(z){this.Iy({J:"setLC",HD:this.HD})};
PS.prototype.Iy=function(z){var r=new D(Y.E.q,!0);r.data=z;r.R=A.Tq;this.K(r)};function Pm(z){Jp.call(this,z.name,!1,z.icon);
var r=Y.d("iframe","padded");r.setAttribute("src",z.url);r.setAttribute("style","width:"+z.width+"px; height:"+z.height+"px");
this.bW.appendChild(r)}Pm.prototype=new Jp("");function PJ(){my.call(this);this.R=0;this.jb=null;this.G=Y.d("div","toolconf");
this.cU=Y.d("div");this.G.appendChild(this.cU);this.body=new Y.d("div","body");this.G.appendChild(this.body)}PJ.prototype=new my;
PJ.prototype.mxU=function(z,r){this.R=z;this.jb=r;this.cU.innerHTML="<img src=\""+PIMG[r]+"\" class=\"toolicon gsicon\" />"};
PJ.prototype.hC=function(z,r){};PJ.prototype.pv=function(z){};PJ.prototype.p=function(){this.cU.innerHTML=Y.Uo(this.jb,null,"toolicon");
this.pX()};PJ.prototype.pX=function(){};function PP(z){PJ.call(this);if(z==null)return;this.vA={};for(var r=0;
r<z.length;r++){var k=z[r],L=null;if(k=="brush"){L=new mo}if(k=="bmode"){L=new mp([12,19],mP._a,!1,mP._E)}if(k=="opacity"){L=new mg([12,0],0,100,"%");
L.h(100)}if(k=="flow"){L=new mg([12,63],0,100,"%");L.h(100)}if(k=="smth"){L=new mg([19,3,0],0,100,"%");
L.h(0)}if(k=="wconf"){L=new JG}if(k=="strn"){L=new mg([12,64],1,100,"%");L.h(50)}if(k=="smode"){L=new mp([12,36],[[19,7,0],[19,7,1]]);
L.h(1)}if(k=="pdetail"){L=new mi([12,65]);L.vh()}if(k=="rng"){L=new mp([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
L.h(1)}if(k=="expo"){L=new mg([12,5],0,100,"%");L.h(50)}if(k=="algnd"){L=new mi([12,75]);L.h(!1)}if(k=="sfrom"){L=new mp([12,70],[[17,1],[17,3],[17,0]])}if(k=="qsmode"){L=new mt([12,36],[[5,3],[18,1],[18,2]])}if(k=="redge"){L=new mr([7,11],!1,null,!0)}if(k=="setop"){L=new JJ}if(k=="patch"){L=new mt("Drag to choose",[[12,70],[12,71]])}L.parent=this;
this.body.appendChild(L.G);this.vA[k]=L;if(k=="brush")L.U(Y.E.j,this.mGq,this);else if(k=="redge")L.U("click",this.pI,this);
else L.U(Y.E.j,this.pt,this)}}PP.prototype=new PJ;PP.prototype.pI=function(){var z=new D(Y.E.D,!0);z.data={J:Y.Q.nP,Hw:"redge"};
this.K(z)};PP.prototype.pX=function(){for(var z in this.vA)this.vA[z].p()};PP.prototype.pv=function(z){for(var r in z.fQ){var k=z.fQ[r];
if(r!="qsmode")k*=100;if(this.vA[r])this.vA[r].h(k)}};PP.prototype.hC=function(z,r){var k=this.vA.brush;
if(k==null)return;if(r==zB.he)k.vM(z.fu);if(r==zB.yf){k.h(z.fu.fE,z.fu.Yd,z.fu.YH)}};PP.prototype.mGq=function(){var z=new D(Y.E.D,!0);
z.data={J:Y.Q.na,Hq:zB.yf,op:this.vA.brush.r()};this.K(z)};PP.prototype.pt=function(){var z=new D(Y.E.D,!0);
z.data={J:Y.Q.nl,R:this.R};for(var r in this.vA){if(r=="brush"||r=="redge")continue;z.data[r]=this.vA[r].r();
if(["opacity","flow","smth","strn","expo"].indexOf(r)!=-1)z.data[r]/=100;if(r=="bmode")z.data[r]=mP._l[z.data[r]]}this.K(z)};
function Pz(){PJ.call(this);this.data={J:Y.Q.nl,fI:"front",YC:0,FV:{jk:!0,jY:10},fs:{KQ:0,x:1,y:1}};
this.XF=new JJ;this.body.appendChild(this.XF.G);this.XF.U(Y.E.j,this.nD,this);this.MW=new mg([7,6],0,100," px");
this.MW.parent=this;this.MW.h(0);this.body.appendChild(this.MW.G);this.MW.U(Y.E.j,this.nD,this);this.tT=new mr([7,11],!1,null,!0);
this.body.appendChild(this.tT.G);this.tT.U("click",this.pI,this)}Pz.prototype=new PJ;Pz.prototype.pv=function(z){this.XF.h(z.fI)};
Pz.prototype.pX=function(){this.MW.p();this.XF.p();this.tT.p()};Pz.prototype.pI=function(){var z=new D(Y.E.D,!0);
z.data={J:Y.Q.nP,Hw:"redge"};this.K(z)};Pz.prototype.nD=function(){var z=new D(Y.E.D,!0);this.data.R=this.R;
this.data.fI=this.XF.r();this.data.YC=this.MW.r();z.data=this.data;this.K(z)};function PG(){PP.call(this,["brush","strn"])}PG.prototype=new PP;
function PW(){PP.call(this,["brush","bmode","opacity","flow","smth"])}PW.prototype=new PP;function PM(){PP.call(this,["brush","bmode","opacity","flow","smth"])}PM.prototype=new PP;
function PQ(){PP.call(this,["brush","rng","expo"])}PQ.prototype=new PP;function Pu(){PP.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}Pu.prototype=new PP;
function PK(){PJ.call(this);var z=Y.d("span","fitem");this.body.appendChild(z);var r=[[17,0],[17,1],[11,12],[17,2]];
this.jr=[];for(var k=0;k<r.length;k++){var L=new mr(r[k],!1,null,!0);this.jr.push(L);L.vh();L.U("click",this.maz,this);
z.appendChild(L.G)}this.fs=new mj;this.fs.U(Y.E.j,this.mGm,this);this.body.appendChild(this.fs.G);this.AO=new Ju;
this.AO.U("click",this.XL,this)}PK.prototype=new PJ;PK.prototype.pX=function(){this.AO.p();for(var z=0;
z<this.jr.length;z++)this.jr[z].p();this.fs.p()};PK.prototype.pv=function(z){var r=this.AO.G;if(z.el)this.body.appendChild(r);
else if(this.body.contains(r))this.body.removeChild(r)};PK.prototype.XL=function(z){var r={J:Y.Q.nl,R:this.R,ey:this.AO.r()?"commit":"cancel"},k=new D(Y.E.D,!0);
k.data=r;this.K(k)};PK.prototype.maz=function(z){z.target.G.blur();var r={J:Y.Q.nl,R:this.R,ey:"cropby",mWN:this.jr.indexOf(z.target)},k=new D(Y.E.D,!0);
k.data=r;this.K(k)};PK.prototype.mGm=function(z){var r={J:Y.Q.nl,R:this.R,ey:"config",eQ:{eu:this.fs.r()}},k=new D(Y.E.D,!0);
k.data=r;this.K(k)};function PE(){PP.call(this,["brush","rng","expo"])}PE.prototype=new PP;function Pl(){PP.call(this,["brush","opacity","flow","smth"])}Pl.prototype=new PP;
function Px(){Pz.call(this,A.ht);this.fs=new mj;this.fs.U(Y.E.j,this.pd,this);this.body.appendChild(this.fs.G)}Px.prototype=new Pz;
Px.prototype.pd=function(z){this.data.fs=this.fs.r();this.nD()};Px.prototype.pX=function(){Pz.prototype.pX.call(this);
this.fs.p()};function Pa(){PJ.call(this);this.PZ=new mp("...",["1x1","3x3","5x5","11x11","31x31"]);this.PZ.U(Y.E.j,this.pt,this);
this.body.appendChild(this.PZ.G)}Pa.prototype=new PJ;Pa.prototype.pt=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.nl,R:this.R,er:[1,3,5,11,31][this.PZ.r()]};this.K(r)};Pa.prototype.pX=function(){this.PZ.nd(zA.get([12,20])+": ")};
function Pc(){PJ.call(this);this.GR=new mH(!1);this.GR.parent=this;this.GR.U(Y.E.j,this.nY,this);this.body.appendChild(this.GR.G);
this.GR.h(JSON.parse(K.qv.qI).v);this.Eb=new mp(null,K.v.names.slice(0,5));this.Eb.U(Y.E.j,this.nY,this);
this.body.appendChild(this.Eb.G);this.Px=new mp([12,19],mP._a,null,mP._E);this.Px.U(Y.E.j,this.nY,this);
this.body.appendChild(this.Px.G);this.VD=new mg([12,0],0,100,"%");this.VD.parent=this;this.VD.U(Y.E.j,this.nY,this);
this.body.appendChild(this.VD.G);this.VD.h(100);this.qb=new mi([12,23]);this.qb.U(Y.E.j,this.nY,this);
this.body.appendChild(this.qb.G)}Pc.prototype=new PJ;Pc.prototype.pX=function(){this.Eb.p();this.Px.p();
this.VD.p();this.qb.p()};Pc.prototype.hC=function(z,r){var k=r==zB.yg;this.GR.XP(z.fh,z.fT);if(k||r==zB.yp)this.GR.vM(z.$x)};
Pc.prototype.nY=function(){var z=new D(Y.E.D,!0);z.data={J:Y.Q.nl,R:this.R};z.data.Hq={v:this.GR.r(),style:K.v.types[this.Eb.r()],reverse:this.qb.vR(),eU:mP._l[this.Px.r()],opacity:this.VD.r()/100};
this.K(z)};function PB(){PJ.call(this)}PB.prototype=new PJ;function PA(){PP.call(this,["brush","algnd","sfrom"])}PA.prototype=new PP;
function Ph(){PJ.call(this);this.no=new m$;this.no.parent=this;this.body.appendChild(this.no.mT.G);this.body.appendChild(this.no.tQ.G);
this.body.appendChild(this.no.GM.G);var z=Y.d("span","fitem");this.body.appendChild(z);z.appendChild(this.no.th.G);
z.appendChild(this.no.xh.G);z.appendChild(this.no.PG.G);this.OK=new mr([11,9],!1,null,!0);this.OK.U("click",this.mPH,this);
this.body.appendChild(this.OK.G);this.AO=new Ju;this.AO.U("click",this.XL,this)}Ph.prototype=new PJ;
Ph.prototype.pX=function(){this.AO.p();this.no.p();this.OK.p()};Ph.prototype.mPH=function(z){var r={J:Y.Q.nl,R:this.R,ey:"showwarp"},k=new D(Y.E.D,!0);
k.data=r;this.K(k)};Ph.prototype.pv=function(z){if(z.ey=="showactive")this.body.appendChild(this.AO.G);
if(z.ey=="hideactive")this.body.removeChild(this.AO.G)};Ph.prototype.hC=function(z,r){if(r!=zB.yt&&r!=zB.yY&&r!=zB.yD&&r!=zB.ye)return;
this.no.vI(z)};Ph.prototype.XL=function(z){var r={J:Y.Q.nl,R:this.R,ey:this.AO.r()?"commit":"cancel"},k=new D(Y.E.D,!0);
k.data=r;this.K(k)};function PT(){Pz.call(this)}PT.prototype=new Pz;function PR(){PJ.call(this);var z=[],k="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.QF=new mi([12,85]);this.QF.U(Y.E.j,this.pt,this);z.push(this.QF.G);this.uJ=new mi([20,1]);this.uJ.U(Y.E.j,this.pt,this);
z.push(this.uJ.G);this.IP=new mi([12,83]);this.IP.U(Y.E.j,this.pt,this);z.push(this.IP.G);var r=Y.d("span","fitem");
z.push(r);this.pS=new mp("Scale Output",["1x","2x","3x","4x"],!0);r.appendChild(this.pS.G);this.oJ=new mr(k+" PNG",!1,null,!0);
this.oJ.vh();r.appendChild(this.oJ.G);this.oJ.U("click",this.pb,this);this.BA=new mr(k+" SVG",!1,null,!0);
this.BA.vh();r.appendChild(this.BA.G);this.BA.U("click",this.pb,this);var L=Y.d("span","fitem");z.push(L);
var E=Y.d("span","fitem");z.push(E);this.oQ=[];for(var F=0;F<8;F++){var U=F==3||F==7?[20,4,6]:[20,4,F<3?F:F-1],l=new mr("Hi",!1,U);
(F<4?L:E).appendChild(l.G);l.U("click",this.pb,this);this.oQ.push(l)}for(var F=0;F<z.length;F++)this.body.appendChild(z[F]);
this.Lt=z}PR.prototype=new PJ;PR.prototype.pv=function(z){var r=z.HO,k=z.FS;this.QF.h(r.gd);this.uJ.h(r.gH);
this.IP.h(r.gb);if(k){Y.UW(this.body);for(var L=0;L<k.length;L++)if(k[L]==1&&this.Lt[L])this.body.appendChild(this.Lt[L])}};
PR.prototype.pb=function(z){var r=this.oQ.indexOf(z.target),k;if(r==-1)k={J:Y.Q.nl,R:this.R,eL:z.target==this.oJ?"getPNG":"getSVG",Fm:this.pS.r()+1};
else k={J:Y.Q.nl,R:this.R,eL:"algn",u:r};var L=new D(Y.E.D,!0);L.data=k;this.K(L)};PR.prototype.pt=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.nl,R:this.R,eL:"prms",gd:this.QF.vR(),gH:this.uJ.vR(),gb:this.IP.vR()};this.K(r)};PR.prototype.pX=function(){this.QF.p();
this.uJ.p();this.IP.p();var z="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var r=0;r<8;r++){this.oQ[r].nd(Y.Uo("align/"+z[r],null,"autoscale"))}};
function Pw(){Pz.call(this);this.Pm=new JG;this.Pm.U(Y.E.j,this.mmt,this);this.body.appendChild(this.Pm.G)}Pw.prototype=new Pz;
Pw.prototype.mmt=function(z){this.data.FV=this.Pm.r();this.nD()};Pw.prototype.pX=function(){Pz.prototype.pX.call(this);
this.Pm.p()};function PN(){PP.call(this,["setop","patch"])}PN.prototype=new PP;function Py(){PP.call(this,["bmode","opacity","wconf"])}Py.prototype=new PP;
function PV(){Pz.call(this)}PV.prototype=new Pz;function PO(){Pz.call(this)}PO.prototype=new Pz;function P_(){Pz.call(this);
this.fs=new mj;this.fs.U(Y.E.j,this.pd,this);this.body.appendChild(this.fs.G)}P_.prototype=new Pz;P_.prototype.pd=function(z){this.data.fs=this.fs.r();
this.nD()};P_.prototype.pX=function(){Pz.prototype.pX.call(this);this.fs.p()};function PZ(){PJ.call(this);
this.Mq=[new JP("X",null,3),new JP("Y",null,3),new JP("W",null,3),new JP("H",null,3),new JP([12,15],null,4),new JP([12,80,0],null,4)];
for(var z=0;z<this.Mq.length;z++){var r=this.Mq[z];this.body.appendChild(r.G)}}PZ.prototype=new PJ;PZ.prototype.pv=function(z){var r=z.FH,k=z.Fb,L=k.x-r.x,E=k.y-r.y,F=this.Mq;
F[0].h(r.x);F[1].h(r.y);F[2].h(L);F[3].h(E);F[4].h((-Math.atan2(E,L)*180/Math.PI).toFixed(2));F[5].h(Math.sqrt(L*L+E*E).toFixed(2))};
PZ.prototype.pX=function(){for(var z=0;z<this.Mq.length;z++)this.Mq[z].p()};function PC(){PP.call(this,["brush","strn","pdetail"])}PC.prototype=new PP;
function Pq(){PP.call(this,["brush"]);this.LI=[];var z=[[7,12]];for(var r=0;r<z.length;r++){var k=new mr(z[r],!1,null,!0);
this.LI.push(k);k.parent=this;this.body.appendChild(k.G);k.U("click",this.mBJ,this)}}Pq.prototype=new PP;
Pq.prototype.mBJ=function(z){var r=this.LI.indexOf(z.currentTarget),k=new D(Y.E.q,!0);k.R=A.hk;k.data={J:"heal2"};
this.K(k)};function Po(){PP.call(this,["brush","strn"])}Po.prototype=new PP;function Pr(){PP.call(this,["brush","flow","smode"])}Pr.prototype=new PP;
function PL(){PJ.call(this);this.Jo=!1;var z=Y.d("span","fitem");this.body.appendChild(z);this.ON=new mr("<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />");
z.appendChild(this.ON.G);this.ON.U("click",this.pY,this);this.oG=new mr("<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />");
z.appendChild(this.oG.G);this.oG.U("click",this.pk,this);this.la=new mr([20,2]);this.body.appendChild(this.la.G);
this.la.U("click",this.pj,this);this.cE=new mr([20,3]);this.body.appendChild(this.cE.G);this.cE.U("click",this.pj,this);
this.ON.vh()}PL.prototype=new PJ;PL.prototype.pX=function(){this.la.p();this.cE.p()};PL.prototype.pY=function(z){this.ON.vh();
this.oG.vT();if(z)this.pt()};PL.prototype.pk=function(z){this.oG.vh();this.ON.vT();if(z)this.pt()};PL.prototype.pt=function(){var z={J:Y.Q.nl,R:this.R,HU:this.ON.vR()},r=new D(Y.E.D,!0);
r.data=z;this.K(r)};PL.prototype.pv=function(z){if(this.Jo!=z.Jo){if(this.ON.vR())this.pk();else this.pY()}this.Jo=z.Jo};
PL.prototype.pj=function(z){var r={J:Y.Q.nl,R:this.R,action:z.target==this.la?"pixel":"fitscr"},k=new D(Y.E.D,!0);
k.data=r;this.K(k)};function PU(z){PJ.call(this);if(z==null)return;this.vA={};for(var r=0;r<z.length;
r++){var k=z[r],L=null;if(k=="tmode"){L=new mp(null,[[12,76,0],[12,76,1],[12,76,2]]);L.h(1)}if(k=="binop")L=new mp(null,[[18,1],[18,2],[18,3],[18,4]]);
if(k=="pshape")L=new mp(null,["Polygon","Star","Spiral"]);if(k=="shape")L=new JS([12,76,1]);if(k=="crad"){L=new mg("Corner Radius",0,50,"px");
L.h(0)}if(k=="cstr"){L=new mj}if(k=="irad"){L=new mg("Inner Radius",0,100,"%");L.h(40)}if(k=="length"){L=new mg("Length",4,40);
L.h(4)}if(k=="sides"){L=new mg([12,78],3,30);L.h(5)}if(k=="width"){L=new mg([12,41],1,100,"px");L.h(5)}if(k=="tolr"){L=new mg([12,24],0,100);
L.h(5)}if(k=="fstyle"){L=new mv([12,26])}if(k=="sstyle"){L=new Jm}L.parent=this;this.body.appendChild(L.G);
this.vA[k]=L;L.U(Y.E.j,this.pt,this)}}PU.prototype=new PJ;PU.prototype.pf=function(z){return null};PU.prototype.pe=function(){if(this.vA.pshape==null)return;
var z=this.pf(this.vA.pshape.r());if(z==null)return;Y.UW(this.body);for(var r=0;r<z.length;r++){var k=z[r];
this.body.appendChild(this.vA[k].G)}};PU.prototype.pX=function(){for(var z in this.vA)this.vA[z].p()};
PU.prototype.pt=function(z){var r=new D(Y.E.D,!0);if(z.target==this.vA.fstyle){r.data={J:Y.Q.na,Hq:zB.yk,u:this.vA.fstyle.r()};
this.K(r);return}if(z.target==this.vA.sstyle){r.data={J:Y.Q.na,Hq:zB.yj,u:this.vA.sstyle.r()};this.K(r);
return}if(this.vA.tmode&&this.vA.binop){if(this.vA.tmode.r()==0)this.vA.binop.nr();else this.vA.binop.nL()}r.data={J:Y.Q.nl,R:this.R};
for(var k in this.vA)if(k!="sstyle")r.data[k]=this.vA[k].r();this.K(r);if(z.target==this.vA.pshape)this.pe()};
PU.prototype.hC=function(z,r){var k=this.vA.fstyle,L=this.vA.sstyle;if(k)k.hC(z,r);if(L)L.hC(z,r);if(r==zB.yt||r==zB.yb)if(z.Mj.length!=0&&this.vA.shape){this.vA.shape.h(z.Mj[0]);
this.vA.shape.vM(z.Mj)}if(r==zB.yt||r==zB.yk)if(k)k.h(null,z.Fj,z.pp);if(r==zB.yt||r==zB.yj)if(L)L.h(null,z.Fk,z.LC)};
function Pn(){PU.call(this,["tmode","fstyle","sstyle"])}Pn.prototype=new PU;function Pv(){PU.call(this,["tmode","fstyle","sstyle","binop","tolr"])}Pv.prototype=new PU;
function PX(){PU.call(this,["fstyle","sstyle"]);this.maW=null;this.LZ=null;this.zb=new mp("Path",[[18,1],[18,2],[18,3],[18,4]]);
this.Mc=new mr("\u25BC");this.Mc.vh();this.$A=new mr("\u25B2");this.$A.vh();this.jh=[this.zb,this.Mc,this.$A];
for(var z=0;z<this.jh.length;z++){var r=this.jh[z];this.body.appendChild(r.G);r.parent=this;r.U(z==0?Y.E.j:"click",this.vr,this)}}PX.prototype=new PU;
PX.prototype.pv=function(z){if(z.ey=="main"){var r=this.jh,k=z.Me;if(k&&k.L.length==1){this.LZ=k.clone();
var L=k.L[0],E=e.f.uc(k.A);this.zb.nr();if(L>0)this.Mc.nr();else this.Mc.nL();if(L<E-1)this.$A.nr();
else this.$A.nL();var F=e.f.uB(k.A,L),U=k.A[F];this.zb.nd("Path "+(L+1));this.zb.h([3,0,1,2][U.bF])}else{for(var l=0;
l<r.length;l++)r[l].nL()}}};PX.prototype.pX=function(){PU.prototype.pX.call(this);this.zb.p()};PX.prototype.vr=function(z){if(z.target==this.zb||z.target==this.Mc||z.target==this.$A){var r={},k=this.LZ,L=k.A,E=k.L[0],F=e.f.uB(L,E),U=L[F];
if(z.target==this.zb)U.bF=[1,2,3,0][this.zb.r()];else{var l=z.target==this.Mc?-1:1,G=Math.min(E,E+l),g=Math.max(E,E+l),P=e.f.uB(L,G),J=e.f.uB(L,g);
if(P==-1||J==-1)return;var x=J+e.f.mPa(L,g),a=L.slice(0,P),d=L.slice(P,J),t=L.slice(J,x),m=L.slice(x);
k.A=a.concat(t.concat(d.concat(m)));k.L[0]+=l}r.Me=k;var b=new D(Y.E.D,!0);b.data={J:Y.Q.nl,R:this.R,ck:r};
this.K(b)}};function PI(){PU.call(this,["fstyle","sstyle"])}PI.prototype=new PU;function Ps(){PU.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}Ps.prototype=new PU;
function Pt(){PU.call(this,["tmode","fstyle","sstyle","binop","cstr"])}Pt.prototype=new PU;function Pp(){PU.call(this,"tmode fstyle sstyle binop pshape sides irad crad length".split(" "));
this.mal=[["sides","crad"],["sides","irad","crad"],["length"]];this.pe()}Pp.prototype=new PU;Pp.prototype.pf=function(z){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.mal[z])};
function P$(){PU.call(this,["tmode","fstyle","sstyle","binop","width"])}P$.prototype=new PU;function Pd(){PU.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}Pd.prototype=new PU;
function PH(){PP.call(this,["brush","qsmode","redge"])}PH.prototype=new PP;function Pb(){PJ.call(this);
if(window.Typr==null)return;this.ga=null;this.LV=Y.d("span","");this.hl=Y.d("span","");var z=1;this.jt={cA:new mg("X",0,0,"px",z,!1,!0),cT:new mg("Y",0,0,"px",z,!1,!0),kp:new mg("W",0,0,["%","px"],z,!1,!0),bO:new mr("\u2261",null,[12,51],null),ko:new mg("H",0,0,["%","px"],z,!1,!0),maB:new mg("\u2221",0,0,"\xB0",z,!1,!0),maA:new mg("Skew X",-85,85,"\xB0",z,!1,!0),mah:new mg("Skew Y",-85,85,"\xB0",z,!1,!0)};
for(var r in this.jt){this.LV.appendChild(this.jt[r].G);var k=this.jt[r]==this.jt.bO?"click":Y.E.j;this.jt[r].U(k,this.pg,this)}this.Pm=new JM(!0,!0,!0);
this.Pm.U(Y.E.j,this.mMa,this);this.Pm.parent=this;var L=this.hl,E=this.Pm;L.appendChild(E.GC.G);L.appendChild(E.vj.G);
L.appendChild(E.vf.G);L.appendChild(E.mN.G);L.appendChild(E.zs.G);this.OK=new mr([11,9]);this.OK.U("click",this.mmI,this);
this.jq=new mp(null,["Nearest","Bilinear"]);this.jq.h(1);this.jq.U(Y.E.j,this.pg,this);this.AO=new Ju;
this.AO.U("click",this.XL,this)}Pb.prototype=new PJ;Pb.prototype.pv=function(z){Y.UW(this.body);this.ga=z;
if(z.jt){var r=z.jt.iy,k=z.jt.WR.clone(),L=Math.atan2(-k.g,k.n),E=new zT;E.rotate(-L);k.concat(E);var F=this.jt;
F.cA.h(z.jt.El.x);F.cT.h(z.jt.El.y);F.kp.h(k.n*(F.kp.ni()=="%"?100:r.X));F.ko.h(k.br*(F.ko.ni()=="%"?100:r.z));
F.maB.h(-L*180/Math.PI);F.maA.h(0*180/Math.PI);F.mah.h(Math.atan(k.bq)*180/Math.PI);this.body.appendChild(this.LV);
this.OK.vT()}if(z.Ex){this.Pm.h(z.Ex);this.body.appendChild(this.hl);this.OK.vh()}this.body.appendChild(this.jq.G);
this.body.appendChild(this.AO.G);if(z.mSq)this.body.appendChild(this.OK.G)};Pb.prototype.pg=function(z){var r=this.jt,k=this.ga.jt.iy;
if(z.target==r.bO)r.bO.h(!r.bO.r());if(r.bO.vR()){var L=r.ko,E=r.kp,F=k.z,U=k.X;if(z.target==r.kp){L=r.kp;
E=r.ko;F=k.X;U=k.z}var l=L.r()/(L.ni()=="%"?100:F);l*=E.ni()=="%"?100:U;E.h(l)}var G=[];for(var g in r)if(r[g]!=r.bO){var l=r[g].r();
if(r[g]==r.kp&&r[g].ni()=="px")l/=k.X/100;if(r[g]==r.ko&&r[g].ni()=="px")l/=k.z/100;G.push(l)}var P=new V(G[0],G[1]);
if(z.target==r.cA||z.target==r.cT){this.$m({ey:"cen",El:P})}else{var J=this.ga.jt.WR.clone(),x=J.clone(),a=Math.atan2(-J.g,J.n);
x.translate(-P.x,-P.y);x.rotate(-a);var d=new zT(x.n,x.g,x.bq,x.br,0,0);d.Jo();x.concat(d);x.concat(new zT(G[2]/100,Math.tan(G[5]*Math.PI/180),Math.tan(G[6]*Math.PI/180),G[3]/100,0,0));
x.rotate(-G[4]*Math.PI/180);x.translate(P.x,P.y);this.ga.jt.WR=x;this.$m({ey:"trn",jt:x,eB:this.jq.r()})}};
Pb.prototype.mMa=function(z){this.$m({ey:"wrp",Ex:this.Pm.r()})};Pb.prototype.mmI=function(z){this.$m({ey:"switchWarp"})};
Pb.prototype.XL=function(z){this.$m({ey:this.AO.r()?"commit":"cancel"})};Pb.prototype.$m=function(z){z.J=Y.Q.nl;
z.R=this.R;var r=new D(Y.E.D,!0);r.data=z;this.K(r)};Pb.prototype.pX=function(){for(var z in this.jt)this.jt[z].p();
this.AO.p();this.Pm.p()};function Pi(){Pb.call(this)}Pi.prototype=new Pb;function PD(){Pb.call(this)}PD.prototype=new Pb;
function PY(){my.call(this);this.G=Y.d("div","cmanager");this.Hg=0;this.HF=0;this._A=[];this.uu=Y.d("div","droparea");
var z=Y.d("div","dropbox");z.innerHTML="Insert into current project";var r=Y.d("div","dropbox");r.innerHTML="Open as new projects";
this.uu.appendChild(z);this.uu.appendChild(r);this.aP={};this.xg=Y.d("div","alertcont");this.G.appendChild(this.xg);
this.hE=Y.d("div","alertcont");this.G.appendChild(this.hE);this.hQ=0;Y.UA(document.body,this.mBA.bind(this))}PY.prototype=new my;
PY.prototype.mQk=function(){this.G.appendChild(this.uu)};PY.prototype.mGu=function(){this.G.removeChild(this.uu)};
PY.prototype.Xo=function(z,r){this.Hg=z;this.HF=r;var k=this.uu;k.setAttribute("style","left:"+(z-600)/2+"px; top:"+(r-300)/2+"px;")};
my.prototype.nq=function(){var z=this.G;return z.offsetHeight+z.clientTop};PY.prototype.mca=function(z){var r=Y.d("div","alertpanel");
r.textContent=typeof z=="string"?z:zA.get(z);this.xg.appendChild(r);this.aP[JSON.stringify(z)]=r};PY.prototype.mcB=function(z){var r=this.aP[JSON.stringify(z)];
this.xg.removeChild(r);delete this.aP[JSON.stringify(z)]};PY.prototype.alert=function(z,r){var k=this.hE,L=Y.d("div","alertpanel tpanel");
L.textContent=z;k.appendChild(L);if(r==null)r=1500;var E=r,F=Math.max(Date.now()+E,this.hQ+E);setTimeout(function(){L.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){k.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},F-Date.now()-30);
setTimeout(function(){k.removeChild(k.firstChild);k.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")},F-Date.now());
this.hQ=F};PY.prototype.mBA=function(z){var r=this._A;for(var k=r.length-1;k>=0;k--){var L=r[k],E=z.target;
while(E!=null){if(E==L.G){this.$M(L);return}E=E.parentNode}}this.$M()};PY.prototype.$M=function(z){var r=this._A;
for(var k=0;k<r.length;k++){if(z&&z.nZ(r[k]))continue;var L=r[k].G;L.style.height="auto";Y.UQ(L,"scrollable");
this.G.removeChild(L);r.splice(k,1);k--}};PY.prototype.mKm=function(z){this.$M(z.dF);var r=z.dF,k=r.G;
if(this._A.indexOf(r)!=-1)return;this._A.push(r);this.G.appendChild(r.G);var L=this.Hg,E=this.HF,F=z.x,U=z.y,l=this.G.getBoundingClientRect(),G=r instanceof mV;
if(G||z.mGM){var g=r.nC(),P=r.nq();if(G)g=Math.min(g,200);if(U+P<E){F=Math.min(F,L-g-5)}else{if(F+g<L){U=Math.min(U,E-P-5)}else if(P<U){U=U-P-2;
F=Math.min(F,L-g-5)}else{F=F-g;U=Math.min(U,E-P-5)}}if(z.mlL)U=Math.max(2,z.y-P-2)}U=Math.max(2,U);var top=Math.round(U-l.y+this.G.offsetTop);
k.style.position="absolute";k.style["z-index"]=10;k.style.left=Math.round(F)+"px";k.style.top=top+"px";
if(top+r.nq()>E-5){k.style.height=E-5-top+"px";Y.UM(k,"scrollable")}};PY.prototype.mWG=function(z){var r=z.dF,k=this._A.indexOf(r);
if(k==-1)return;this._A.splice(k,1);var L=r.G;this.G.removeChild(r.G)};function Pk(){my.call(this);this.G=Y.d("div","confbar")}Pk.prototype=new my;
Pk.prototype.mmR=function(z){z.parent=this;Y.UW(this.G);this.G.appendChild(z.G)};function Pj(){my.call(this);
this.Ge=Y.d("input","");this.Ge.setAttribute("type","file");this.Ge.setAttribute("multiple","");this.Ge.addEventListener("change",function(z){this.$B(z.target.files,null,this.pJ,null);
this.pJ=null}.bind(this),!1);document.body.appendChild(this.Ge);this.Ge.setAttribute("style","display:none");
this.hM=[];this.xB=!1;this.dH={};this.pJ=null}Pj.prototype=new my;Pj.prototype.$E=function(z){if(z==null)z=[23,5];
var r=JSON.stringify(z),k=this.dH;if(k[r]==null)k[r]=0;if(k[r]==0){var L=new D(Y.E.D,!0);L.data={J:Y.Q.rQ,mE:z};
this.K(L)}k[r]++};Pj.prototype.$l=function(z){if(z==null)z=[23,5];var r=JSON.stringify(z),k=this.dH;
if(k[r]==null)k[r]=0;k[r]--;if(k[r]==0){var L=new D(Y.E.D,!0);L.data={J:Y.Q.nh,mE:z};this.K(L)}};Pj.prototype.mQx=function(z){var r=document.createEvent("MouseEvents");
r.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);this.Ge.dispatchEvent(r);
if(z!=null)this.pJ=z};Pj.prototype.$a=function(z){this.hM.push(z);this.$c()};Pj.prototype.$c=function(){var z=this.hM;
if(z.length==0||this.xB)return;this.xB=!0;var r=z.shift();this.$E();if(r.j_==null)r.j_={};var k=new XMLHttpRequest;
k.lV=r;var L=r.url;if(r.EB)L="mirror.php?url="+encodeURIComponent(L);k.open("GET",L);k.responseType="arraybuffer";
k.onload=this.$V.bind(this);k.send()};Pj.prototype.$B=function(z,r,k,L){for(var E=0;E<z.length;E++){this.$E();
var F=z[E],U=new FileReader;U.lV=F;U.lV.hc=k;U.lV.CH=L;U.mar=r;U.onload=this.$V.bind(this);U.readAsArrayBuffer(F)}this.Ge.value=null};
Pj.prototype.maK=function(z){var r=z.JO.cz,k=zc.mU(z,r);zZ.mh(function(){var L=new XMLHttpRequest,E="https://www.googleapis.com/upload/drive/v3/files/"+z.JO.file.id+"?uploadType=media"+"&"+zZ.mR();
L.open("PATCH",E,!0);L.addEventListener("load",function(F){var U=JSON.parse(F.target.response);alert(U.name+" updated")});
L.send(k);alert("Saving \""+z.JO.file.name+"\" to Google Drive ...")})};Pj.prototype.mQQ=function(z,r){var k=z.Ce(),L=r[0],E=zc.mU(z,L.toUpperCase());
if(window.parent!=window)window.parent.postMessage(E,"*")};Pj.prototype.mxr=function(z){this.$E("Saving ...");
setTimeout(Pj.mWT.bind({$I:z,caller:this}),50)};Pj.mWT=function(){var z=this.$I,r=this.caller,k=z.j_.uZ,L=new Pf,E=0,F="",U=encodeURIComponent;
F="p="+U("{ \"source\": "+JSON.stringify(z.aC)+", \"versions\": [");h.xv(L,E,F);E+=F.length;var l=Date.now(),G=z.Ce(),g=k.formats;
for(var P=0;P<g.length;P++){var J=g[P].split(":"),x=J[0],a=null,d;if(J.length==2){if(x=="jpg"||x=="webp")a=[Math.round(100*parseFloat(J[1]))];
if(x=="psd")a=[!0,!0]}var d=zc.mU(z,x.toUpperCase(),null,null,a);F=U(" {\"format\": \""+x+"\", \"data\": \"");
h.xv(L,E,F);E+=F.length;var t=new Uint8Array(Pj.mEI(d)),m=t.length;L.$q(E,m);for(var b=0;b<m;b++){L.$q(E,3);
var I=t[b];if(I==43){L.data[E]=37;L.data[E+1]=50;L.data[E+2]=66;E+=3}else if(I==47){L.data[E]=37;L.data[E+1]=50;
L.data[E+2]=70;E+=3}else if(I==61){L.data[E]=37;L.data[E+1]=51;L.data[E+2]=68;E+=3}else{L.data[E]=I;
E++}}F=U("\" }"+(P+1<g.length?", ":""));h.xv(L,E,F);E+=F.length}F=U("] }");h.xv(L,E,F);E+=F.length;var v=new XMLHttpRequest;
v.open("POST",k.url,!0);v.setRequestHeader("Content-type","application/x-www-form-urlencoded");v.addEventListener("load",Pj.mWR.bind(r));
v.send(L.data.buffer.slice(0,E))};Pj.mWR=function(z){this.$l("Saving ...");alert("Saved. Response: "+z.target.response,1500)};
Pj.$N=function(z){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=new Uint8Array(z),L=k.length,E=L%3,F=L-E,U=[],l=0,G=0,g=0;
for(var P=0;P<F;P+=3){l=k[P];G=k[P+1];g=k[P+2];U.push(r[l>>2]+r[(l&3)<<4|G>>4]+r[(G&15)<<2|g>>6]+r[g&63])}if(E==1){l=k[F];
U.push(r[l>>2]+r[(l&3)<<4]+"==")}if(E==2){l=k[F];G=k[F+1];U.push(r[l>>2]+r[(l&3)<<4|G>>4]+r[(G&15)<<2]+"=")}var J=U.join("");
return J};Pj.mEI=function(z){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=new Uint8Array(64),g=0,P=0,J=0,x=0;
for(var L=0;L<64;L++)k[L]=r.charCodeAt(L);var E=new Uint8Array(z),F=E.length,U=F%3,l=F-U,G=[],G=new Uint8Array(Math.floor(F/3)*4+(U==0?0:4));
for(var L=0;L<l;L+=3){g=E[L];P=E[L+1];J=E[L+2];G[x]=k[g>>2];G[x+1]=k[(g&3)<<4|P>>4];G[x+2]=k[(P&15)<<2|J>>6];
G[x+3]=k[J&63];x+=4}if(U==1){g=E[l];G[x]=k[g>>2];G[x+1]=k[(g&3)<<4];G[x+2]=61;G[x+3]=61}if(U==2){g=E[l];
P=E[l+1];G[x]=k[g>>2];G[x+1]=k[(g&3)<<4|P>>4];G[x+2]=k[(P&15)<<2];G[x+3]=61}return G.buffer};Pj.prototype.$V=function(z){var r,k=z.target.lV;
if(z.target instanceof XMLHttpRequest)r=z.target.response;else r=z.target.result;Pj.$O(k,r,this,z.target.mar);
this.$l();if(z.target instanceof XMLHttpRequest){this.xB=!1;this.$c()}};Pj.$O=function(z,r,k,L){var E;
if(z.name)E=z.name.split(".")[0];else{if(z.url.substring(0,5)=="data:"||z.url.indexOf("googleapis")!=-1)E="image";
else E=z.url.substring(z.url.lastIndexOf("/")+1).split(".")[0];E=E.slice(0,50)}var F=new Uint8Array(r),U=zc.mV(r);
if(U==null)U=h.xU(F,0,4);if(U=="json"){var l="";for(var G=0;G<F.length;G++)l+=String.fromCharCode(F[G]);
l=decodeURIComponent(escape(l));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(l));return}if(U=="html"){var l=zn.Ah(F,0,F.length),g=new DOMParser,P=g.parseFromString(l,"text/html"),J=P.getElementsByTagName("meta");
for(var G=0;G<J.length;G++){var x=J[G],a=x.getAttribute("property"),d=x.getAttribute("content"),t=null;
if(a=="og:image")t=d;if(a==null&&d&&d.startsWith("0;url=/imgres?")){var m=d.slice(14).split("&");for(var b=0;
b<m.length;b++)if(m[b].startsWith("imgurl"))t=decodeURIComponent(m[b].slice(7))}if(t==null)continue;
var I=new D(Y.E.D,!0);I.data={J:Y.Q.Ui,Hq:{url:t,EB:!0,hc:z.hc}};k.K(I)}return}if(zc.m_(U)){var v,W=zc.m_(U);
if(z.hc!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(U)!=-1){var I=new D(Y.E.D,!0);I.data={J:Y.Q.nW,target:z.hc,gK:z.CH,ed:r,WY:E};
k.K(I);return}if(W.mH){v=new mM(E+(U=="psd"?"":"-"+U)+".psd");W.mv(r,v)}else{var B=W.mv(r);if(B[0].t33421){var I=new D(Y.E.D,!0);
I.data={J:Y.Q.nM,iu:B[0]};k.K(I);return}v=Pj.$C(E,B)}v.j_=z.j_;v.aC=z.url;v.cX=z.cX;v.JO=z.JO;if(v.JO)v.JO.cz=U;
if(L)L(v.a[0].buffer,v.a[0].rect);else{var I=new D(Y.E.D,!0);I.data={J:z.hc==null?Y.Q.nG:Y.Q.nW,target:z.hc,gK:z.CH,ed:v};
k.K(I)}return}var I=new D(Y.E.D,!0);I.data={J:Y.Q.na,j_:"add",Hq:null,ua:null};if(U=="asl"){var n=za.lK(r);
I.data.Hq=zB.yH;I.data.ua=n.Yk;k.K(I);I.data.Hq=zB.yd;I.data.ua=n.Yj;k.K(I)}else if(U=="otf"){var n=Typr.parse(r);
I.data.Hq=zB.yD;for(var G=0;G<n.length;G++){I.data.ua=n[G];k.K(I)}}else{var j="";for(var p in zB.VK)if(zB.VK[p][0]==U)j=p;
if(j!=""){I.data.ua=zB.VK[j][2].lK(r);if(U=="abr"){}I.data.Hq=j;k.K(I)}else alert("Unknown file format: "+JSON.stringify(U))}};
Pj.prototype.ma$=function(z){var r=new XMLHttpRequest;r.open("POST","https://api.imgur.com/3/image",!0);
r.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.setRequestHeader("Accept","application/json");r.addEventListener("load",this.mJC);r.send("type=base64&image="+encodeURIComponent(Pj.$N(z)));
alert("Saving to Imgur ...",4e3)};Pj.prototype.mJC=function(z){var r=JSON.parse(z.target.response);if(r.success)window.open(r.data.link,"Imgur")};
Pj.$C=function(z,r){var k=new mM(z+".psd"),L=new Z(0,0,1,1);for(var E=0;E<r.length;E++){var F=r[E];L=L.MD(F.Hf);
var U=k.qa();U._i(E==0);U._p("Layer "+E);if(F.He)U._p(F.He);U.rect=F.Hf.clone();U.buffer=new Uint8Array(F.data);
e.PK(U);k.a.push(U)}k.L=[0];k.X=L.X;k.z=L.z;k.buffer=e.$(L.Y()*4);k.N();return k};Pj.save=function(z,r){var k=new Uint8Array(z),L=document.createElement("a");
if(typeof L.download=="string"){var E=new Blob([k]),F=window.URL.createObjectURL(E);L.href=F;L.download=r;
document.body.appendChild(L);L.click();document.body.removeChild(L)}else{var U="data:application/octet-stream;base64,"+Pj.$N(z);
window.open(U)}};function Pf(){this.size=16;this.data=e.$(16)}Pf.prototype.$q=function(z,r){if(z+r<=this.size)return;
var k=this.size;while(z+r>this.size)this.size*=2;var L=e.$(this.size);for(var E=0;E<k;E++)L[E]=this.data[E];
this.data=L};function Pe(z){my.call(this);this.UU=z;this.man=this.mzt.bind(this);this.LT=this.mKi.bind(this);
this.maX=this.$$.bind(this);this.uC=0;this.LA=0;this.G=Y.d("div","panelblock");this.$_=Y.d("div","block");
this.PE=Y.d("div","collapsed");this.G.appendChild(this.$_);this.hG=-1;this.kt=-1;this.Je=!0;this.GP=Y.d("div","panelhead");
this.$_.appendChild(this.GP);this.YU=Y.d("div","");this.$_.appendChild(this.YU);this.m=[];this.lv=null;
this.uo=null}Pe.prototype=new my;Pe.prototype.$o=function(){return null};Pe.prototype.$r=function(){if(this.$o()){this.uo=this.$o();
this.YU.appendChild(this.uo)}};Pe.prototype.mWL=function(){if(this.uo){this.YU.removeChild(this.uo);
this.uo=null}};Pe.prototype.$U=function(){for(var z=0;z<this.m.length;z++)this.m[z].ES.vT()};Pe.prototype.si=function(){var z=new V(0,0);
for(var r=0;r<this.m.length;r++){var k=this.m[r].si();z.x=Math.max(z.x,k.x);z.y=Math.max(z.y,k.y)}return z};
Pe.prototype.$n=function(){return this.kt};Pe.prototype.muf=function(){return this.hG};Pe.prototype.$X=function(){this.Je=!0;
this.G.removeChild(this.PE);this.G.appendChild(this.$_)};Pe.prototype.collapse=function(){this.Je=!1;
this.G.appendChild(this.PE);this.G.removeChild(this.$_)};Pe.prototype.mzx=function(){return 26+this.YU.getBoundingClientRect().height};
Pe.prototype.Xo=function(z,r){this.GP.setAttribute("style","max-width: "+z+"px");var k=this.GP.getBoundingClientRect().height;
k=26;if(this.kt!=-1)this.m[this.kt].Xo(z,r-k)};Pe.prototype.hC=function(z,r){this.m[this.kt].hC(z,r)};
Pe.prototype.IJ=function(z){this.m[this.kt].IJ(z)};Pe.prototype.$s=function(z){this.mWL();if(this.m.indexOf(z)!=-1){this.$b(this.m.indexOf(z));
return}z.parent=this;this.m.push(z);this.GP.appendChild(z.aF);z.aF.addEventListener("mouseover",this.man,!1);
this.PE.appendChild(z.ES.G);z.ES.U("click",this.$Y,this);z.U("select",this.$i,this);z.U(Y.E.Uv,this.$D,this);
this.$b(this.m.length-1)};Pe.prototype.mzt=function(z){if(z.buttons==0)return;var r=z.currentTarget,k=r,L=0;
while((k=k.previousSibling)!=null)L++;this.LA=L;r.addEventListener("mouseout",this.LT,!1);this.uC=setTimeout(this.maX,700)};
Pe.prototype.mKi=function(z){var r=z.currentTarget,k=r,L=0;while((k=k.previousSibling)!=null)L++;r.removeEventListener("mouseout",this.LT);
clearTimeout(this.uC)};Pe.prototype.$$=function(z){this.K(new D(Y.E.UX,!1))};Pe.prototype.$d=function(z){return this.LA};
Pe.prototype.$H=function(z){this.hG=z;this.K(new D(Y.E.Uv,!1));var r=this.m[z];this.m.splice(z,1);this.GP.removeChild(r.aF);
this.PE.removeChild(r.ES.G);r.aF.setAttribute("class","");r.ES.removeEventListener("click",this.$Y,this);
r.ES.vT();r.removeEventListener("activate",this.$i);r.removeEventListener(Y.E.Uv,this.$D);var k=this.kt;
if(z<k)k--;else if(z==k&&z==this.m.length)k--;this.$b(k);if(this.m.length==0)this.$r()};Pe.prototype.$b=function(z,r){if(r==null)r=!0;
for(var k=0;k<this.m.length;k++)this.m[k].aF.setAttribute("class","");if(this.lv)this.YU.removeChild(this.lv);
this.lv=null;this.kt=z;if(z==-1)return;var L=this.m[this.kt];this.lv=L.bW;this.YU.appendChild(L.bW);
L.aF.setAttribute("class","active");L.sY();if(!this.Je){this.K(new D("showFloat"));this.m[z].ES.vh()}if(r)this.K(new D(Y.E.j,!1))};
Pe.prototype.$i=function(z){if(this.UU&&!this.UU.dL())return;var r=this.m.indexOf(z.currentTarget);this.$b(r)};
Pe.prototype.$D=function(z){if(this.UU&&!this.UU.dL())return;var r=this.m.indexOf(z.currentTarget);this.$H(r)};
Pe.prototype.$Y=function(z){var r=this.m.indexOf(z.currentTarget.parent);if(this.m[r].ES.vR())this.K(new D("hideFloat"));
else this.$b(r)};Pe.prototype.mzo=function(z){this.K(z)};function Pg(z){Pe.call(this,z);this.tx=[];this.uU=[];
this.maf=this.$g.bind(this);this.LB=this.$F.bind(this);this.tD=this.dm.bind(this);this.dS(this.YU);this.dS(this.GP);
this.WA=Y.d("div","intro");this.cB=["default;"];this.mcS="";var r=Y.d("ul");r.setAttribute("style","margin:0;  padding:160px 0px 0 113px; font-size:1.8em;");
this.WA.appendChild(r);this.oQ=[];var k=[[11,7],[1,6]],L=Y.d("li");for(var E=0;
E<k.length;E++){if(E==2){var F=new mr("Demo: ");L.appendChild(F.G)}var U=k[E],l=new mr(U);l.U("click",this.$e,this);
L.appendChild(l.G);this.oQ.push(l);if(E==0||E==1||E==3||E==k.length-1){r.appendChild(L);L=Y.d("li")}}var G=Y.d("div");
G.setAttribute("style","margin:0;  padding:30px 22px 0 26px; font-size:1.1em");this.WA.appendChild(G);
this.mcm={};var g=["en"],P=navigator.languages;if(P)for(var E=0;E<P.length;E++){var J=P[E].split("-")[0].toLowerCase();
if(g.indexOf(J)==-1)g.push(J)}for(var E=0;E<g.length;E++){var J=g[E],l=new mr((zA.ma(J)==-1?"*":"")+J.toUpperCase());
l.U("click",this.$j,this);l.Vx=J;G.appendChild(l.G);this.mcm[J]=l}var x=Y.d("span");x.setAttribute("style","float:right");
G.appendChild(x);for(var E=0;E<mN.n_.length;E++){var a=mN.n_[E],l=new mr("<span style=\"display:inline-block; width:10px; height:10px; background-color:#"+e.mk(a["--bg-color"])+";\"></span>");
l.U("click",this.$j,this);l.mcP=E;x.appendChild(l.G)}}Pg.prototype=new Pe;Pg.prototype.$j=function(z){var r=z.currentTarget,k;
if(r.Vx!=null){var L=zA.ma(r.Vx);if(L!=-1)k={J:Y.Q.na,Hq:zB.VQ,lang:L};else k={J:Y.Q.nc,link:"https://www.photopea.com/translate?lang="+r.Vx}}else k={J:Y.Q.na,Hq:zB.Vu,Q_:r.mcP};
var E=new D(Y.E.D,!0);E.data=k;this.K(E)};Pg.prototype.Xw=function(z,r){z="cursor:"+z+";";if(r)this.cB.push(z);
else{var k=this.cB.length-1;if(this.cB[k]==z)return;this.cB[k]=z}this.YU.setAttribute("style",this.cB[this.cB.length-1]+" "+this.If)};
Pg.prototype.$f=function(){this.cB.pop();this.YU.setAttribute("style",this.cB[this.cB.length-1]+" "+this.If)};
Pg.prototype.$e=function(z){var r=this.oQ.indexOf(z.target),k=new D(Y.E.D,!0);if(r==0)k.data={J:Y.Q.nP,Hw:"newproject"};
if(r==1)k.data={J:Y.Q.UD};if(r>1)k.data={J:Y.Q.Ui,Hq:{url:["images/pea.psd","images/milk.sketch"][r-2]}};
this.K(k)};Pg.prototype.p=function(){for(var z=0;z<this.oQ.length;z++)this.oQ[z].p()};Pg.prototype.$o=function(){return this.WA};
Pg.Rf=function(z){z.stopPropagation();z.preventDefault()};Pg.prototype.$g=function(z){Pg.Rf(z);var r=z.currentTarget,k=this.tx.indexOf(r);
this.uU[k]++;Y.UM(r,"highlight")};Pg.prototype.$F=function(z){Pg.Rf(z);var r=z.currentTarget,k=this.tx.indexOf(r);
this.uU[k]--;if(this.uU[k]==0)Y.UQ(r,"highlight")};Pg.prototype.Xo=function(z,r){r--;Pe.prototype.Xo.call(this,z,r);
this.If="height:"+(r-(this.m.length==0?3:25))+"px; width:"+z+"px; overflow:hidden;";this.YU.setAttribute("style",this.cB[this.cB.length-1]+" "+this.If);
var k=512,L=410,E=1,F="";if(z<k||r<L){if(z/k<r/L)E=z/k;else E=r/L}F+="background-image:url("+PIMG.intro+"); background-size: "+k+"px "+L+"px;";
F+="position:relative; top:"+Math.round((r-L)/2)+"px;  left: "+Math.round((z-k)/2)+"px; width:"+k+"px; height:"+L+"px;";
if(E!=1)F+="transform: scale("+E+","+E+");";if(this.WA)this.WA.setAttribute("style",F)};Pg.prototype.dS=function(z){if(this.tx.indexOf(z)!=-1)return;
this.tx.push(z);this.uU.push(0);z.addEventListener("dragenter",this.maf,!1);z.addEventListener("dragleave",this.LB,!1);
z.addEventListener("dragover",Pg.Rf,!1);z.addEventListener("drop",this.tD,!1)};Pg.prototype.dm=function(z){this.LB(z);
var r=null,k=z.currentTarget;if(k==this.YU&&this.kt!=-1)r=this.kt;else if(k==this.GP)r=null;else for(var L=0;
L<this.m.length;L++)if(this.m[L].aF==k)r=L;var E=z.dataTransfer.getData("Text");if(E=="")Y.Ur(z,this,r);
else if(r!=null){var F=new D(Y.E.D,!0);F.data={J:Y.Q.ny,mcG:r};this.K(F)}};Pg.prototype.$s=function(z){Pe.prototype.$s.call(this,z);
this.dS(z.aF)};Pg.prototype.$H=function(z){var r=this.m[z],k=this.tx.indexOf(r.aF);this.tx.splice(k,1);
this.uU.splice(k,1);Pe.prototype.$H.call(this,z)};function PF(){my.call(this);mN.nO(1);this.G=Y.d("div","flexrow photopea");
this.Il=Y.d("div");this.G.appendChild(this.Il);this.ou={x:0,y:0,fe:!1};this.LK=!1;this.ju=null;this.LQ=0;
this.rv=0;this.jx=0;if(Y.UK(27))Y.Uu=window;else Y.Uu=this.G;window.alert=function(P,J){this.zc.alert(P,J);
console.log("Alert: "+P)}.bind(this);window.onmessage=function(P){if(P.data instanceof ArrayBuffer){var J=zc.mV(P.data),x=zc.m_(J);
Pj.$O({url:"file"},P.data,this);if(x==null)this.dJ()}else if(P.data.charAt(0)=="{"){}else{var a=new D(Y.E.D,!0);
a.data={J:Y.Q.nT,pC:P.data};this.K(a);this.dJ()}}.bind(this);window.onbeforeunload=this.mli.bind(this);
this.sI={AM:[{R:A.hI,tv:!0,Ha:[s.VO]},{R:A.TT,tv:!1,Ha:[s.VC]},{R:A.TR,tv:!1,Ha:[s.VO,s.VC]}],Wu:[[{R:new A.nA,Fo:new PR}],[{R:new A.wH,Fo:new P_},{R:new A.RR,Fo:new Px}],[{R:new A.wS,Fo:new PT},{R:new A.wL,Fo:new PV},{R:new A.wn,Fo:new PO}],[{R:new A.NI,Fo:new PH},{R:new A.w_,Fo:new Pw}],[{R:new A.RK,Fo:new PK}],[{R:new A.RN,Fo:new Pa},{R:new A.wi,Fo:new PZ}],"---",[{R:new A.wk,Fo:new Pq},{R:new A.Ro,Fo:new PA},{R:new A.wq,Fo:new PN}],[{R:new A.RW,Fo:new PW},{R:new A.RM,Fo:new PM}],[{R:new A.Ru,Fo:new Pu}],[{R:new A.RA,Fo:new Pl}],[{R:new A.RO,Fo:new Pc},{R:new A.wr,Fo:new Py}],[{R:new A.RG,Fo:new PG},{R:new A.wY,Fo:new PC},{R:new A.wj,Fo:new Po}],[{R:new A.RB,Fo:new PE},{R:new A.RQ,Fo:new PQ},{R:new A.wf,Fo:new Pr}],"---",[{R:new A.Rr,Fo:new Ph}],[{R:new A.Na,Fo:new Pn},{R:new A.Nc,Fo:new Pv}],[{R:new A.NB,Fo:new PX},{R:new A.NA,Fo:new PI}],[{R:new A.Rect,Fo:new Ps},{R:new A.uI,Fo:new Pt},{R:new A.uX,Fo:new P$},{R:new A.Nh,Fo:new Pp},{R:new A.NT,Fo:new Pd}],"---",[{R:new A.RC,Fo:new PB}],[{R:new A.we,Fo:new PL}]],keys:[s.Ou,s.Om,s.OS,s.mxb,s.yI,s.Ve,null,s.Vg,s.Vk,s.OM,s.E,s.Vj,null,s.OP,null,s.c,s.Oz,s.Q,s.OQ,null,s.mKf,s.Ox],YD:[{R:new A.Nv,Fo:new Pi},{R:new A.NX,Fo:new PD}],$z:[{R:new zM.yG},{R:new zM.History},{R:new zM.yl},{R:new zM.yu},{R:new zM.y_},{R:new zM.yn}],map:{},OC:null,$G:null,uD:null};
var z={},r="";for(var k=0;k<this.sI.Wu.length;k++){var L=this.sI.Wu[k];if(L=="---")continue;for(var E=0;
E<L.length;E++){this.sI.map[L[E].R.id]=L[E];L[E].Mw=k;L[E].mcT=E;var F=zA.get(L[E].R.name);r+="<li>"+L[E].R.id+": "+F+"</li>";
z[F]=this.sI.keys[k]}}for(var k=0;k<this.sI.YD.length;k++)this.sI.map[this.sI.YD[k].R.id]=this.sI.YD[k];
for(var k=0;k<this.sI.$z.length;k++)this.sI.map[this.sI.$z[k].R.id]=this.sI.$z[k];for(var U in this.sI.map){var l=this.sI.map[U];
if(l.Fo)l.Fo.mxU(U,l.R.jb)}this.bG={AW:!1,fu:{YH:[],Yd:[],list:[],fE:null},$x:[],or:[],QB:[],RY:[],mcw:[],mcN:[],Mj:[],ja:[],Fj:{YR:1,OF:JSON.parse(JSON.stringify(K.qg[0]))},Fk:JSON.parse(JSON.stringify(K.qk.default)),pp:[null].concat(K.qg),LC:[null].concat(K.qg),bQ:new zy,gT:{kw:[],kW:null,kM:null},PU:[],fh:16711680,fT:0,Fu:!1,FK:!0,gF:{YI:!0,Fy:!1,_z:!0,tl:!0,FN:20,gg:0},FR:!0,Fw:[!0,!0,!0,!0,!0],Q_:1,uY:!0,fZ:!0,compact:!1,WA:!0,tp:null};
this.bG.Fk.strokeEnabled.v=!1;this.bG.gT=q.mJh();this.bG.bQ.U(Y.E.D,this.dA,this);this.Ov=new s;this.MN=new zG;
this.My=new Pk;this.Or=new zP(this.sI,!0);this.Bm=new zJ;this.k$=new Pg(this);this.EH=Y.d("div","rightmost");
this.lH=!1;Y.UM(this.k$.G,"mainblock");var G=this.Il;G.addEventListener("drop",this.k$.tD,!1);G.addEventListener("dragover",Pg.Rf,!1);
G.addEventListener("dragenter",Pg.Rf,!1);G.addEventListener("dragleave",Pg.Rf,!1);this.MN.parent=this.My.parent=this.Or.parent=this.Bm.parent=this.k$.parent=this;
this.k$.U(Y.E.j,this.dU,this);this.k$.U(Y.E.Uv,this.mWj,this);this.k$.U(Y.E.UX,this.mWq,this);this.U("mouse",this.dI,this);
this.U(Y.E.q,this.hh,this);this.U(Y.E.D,this.dA,this);document.body.addEventListener("keydown",this.nk.bind(this),!1);
window.addEventListener("keyup",this.dp.bind(this),!1);window.addEventListener("resize",this.dE.bind(this),!1);
window.addEventListener("paste",this.mlZ.bind(this),!1);window.addEventListener("copy",this.mlX.bind(this),!1);
window.addEventListener("blur",function(P){this.Ov.reset()}.bind(this),!1);this.rN=0;this.kn=[];this.OL=new Pj;
this.OL.parent=this;this.kd=new zW;this.kd.parent=this;G.appendChild(this.kd.G);this.zc=new PY;this.zc.parent=this;
G.appendChild(this.zc.G);this.eC=null;this.mcI=null;this.bg=null;this.JG=null;G.appendChild(this.MN.G);
G.appendChild(this.My.G);var g=this.mcp=Y.d("div","flexrow");G.appendChild(g);g.appendChild(this.Or.G);
g.appendChild(this.k$.G);g.appendChild(this.Bm.G);
this.dZ(A.hI);zh.UG(this.dz.bind(this));this.AJ=this.Xe.bind(this);window.requestAnimationFrame(this.AJ)}PF.prototype=new my;
PF.prototype.dJ=function(){if(window.parent!=window)window.parent.postMessage("done","*")};PF.prototype.dP=function(){return Y.Uu[Y.UE("vrt",2)]!=Y.Uu[Y.UE("xksn",5)]};
PF.prototype.dz=function(){var z=zh.mJ();if(z!=null&&z.globals!=null)this.dM(z.globals);if(!this.dP()||!this.bG.fZ){this.dQ();
this.dW()}else{var r=Y.UE("SIIFs",-5)+Y.UE("qnQerwhwy",-3),k=Y.Ua(Y.Uu[r]),L=Y.UE(Y.UK(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
k[L](Y.Ul("vxik",-10),this.dG.bind(this));k[Y.UE("|~t~",13)](Y.UE("ML\\",6),Y.Ul("o_me*^hej$_gb`",1));
k[Y.UE("wjtk",4)]()}this.LK=!0;this.dJ();var E=new D(Y.E.D)};PF.prototype.dG=function(z){var r=JSON.parse(z.target[Y.Ul("|n{wuswh",-10)]),k=Y.Uu[Y.Ul("YcVg^U]b",11)][Y.Ul("oaa_kj\\h",3)],L=Y.Uu[Y.UE("Lj~p",8)][Y.Ul("ddk",10)]()/1e3,E=!1;
for(var F in r)if(F.indexOf(".")!=-1&&k.indexOf(F)!=-1&&parseInt(r[F])>L)E=!0;if(E)this.bG.fZ=!1;this.dQ();
this.dW()};PF.prototype.dW=function(z){if(!this.bG.WA)this.k$.WA=null;else this.k$.$r();this.dy(zB.yt);
this.p();this.dE();this.Bm.IJ(this.dr(),this.kn)};PF.prototype.dM=function(z){var r=this.bG;if(z.fcolor!=null)r.fh=z.fcolor;
if(z.bcolor!=null)r.fT=z.bcolor;if(z.rulers!=null)r.Fu=z.rulers;if(z.favFam!=null)r.PU=z.favFam;if(z.eparams){var k=z.eparams,L=r.gF;
if(k.guides!=null)L.YI=k.guides;if(k.grid!=null)L.Fy=k.grid;if(k.gsize!=null)L.FN=k.gsize;if(k.runits!=null)L.gg=k.runits;
if(k.paths!=null)L._z=k.paths;if(k.pgrid!=null)L.tl=k.pgrid}if(z.lang!=null)zA.muF(z.lang);if(z.theme!=null)r.Q_=z.theme;
if(z.topt||r.xX){var E=z.topt?z.topt:{},F=r.xX?r.xX:{};for(var U in this.sI.map){if(U>=100)continue;
var l="t"+U;this.sI.map[U].R.hn(E[l],F[l],this)}}};PF.prototype.dQ=function(){if(this.bG.AW)return;this.bG.AW=!0;
var z=null,r=window.location.href,k=r.indexOf("="),L=r.indexOf("#");if(k!=-1)z=r.substring(r.indexOf("?")+1,k);
if(L!=-1){z="p";k=L}if(z=="p"||z=="state"){var E=r.substring(k+1,r.length);E=JSON.parse(decodeURI(E));
if(z=="p"){if(E.server)this.ju=E.server;if(E.resources)for(var F=0;F<E.resources.length;F++)this.OL.$a({url:E.resources[F]});
if(E.files)for(var F=0;F<E.files.length;F++)this.OL.$a({url:E.files[F],j_:{uZ:E.server,Hz:E.script}});
if(E.environment==null)E.environment={};var U=E.environment;if(U.plugins!=null)this.Bm.mm$(U.plugins);
if(U.localsave!=null)this.bG.uY=U.localsave;if(U.vmode!=null){var l=U.vmode;if(l==1)this.bG.compact=!0;
if(l==2)this.dd()}if(U.intro!=null)this.bG.WA=U.intro;if(U.menus!=null)this.bG.mcb=U.menus;if(U.tmnu!=null)this.bG.xX=U.tmnu;
if(U.showpanels!=null)this.bG.mci=U.showpanels;if(U.showtools!=null)this.bG.rB=U.showtools;if(U.phrases!=null)zA.mGf(U.phrases);
if(U.autosave!=null){window.setInterval(function(){var P=new D(Y.E.D);P.data={J:Y.Q.Uj};this.K(P)}.bind(this),U.autosave*1e3)}if(U.icons!=null){for(var G in U.icons){PIMG[G]=U.icons[G];
PIMG["__"+G]=!0}}this.dM(U)}else if(z=="state"){var g=this.OL;if(E.action=="create"){var P=new D(Y.E.D);
P.data={J:Y.Q.nP,Hw:"newproject",t$:E.folderId};this.K(P)}if(E.action=="open"){for(var F=0;F<E.ids.length;
F++)zZ.mh(function(){var J="https://www.googleapis.com/drive/v3/files/"+this.mcY+"?"+zZ.mR(),x=new XMLHttpRequest;
x.open("GET",J);x.send();x.onload=function(a){var d=JSON.parse(a.target.response);g.$a({url:J+"&alt=media",name:d.name,JO:{file:d,cz:""}})}}.bind({mcY:E.ids[F]}));
alert("Loading files from Google Drive ...")}}}else{}};PF.prototype.p=function(){this.MN.p();this.Bm.p();
this.Or.p();this.kd.p();this.k$.p();for(var z in this.sI.map)if(this.sI.map[z].Fo)this.sI.map[z].Fo.p()};
PF.prototype.du=function(){return Y.Uu[Y.UE("ptih|ryy",4)][Y.UE("q|pr",9)].indexOf("full")!=-1};PF.prototype.Xo=function(z,r){z=Math.floor(z);
r=Math.floor(r);var k=document.getElementsByClassName("topfloat")[0],L=!this.bG.fZ||zh.JU()!=null&&zh.JU().premium*1e3>Date.now()||this.du()||z<500;
if(L){if(window.hideCap)window.hideCap()}else z-=0;if(z<900||!this.bG.fZ)k.style.display="none";else k.style.display="";
if(L&&this.lH){this.G.removeChild(this.EH);this.EH.innerHTML="";this.lH=!1;k.style.right=0}if(!L&&!this.lH){var E=function(){var d=new D(Y.E.D);
d.data={J:Y.Q.nP,Hw:"account"};this.K(d)}.bind(this),F=!1,U=Y.d("div");U.setAttribute("id","adsense");
U.setAttribute("style","width:500px; height:500px;");document.body.appendChild(U);U=document.getElementById("adsense");
if(U==null)F=!0;else{if(!document.body.contains(U))F=!0;else if(U.getBoundingClientRect().width!=500)F=!0;
document.body.removeChild(U)}var x=this.dP()&&Math.random()<.5;
if(x){this.G.appendChild(this.Il)}else{this.G.appendChild(this.Il);}k.style.right=x?"0px":"0px";
this.EH.style.paddingLeft=x?"0px":"15px";this.EH.style.paddingRight=!x?"0px":"15px";this.lH=!0}var a=r-(this.MN.nq()+1)-Math.max(this.My.nq()-1,0);
this.EH.style.height=r-3+"px";this.Or.Xo(z,a);this.Bm.Xo(z,a);this.k$.Xo(z-this.Or.nC()-this.Bm.nC(),a);
this.zc.Xo(z,r);this.kd.Xo(z,r)};PF.prototype.mli=function(z){for(var r=0;r<this.kn.length;r++)if(this.kn[r].qB())return"There is unsaved work in "+this.kn[r].name};
PF.prototype.dE=function(z){var r=window.innerWidth,k=window.innerHeight;this.Xo(r,k)};PF.prototype.mlX=function(z){console.log("systemCopy")};
PF.prototype.mlZ=function(z){console.log("systemPaste");if(!z.clipboardData)return;var r=z.target.tagName.toLowerCase();
if(this.ds.indexOf(r)!=-1)return;var k=z.clipboardData.items;if(k==null)return;var L=this.mEL.bind(this);
if(this.kn.length==0)L=null;for(var E=0;E<k.length;E++){var F=k[E],U=F.getAsFile();if(F.type.indexOf("text")!=-1){F.getAsString(this.mlw.bind(this))}if(F.type.indexOf("image")!=-1){var l=U;
if(l){l.name="image.png";this.OL.$B([l],L)}}}};PF.prototype.mlw=function(z){if(z.startsWith("http")){if(z==this.mck)return;
this.mck=z;var r=new D(Y.E.D,!0);r.data={J:Y.Q.Ui,Hq:{url:z,EB:!0}};this.K(r)}};PF.prototype.mEL=function(z,r){var k={buffer:z,rect:r};
if(this.bg)if(e.Jq(k.buffer,this.bg.buffer)){return}if(this.eC){var L=new D(Y.E.q,!0);L.R=A.TO;L.data={J:"h_stepbck"};
this.K(L)}this.bg=k;this.eC=k;var L=new D(Y.E.D,!0);L.data={J:Y.Q.nS};this.K(L)};PF.Rf=function(z){z.stopPropagation();
z.preventDefault()};PF.prototype.dB=function(){if(Date.now()-this.rv>1e3){if(this.kd.Hv()!=null)alert("Close the current window first.");
else alert("Escape or Confirm the current action (in the top menu).");this.rv=Date.now()}};PF.prototype.hh=function(z){var r=this.dr();
if(r==null){alert("Open a document first.");return}var k=this.sI;if(k.OC!=z.R&&k.map[k.OC].R.hr()&&z.R!=A.TT&&z.R!=A.TR){k.map[k.OC].R.disable(r,this,this.bG,this.Ov)}if(this.kd.hr()&&z.O_!=!0){this.dB();
return}var L=this.sI.map[z.R].R;L.hh(z.data,this,r,this.Ov,this.bG);r.Fl=!0};PF.prototype.dA=function(z){var r=z.data.J;
if(r==Y.Q.ny){this.dX(z.data.mcG)}if(r==Y.Q.nB){this.p();this.dE()}if(r==Y.Q.Us)this.dE();if(r==Y.Q.nR)if(this.bG.tp){this.bG.tp.prompt();
this.bG.tp=null}if(r==Y.Q.Ut)this.zc.mKm(z.data);if(r==Y.Q.U$)this.zc.mWG(z.data);if(r==Y.Q.rQ)this.zc.mca(z.data.mE);
if(r==Y.Q.nh)this.zc.mcB(z.data.mE);if(r==Y.Q.Ud)this.zc.$M();if(r==Y.Q.UH)this.k$.Xw(z.data.ji,z.data.push);
if(r==Y.Q.Ub)this.k$.$f();if(r==Y.Q.nN)this.k$.$H(this.kn.indexOf(z.data.$I));if(r==Y.Q.nw){var k=this.dr(),L=e.clone(k.Ce()),E=k.a[k.L[0]],F=new Z(0,0,k.X,k.z),U=mM.Ck()+"-d71c-11e5-b1ae-a548a96e5f9f",l=new D(Y.E.D,!0);
if(z.data.Hq==0){var G={iy:F,name:k.name.split(".")[0],bT:L,id:U};l.data={J:Y.Q.na,j_:"add",Hq:zB.yH,ua:[G]};
this.K(l)}if(z.data.Hq==1){var g=e.$(F.Y()*4);e.JV(g,4294967295);e.M.Py("norm",L,F,g,F,F,1);var P=e.$(F.Y());
e.JB(g,P);e.Jo(P);var J=e.PM(P,F),x=e.$(J.Y());e.Jp(P,F,x,J);var a={iy:J,id:U,channel:x},d=mE.oI(U),t=d.Brsh.v;
t.Dmtr.v.val=J.X;t.Spcn.v.val=10;l.data={J:Y.Q.na,j_:"add",Hq:zB.he,ua:{list:[{t:"Objc",v:d}],Yd:[a],YH:[]}};
this.K(l);l.data={J:Y.Q.na,Hq:zB.yf,op:d};this.K(l)}if(z.data.Hq==2){var m={kS:E.getName(),Yf:U,km:new Z(0,0,k.X,k.z),A:E.add.vmsk.clone().A};
e.f.Qk(m.A,new zT(1/k.X,0,0,1/k.z,0,0));l.data={J:Y.Q.na,j_:"add",Hq:zB.yb,ua:[m]};this.K(l)}}if(r==Y.Q.Ui)this.OL.$a(z.data.Hq);
if(r==Y.Q.UD)this.OL.mQx(z.data.mzV?this.k$.$n():null);if(r==Y.Q.UY){if(!this.bG.uY){alert("function is disabled");
return}var k=this.dr();if(k.jC){k.qx()}if(k.a.length>8e3&&!confirm("Your document has "+k.a.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var b=zh.JU()!=null&&zh.JU().premium*1e3>Date.now(),I=k.Ct()||k.cX&&k.cX.WW.Ct();if(this.du())I=!1;var v=new Y.Uu[(Y.Ul("Gc"+(Y.UK(31)?"ue":"ve"),-3))]()[Y.UE("edtNkqyykz",-2)]();
if(I&&!b&&v>2*15){Y.Uu[Y.Ux("clh]]c[",3)](Y.Ux("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-v+4*15)+Y.Ux(" rs}\x89\x8D\x83\x96V",-5));
return}var L=zc.PSD.mn(k);Pj.save(L,k.name);k.CN=k.Fa;k.eJ=!0}if(r==Y.Q.nV){var W=z.data.mGW,B=this.dh(W);
if(W==zB.yd){var F=new mM;for(var n=0;n<B.length;n++){var j=B[n].Ye.Lefx;if(j)mK.ol(j,F,this.bG.QB)}B={Yk:F.add.Patt?F.add.Patt:[],Yj:B}}var p=zB.VK[W],L=p[2].lN(B);
Pj.save(L,p[1]+"."+p[0])}if(r==Y.Q.Uk){var k=this.dr();if(k==null)return;if(k.jC){k.qx()}var X=zc.mU(k,"png");
this.OL.ma$(X)}if(r==Y.Q.Uj){var k=this.dr(),M=!1;if(k==null)return;if(k.jC){k.qx()}if(k.cX){if(this.kn.indexOf(k.cX.WW)!=-1){var L=new Uint8Array(zc.PSD.mn(k)),l=new D(Y.E.q,!0);
l.data={J:T.ZN,ed:k.cX.WW,data:L,id:k.cX.ra};l.R=A.T_;this.K(l);alert("Smart Object updated")}M=!0}else if(k.JO){this.OL.maK(k);
M=!0}else if(k.j_&&k.j_.uZ){this.OL.mxr(k);M=!0}else if(z.data.Lh){this.OL.mQQ(k,z.data.Lh);M=!0}if(M){k.CN=k.Fa;
k.eJ=!0}else alert("Use File - Save as PSD")}if(r==Y.Q.nc)window.open(z.data.link,"_blank");if(r==Y.Q.Uf){if(this.kd.hr()){this.dB();
return}var k=this.dr(),E=k.a[k.L[0]],H=k.qK(E.add.SoLd.Idnt.v);for(var n=0;n<this.kn.length;n++){var c=this.kn[n].cX;
if(c!=null&&c.ra==H.ic&&c.WW==k){this.k$.$b(n);return}}Pj.$O({name:H.YT,cX:{ra:E.add.SoLd.Idnt.v,WW:k}},H.raw.buffer,this)}if(r==Y.Q.Ue){this.mEz()}if(r==Y.Q.Ug){this.dR(!1,z.data.eO)}if(r==Y.Q.UF){this.dR(!0)}if(r==Y.Q.nS){this.mxc(z.data.mzl)}if(r==Y.Q.nT){mT.LH(z.data.pC,this)}if(r==Y.Q.nJ)this.Bm.HP(z.data.Hw);
if(r==Y.Q.nP){if(!this.bG.uY&&z.data.window=="saveforweb"){alert("function is disabled");return}this.kd.HX(z.data.Hw,this.dr(),z.data,this.kn,this.Ov)}if(r==Y.Q.nz)Pj.save(z.data.data,z.data.name);
if(r==Y.Q.nG){if(!this.kd.hr()||z.O_)this.mQq(z.data.ed)}if(r==Y.Q.nM){this.kd.HX("rawpea",null,z.data,this.kn,this.Ov)}if(r==Y.Q.nW){this.k$.$b(z.data.target);
var l=new D(Y.E.q,!0);l.data={J:T.Zy,ed:z.data.ed,WY:z.data.WY,gK:z.data.gK};l.R=A.T_;this.K(l);this.dZ(A.Tw)}if(r==Y.Q.nQ){o.KH=!o.KH;
if(this.kn.length>0)this.dr().N()}if(r==Y.Q.muQ){this.dW()}if(r==Y.Q.nu){this.OL.$B(z.data.data,null,z.data.hc,z.data.CH)}if(r==Y.Q.nK){if(!this.kd.Hv()!=null)this.dZ(z.data.R,z.data.HO)}if(r==Y.Q.nE){if(this.sI.$G)this.dZ(this.sI.$G)}if(r==Y.Q.nl){var S=this.sI.map[z.data.R].R,k=this.dr();
S.hZ(z.data,this,k,this.Ov,this.bG);if(k)k.Fl=!0;this.dV()}if(r==Y.Q.nx){this.sI.map[z.data.R].Fo.pv(z.data)}if(r==Y.Q.na){var w=z.data.Hq,R=z.data.ua,i=this.bG;
if(z.data.j_=="add"){var p=zB.VK[w];if(p==null)i.bQ.mEm(R);else{var f=this.dh(w);if(w==zB.he){f.Yd=f.Yd.concat(R.Yd);
f.YH=f.YH.concat(R.YH);f=f.list;R=R.list}for(var n=0;n<R.length;n++)f.push(R[n]);if(f.length!=R.length||w==zB.yi||w==zB.yd)alert(zA.get(p[3])+" "+zA.get([23,1])+".")}}if(z.data.j_=="del"){var p=zB.VK[w],_=z.data.ie,f=this.dh(w);
if(w==zB.he)f=f.list;for(var n=0;n<_.length;n++)f[_[n]]=null;for(var n=0;n<f.length;n++)if(f[n]==null){f.splice(n,1);
n--}alert(zA.get(p[3])+" deleted.")}if(w==zB.yk){var u=z.data.u;i.Fj=u;i.pp[u.YR]=u.OF}if(w==zB.yj){var u=z.data.u;
i.Fk=u;var Q=u.strokeEnabled.v,$=u.strokeStyleContent.v,C=Q?{YR:1+K.qk.qe.indexOf($.classID),OF:$}:{YR:0};
i.LC[C.YR]=C.OF}if(w==zB.yY){i.gT=z.data.gT}if(w==zB.yf){i.fu.fE=z.data.op}if(w==zB.ye){i.PU=z.data.FW}if(w==zB.yg){if(z.data.eL==0)i.fh=z.data.u;
if(z.data.eL==1)i.fT=z.data.u;if(z.data.eL==2){var y=i.fh;i.fh=i.fT;i.fT=y}if(z.data.eL==3){i.fh=16777215;
i.fT=0}}if(w==zB.yF){i.Fu=!i.Fu;this.dE()}var N=i.gF;if(w==zB.Vz){N._z=!N._z;this.dE()}if(w==zB.VJ){N.YI=!N.YI;
this.dE()}if(w==zB.VP){N.Fy=!N.Fy;this.dE()}if(w==zB.VG){N.tl=!N.tl;this.dE()}if(w==zB.Vm){i.gF=z.data.FW;
this.dE()}if(w==zB.VW){i.FR=!i.FR;this.dE()}if(w==zB.VM){i.Fw[z.data.Hn]=!i.Fw[z.data.Hn];this.dE()}if(w==zB.VQ){zA.mM_(z.data.lang);
this.p()}if(w==zB.Vu){i.Q_=z.data.Q_;this.p()}this.dy(w)}};PF.prototype.dh=function(z){var r=this.bG,k=[zB.he,zB.yp,zB.y$,zB.yH,zB.yb,zB.yd,zB.yi],L=[r.fu,r.$x,r.or,r.QB,r.Mj,r.ja,r.RY];
return L[k.indexOf(z)]};PF.prototype.mEz=function(){this.dR();var z=this.dr();if(z==null)return;var r=z.a[z.L[0]],k=new D(Y.E.q);
if(r.TV){k.R=A.Tl;k.data={J:"remove",HZ:"Cut Paths"}}else{k.R=A.TS;k.data={J:"clear"}}this.K(k)};PF.prototype.dR=function(z,r){if(z==null)z=!1;
console.log("doCopy",z,r);var k=this.dr();if(k==null)return;var L=k.a[k.L[0]],E=L.add.vmsk;if(!z&&E&&(L.TV||L._N())&&E.L.length!=0){this.JG=e.f.mPK(E.A,E.L)}else if(r!=null){L=k.a[r];
var F=L.rect.clone(),U=L.buffer.slice(0);this.eC={buffer:U,rect:F,jg:new V(k.X,k.z)}}else{if(k.i==null)return;
var U,F;if(z){var l=new Z(0,0,k.X,k.z);F=l.Mk(k.i.rect);U=e.$(F.Y()*4);e.Jb(k.Ce(),l,U,F);e.JF(k.i.channel,k.i.rect,U,F)}else{var G=L._n(k,k.i);
if(G==null){alert("Copied area is empty");return}U=G.gw;F=G.rect}this.eC={buffer:U,rect:F,jg:new V(k.X,k.z)}}};
PF.prototype.mxc=function(z){if(z==null)z=!1;console.log("doPaste");if(this.kn.length>0){var r=this.dr(),k=r.a[r.L[0]],L=k.add.vmsk,E=new D(Y.E.q,!0);
if(this.JG!=null&&L&&(k.TV||k._N())){E.R=A.Tl;E.data={J:"append",HZ:"Paste Paths",FF:this.JG}}else{if(this.eC==null)return;
if(k.B>0||z){E.R=A.TS;E.data={J:"paste"}}else{E.R=A.T_;E.data={J:T.Cm}}E.data.eC=this.eC}this.K(E)}};
PF.prototype.dN=function(){for(var z=0;z<this.kn.length;z++){var r=this.kn[z],k=!0,G="\t\t\tvar originalStem = app[\"active\"+\"Document\"].activeLayer;\t\t\t\t\t\tvar stemsAmount = 12;\t\t\tvar obj = {a:3, b:4};\t\t\tobj.a = obj.b + 3;\t\t\tfunction change(x) {  var loc = x;  loc += 4;  if(true) return loc*2;  }\t\t\tvar nv = change(3);\t\t\talert(change(6));\t\t\tvar pps = {\"a\":3,\"b\":4,\"c\":5};\t\t\tfor(var p in pps) alert(p);\t\t\tvar rnd=Math.random;\t\t\t\t\t\tvar angle = Math.floor(360 / stemsAmount);\t\t\tvar arr = [angle, angle];\t\t\talert(\"Hi from PP Script!\");\t\t\tvar narr = arr.slice(0);\t\t\t\t\t\tfor(var i = 1; i < stemsAmount; i++)\t\t\t{\t\t\t\tvar newStem = originalStem.duplicate();\t\t\t\t/*newStem.translate(-100+rnd()*200, -100+Math.random()*200);*/\t\t\t\tnewStem.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\t\t\t}\t\t\t//app.activeDocument.save();\t\t\t";
if(r.dD)continue;for(var L=0;L<r.a.length;L++){var E=r.a[L],F=E.add.TySh;if(F!=null&&!ma.ry(F,this.bG.bQ))k=!1}if(!k)continue;
if(r.ku)for(var L=0;L<r.a.length;L++){var E=r.a[L],F=E.add.TySh;if(F!=null&&ma.ry(F,this.bG.bQ)){var U=new mc(F.Yc,this.bG.bQ),l=ma.rR(U,F);
E.rect=l.rect;E.buffer=l.bT;E.N();r.N()}}r.ku=!1;if(r.j_&&r.j_.Hz)mT.LH(r.j_.Hz,this);this.dJ();r.dD=!0;
G=" var myFont = app.fonts.getByName(\"Arizona\"); app.activeDocument.layers[0].textItem.font = myFont.postScriptName;";
G="app.activeDocument.activeLayer.remove();";G="app.open(\"images/outline.psd\");";G="var TextLayer = app.activeDocument;\t\t\t\t\tvar myTextLayer = TextLayer.artLayers.add();\t\t\t\t\tmyTextLayer.kind = LayerKind.TEXT;\t\t\t\t\tvar myText = myTextLayer.textItem;\t\t\t\t\tmyText.size = 70;\t\t\t\t\tmyText.contents = \"Lorem Ipsum Text Boop\";\t\t\t";
G="function Point(x,y) {  this.x = x; this.y = y;  }";G="app.activeDocument.activeLayer.convertToSO();"}};
PF.prototype.dy=function(z){if(z==zB.yf){if(this.sI.map[this.sI.OC].Fo)this.sI.map[this.sI.OC].Fo.hC(this.bG,z)}else for(var r in this.sI.map)if(this.sI.map[r].Fo)this.sI.map[r].Fo.hC(this.bG,z);
if(z==zB.yD)this.dN();this.Or.hC(this.bG,z);this.kd.hC(this.bG,z);this.dC().hC(this.bG,z);this.Bm.hC(this.bG,z);
this.MN.hC(this.bG,z);if(this.kn.length>0)this.dr().Fl=!0;if(z==zB.Vu||z==zB.yt){mN.nO(this.bG.Q_);this.update(!0)}this.dV()};
PF.prototype.dV=function(){if(!this.LK)return;var z={},r=this.sI.map;for(var k in r){var L=r[k].R;if(L.hU&&L.hU()!=null)z["t"+k]=L.hU()}var E=this.bG,F=E.gF,U={fcolor:E.fh,bcolor:E.fT,rulers:E.Fu,favFam:E.PU,eparams:{guides:F.YI,grid:F.Fy,paths:F._z,pgrid:F.tl,gsize:F.FN,runits:F.gg},lang:zA.ml(),theme:E.Q_,topt:z},l=zh.mJ();
if(l==null)l={};l.globals=U;zh.mP(l)};PF.prototype.dO=function(){var z=this.Ov,r=this.ou,k=this.sI.map[this.sI.OC].R,L=null;
for(var E=0;E<this.sI.AM.length;E++){var F=this.sI.AM[E],U=!0;for(var l=0;l<F.Ha.length;l++){var G=F.Ha[l];
if(!z._(G))U=!1}if(U&&(!F.tv||!k.hr()))L=F.R}if(!r.fe&&this.sI.uD!=L&&L!=this.sI.OC){this.sI.uD=L;var g=this.dr();
this.dC().enable(g,this,this.bG,this.Ov,L!=null&&L!=this.sI.OC)}};PF.prototype.d_=function(z){var r=this.sI.OC,k=this.dr();
if(r!=null){this.sI.map[r].R.disable(k,this,this.bG,this.Ov)}};PF.prototype.dZ=function(z,r){var k=this.dr();
if(this.sI.map[z].R.hL(k,this.bG)){this.d_();this.sI.$G=this.sI.OC;this.sI.OC=z;this.Or.IJ(this.sI);
var L=this.sI.map[z].Fo;this.My.mmR(L);var E=this.sI.map[z].R;E.enable(k,this,this.bG,this.Ov,!1,r);
if(k)k.Fl=!0;this.dE()}};PF.prototype.dC=function(z){if(this.sI.uD&&z==null)return this.sI.map[this.sI.uD].R;
else return this.sI.map[this.sI.OC].R};PF.prototype.mQq=function(z){var r=this.kn.indexOf(z);if(r!=-1){this.k$.$b(r);
return}if(this.ju&&(z.j_==null||z.j_.uZ==null)){z.j_={uZ:this.ju};z.aC="local,"+this.LQ+","+z.name;this.LQ++}for(var k=0;
k<z.a.length;k++){var L=z.a[k];if(L.add.TySh!=null)ma.ry(z.a[k].add.TySh,this.bG.bQ)}var E=Y.Uu[Y.Ul("Gc"+(Y.UK(29)?"ue":"ve"),-3)];
E=E[Y.Ul("jj"+(!Y.UK(27)?"p":"q"),4)];var F=Math.floor(E()/1e3),U=(Y.UK(32)?2:1)*7e8+Math.PI*45231303;
if(F>U){z.a=[];return}if(o.KH)o.mKB(Math.max(z.X,z.z));z.qV();z.qN();z.N();this.kn.push(z);this.k$.$s(new Jg(z));
z.Fl=!0;this.dN();var l=new D(Y.E.D);l.data={J:Y.Q.nP,Hw:"saveforweb",KG:5};var l=new D(Y.E.q);l.R=A.Ty;
l.data={J:"auto",Ho:2}};PF.prototype.dr=function(){return this.kn[this.rN]};PF.prototype.dL=function(){return this.kd.Hv()==null};
PF.prototype.dU=function(z){this.d_();this.rN=this.k$.$n();var r=this.dr();this.MN.mSV(r,this.bG);this.Bm.IJ(r,this.kn);
this.dE();if(r)r.Fl=!0};PF.prototype.mWj=function(z){this.d_();this.kn.splice(this.k$.muf(),1);if(this.kn.length==0){this.dU(z);
if(o.KH)o.Ke().parentNode.removeChild(o.Ke())}};PF.prototype.mWq=function(z){var r=this.k$,k=r.$d(),L=this.dC(),E=this.dr();
if(k==r.$n()||!L.hv())return;this.dX(k,L)};PF.prototype.dX=function(z,r){var k=this.k$,L=this.dr(),E=new D(Y.E.q,!0);
E.R=A.T_;E.data={J:T.Zf,a:L.qR(),WW:L,bc:this.kn[z]};this.K(E);if(r)r.hX(L,this,this.bG,this.Ov);k.$b(z);
if(r)r.hT(this.dr(),this,this.bG,this.Ov,this.ou)};PF.prototype.dI=function(z){var r=this.Ov,k=this.bG,L=z.FE;
this.ou=z.FE;var E=this.dr(),F=this.kd.Hv()!=null&&this.kd.Hv().IS()?this.kd.Hv():this.dC();if(z.action=="down")F.hT(E,this,k,r,L);
if(z.action=="move")F.hR(E,this,k,r,L);if(z.action=="up")F.hw(E,this,k,r,L);if(z.action=="ctx")F.hN(E,this,k,r,L);
var U=this.Bm;if(z.action=="down")U.hT(E,this,k,r,L);if(z.action=="move")U.hR(E,this,k,r,L);if(z.action=="up")U.hw(E,this,k,r,L);
if(z.action=="down"||z.action=="up"){this.dO()}if(z.action=="down"||z.action=="up"||z.action=="ctx"){E.Fl=!0}if(z.action=="scroll"){var l=new D(Y.E.q,!0),G=z.et.clone();
if(Math.abs(G.x)+Math.abs(G.y)<=2){G.x*=40;G.y*=40}l.data={J:"scroll",et:G,FE:L};l.R=r._(s.V_)?A.TR:A.TT;
this.K(l)}};PF.prototype.Xe=function(z){var r=this.dr(),k=this.ou;if(r&&this.dC().ho(k)){var L=r.t,E=L.l.X,F=L.l.z,U=0,l=0,G=16;
if(k.x<G)U=G-k.x;if(k.x>E-G)U=k.x-(E-G);if(k.y<G)l=G-k.y;if(k.y>F-G)l=k.y-(F-G);if((U!=0||l!=0)&&(r.X*L.o>E||r.z*L.o>F)){U=Math.min(5,U*.5);
l=Math.min(5,l*.5);if(!(k.x<G||k.y<G)){U=-U;l=-l}L.V.x+=U;L.V.y+=l;this.dI({FE:this.ou,action:"move"});
r.ep=!0}}this.update();window.requestAnimationFrame(this.AJ)};PF.prototype.update=function(z){var r=this.dr();
if(r==null)return;if(r.Fl)this.dC(!0).hV(r,this,this.bG,this.Ov);if(r.jC){r.qx()}if(r.jC||r.fX||r.eJ||r.ep||z){this.k$.hC(this.bG,null);
this.k$.IJ(r)}if((r.jC||r.ep||r.Fl)&&(!this.ou.fe||r.Fx)){r.qN();this.Bm.IJ(r,this.kn);this.Or.mcH(r);
r.gB=!1}r.Fx=!1;r.Fl=!1;r.jC=null;r.fX=r.eJ=r.ep=!1};PF.prototype.ds=["input","textarea","select"];PF.prototype.dt=function(z){var r=z.code,k=s.VB;
return!k(r,s.VZ)&&!k(r,s.VO)&&!k(r,s.V_)};PF.prototype.nk=function(z){var r=z.target.tagName.toLowerCase();
if(this.ds.indexOf(r)!=-1&&this.dt(z)||r=="button"&&(s.VB(z.code,s.VR)||s.VB(z.code,s.Vq)))return;if(s.VA(z)){z.preventDefault()}this.Ov.VE(z.code);
this.hy("down")};PF.prototype.dp=function(z){var r=z.target.tagName.toLowerCase();if(this.ds.indexOf(r)!=-1&&this.dt(z))return;
if(s.VA(z)){z.preventDefault()}this.Ov.Vl(z.code);this.hy("up")};PF.prototype.hy=function(z){var r=this.Ov,k=this.dr();
this.dO();var L=this.d$(s.VO);if(L&&r._(s.Ox)){var E=new D(Y.E.q),F=new D(Y.E.D);E.R=A.TO;if(r._(s.V_)){E.data={J:"h_stepbck"}}else if(r._(s.Vy)){E.data={J:"h_stepfwd"}}else{E.data={J:"h_undoredo"}}if(this.kd.Hv()!=null&&this.kd.Hv().hr()){}else this.K(E)}if(L){var E=new D(Y.E.q),F=new D(Y.E.D);
if(r._(s.mQa)){E.R=A.hi;E.data={J:"trim"}}if(r._(s.Q)){E.R=A.hs;E.data={J:"all"}}if(r._(s.P_)){E.R=A.hs;
E.data={J:"deselect"}}if(r._(s.EX)){E.R=A.TC;E.data={J:"applylast"}}if(r._(s.Vg)){E.R=A.T_;E.data={J:T.CR}}for(var U in mm.keys){var l=mm.keys[U],G=!0;
for(var g=0;g<l.length;g++)if(!r._(l[g]))G=!1;if(G){E.R=A.Ty;E.data={J:"start",MK:U}}}if(r._(s.Ve)&&r._(s.Vy)){E.R=A.hs;
E.data={J:"inverse"}}if(r._(s.OJ)){F.data={J:Y.Q.nP,Hw:"newproject"}}if(r._(s.OP)){F.data={J:Y.Q.UD};
r.reset()}if(r._(s.OM)&&z=="down"){if(r._(s.Vy)){if(r._(s.V_))F.data={J:Y.Q.nP,Hw:"saveforweb"};else F.data={J:Y.Q.UY}}else F.data={J:Y.Q.Uj}}if(r._(s.c)){F.data={J:Y.Q.nK,R:A.Tw}}if(r._(s.VF)){F.data={J:Y.Q.nP,Hw:"preferences"}}if(r._(s.OE)){F.data={J:Y.Q.Ue}}if(r._(s.yI)){F.data={J:r._(s.Vy)?Y.Q.UF:Y.Q.Ug}}if(r._(s.Ou)){F.data={J:Y.Q.nS}}if(r._(s.mmL)){F.data={J:Y.Q.na,Hq:zB.yF}}if(r._(s.Vj)){if(r._(s.V_)&&k.Cb(k.L[0])){E.R=A.T_;
E.data={J:T.Ze}}else{E.R=A.T_;E.data={J:T.Cz}}}if(z=="down"&&r._(s.E)){E.R=A.T_;if(k.L.length==1&&k.L[0]!=0&&!k.a[k.L[0]]._w())E.data={J:T.Z_};
else if(k.L.length>1)E.data={J:T.ZZ}}if(r._(s.Vs)){F.data={J:Y.Q.na,Hq:zB.VJ}}if(r._(s.Vt)){F.data={J:Y.Q.na,Hq:zB.VP}}if(r._(s.VX)||r._(s.Vp)){E.R=A.TR;
E.data={J:"zoom",HU:!0}}if(r._(s.VI)){E.R=A.TR;E.data={J:"zoom",HU:!1}}if(r._(s.Oa)){E.R=A.TR;E.data={J:"adapt",u:"fitscr"}}if(r._(s.Oc)){E.R=A.TR;
E.data={J:"adapt",u:"pixel"}}if(this.kd.Hv()!=null&&this.kd.Hv().hr()){}else{if(E.data)this.K(E);if(F.data)this.K(F)}}if(!r._(s.VO)&&!r._(s.V_)&&!r._(s.Vy)){var E=new D(Y.E.q),F=new D(Y.E.D),P=this.sI.map[this.sI.OC],J=-1;
for(var g=0;g<this.sI.keys.length;g++)if(this.sI.keys[g]&&this.d$(this.sI.keys[g]))J=g;if(J!=-1){var x;
if(P.Mw!=J)x=0;if(P.Mw==J)x=(P.mcT+1)%this.sI.Wu[J].length;var a=this.sI.Wu[J][x].R.id,d=this.bG.rB;
if((d==null||d.indexOf(parseInt(a))!=-1)&&!this.ou.fe)F.data={J:Y.Q.nK,R:a}}if(r._(s.OE))F.data={J:Y.Q.na,Hq:zB.yg,eL:2};
if(r._(s.P_))F.data={J:Y.Q.na,Hq:zB.yg,eL:3};if(F.data)this.K(F);var t=r.Vc();if(t!=-1&&this.d$(s.OV[t])){var m=k.L[0],b=k.a[m],I=Y.UB(Math.round(100*b.opacity/255),t);
E.R=A.T_;E.data={J:T.Zt,C:m,FW:Math.round(255*I/100)};this.K(E)}}if(!r._(s.VO)&&!r._(s.V_)&&r._(s.Vy)){var E=new D(Y.E.q),F=new D(Y.E.D);
if(r._(s.mKQ))F.data={J:Y.Q.nP,Hw:"shortcuts"};if(r._(s.mQj))F.data={J:Y.Q.nP,Hw:"fill"};if(r._(s.VX)||r._(s.VI)){var m=k.L[0],b=k.a[m],v=mP._l,W=v.length,B=v.indexOf(b.DD);
E.R=A.T_;E.data={J:T.Zs,FW:(B+W+(r._(s.VX)?1:-1))%W};this.K(E)}if(F.data)this.K(F)}if(r._(s.Vq))this.dd();
var E=new D(Y.E.q),n=z=="down"&&(this.d$(s.Vd)||this.d$(s.V$));if(r._(s.V_)&&n){E.R=A.TS;E.data={J:"fill",YR:0};
this.K(E)}else if(L&&n){E.R=A.TS;E.data={J:"fill",YR:1};this.K(E)}else if(n){if(k.i!=null){E.R=A.TS;
E.data={J:"clear"}}else{E.R=A.T_;E.data={J:T.ZT}}this.K(E)}var k=this.dr();if(this.kd.Hv()!=null){if(r._(s.VZ)){this.kd.Hv().IW()}else{this.kd.Hv().hy(k,this,this.bG,r)}}if(this.sI.OC==null)return;
var P=this.dC();if(!this.kd.Hv()!=null||this.sI.uD)P.hy(k,this,this.bG,r)};PF.prototype.d$=function(z){var r=this.Ov,k=this.sI.map[this.sI.OC].R,top=this.kd.Hv();
return r._(z)&&!k.hq(z)&&(top==null||!top.hq(z))};PF.prototype.dd=function(){var z=this.mcp,r=this.Il;
if(this.jx==0){r.removeChild(this.My.G);z.removeChild(this.Or.G);z.removeChild(this.Bm.G)}else{r.appendChild(this.My.G);
r.appendChild(z);z.appendChild(this.Or.G);z.appendChild(this.k$.G);z.appendChild(this.Bm.G)}this.jx=!this.jx;
this.dE()};function zS(z){my.call(this);if(z==null)return;this.G=Y.d("div","sbar"+" "+z);this.lb=new Y.d("div","top");
this.lb.innerHTML="> <";this.G.appendChild(this.lb);this.uk=1;this.lb.addEventListener("click",this.maC.bind(this),!1)}zS.prototype=new my;
zS.prototype.maC=function(z){if(this.uk==0)this.$X();else this.collapse()};zS.prototype.db=function(){this.uk=1-this.uk;
this.lb.innerHTML=this.uk==0?"< >":"> <"};zS.prototype.di=function(){var z=new D(Y.E.D,!0);z.data={J:Y.Q.Us};
this.K(z)};zS.prototype.$X=function(){this.db();this.di()};zS.prototype.collapse=function(){this.db();
this.di()};function zm(z){zS.call(this,"vcolumn");this.xw=z;this.dg();this.lY=Y.d("div");this.lY.setAttribute("style","cursor:default;");
this.mBm=this.mJf.bind(this);this.pD=this.mJd.bind(this);this.rx=this.mJX.bind(this);Y.UA(this.G,this.mBm);
this.G.appendChild(this.lY);this.ae=Y.d("div","");this.lY.appendChild(this.ae);this.uf=null;this.ue=Y.d("div","float");
this.Bw=[];this.rl=null;this.rK=0}zm.prototype=new zS;zm.prototype.mJf=function(z){if(z.target!=this.G)return;
if(this.uk==0)return;this.rl=Y.U_(z,document.body);this.rK=this.xw;Y.Uh(document,this.pD);Y.UT(document,this.rx)};
zm.prototype.mJd=function(z){var r=Y.U_(z,document.body);this.xw=this.rK+this.rl.x-r.x;this.dg();var k=new D(Y.E.D,!0);
k.data={J:Y.Q.Us};this.K(k)};zm.prototype.mJX=function(z){Y.Uw(document,this.pD);Y.UN(document,this.rx)};
zm.prototype.mJB=function(z){z.U("showFloat",this.mJx,this);z.U("hideFloat",this.de,this);this.Bw.push(z);
z.parent=this;this.lY.appendChild(z.G)};zm.prototype.$U=function(){for(var z=0;z<this.Bw.length;z++)this.Bw[z].$U()};
zm.prototype.mJx=function(z){this.de(z);this.ae.appendChild(this.ue);this.uf=z.currentTarget.$_;this.ue.appendChild(this.uf);
var r=z.currentTarget.si(),k="";if(r.x!=0)k+="width : "+r.x+"px;";if(r.y!=0)k+="height: "+r.y+"px;";
this.ue.setAttribute("style",k);this.Xo(this.Hg,this.HF)};zm.prototype.de=function(z){this.$U();if(this.uf){this.ae.removeChild(this.ue);
this.ue.removeChild(this.uf);this.uf=null}};zm.prototype.dg=function(){this.G.setAttribute("style","width: "+this.xw+"px; padding-left:3px; cursor:ew-resize;")};
zm.prototype.$X=function(){this.dg();this.de();for(var z=0;z<this.Bw.length;z++)this.Bw[z].$X();zS.prototype.$X.call(this)};
zm.prototype.collapse=function(){this.G.removeAttribute("style");for(var z=0;z<this.Bw.length;z++)this.Bw[z].collapse();
zS.prototype.collapse.call(this)};zm.prototype.Xo=function(z,r){this.Hg=z;this.HF=r;var k=this.Bw.length;
r-=6;if(k==0)return;var L=r;for(var E=0;E<k-1;E++)L-=this.Bw[E].mzx();this.Bw[k-1].Xo(z,L)};function zJ(){my.call(this);
this.gn=null;this.HW=!0;this.BE=zJ.Oz;this.G=Y.d("div","rightbar");this.MO=[new zm(380),new zm(265)];
this.Bw=[[new Pe,new Pe,new Pe,new Pe],[new Pe,new Pe]];for(var z in this.BE){var r=this.BE[z];this.Bw[r.HS][r.Hm].$s(r.dF)}this.Bw[1][0].$b(0)}zJ.prototype=new my;
zJ.prototype.p=function(){for(var z in this.BE){this.BE[z].dF.p()}};zJ.Oz={history:{dF:new Jd,HS:1,Hm:0},swatches:{dF:new Jb,HS:1,Hm:0},layers:{dF:new Jk,HS:1,Hm:1},info:{dF:new JY,HS:0,Hm:0},properties:{dF:new Je,HS:0,Hm:0},css:{dF:new JD,HS:0,Hm:0},brush:{dF:new J$,HS:0,Hm:1},character:{dF:new Ji,HS:0,Hm:2},paragraph:{dF:new Jf,HS:0,Hm:2},layercomps:{dF:new JF,HS:0,Hm:3}};
zJ.prototype.mm$=function(z){for(var r=0;r<z.length;r++){var k=z[r],L="plg_"+k.name;zJ.Oz[L]={dF:new Pm(k),HS:0,Hm:3};
this.HP(L);this.HP(L)}};zJ.prototype.hC=function(z,r){this.gn=z;for(var k in this.BE)this.BE[k].dF.hC(z,r)};
zJ.prototype.Xo=function(z,r){this.Hg=z;this.HF=r;if(this.HW==!0&&z!=0&&this.gn!=null){this.HW=!1;var k=this.gn.mci;
if(k==null)k=[1,1];for(var L=0;L<this.MO.length;L++){if(k[L]==0||k[L]==null)continue;var E=this.MO[L];
E.parent=this;this.G.appendChild(E.G);var F=this.Bw[L];for(var U=0;U<F.length;U++){if(k[L]instanceof Array&&k[L].indexOf(U)==-1)continue;
E.mJB(F[U])}}this.MO[0].collapse();if(this.Hg<500||this.gn.compact){this.MO[1].collapse()}}this.MO[0].Xo(z,r);
this.MO[1].Xo(z,r)};zJ.prototype.HP=function(z){var r=this.BE[z];this.Bw[r.HS][r.Hm].$s(r.dF)};zJ.prototype.IJ=function(z,r){for(var k in this.BE)this.BE[k].dF.IJ(z,r)};
zJ.prototype.hT=function(z,r,k,L,E){for(var F in this.BE)this.BE[F].dF.hT(z,r,k,L,E)};zJ.prototype.hR=function(z,r,k,L,E){for(var F in this.BE)this.BE[F].dF.hR(z,r,k,L,E)};
zJ.prototype.hw=function(z,r,k,L,E){for(var F in this.BE)this.BE[F].dF.hw(z,r,k,L,E)};function zP(z,r){zS.call(this,"toolbar");
this.kO=null;this.Wc=Y.d("div","tools");this.G.appendChild(this.Wc);this.jD=null;this.mBc=r;this.sI=null;
this.m=null;this.gD=null;this.zD=null;this.HG(z);this.fh=new mL;this.fh.U(Y.E.j,this.vN,this);this.fh.parent=this;
this.fT=new mL;this.fT.U(Y.E.j,this.vN,this);this.fT.parent=this;this.$W=Y.d("span","scont");this.KP=Y.d("button","switch");
this.KP.textContent="\u21F5";this.xQ=Y.d("button","switch");this.xQ.textContent="D";var k=this.mBw.bind(this);
this.KP.addEventListener("click",k,!1);this.xQ.addEventListener("click",k,!1);this.$W.appendChild(this.KP);
this.$W.appendChild(this.xQ)}zP.prototype=new zS;zP.prototype.mcH=function(z){if(z==null||z.L.length==0)return;
var r=z.a[z.L[0]].B,k=r==1||r==3;this.fh.vw(k);this.fT.vw(k)};zP.prototype.HG=function(z){this.kO=z;
this.m=[];this.gD=[];this.zD=[];this.sI=[];var r=z.Wu;if(this.jD){var k=[],L=this.jD.rB;for(var E=0;
E<r.length;E++){if(r[E]=="---"){k.push("---");continue}var F=[];for(var U=0;U<r[E].length;U++){var l=r[E][U];
if(L==null||L.indexOf(parseInt(l.R.id))!=-1)F.push(l)}if(F.length>0)k.push(F)}r=k}for(var E=0;E<r.length;
E++){if(r[E]=="---"){this.zD.push(null);this.gD.push("---");continue}var G=[],g=this.m.length;for(var U=0;
U<r[E].length;U++){var l=r[E][U].R;this.sI.push(l);var P=new zz(l.name,z.keys[E],l.jb,this.m.length,E,r[E].length>1);
this.m.push(P);if(U==0)this.gD.push(P);P.U(Y.E.j,this.nD,this);P.U("mover",this.nI,this);G.push({name:l.name,Qr:l.jb,Ha:z.keys[E]?z.keys[E].Vw:""})}if(G.length==1)this.zD.push(null);
else{var J=new mV(G);J.mBR=g;J.Mw=E;this.zD.push(J);J.U("select",this.mBK,this);J.parent=this}}};zP.prototype.Xo=function(z,r){var k=r-11,L=32;
if(1<Y.Z()&&Y.Z()<1.5)L=18+14*(1/Y.Z());var E=(this.gD.length-3)*L+3*5+61,F=Math.min(1,k/E);if(.5<=F){this.Wc.setAttribute("style","widt:34px; transform-origin: top left; transform: scale("+F+","+F+");");
this.G.setAttribute("style","height:"+(r-2)+"px; overflow:hidden")}else{this.Wc.setAttribute("style","height: "+k+"px;  width:"+Math.ceil(E/k)*34+"px");
this.G.setAttribute("style","")}};zP.prototype.p=function(){for(var z=0;z<this.m.length;z++)this.m[z].p();
for(var z=0;z<this.zD.length;z++)if(this.zD[z])this.zD[z].p();this.KP.setAttribute("title",zA.get([22,7,0])+" (X)");
this.xQ.setAttribute("title",zA.get([22,7,1])+" (D)")};zP.prototype.nD=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.nK,R:this.sI[z.id].id};this.K(r)};zP.prototype.mBK=function(z){var r=z.target.mBR+z.target.nX()[0];
this.m[r].RP(null)};zP.prototype.nI=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.Ud};this.K(r);var k=z.target,L=this.zD[k.Mw];
if(L==null)return;var E=k.G.getBoundingClientRect(),r=new D(Y.E.D,!0);r.data={J:Y.Q.Ut,dF:L,x:E.left+E.width+8,y:E.top};
this.K(r)};zP.prototype.vN=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.na,Hq:zB.yg,eL:z.target==this.fh?0:1,u:z.target.vV()};
this.K(r)};zP.prototype.mBw=function(z){var r=new D(Y.E.D,!0);r.data={J:Y.Q.na,Hq:zB.yg,eL:z.currentTarget==this.KP?2:3};
this.K(r)};zP.prototype.dZ=function(z){var r=-1;for(var k=0;k<this.sI.length;k++)if(this.sI[k].id==z)r=k;
for(var k=0;k<this.m.length;k++){var L=this.m[k];L.mET(r==k)}if(r==-1)return;this.gD[this.m[r].Mw]=this.m[r];
Y.UW(this.Wc);var E=this.gD;for(var k=0;k<E.length;k++){if(E[k]=="---")this.Wc.appendChild(Y.d("hr"));
else this.Wc.appendChild(E[k].G)}if(!this.mBc)return;this.Wc.appendChild(this.fh.G);this.Wc.appendChild(this.$W);
this.Wc.appendChild(this.fT.G)};zP.prototype.IJ=function(z){this.dZ(z.OC)};zP.prototype.hC=function(z,r){this.jD=z;
if(r==zB.yt){this.HG(this.kO);this.dZ(this.kO.OC)}this.fh.vO(z.fh);this.fT.vO(z.fT)};function zz(z,r,k,L,E,F){my.call(this);
this.uC=0;this.HM=this.mBC.bind(this);this.Mw=E;this.Bd=L;this.$k=z;this.rW=r;this.mBV=F;this.jb=k;this.G=Y.d("button","");
this.p();this.G.addEventListener("mousedown",this.Rm.bind(this),!1);this.G.addEventListener("click",this.RP.bind(this),!1);
this.G.addEventListener("mouseover",this.HM,!1);this.G.addEventListener("contextmenu",zz.Rf,!1)}zz.prototype=new my;
zz.Rf=function(z){z.stopPropagation();z.preventDefault();return!1};zz.prototype.p=function(){var z=typeof this.$k=="string"?this.$k:zA.get(this.$k),r=this.rW?" ("+this.rW.Vw+")":"";
this.G.innerHTML=Y.Uo(this.jb,z);this.G.setAttribute("title",z+r);if(this.mBV){var k=Y.d("img","gsicon");
k.setAttribute("src",PIMG["tools/corner"]);k.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.G.appendChild(k)}};zz.prototype.Rm=function(z){this.uC=setTimeout(this.HM,600)};zz.prototype.RP=function(z){clearTimeout(this.uC);
var r=new D(Y.E.j,!1);r.target=this;r.id=this.Bd;this.K(r)};zz.prototype.mBC=function(z){var r=new D("mover",!1);
r.target=this;r.id=this.Bd;this.K(r)};zz.prototype.mET=function(z){this.G.setAttribute("class",z?"toolbtn active":"toolbtn")};
function zG(){my.call(this);this.G=Y.d("div","topbar");this.IX=Y.d("span","");this.G.appendChild(this.IX);
this.gU=null;this.ki=null;this.jI=[];this.UR=[];for(var z=0;z<zG.data.length;z++){var r=zG.data[z],k=Y.d("button");
this.jI.push(k);this.IX.appendChild(k);k.addEventListener("mousedown",this.Rm.bind(this),!1);var L=new mV(r.items);
L.parent=this;this.UR.push(L);L.U("select",this.mPk,this)}this.ML=new mr([0,13,0],!1,null,!0);this.ML.U("click",this.mEM,this);
this.G.appendChild(this.ML.G)}zG.prototype=new my;zG.prototype.p=function(){this.ML.p();for(var z=0;
z<zG.data.length;z++)this.jI[z].innerHTML=typeof zG.data[z].name=="string"?zG.data[z].name:zA.get(zG.data[z].name);
this.Hl();for(var z=0;z<zG.data.length;z++)this.UR[z].p()};zG.prototype.mEM=function(z){var r=new D(Y.E.D,!0);
r.data={J:Y.Q.nP,Hw:"account"};this.K(r)};zG.prototype.mSV=function(z,r){this.gU=z;this.ki=r};zG.prototype.hC=function(z,r){this.ki=z;
if(r==zB.yt){var k=z.mcb;Y.UW(this.IX);for(var L=0;L<this.jI.length;L++){if(k==null||k[L]==1||k[L]instanceof Array)this.IX.appendChild(this.jI[L]);
if(k!=null&&k[L]instanceof Array)this.UR[L].nn(k[L])}this.G.removeChild(this.ML.G);if(z.fZ)this.G.appendChild(this.ML.G)}this.Hl()};
zG.prototype.Hl=function(z,r){var k=this.ML,L=12255232;if(zh.JU())L=zh.JU().premium*1e3>Date.now()?43520:16755200;
k.G.setAttribute("style","color:#ffffff; background-color:#"+e.mk(L))};zG.prototype.vC=function(){for(var z=0;
z<zG.data.length;z++)this.UR[z].update(this.gU,zG.data[z].items,this.ki)};zG.prototype.Rm=function(z){z.preventDefault();
z.stopPropagation();this.vC();var r=this.jI.indexOf(z.currentTarget),k=z.target.getBoundingClientRect(),L=new D(Y.E.D,!0);
L.data={J:Y.Q.Ut,dF:this.UR[r],x:k.left,y:k.top+k.height+2};this.K(L)};zG.prototype.mPk=function(z){var r=this.UR.indexOf(z.target),k=this.UR[r].nX(),L=zG.data[r].HA[k[0]];
for(var E=1;E<k.length;E++)L=L.sub[k[E]];var F=L,U=new D(F.I,!0);U.R=F.R;U.data=F.H;this.K(U)};zG.data=[{name:[0,0],items:[{name:[5,3],Ha:"Ctrl+N",title:"Create a new PSD (Photoshop Document)"},{name:[1,0],Ha:"Ctrl+O"},{name:[1,11]},{name:[1,5],Hc:!0},{name:[11,0]},{name:[1,1],Hc:!0,T:function(z,r){return{T:z!=null&&r.uY}}},{name:"Save ...",Ha:"Ctrl+S",T:function(z){var r=zA.get([1,2])+(z==null?"":z.cX?" (Smart Object)":z.JO?" (Google Drive)":"");
return{T:z!=null&&(z.cX!=null||z.j_!=null&&z.j_.uZ!=null||z.JO!=null),gf:r}}},{name:[1,3],title:"Save for Adobe Photoshop",T:function(z,r){return{T:z!=null&&r.uY}}},{name:[1,8],sub:function(){var z=zc.mZ(0),r=[];
for(var k=0;k<z.length;k++)r.push({name:z[k],Ha:"."+z[k].toLowerCase()});r.push({name:[0,14],sub:function(){var z=zc.mZ(1),r=[];
for(var k=0;k<z.length;k++)r.push({name:z[k],Ha:"."+z[k].toLowerCase()});return r}()});return r}()},{name:[1,9],T:function(z,r){return{T:z!=null}},Hc:!0},{name:[1,10]}],HA:[{I:Y.E.D,H:{J:Y.Q.nP,Hw:"newproject"}},{I:Y.E.D,H:{J:Y.Q.UD}},{I:Y.E.D,H:{J:Y.Q.UD,mzV:!0}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"open_from_url"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"camera"}},{I:Y.E.D,H:{J:Y.Q.Uk}},{I:Y.E.D,H:{J:Y.Q.Uj}},{I:Y.E.D,H:{J:Y.Q.UY}},{sub:function(){var z=zc.mZ(0),r=[];
for(var k=0;k<z.length;k++)r.push({I:Y.E.D,H:{J:Y.Q.nP,Hw:"saveforweb",KG:k}});r.push({sub:function(){var L=zc.mZ(0).length,z=zc.mZ(1),r=[];
for(var k=0;k<z.length;k++)r.push({I:Y.E.D,H:{J:Y.Q.nP,Hw:"saveforweb",KG:L+k}});return r}()});return r}()},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"eassets"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"script"}}]},{name:[0,1],items:[{name:[2,8],Ha:"Ctrl + Z"},{name:[2,0],Ha:"Shift+Ctrl + Z"},{name:[2,1],Ha:"Alt+Ctrl + Z",Hc:!0},{name:[5,0],Ha:"Ctrl + X"},{name:[5,1],Ha:"Ctrl + C"},{name:[5,7],Ha:"Shift + Ctrl + C"},{name:[5,2],Ha:"Ctrl + V",Hc:!0},{name:[2,2],Ha:"Delete"},{name:[2,3],T:function(z){return{T:z!=null}},Hy:!0,Ha:"Shift + F5"},{name:[14,9],T:function(z){return{T:z!=null}},Hy:!0,Hc:!0},{name:[10,16],Ha:"Alt+Ctrl + T"},{name:[2,4],Hc:!0,sub:[{name:[2,9],Hc:!0},{name:"90\xB0 \u21BB",T:function(z){return{gf:zA.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",T:function(z){return{gf:zA.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",T:function(z){return{gf:zA.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[12,87],sub:[{name:[12,62],T:function(z){return{T:z!=null}}},{name:[9,3],T:function(z){return{T:z!=null}}},{name:[10,31],T:function(z){return{T:z!=null&&z.a[z.L[0]].add.vmsk!=null}}}]},{name:[12,79],Hy:!0,Ha:"Ctrl + K"}],HA:[{I:Y.E.q,R:A.TO,H:{J:"h_undoredo"}},{I:Y.E.q,R:A.TO,H:{J:"h_stepfwd"}},{I:Y.E.q,R:A.TO,H:{J:"h_stepbck"}},{I:Y.E.D,H:{J:Y.Q.Ue}},{I:Y.E.D,H:{J:Y.Q.Ug}},{I:Y.E.D,H:{J:Y.Q.UF}},{I:Y.E.D,H:{J:Y.Q.nS}},{I:Y.E.q,R:A.TS,H:{J:"clear"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"fill"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"stroke"}},{I:Y.E.D,H:{J:Y.Q.nK,R:A.Tw}},{sub:[{I:Y.E.D,H:{J:Y.Q.nK,R:A.Tw,HO:{H_:1}}},{I:Y.E.q,R:A.Tw,H:{J:"rot",HZ:[2,5],u:-Math.PI/2}},{I:Y.E.q,R:A.Tw,H:{J:"rot",HZ:[2,5],u:-3*Math.PI/2}},{I:Y.E.q,R:A.Tw,H:{J:"rot",HZ:[2,5],u:Math.PI}},{I:Y.E.q,R:A.Tw,H:{J:"scl",HZ:[2,6],u:new V(-1,1)}},{I:Y.E.q,R:A.Tw,H:{J:"scl",HZ:[2,7],u:new V(1,-1)}}]},{sub:[{I:Y.E.D,H:{J:Y.Q.nw,Hq:0}},{I:Y.E.D,H:{J:Y.Q.nw,Hq:1}},{I:Y.E.D,H:{J:Y.Q.nw,Hq:2}}]},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"preferences"}}]},{name:[0,2],items:[{name:[3],sub:function(){var z=[];
for(var r in mm.ready)z.push({name:mm.names[r],Hy:JK[r]!=null,Ha:s.Vh(mm.keys[r]),Hc:mm.O$.indexOf(r)!=-1});
return z}()},{name:[4,16,0],T:function(z){return{T:z!=null&&z.qm(!1)}}},{name:[4,16,1],T:function(z){return{T:z!=null&&z.qm(!1)}}},{name:[4,16,2],T:function(z){return{T:z!=null&&z.qm(!1)}},Hc:!0},{name:[11,11],T:function(z){return{T:z!=null&&z.qm(!1)}},Hc:!0},{name:[11,3],Hy:!0},{name:[11,10],Hy:!0},{name:[2,4],sub:[{name:"90\xB0 \u21BB",T:function(z){return{gf:zA.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",T:function(z){return{gf:zA.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",T:function(z){return{gf:zA.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[11,12],Hy:!0,T:function(z){return{T:z!=null&&z.qm(!1)}},Ha:"Ctrl + ."}],HA:[{sub:function(){var z=[];
for(var r in mm.ready)z.push({I:Y.E.q,R:A.Ty,H:{J:"start",MK:r}});return z}()},{I:Y.E.q,R:A.Ty,H:{J:"auto",Ho:0}},{I:Y.E.q,R:A.Ty,H:{J:"auto",Ho:1}},{I:Y.E.q,R:A.Ty,H:{J:"auto",Ho:2}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"vbitmap"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"csize"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"isize"}},{sub:[{I:Y.E.q,R:A.hi,H:{J:"rot",HZ:[2,5],u:-Math.PI/2}},{I:Y.E.q,R:A.hi,H:{J:"rot",HZ:[2,5],u:-3*Math.PI/2}},{I:Y.E.q,R:A.hi,H:{J:"rot",HZ:[2,5],u:Math.PI}},{I:Y.E.q,R:A.hi,H:{J:"scl",HZ:[2,6],u:new V(-1,1)}},{I:Y.E.q,R:A.hi,H:{J:"scl",HZ:[2,7],u:new V(1,-1)}}]},{I:Y.E.q,R:A.hi,H:{J:"trim"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Ha:"Ctrl + J"}]},{name:[6,0],Ha:"Ctrl + J"},{name:[11,4],T:function(z){return{T:z!=null}}},{name:[5,4],Hc:!0},{name:[11,6],Hc:!0,T:function(z){return{T:z!=null}},sub:J_.sN()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Hc:!0,sub:J_.sV()},{name:[6,2],sub:[{name:[6,4],T:function(z){return{T:z!=null&&z.a[z.L[0]]._F()==null}}},{name:[6,5],T:function(z){return{T:z!=null&&z.a[z.L[0]]._F()==null}}},{name:[5,4],T:function(z){return{T:z!=null&&z.a[z.L[0]]._F()!=null}}},{name:"Enable/Disable",T:function(z){return{gf:zA.get([5,5])+"/"+zA.get([5,6]),T:z!=null&&z.a[z.L[0]]._F()!=null}}}]},{name:[6,3],sub:[{name:[6,4],T:function(z){return{T:z!=null&&z.a[z.L[0]].add.vmsk==null}}},{name:[6,5],T:function(z){return{T:z!=null&&z.a[z.L[0]].add.vmsk==null}}},{name:[5,4],T:function(z){return{T:z!=null&&z.a[z.L[0]].add.vmsk!=null}}},{name:"Enable/Disable",T:function(z){return{gf:zA.get([5,5])+"/"+zA.get([5,6]),T:z!=null&&z.a[z.L[0]].add.vmsk!=null}}}]},{name:[6,6],Ha:"Alt+Ctrl+G",Hc:!0,T:function(z){return{ge:z!=null&&z.a[z.L[0]].YO,T:z!=null&&z.Cb(z.L[0])}}},{name:[6,7]},{name:[6,8],T:function(z){if(z==null)return{T:!1};
var r=z.a[z.L[0]];if(r.add.TySh||r.add.SoLd||r.add.SoCo||r.add.GdFl||r.add.PtFl)return{T:!0};return{T:!1}}},{name:[6,34],Hc:!0,T:function(z){if(z==null)return{T:!1};
var r=z.a[z.L[0]];return{T:r.add.lmfx!=null}}},{name:[6,9],Hc:!0,Ha:"Ctrl+G"},{name:[6,10],T:function(z){return{T:z!=null&&z.L.length==1&&z.L[0]!=0&&!z.a[z.L[0]]._w()}},Ha:"Ctrl+E"},{name:[6,11],T:function(z){return{T:z!=null&&(z.L.length>1||z.a[z.L[0]]._w())}}}],HA:[{sub:[{I:Y.E.q,R:A.T_,H:{J:T.Zg}},{I:Y.E.q,R:A.T_,H:{J:T.ZF}},{I:Y.E.q,R:A.T_,H:{J:T.CR}}]},{I:Y.E.q,R:A.T_,H:{J:T.Zh}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"duplinto"}},{I:Y.E.q,R:A.T_,H:{J:T.ZT}},{sub:J_.sy()},{sub:[{I:Y.E.q,R:A.T_,H:{J:T.CT,Lf:0,Hr:0}},{I:Y.E.q,R:A.T_,H:{J:T.CT,Lf:1,Hr:0}},{I:Y.E.q,R:A.T_,H:{J:T.CT,Lf:2,Hr:0}}]},{sub:J_.sO()},{sub:[{I:Y.E.q,R:A.T_,H:{J:T.ZU,HL:!1}},{I:Y.E.q,R:A.T_,H:{J:T.ZU,HL:!0}},{I:Y.E.q,R:A.T_,H:{J:T.Zr}},{I:Y.E.q,R:A.T_,H:{J:T.ZC}}]},{sub:[{I:Y.E.q,R:A.T_,H:{J:T.Zn,HL:!1}},{I:Y.E.q,R:A.T_,H:{J:T.Zn,HL:!0}},{I:Y.E.q,R:A.T_,H:{J:T.ZL}},{I:Y.E.q,R:A.T_,H:{J:T.Zq}}]},{I:Y.E.q,R:A.T_,H:{J:T.Ze}},{I:Y.E.q,R:A.T_,H:{J:T.Zw}},{I:Y.E.q,R:A.T_,H:{J:T.ZV}},{I:Y.E.q,R:A.T_,H:{J:T.ZO}},{I:Y.E.q,R:A.T_,H:{J:T.Cz}},{I:Y.E.q,R:A.T_,H:{J:T.Z_}},{I:Y.E.q,R:A.T_,H:{J:T.ZZ}}]},{name:[0,5],items:[{name:[7,0],Ha:"Ctrl+A"},{name:[7,1],Ha:"Ctrl+D",T:function(z){return{T:z!=null&&z.i!=null}}},{name:[7,2],Ha:"Shift+Ctrl+I",T:function(z){return{T:z!=null&&z.i!=null}},Hc:!0},{name:[7,8],Hy:!0},{name:[7,11],Hy:!0,T:function(z){return{T:z!=null&&!z.a[z.L[0]].rect.z$()}}},{name:[7,3],Hc:!0,sub:[{name:[7,9],Hy:!0,T:function(z){return{T:z!=null&&z.i!=null}}},{name:[7,4],Hy:!0,T:function(z){return{T:z!=null&&z.i!=null}}},{name:[7,5],Hy:!0,T:function(z){return{T:z!=null&&z.i!=null}}},{name:[7,6],Hy:!0,T:function(z){return{T:z!=null&&z.i!=null}}}]},{name:[7,10],T:function(z){return{T:z!=null&&z.i!=null}}}],HA:[{I:Y.E.q,R:A.hs,H:{J:"all"}},{I:Y.E.q,R:A.hs,H:{J:"deselect"}},{I:Y.E.q,R:A.hs,H:{J:"inverse"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"crange"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"redge"}},{sub:[{I:Y.E.D,H:{J:Y.Q.nP,Hw:"sel_border"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"sel_expand"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"sel_contract"}},{I:Y.E.D,H:{J:Y.Q.nP,Hw:"sel_feather"}}]},{I:Y.E.D,H:{J:Y.Q.nK,R:A.TN}}]},function(){var z={name:[0,6],items:[{name:[24,18,4],Ha:"Ctrl + F",Hc:!0}],HA:[{I:Y.E.q,R:A.TC,H:{J:"applylast"}}]};
for(var r=0;r<mJ.Og.length;r++){var k=mJ.Og[r];if(k.OF!=null){z.items.push({name:mJ.names[k.OF],Hy:!0});
z.HA.push({I:Y.E.q,R:A.TC,H:{J:"start",filter:k.OF}});continue}var L={name:k._S,sub:[]};z.items.push(L);
var E={sub:[]};z.HA.push(E);for(var F=0;F<k._m.length;F++){var U={name:mJ.names[k._m[F]],Hy:mJ._J(k._m[F])!=null};
L.sub.push(U);var l={I:Y.E.q,R:A.TC,H:{J:"start",filter:k._m[F]}};E.sub.push(l)}}return z}(),{name:[0,7],items:[{name:[8,0],Ha:"Ctrl + +"},{name:[8,1],Ha:"Ctrl + -"},{name:[20,3],Ha:"Ctrl + 0"},{name:[20,2],Ha:"Ctrl + 1",Hc:!0},{name:[8,9],T:function(z,r){return{ge:r.gF._z}}},{name:[8,2],T:function(z,r){return{ge:r.gF.YI}}},{name:[8,4],T:function(z,r){return{ge:r.gF.Fy}}},{name:[8,8],T:function(z,r){return{ge:r.gF.tl}},Hc:!0},{name:[8,3],T:function(z,r){return{ge:r.Fu}},Ha:"Ctrl + R",Hc:!0},{name:[8,5],T:function(z,r){return{ge:r.FR}}},{name:[8,6],sub:[{name:[8,2],T:function(z,r){return{ge:r.Fw[0]}}},{name:[8,4],T:function(z,r){return{ge:r.Fw[1]}}},{name:[8,7],T:function(z,r){return{ge:r.Fw[4]}}}]}],HA:[{I:Y.E.q,R:A.TR,H:{J:"zoom",HU:!0}},{I:Y.E.q,R:A.TR,H:{J:"zoom",HU:!1}},{I:Y.E.q,R:A.TR,H:{J:"adapt",u:"fitscr"}},{I:Y.E.q,R:A.TR,H:{J:"adapt",u:"pixel"}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.Vz}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VJ}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VP}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VG}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.yF}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VW}},{sub:[{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VM,Hn:0}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VM,Hn:1}},{I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VM,Hn:4}}]}]},function(){var z={name:[0,8],items:[],HA:[]};
for(var r in zJ.Oz){var k=zJ.Oz[r];z.items.push({name:k.dF.name});z.HA.push({I:Y.E.D,H:{J:Y.Q.nJ,Hw:r}})}return z}(),function(){var z={name:[0,14],items:[],HA:[]},r={name:[0,9],sub:[]};
z.items.push(r);var k={sub:[]};z.HA.push(k);var L=zA.mu();for(var E=0;E<L.length;E++){r.sub.push({name:L[E].name,Ha:L[E].code,T:function(F,U){return{ge:this.Ha==zA.ml()}}});
k.sub.push({I:Y.E.D,H:{J:Y.Q.na,Hq:zB.VQ,lang:E}})}r.sub.push({name:[0,12]});k.sub.push({I:Y.E.D,H:{J:Y.Q.nc,link:"https://www.photopea.com/translate/"}});
var r={name:[0,15],sub:[]};z.items.push(r);var k={sub:[]};z.HA.push(k);for(var E=0;E<mN.n_.length;E++){r.sub.push({name:mN.n_[E].name,T:function(F,U){return{ge:this.name==mN.n_[U.Q_].name}}});
k.sub.push({I:Y.E.D,H:{J:Y.Q.na,Hq:zB.Vu,Q_:E}})}z.items.push({name:[11,13]});z.HA.push({I:Y.E.D,H:{J:Y.Q.nP,Hw:"shortcuts"}});
z.items.push({name:[0,16],T:function(F){return{ge:o.KH,T:o.Kb}}});z.HA.push({I:Y.E.D,H:{J:Y.Q.nQ}});
return z}()];function zW(){my.call(this);this.G=Y.d("div","");this.HQ=0;this.BU=0;this.Hm=Y.d("div","");
this.Hm.setAttribute("style","width:200em; height:100em; position:absolute;");this.Jr=[];this.BP=[new Jx,new JL,new JC,new Jo,new JZ,new Jc,new Jr,new JU,new JA,new Jy,new Jh,new J_,new JT,new JV,new JR,new JX,new JB,new JI,new Jn,new Jv,new Js,new Jt,new Jw,new Jq("border",[7,9],"px"),new Jq("expand",[7,4],"px"),new Jq("contract",[7,5],"px"),new Jq("feather",[7,6],"px")];
for(var z in JK){this.BP.push(new Ja(z));this.BP.push(new JN(z))}for(var r in JE){this.BP.push(new JN(r))}for(var k=0;
k<this.BP.length;k++){var L=this.BP[k];L.U(Y.E.Uv,this.mJT,this);L.parent=this}}zW.prototype=new my;
zW.prototype.Xo=function(z,r){this.HQ=z;this.BU=r;for(var k=0;k<this.BP.length;k++)this.HI(this.BP[k])};
zW.prototype.p=function(){for(var z=0;z<this.BP.length;z++)this.BP[z].p()};zW.prototype.Hv=function(){return this.Jr.length==0?null:this.Jr[this.Jr.length-1]};
zW.prototype.hr=function(){for(var z=0;z<this.Jr.length;z++)if(this.Jr[z].hr())return!0;return!1};zW.prototype.HX=function(z,r,k,L,E){var F=null;
for(var U=0;U<this.BP.length;U++)if(this.BP[U].id==z)F=this.BP[U];if(!F.Im(r))return;this.HI(F);if(this.Jr.indexOf(F)!=-1)return;
var l=this.Jr.length-1;if(l>=0)Y.UM(this.Jr[l].G,"wdisabled");this.G.appendChild(F.G);this.Jr.push(F);
if(F.G.getAttribute("style")==null)F.G.setAttribute("style","left: 150px; top: "+Math.round(150+this.G.offsetTop)+"px;");
F.IJ(r,k,L,E)};zW.prototype.HI=function(z){if(!z.XU())return;z.G.style.left="60px";z.G.style.top="37px";
z.Xo(this.HQ-80,this.BU-50)};zW.prototype.hC=function(z,r){for(var k=0;k<this.BP.length;k++)this.BP[k].hC(z,r)};
zW.prototype.mJT=function(z){var r=this.Jr.pop();this.G.removeChild(r.G);var k=this.Jr.length-1;if(k>=0)Y.UQ(this.Jr[k].G,"wdisabled");
if(this.Hm.parentNode==this.G)this.G.removeChild(this.Hm)};window.onload=function(){var z=new PF;document.body.appendChild(z.G)}}())